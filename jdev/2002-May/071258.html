<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] compilation error with Cygwin (also conferencing)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20compilation%20error%20with%20Cygwin%20%28also%20conferencing%29&In-Reply-To=%3C3CD8EF8E.1B2295C2%40granada-learning.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071259.html">
   <LINK REL="Next"  HREF="071266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] compilation error with Cygwin (also conferencing)</H1>
    <B>Duncan Hoyle</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20compilation%20error%20with%20Cygwin%20%28also%20conferencing%29&In-Reply-To=%3C3CD8EF8E.1B2295C2%40granada-learning.com%3E"
       TITLE="[JDEV] compilation error with Cygwin (also conferencing)">duncanh at granada-learning.com
       </A><BR>
    <I>Wed May  8 04:27:42 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="071259.html">[JDEV] Accessability for the Impaired
</A></li>
        <LI>Next message: <A HREF="071266.html">[JDEV] compilation error with Cygwin (also conferencing)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71258">[ date ]</a>
              <a href="thread.html#71258">[ thread ]</a>
              <a href="subject.html#71258">[ subject ]</a>
              <a href="author.html#71258">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I'm been trying to make Jabberd-1.4.2 on Windows XP from
within Cygwin and I continue to get errors (see below) when
it tries to make pth-1.4.0. I've seen this mentioned before
in this list but I can't fix it. configure seems to go ok. I
get the same errors if I just configure and make pth1.4.0.
I also get the same problem on NT.

I'm using the source from
<A HREF="http://jabberd.jabberstudio.org/downloads/">http://jabberd.jabberstudio.org/downloads/</A>

Can anyone help?

I'd also like to try to get conferencing/chatrooms working
on my server. Has this been done yet in Cygwin?

Duncan


After ./configure I get .....
Configuring GNU Pth (Portable Threads), Version 1.4.0
(24-Mar-2001)
Copyright (c) 1999-2001 Ralf S. Engelschall
&lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rse at engelschall.com</A>&gt;
loading cache ./config.cache
Platform: i686-pc-cygwin

Build Tools:
checking for gcc... (cached) gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a
cross-compiler... no
checking whether we are using GNU C... (cached) yes
checking whether gcc accepts -g... (cached) yes
checking how to run the C preprocessor... (cached) gcc -E
checking whether make sets ${MAKE}... (cached) yes
checking for compiler option -pipe... (cached) yes
checking for compilation debug mode... disabled
checking for compilation profile mode... disabled
checking for compilation optimization mode... disabled
checking for ranlib... ranlib
checking for object suffix... o
checking for executable suffix... .exe
checking for gcc option to produce PIC... none
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.lo... yes
checking if gcc supports -fno-rtti -fno-exceptions ... yes
checking if gcc static flag -static works... -static
checking whether ln -s works... yes
checking for ld used by GCC...
/usr/i686-pc-cygwin/bin/ld.exe
checking if the linker (/usr/i686-pc-cygwin/bin/ld.exe) is
GNU ld... yes
checking whether the linker (/usr/i686-pc-cygwin/bin/ld.exe)
supports shared libraries... yes
checking for BSD-compatible nm... /usr/bin/nm -B
checking command to parse /usr/bin/nm -B output... ok
checking how to hardcode library paths into programs...
immediate
checking for /usr/i686-pc-cygwin/bin/ld.exe option to reload
object files... -r
checking dynamic linker characteristics... Win32 ld.exe
checking if libtool supports shared libraries... yes
checking if package supports dlls... no
checking whether to build shared libraries... no
checking whether to build static libraries... yes
checking for objdir... .libs
creating libtool

Mandatory Platform Environment:
checking for ANSI C header files... (cached) yes
checking for stdio.h... (cached) yes
checking for stdlib.h... (cached) yes
checking for stdarg.h... (cached) yes
checking for string.h... (cached) yes
checking for signal.h... (cached) yes
checking for unistd.h... (cached) yes
checking for setjmp.h... (cached) yes
checking for fcntl.h... (cached) yes
checking for errno.h... (cached) yes
checking for sys/types.h... (cached) yes
checking for sys/time.h... (cached) yes
checking for sys/wait.h... (cached) yes
checking for sys/stat.h... (cached) yes
checking for sys/socket.h... (cached) yes
checking for function gettimeofday... (cached) yes
checking for function select... (cached) yes
checking for function sigaction... (cached) yes
checking for function sigprocmask... (cached) yes
checking for function sigpending... (cached) yes
checking for function sigsuspend... (cached) yes
decision on mandatory system headers and functions... all
fine

Optional Platform Environment:
checking for number of signals... 32
checking for function poll... (cached) yes
checking for define POLLIN in poll.h... (cached) yes
checking whether poll(2) facility has to be faked... no
checking for sys/uio.h... (cached) yes
checking for function readv... (cached) yes
checking for function writev... (cached) yes
checking whether readv(2)/writev(2) facility has to be
faked... no
checking for function usleep... (cached) yes
checking for function strerror... (cached) yes
checking for sys/resource.h... (cached) yes
checking for net/errno.h... (cached) no
checking for paths.h... (cached) yes
checking for gethostname in -lnsl... (cached) no
checking for gethostbyname in -lnsl... (cached) no
checking for accept in -lsocket... (cached) no
checking for sys/select.h... (cached) yes
checking for typedef sig_atomic_t... (cached) yes
checking for typedef pid_t... (cached) yes
checking for typedef size_t... (cached) yes
checking for typedef ssize_t... (cached) yes
checking for typedef off_t... (cached) yes
checking for typedef stack_t... (cached) no
checking for attribute ss_base in struct sigaltstack from
sys/signal.h... (cached) no
checking for attribute ss_sp in struct sigaltstack from
sys/signal.h... (cached) no
checking for a single-argument based gettimeofday... no
checking for struct timespec... yes
checking for typedef socklen_t... (cached) no
checking for type of argument 3 for accept()... (cached) int
*
checking for fallback socklen_t... (cached) int
checking for typedef nfds_t... (cached) no
checking for type of argument 2 for poll()... (cached)
unsigned int
checking for fallback nfds_t... (cached) unsigned int
checking for built-in type long long... (cached) yes
checking for built-in type long double... (cached) yes

Machine Context Implementation:
checking for ucontext.h... (cached) no
checking for function makecontext... (cached) no
checking for function swapcontext... (cached) no
checking for function getcontext... (cached) no
checking for function setcontext... (cached) no
checking for usable SVR4/SUSv2
makecontext(2)/swapcontext(2)... (cached) no
checking for signal.h... (cached) yes
checking for function sigsetjmp... (cached) no
checking for function siglongjmp... (cached) no
checking for function setjmp... (cached) yes
checking for function longjmp... (cached) yes
checking for function _setjmp... (cached) yes
checking for function _longjmp... (cached) yes
checking for function sigaltstack... (cached) no
checking for function sigstack... (cached) no
checking for signal-mask aware setjmp(3)/longjmp(3)...
(cached) yes: sjljw32
checking for typedef stack_t... (cached) no
checking for direction of stack growth... (cached) down
checking for function makecontext... (cached) no
checking for stack setup via makecontext... (cached) N.A.
checking for function sigaltstack... (cached) no
checking for typedef stack_t... (cached) no
checking for stack setup via sigaltstack... (cached) N.A.
checking for function sigstack... (cached) no
checking for stack setup via sigstack... (cached) N.A.
decision on mctx implementation... [1msjlj/sjljw32/none[0m

System Call Mapping:
checking for function syscall... (cached) no
checking for sys/syscall.h... (cached) no
checking for sys/socketcall.h... (cached) no
checking for define SYS_read in sys/syscall.h... (cached) no
checking whether soft system call mapping is used... no
checking whether hard system call mapping is used... no

Build Parameters:
checking whether to activate batch build mode... no
checking whether to activate maintainer build targets... no
checking whether to activate test build targets... yes
checking whether to build Pthread library... no
checking whether to build against Sfio library... no
checking whether to build against Dmalloc library... no

Output Substitution:
updating cache ./config.cache
creating ./config.status
creating Makefile
creating pthread-config
creating pthread.h
creating pth-config
creating pth.h
creating pth_acmac.h
creating pth_acdef.h
pth_acdef.h is unchanged

Now please type `make' to compile. Good luck.


After make I get.....

./libtool --mode=compile --quiet gcc -c -I. -O2 -pipe
pth_debug.c
In file included from pth_p.h.in:53,
                 from pth_debug.c:29:
pth.h:53: warning: useless keyword or type name in empty
declaration
pth.h:53: warning: empty declaration
In file included from pth_debug.c:29:
pth_sched.c:33: parse error before `__pth_NQ'
pth_sched.c:33: warning: data definition has no type or
storage class
pth_sched.c:34: parse error before `__pth_RQ'
pth_sched.c:34: warning: data definition has no type or
storage class
pth_sched.c:35: parse error before `__pth_WQ'
pth_sched.c:35: warning: data definition has no type or
storage class
pth_sched.c:36: parse error before `__pth_SQ'
pth_sched.c:36: warning: data definition has no type or
storage class
pth_sched.c:37: parse error before `__pth_DQ'
pth_sched.c:37: warning: data definition has no type or
storage class
pth_debug.c: In function `pth_debug':
pth_debug.c:61: `errno_shield' undeclared (first use in this
function)
pth_debug.c:61: (Each undeclared identifier is reported only
once
pth_debug.c:61: for each function it appears in.)
pth_debug.c:61: parse error before `{'
pth_debug.c:75: called object is not a function
pth_debug.c: At top level:
pth_debug.c:77: parse error before `return'
pth_debug.c: In function `pth_dumpstate':
pth_debug.c:90: dereferencing pointer to incomplete type
pth_debug.c: At top level:
pth_debug.c:98: parse error before `pth_pqueue_t'
pth_debug.c:99: warning: type mismatch with previous
implicit declaration
pth_debug.c:86: warning: previous implicit declaration of
`pth_dumpqueue'
pth_debug.c:99: warning: `pth_dumpqueue' was previously
implicitly declared to return `int'
pth_debug.c: In function `pth_dumpqueue':
pth_debug.c:104: `fp' undeclared (first use in this
function)
pth_debug.c:104: `qn' undeclared (first use in this
function)
pth_debug.c:105: `q' undeclared (first use in this function)
pth_debug.c:109: warning: assignment makes pointer from
integer without a cast
pth_debug.c:109: warning: assignment makes pointer from
integer without a cast
pth_debug.c:110: dereferencing pointer to incomplete type
make: *** [pth_debug.lo] Error 1

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071259.html">[JDEV] Accessability for the Impaired
</A></li>
	<LI>Next message: <A HREF="071266.html">[JDEV] compilation error with Cygwin (also conferencing)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71258">[ date ]</a>
              <a href="thread.html#71258">[ thread ]</a>
              <a href="subject.html#71258">[ subject ]</a>
              <a href="author.html#71258">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Heartbeat patch for dialup and laptop users and faulty presence info
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Heartbeat%20patch%20for%20dialup%20and%20laptop%20users%20and%20faulty%20presence%20info&In-Reply-To=%3C3CF3B7B3.6020807%40phoenix-int.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071408.html">
   <LINK REL="Next"  HREF="071414.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Heartbeat patch for dialup and laptop users and faulty presence info</H1>
    <B>Nathan Sharp</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Heartbeat%20patch%20for%20dialup%20and%20laptop%20users%20and%20faulty%20presence%20info&In-Reply-To=%3C3CF3B7B3.6020807%40phoenix-int.com%3E"
       TITLE="[JDEV] Heartbeat patch for dialup and laptop users and faulty presence info">spamnps+jabber at phoenix-int.com
       </A><BR>
    <I>Tue May 28 12:00:35 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="071408.html">[JDEV] Patch to mod_groups.c to add remove capability for admins
</A></li>
        <LI>Next message: <A HREF="071414.html">[JDEV] Heartbeat patch for dialup and laptop users and faulty presence info
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71410">[ date ]</a>
              <a href="thread.html#71410">[ thread ]</a>
              <a href="subject.html#71410">[ subject ]</a>
              <a href="author.html#71410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As talked about earlier in this mailing list, I've created a patch to 
the 1.4.2 server which makes the server send blank packets to all 
connected clients once per time period if no other client activity has 
happened.  This allows the server to notice bum connections much faster. 
 I've tested this patch with a number of clients, but certainly not them 
all.  Exodus 0.6.0.0 will stop working if you use this feature, but 
there is a fix in CVS for this (so look out for the next release).  

I'm still not 100% satisfied w/ this solution.  In my testing it can 
still take 10-20 minutes for the server to notice laptop users who pull 
the network cable while connected.  The problem is that the network 
tries to deliver the packets for a long time before giving up.  I'd like 
to eventually add something to handle this, but that will be more work, 
and probably a JEP because it'd require protocol changes.  If anyone has 
ideas or thoughts, I'd be happy to discuss this.

  Nathan

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: jabber.xml.patch
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20020528/f08af705/attachment-0002.asc">https://www.jabber.org/jdev/attachments/20020528/f08af705/attachment-0002.asc</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: client.c.patch
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20020528/f08af705/attachment-0004.txt">https://www.jabber.org/jdev/attachments/20020528/f08af705/attachment-0004.txt</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: README.pthsock_client.patch
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20020528/f08af705/attachment-0003.asc">https://www.jabber.org/jdev/attachments/20020528/f08af705/attachment-0003.asc</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071408.html">[JDEV] Patch to mod_groups.c to add remove capability for admins
</A></li>
	<LI>Next message: <A HREF="071414.html">[JDEV] Heartbeat patch for dialup and laptop users and faulty presence info
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71410">[ date ]</a>
              <a href="thread.html#71410">[ thread ]</a>
              <a href="subject.html#71410">[ subject ]</a>
              <a href="author.html#71410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Binding to reserved ports...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Binding%20to%20reserved%20ports...&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012802.html">
   <LINK REL="Next"  HREF="012807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Binding to reserved ports...</H1>
    <B>Ralph Siemsen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Binding%20to%20reserved%20ports...&In-Reply-To="
       TITLE="[JDEV] Binding to reserved ports...">ralphs at blueairnetworks.com
       </A><BR>
    <I>Tue May 21 13:38:23 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="012802.html">[JDEV] Hi, Voice enable Instant Messenger...
</A></li>
        <LI>Next message: <A HREF="012807.html">[JDEV] Transport questions...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12803">[ date ]</a>
              <a href="thread.html#12803">[ thread ]</a>
              <a href="subject.html#12803">[ subject ]</a>
              <a href="author.html#12803">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Can someone shed some light on the intended usage of the -U option?
I can see from main() in jabberd/jabber.c that the server executes 
setuid() and setgid() calls to switch to the the specified user, 
immediately after parsing commandline arguments.

This is fine, but it is not possible to run on a privileged port this 
way.  The call to bind the interface occurs much later in the startup, 
at which time root privileges have been dropped.

It seems the -U option is more of a convenience, as the server doesn't 
_do_ anything before changing users.  The same could be accomplished 
with &quot;su &lt;username&gt; jabberd&quot;...

Am I missing something obvious, or is there actually a way to make use 
of the &quot;root dropping&quot; feature in the way most other daemons do?

-R


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012802.html">[JDEV] Hi, Voice enable Instant Messenger...
</A></li>
	<LI>Next message: <A HREF="012807.html">[JDEV] Transport questions...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12803">[ date ]</a>
              <a href="thread.html#12803">[ thread ]</a>
              <a href="subject.html#12803">[ subject ]</a>
              <a href="author.html#12803">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

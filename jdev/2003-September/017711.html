<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Re: jabber; what would you like to see?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20jabber%3B%20what%20would%20you%20like%20to%20see%3F&In-Reply-To=49626.62.79.46.157.1064489607.squirrel%40sputnik.catpipe.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017717.html">
   <LINK REL="Next"  HREF="017714.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Re: jabber; what would you like to see?</H1>
    <B>Ulrich B. Staudinger</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20jabber%3B%20what%20would%20you%20like%20to%20see%3F&In-Reply-To=49626.62.79.46.157.1064489607.squirrel%40sputnik.catpipe.net"
       TITLE="[JDEV] Re: jabber; what would you like to see?">us at die-horde.de
       </A><BR>
    <I>Thu Sep 25 08:52:21 CDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="017717.html">[JDEV] Re: jabber; what would you like to see?
</A></li>
        <LI>Next message: <A HREF="017714.html">[JDEV] Re: jabber; what would you like to see?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17711">[ date ]</a>
              <a href="thread.html#17711">[ thread ]</a>
              <a href="subject.html#17711">[ subject ]</a>
              <a href="author.html#17711">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Bernino,
i agree with your point of view in many ways - developers have 
complained very often about this error in the DTD, for obvious reasons.

However i don't understand why you don't use iq-set with an embedded 
x-tag. it's maybe semantically not the same (get / set), however it is 
exactly what you are looking for .... imo


ulrich


Bernino Lind wrote:

&gt;<i>Dear Richard,
</I>&gt;<i>
</I>&gt;<i>I agree very much - it is always a distinction between features and
</I>&gt;<i>flexibility vs. potential exploits etc. : who said java, javascript, word
</I>&gt;<i>macros etc...
</I>&gt;<i>
</I>&gt;<i>However I do not agree with your point that jabber is already flexible
</I>&gt;<i>enough due to its reliance on XML.
</I>&gt;<i>
</I>&gt;<i>XML is just a protocol for metatyping data structures. XML does not
</I>&gt;<i>contain any logics, loop constructs nor control statements and certainly
</I>&gt;<i>not any sort of mathematical manipulation.
</I>&gt;<i>
</I>&gt;<i>This results in a rigid framework where one has to create external
</I>&gt;<i>components for every damn little service one wishes to create ontop of the
</I>&gt;<i>jabber server.
</I>&gt;<i>
</I>&gt;<i>Thats what Im searching for with respect to a solution - I dont care if it
</I>&gt;<i>is  a scripting solution, a backend solution or something third; but
</I>&gt;<i>adding some middleware (perl, python, ..., other high level language) to
</I>&gt;<i>jabber would be really nice.
</I>&gt;<i>
</I>&gt;<i>Let me give just one more example, DJ Adams coffee machine check. Say Mr.
</I>&gt;<i>Adams would like to get a statistical analysis of whom uses his external
</I>&gt;<i>component.
</I>&gt;<i>
</I>&gt;<i>What is required would be that his external component puts a flag in a
</I>&gt;<i>database. Then he should add a namespace via xdb in order to retrieve the
</I>&gt;<i>stats and have an external component that catches this packet and does a
</I>&gt;<i>SQL statement.
</I>&gt;<i>
</I>&gt;<i>Lets assume this works so that I can say:
</I>&gt;<i>
</I>&gt;<i>&lt;iq type=&quot;get&quot;&gt;
</I>&gt;<i>&lt;query xmlns=&quot;coffee:stats&quot;/&gt;
</I>&gt;<i>&lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i>And the result being a top10 (its just bogus packets, which cant be used...):
</I>&gt;<i>
</I>&gt;<i>&lt;iq type=&quot;result&quot;&gt;
</I>&gt;<i>&lt;item&gt;
</I>&gt;<i>&lt;username&gt;blabla&lt;/username&gt;
</I>&gt;<i>&lt;visits&gt;10&lt;/visits&gt;
</I>&gt;<i>&lt;/item&gt;
</I>&gt;<i>&lt;item&gt;
</I>&gt;<i>&lt;username&gt;blabla&lt;/username&gt;
</I>&gt;<i>&lt;visits&gt;5&lt;/visits&gt;
</I>&gt;<i>&lt;/item&gt;
</I>&gt;<i>&lt;item&gt;
</I>&gt;<i>&lt;username&gt;blabla&lt;/username&gt;
</I>&gt;<i>&lt;visits&gt;3&lt;/visits&gt;
</I>&gt;<i>&lt;/item&gt;
</I>&gt;<i>....etc.
</I>&gt;<i>&lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i>Ok, lets say that now I want a top 20.
</I>&gt;<i>
</I>&gt;<i>In jabber what I must do now is to create a new namespace that expands to
</I>&gt;<i>a SQL stament that fetches the 20 best.
</I>&gt;<i>
</I>&gt;<i>Now I want a top 100. Same story.
</I>&gt;<i>
</I>&gt;<i>What is missing? a method for passing data along with a iq-get packet:
</I>&gt;<i>
</I>&gt;<i>&lt;iq type=&quot;get&quot;&gt;
</I>&gt;<i>&lt;query xmlns=&quot;coffee:stats&quot;&gt;
</I>&gt;<i>&lt;top&gt;20&lt;/top&gt;
</I>&gt;<i>&lt;/query&gt;
</I>&gt;<i>&lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i>Such a packet is not allowed. The &lt;top&gt; section is simply chopped off...!
</I>&gt;<i>Why? Because jabber was appearently not intended to anything but instant
</I>&gt;<i>messenger.
</I>&gt;<i>
</I>&gt;<i>In the game I have done which uses jabber as XML socket server, I have
</I>&gt;<i>some +20 different namespaces many of which have exactly the same function
</I>&gt;<i>just different parameters.
</I>&gt;<i>
</I>&gt;<i>It might be me who is lame and doesnt understand how to use JEP 004 but I
</I>&gt;<i>think many many developers out there have had similar problems - I know
</I>&gt;<i>since I have had private questions from some 10 different persons asking
</I>&gt;<i>how I have done the external component.
</I>&gt;<i>
</I>&gt;<i>best regards,
</I>&gt;<i>Bernino Lind
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;&gt;<i>What I picture is that one could have a scripting languague within the
</I>&gt;&gt;&gt;<i>packets, for example:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>&lt;iq type=&quot;get&quot;&gt;
</I>&gt;&gt;&gt;<i>&lt;query xmlns=&quot;bla bla&quot;&gt;
</I>&gt;&gt;&gt;<i>&lt;script&gt;
</I>&gt;&gt;&gt;<i>@users=fetchroster(1,2,3);
</I>&gt;&gt;&gt;<i>for ($i=0; $i&lt;$@#users) {
</I>&gt;&gt;&gt;<i>   echo &quot;&lt;message to=@user[$i]&gt; In my new roster bla bla &quot;;
</I>&gt;&gt;&gt;<i>}
</I>&gt;&gt;&gt;<i>createrostergroup(@users, &quot;newrostergroup&quot;);
</I>&gt;&gt;&gt;<i>return @users;
</I>&gt;&gt;&gt;<i>&lt;/script&gt;
</I>&gt;&gt;&gt;<i>&lt;/query&gt;
</I>&gt;&gt;&gt;<i>&lt;/iq&gt;
</I>&gt;&gt;&gt;<i>      
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>Sorry but to me anyone doing something like this should be shot, having
</I>&gt;&gt;<i>scripting send inside packets to be processed by the endpoint like this
</I>&gt;&gt;<i>is a security hole of an enormous magnetude, and we definately should
</I>&gt;&gt;<i>not be doing anything like this. This is kind of like word macros, it
</I>&gt;&gt;<i>can have some benefits but the potential for abuse is massive, it would
</I>&gt;&gt;<i>require all sorts of extra security stuff to even attempt to secure it.
</I>&gt;&gt;<i>Overall I think the downsides are far more than the benefit of the
</I>&gt;&gt;<i>convenience, the best thing is to continue doing what we have been doing
</I>&gt;&gt;<i>and creating protocols for set purposes. We don't need the flexibility
</I>&gt;&gt;<i>of a scripting system as we already have the flexibility/extensibility
</I>&gt;&gt;<i>of XML and the jabber protocol to do things like this without creating
</I>&gt;&gt;<i>massive security holes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Richard
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>_______________________________________________
</I>&gt;&gt;<i>jdev mailing list
</I>&gt;&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;&gt;<i><A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>jdev mailing list
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i><A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>

-- 
Ulrich B. Staudinger
<A HREF="http://www.die-horde.de">http://www.die-horde.de</A>
email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">us at die-horde.de</A>
jid: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">uls at jabber.org</A>

current project: REDHORN
<A HREF="http://redhorn.sourceforge.net">http://redhorn.sourceforge.net</A>

Blog: <A HREF="http://jabber.linux.it/jogger/user.php?jid=uls@jabber.org">http://jabber.linux.it/jogger/user.php?jid=uls@jabber.org</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017717.html">[JDEV] Re: jabber; what would you like to see?
</A></li>
	<LI>Next message: <A HREF="017714.html">[JDEV] Re: jabber; what would you like to see?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17711">[ date ]</a>
              <a href="thread.html#17711">[ thread ]</a>
              <a href="subject.html#17711">[ subject ]</a>
              <a href="author.html#17711">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

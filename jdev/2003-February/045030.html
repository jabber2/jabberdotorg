<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Jabberd forgets &lt;/stream&gt; after &lt;/stream:error&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabberd%20forgets%20%3C/stream%3E%20after%20%3C/stream%3Aerror%3E&In-Reply-To=%3C20030204230216.GB365%40gideon.its.monash.edu.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045027.html">
   <LINK REL="Next"  HREF="045024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Jabberd forgets &lt;/stream&gt; after &lt;/stream:error&gt;</H1>
    <B>Robert Norris</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabberd%20forgets%20%3C/stream%3E%20after%20%3C/stream%3Aerror%3E&In-Reply-To=%3C20030204230216.GB365%40gideon.its.monash.edu.au%3E"
       TITLE="[JDEV] Jabberd forgets &lt;/stream&gt; after &lt;/stream:error&gt;">rob at cataclysm.cx
       </A><BR>
    <I>Tue Feb  4 17:02:16 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="045027.html">[JDEV] Jabberd forgets &lt;/stream&gt; after &lt;/stream:error&gt;
</A></li>
        <LI>Next message: <A HREF="045024.html">[JDEV] SASL, deployment and coding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45030">[ date ]</a>
              <a href="thread.html#45030">[ thread ]</a>
              <a href="subject.html#45030">[ subject ]</a>
              <a href="author.html#45030">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Section 4.6 of the XMPP Core specification says:
</I>&gt;<i> &quot;If an error occurs at the level of the stream, the entity (initiating entity
</I>&gt;<i> or receiving entity) that detects the error SHOULD send a stream error to the
</I>&gt;<i> other entity specifying why the streams are being closed and then send a
</I>&gt;<i> closing &lt;/stream&gt; tag.&quot;
</I>&gt;<i> 
</I>&gt;<i> Jabberd does not implement this behaviour properly; it sometimes closes the
</I>&gt;<i> connection directly after the &lt;/stream:error&gt; closing tag, without a final
</I>&gt;<i> &lt;/stream:stream&gt; tag.
</I>
[...]

&gt;<i> Is this indeed a bug that needs fixing?
</I>
Probably, but there are many places where 1.4.2 does not conform to the
XMPP spec. Since development has stopped on the 1.4 series, its unlikely
that this will be fixed (unless you want to develop a fix yourself,
which I can commit to CVS).

jabberd 2.0 aims to be fully compliant with the XMPP specs, and is under
active development.

Rob.

-- 
Robert Norris                                       GPG: 1024D/FC18E6C2
Email+Jabber: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rob at cataclysm.cx</A>                Web: <A HREF="http://cataclysm.cx/">http://cataclysm.cx/</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20030205/8379c64b/attachment-0001.pgp">https://www.jabber.org/jdev/attachments/20030205/8379c64b/attachment-0001.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045027.html">[JDEV] Jabberd forgets &lt;/stream&gt; after &lt;/stream:error&gt;
</A></li>
	<LI>Next message: <A HREF="045024.html">[JDEV] SASL, deployment and coding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45030">[ date ]</a>
              <a href="thread.html#45030">[ thread ]</a>
              <a href="subject.html#45030">[ subject ]</a>
              <a href="author.html#45030">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

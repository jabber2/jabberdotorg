<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] jabberd patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20jabberd%20patch&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015926.html">
   <LINK REL="Next"  HREF="015930.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] jabberd patch</H1>
    <B>Richard Dobson</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20jabberd%20patch&In-Reply-To="
       TITLE="[JDEV] jabberd patch">richard at dobson-i.net
       </A><BR>
    <I>Wed Feb 26 05:46:48 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="015926.html">[JDEV] jabberd patch
</A></li>
        <LI>Next message: <A HREF="015930.html">[JDEV] jabberd patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15928">[ date ]</a>
              <a href="thread.html#15928">[ thread ]</a>
              <a href="subject.html#15928">[ subject ]</a>
              <a href="author.html#15928">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt;But as ive just said in my previous email I dont think it actually
</I>&gt;<i> &gt;gets a stream error..
</I>&gt;<i>
</I>&gt;<i> Exodus tells me:
</I>&gt;<i> &lt;stream:error&gt;Disconnected&lt;/stream:error&gt;&lt;/stream:stream&gt;
</I>
Sure I know, it has already been pointed out, I just hadnt noticed this
before, but then I havent specifically been looking for it :)

&gt;<i> So we do get a stream:error... (and the presence changes to offline
</I>&gt;<i> &quot;[09:49:35] *** <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">test556 at mordax.com</A> is Offline [Replaced by new
</I>&gt;<i> connection]&quot; after wich it changes to online again when the new
</I>&gt;<i> connection sends it's presence)
</I>&gt;<i>
</I>&gt;<i> I still think this is questionable behaviour because there isn't really
</I>&gt;<i> an error as such in the stream. I think there's been some discussion
</I>&gt;<i> (amongst other things) on the XMPPWG list about adding other things as
</I>&gt;<i> &lt;stream:error&gt; such as &lt;stream:redirect&gt;, and/or introducing errorcodes
</I>&gt;<i> to the stream:error elemenent. (my guess is that it would be 409 in
</I>&gt;<i> this case?). I don't subscribe to it so I don't know the outcome of
</I>&gt;<i> this so far.
</I>
Well I think it is perfectly valid to have it as an error, as the same
argument about it not really being an error applies to 302 redirect and that
is will be an error code just as it is an error code in HTTP.

&gt;<i> I don't think it's valid to say that a client shouldn't reconnect when
</I>&gt;<i> it gets a stream:error, since you don't know what went wrong!
</I>
Im sorry but I must strongly disagree with you on this point, IMO
auto-reconnects should only happen when there are network problems that
cause the socket to be disconnected or drop in which case no stream errors
would get received. But I do agree that the errors should be more specific,
i.e. error codes as being discussed at the moment. Although at the moment
the only cause of a &quot;Disconnected&quot; error I can think of is where a new
session has logged in terminating the old one (does anyone know of any other
cases where this error can occur???), so at the moment client authors should
be handling that error and not trying to re-connect automatically if they
dont they need to be fixed end of story.

&gt;<i> Anyway, since Wes Morgan demonstrated a use for this, I still think
</I>&gt;<i> there should be a standard way to deny clients who try to log in with
</I>&gt;<i> the same resource as well. Perhaps the same (409) errorcode? (And I'm
</I>&gt;<i> *still* not saying that this should be standard behaviour).
</I>
Yea thats fine that their could possibly be the &quot;option&quot; where a particular
application may require it, but it must not be default or standard and
should not be used where normal clients are connecting especially where you
have novice users.

&gt;<i> As far as I remember some other types of connections (with no resources
</I>&gt;<i> tied to it) experiance even stranger behaviour (for example
</I>&gt;<i> component:accept), when I open a second connection it just sends
</I>&gt;<i> everything back over the first after authentication (At least I think
</I>&gt;<i> it did.. it's been a while ago..). I'm not suggesting we copy this
</I>&gt;<i> behaviour though :)
</I>
Well that seems to be an implementation issue rather than a protocol issue
to me, and since component connect protocols are not really standardised and
are much more implementation specific im not sure how it applies to the
current discussion ??

Richard



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015926.html">[JDEV] jabberd patch
</A></li>
	<LI>Next message: <A HREF="015930.html">[JDEV] jabberd patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15928">[ date ]</a>
              <a href="thread.html#15928">[ thread ]</a>
              <a href="subject.html#15928">[ subject ]</a>
              <a href="author.html#15928">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

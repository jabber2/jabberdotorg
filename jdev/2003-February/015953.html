<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Scaling 1.4.2 with xdb_file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Scaling%201.4.2%20with%20xdb_file&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015958.html">
   <LINK REL="Next"  HREF="015954.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Scaling 1.4.2 with xdb_file</H1>
    <B>Mike Prince</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Scaling%201.4.2%20with%20xdb_file&In-Reply-To="
       TITLE="[JDEV] Scaling 1.4.2 with xdb_file">mike at mikeprince.com
       </A><BR>
    <I>Thu Feb 27 12:10:42 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="015958.html">[JDEV] Need help with protocol translation
</A></li>
        <LI>Next message: <A HREF="015954.html">[JDEV] Scaling 1.4.2 with xdb_file... And the patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15953">[ date ]</a>
              <a href="thread.html#15953">[ thread ]</a>
              <a href="subject.html#15953">[ subject ]</a>
              <a href="author.html#15953">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm scaling up my service (running on JabberD 1.4.2 of course ;) and am
running into the expected xdb scaling problems.  Further complicating
the issue is that I'm using extended namespaces in my XMPP.  I'd like to
prove my service can handle 250K accounts.

The desired solution should be quick to implement (hours to days vs.
days to weeks).  Note that I fully expect to move over to an SQL
solution in the long term.

After looking at both xdb_file and xdb_sql, I believe a quick hack at
xdb_file is the answer.  Currently xdb_file puts all the user XML files
in a single directory.  I'd increase the fan out of the directory,
changing ./spool/localhost/mike.xml to ./spool/localhost/m/mi/mike.xml

Has anyone already done this?  Is there a better path?

Thanks,

Mike



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015958.html">[JDEV] Need help with protocol translation
</A></li>
	<LI>Next message: <A HREF="015954.html">[JDEV] Scaling 1.4.2 with xdb_file... And the patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15953">[ date ]</a>
              <a href="thread.html#15953">[ thread ]</a>
              <a href="subject.html#15953">[ subject ]</a>
              <a href="author.html#15953">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

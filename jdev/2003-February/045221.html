<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] jabberd patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20jabberd%20patch&In-Reply-To=%3C000d01c2dda8%2404f42ab0%246600a8c0%40eteach.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045220.html">
   <LINK REL="Next"  HREF="045222.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] jabberd patch</H1>
    <B>Richard Dobson</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20jabberd%20patch&In-Reply-To=%3C000d01c2dda8%2404f42ab0%246600a8c0%40eteach.com%3E"
       TITLE="[JDEV] jabberd patch">richard at dobson-i.net
       </A><BR>
    <I>Wed Feb 26 09:02:01 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="045220.html">[JDEV] jabberd patch
</A></li>
        <LI>Next message: <A HREF="045222.html">[JDEV] jabberd patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45221">[ date ]</a>
              <a href="thread.html#45221">[ thread ]</a>
              <a href="subject.html#45221">[ subject ]</a>
              <a href="author.html#45221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &quot;At the level of the stream&quot; sounds pretty vague to me, but thankfully
</I>&gt;<i> after that the example we're talking about is given. (Actually is sais
</I>&gt;<i> &quot;an attempt&quot; to authenticate rather then &quot;a succesfull attempt&quot; even ;).
</I>&gt;<i>  But look at the other examples given.. shutdowns.. internal errors. In
</I>&gt;<i>  those cases I would want my client to reconnect till the server is up
</I>&gt;<i>  again. You can tell me that this makes me a bad person/client but I'm
</I>&gt;<i>  not gonna press the &quot;connect&quot; button 20 times a minute just cause of
</I>&gt;<i>  that opinion :)
</I>
Ah but do those error cases you talk about create errors of &quot;Disconnected&quot;
??

&gt;<i> As you can see in the documentation (and this does happen in the real
</I>&gt;<i> world too) there are more cases in wich this can happen. It's not wise
</I>&gt;<i> to tell clients to cripple themselves because we have a protocol
</I>&gt;<i> problem. Rather, let's fix the protocol problem and *then* bug the
</I>&gt;<i> client authors till they update it.
</I>&gt;<i>
</I>&gt;<i> I want my client to reconnect unless the server tells it there is a
</I>&gt;<i> good reason not to. Right now it does not, it's just sais there is an
</I>&gt;<i> &quot;error&quot;.
</I>
But it doesnt just say error, it says and i quote:

&lt;stream:error&gt;Disconnected&lt;/stream:error&gt;&lt;/stream:stream&gt;

Now AFAIK that error is only caused by other sessions causing the
termination of an old session, so clients dont really have an excuse even
now to not handle that, Exodus manages it why cant the rest. So as ive said
any clients that exhibit the session fighting behaviour do have a bug and
need to be fixed since there is a way to properly handle it.

&gt;<i> I agree with you that the &quot;normal behaviour&quot; regarding logging in with
</I>&gt;<i> the same resource should not be changed. There should be proper &quot;error&quot;-
</I>&gt;<i> codes or alternate elements for closing the stream though. Also it's
</I>&gt;<i> not a bad idea for clients to expect the possiblity of a &quot;409&quot; when
</I>&gt;<i> logging in on a server that has this enabled.. though it's unlikely to
</I>&gt;<i> happen (any time soon) it won't make them worse clients for having it.
</I>
Yup proper error codes will help a lot, but at the moment the server does
effectively tell you what has gone wrong and gives you a &quot;Disconnected&quot;
error so clients dont really have any excuse not handling it.

&gt;<i> Another alternative would be letting the client(s) decide wether they
</I>&gt;<i> want to take over an excisting session (or whether they want to allow
</I>&gt;<i> this). If we have proper error-codes for this such a system could
</I>&gt;<i> always be created later on without breaking or confusing excisting
</I>&gt;<i> clients.
</I>
Ah yes I was thinking about this option, that could solve the previous
gentlemans problem with sessions being terminated without altering basic
behaviours of the server for other clients. So maybe we need some kind of
option introduced into the auth so the client can tell the server it doesnt
want any existing sessions terminated if they exist, I think this is the
best option to solve the problem for all parties involved.

Richard



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045220.html">[JDEV] jabberd patch
</A></li>
	<LI>Next message: <A HREF="045222.html">[JDEV] jabberd patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45221">[ date ]</a>
              <a href="thread.html#45221">[ thread ]</a>
              <a href="subject.html#45221">[ subject ]</a>
              <a href="author.html#45221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

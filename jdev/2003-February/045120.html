<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] MUC problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20MUC%20problems&In-Reply-To=%3C8D96EDA0AC04D31197B400A0C96C148002B9D3CE%40ossex1.corp.webb.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045119.html">
   <LINK REL="Next"  HREF="045121.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] MUC problems</H1>
    <B>Constantin Nickonov</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20MUC%20problems&In-Reply-To=%3C8D96EDA0AC04D31197B400A0C96C148002B9D3CE%40ossex1.corp.webb.net%3E"
       TITLE="[JDEV] MUC problems">Nickonov at jabber.com
       </A><BR>
    <I>Thu Feb 13 09:05:09 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="045119.html">[JDEV] Re: MUC problems
</A></li>
        <LI>Next message: <A HREF="045121.html">[JDEV] Whither JABBEROO?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45120">[ date ]</a>
              <a href="thread.html#45120">[ thread ]</a>
              <a href="subject.html#45120">[ subject ]</a>
              <a href="author.html#45120">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David,

It's true that one of the requirements for JEP-0045 was to be compatible
with the groupchat protocol -- but not with the JCF protocol. As a matter of
fact, it was introduced because the JCF protocol was not extensible enough
and too complex. The SHA-hashed JID's simply weren't very useful.

As I mentioned earlier, if you want to have accountability, the best way to
do this within the spirit of the JEP is to have complaints sent through the
room as invitations currently are. The room can then send the real JID of
the offender to the owner/admin (even if he's offline). The owner/admin can
process the complaint at his/her leisure. What good will a SHA-hashed
version do if the offender is not on-line at the time the complaint is
received? You can't un-hash it to discover the culprit's identity. So, are
you going to add some complex logic into the server to notify an admin when
someone with a particular SHA-hashed JID (on a watch-list) comes on-line?
That seems more complex than a &quot;dedicated reporting service&quot;.

And another thing: if you're in the room and I offend you, and I change my
JID, you can track me. But if I'm the least bit clever (and don't want to be
tracked), all I have to do is leave and come back in. This is, of course, a
good thing for anonymity (or semi-anonymity, whatever).

Constantin

&gt;<i> -----Original Message-----
</I>&gt;<i> From: David Sutton [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jabber at dsutton.legend.uk.com</A>]
</I>&gt;<i> Sent: Wednesday, February 12, 2003 9:51 PM
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> Subject: Re: [JDEV] MUC problems
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i>   Part of the initial requirements of JEP-0045 was to provide backward
</I>&gt;<i>   compatibility with the groupchat protocol.
</I>&gt;<i> 
</I>&gt;<i>   However, you are missing my point if you believe my issues are with
</I>&gt;<i>   maintaining backwards compatability. This is important to 
</I>&gt;<i> me, but not
</I>&gt;<i>   the crux of my issue.
</I>&gt;<i> 
</I>&gt;<i>   The JEP already has the provision for room 
</I>&gt;<i> owners/admins/moderators to
</I>&gt;<i>   be able to view a persons real jid at all times. In MUC, there is no
</I>&gt;<i>   such thing as a completely anonymous room, only semi-anonymous.
</I>&gt;<i>   However, you have to also take real-world events into 
</I>&gt;<i> place, and it is
</I>&gt;<i>   not safe to assume that there will always be a room moderator+
</I>&gt;<i>   available at all times. This was proven multiple times whilst an
</I>&gt;<i>   earlier version of MU-Conference was running on jabber.org. 
</I>&gt;<i> Even with
</I>&gt;<i>   the enhanced abilities, if a troublemaker came on and there were no
</I>&gt;<i>   admins around, there was nothing that could be done except to take
</I>&gt;<i>   note of the SHA hash jid. 
</I>&gt;<i> 
</I>&gt;<i>   This issue is likely to come up again and again, so I have put this
</I>&gt;<i>   mechanism in place to provide accountability whilst maintaining the
</I>&gt;<i>   semi-anonymous environment. The fact that SHA hashes have 
</I>&gt;<i> been used in
</I>&gt;<i>   regards to users, not just in mu-conference, is a bonus. As I have
</I>&gt;<i>   already pointed out, tracking a user when they keep changing nick is
</I>&gt;<i>   easily done if you are already in the room. If abuse keeps 
</I>&gt;<i> reoccuring,
</I>&gt;<i>   then the SHA jid can be given to the admin, to allow them to be able
</I>&gt;<i>   to tie events together. In areas such as Educational or Corporate,
</I>&gt;<i>   where it is can be more damaging than just an acting up room member,
</I>&gt;<i>   we have a safety mechanism in place.  
</I>&gt;<i> 
</I>&gt;<i>   There is no such thing as an anonymous room, and to be frank, there
</I>&gt;<i>   can never be one. Say I am the server admin for a 
</I>&gt;<i> conference service.
</I>&gt;<i>   All I have to do is run the jabberd in debug mode, and I 
</I>&gt;<i> know exactly
</I>&gt;<i>   who you are and what you are sending/receiving. Likewise, the server
</I>&gt;<i>   admin on the jabber server your client has connected to can do the
</I>&gt;<i>   very same thing. 
</I>&gt;<i> 
</I>&gt;<i>   The current system is already far more secure than any of 
</I>&gt;<i> the existing
</I>&gt;<i>   conference/conferencing components which you can find out 
</I>&gt;<i> anyones real
</I>&gt;<i>   jid whether they want you to know it or not. If a user wishes to
</I>&gt;<i>   inform an admin of an abuse, they can send the SHA version to the
</I>&gt;<i>   admin, who can then note it and watch out for further abuses. A
</I>&gt;<i>   dedicated reporting service is also out of the sphere of 
</I>&gt;<i> this JEP, in
</I>&gt;<i>   my oppinion, since it serves no use in other situations 
</I>&gt;<i> where MUC can
</I>&gt;<i>   be utilised, such as multi-way MSN conversations or in IRC gateways.
</I>&gt;<i> 
</I>&gt;<i>   If you wish, I can think about coding in a room option that would
</I>&gt;<i>   allow people to disable the SHA hash jid if they really feel they
</I>&gt;<i>   have to. I just want to allow people to have that choice, 
</I>&gt;<i> rather than
</I>&gt;<i>   say 'I can't see a reason for it, so why bother' I also want to be
</I>&gt;<i>   able to offer this along with room message filtering to help expand
</I>&gt;<i>   the potential userbase.
</I>&gt;<i> 
</I>&gt;<i> Regards.
</I>&gt;<i> 
</I>&gt;<i>   David
</I>&gt;<i> 
</I>&gt;<i> On Wed, Feb 12, 2003 at 02:00:58PM -0700, Constantin Nickonov wrote:
</I>&gt;<i> &gt; I understand what you're saying about backward 
</I>&gt;<i> compatibility, David. This
</I>&gt;<i> &gt; wasn't the intent of MUC, but is not prohibited, either. 
</I>&gt;<i> The problem is that
</I>&gt;<i> &gt; your implementation will likely become the de-facto reference
</I>&gt;<i> &gt; implementation, and future mimickers will attempt to stay 
</I>&gt;<i> true to what you
</I>&gt;<i> &gt; do now. In the long run, the result will be confusing at 
</I>&gt;<i> best. There's a
</I>&gt;<i> &gt; reason for the demise of the JCF protocol (for which there 
</I>&gt;<i> isn't a JEP) and
</I>&gt;<i> &gt; the introduction of MUC.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The MUC protocol proposes a solid affiliation/role 
</I>&gt;<i> hierarchy, and I submit
</I>&gt;<i> &gt; to you that even in anonymous rooms, the owner/admin (and 
</I>&gt;<i> perhaps the
</I>&gt;<i> &gt; moderator) should still have access to everyone's real JID. 
</I>&gt;<i> And so, any
</I>&gt;<i> &gt; channel abuse issues, with which you're concerned, can be 
</I>&gt;<i> resolved without
</I>&gt;<i> &gt; employing an extra representation of the JID. And even if 
</I>&gt;<i> you want to allow
</I>&gt;<i> &gt; users to file complaints against someone who's being 
</I>&gt;<i> abusive while the cat
</I>&gt;<i> &gt; (admin, owner, etc.) is away, this can be accomplished via 
</I>&gt;<i> a message that's
</I>&gt;<i> &gt; intercepted by the service a la invitations sent through 
</I>&gt;<i> the room (MUC-0045,
</I>&gt;<i> &gt; section 6.6).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Furthermore, some anonymity is lost when you track a SHA-hashed
</I>&gt;<i> &gt; representation of a user's JID (which never changes) -- even between
</I>&gt;<i> &gt; sessions. One could easily argue that this representation 
</I>&gt;<i> is every bit as
</I>&gt;<i> &gt; identifying of the user as his/her real JID. The idea 
</I>&gt;<i> behind anonymity is
</I>&gt;<i> &gt; that a user can come into a room and no one knows who the 
</I>&gt;<i> user is... not who
</I>&gt;<i> &gt; the user's been in the past... not anything about the user.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jabber at dsutton.legend.uk.com</A> 
</I>&gt;<i> &gt; &gt; [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jabber at dsutton.legend.uk.com</A>]
</I>&gt;<i> &gt; &gt; Sent: Wednesday, February 12, 2003 11:14 AM
</I>&gt;<i> &gt; &gt; To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; Subject: Re: [JDEV] MUC problems
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Hello Constantin,
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;   Yes, you can communicate via the SHA hash jid, if it is 
</I>&gt;<i> &gt; &gt; enabled in the
</I>&gt;<i> &gt; &gt; configuration. This was also the same behaviour in the 
</I>&gt;<i> &gt; &gt; conferencing module
</I>&gt;<i> &gt; &gt; available previously, and I know of people who have express 
</I>&gt;<i> &gt; &gt; concern to me
</I>&gt;<i> &gt; &gt; to keep the browse ability as compatible as possible. The 
</I>&gt;<i> &gt; &gt; current method
</I>&gt;<i> &gt; &gt; which I checked into CVS is the way that I want to keep it. 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;   If you were in an anonymous room, then you would be able to 
</I>&gt;<i> &gt; &gt; track when a
</I>&gt;<i> &gt; &gt; user changes nick, and I want the same functionality in browse. 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;   I would also say that although you currently see no reason 
</I>&gt;<i> &gt; &gt; for tracking
</I>&gt;<i> &gt; &gt; this way, it is a function that I would like, and can see 
</I>&gt;<i> &gt; &gt; others needing in
</I>&gt;<i> &gt; &gt; the future. This becomes especially true in cases of channel 
</I>&gt;<i> &gt; &gt; abuse, and for
</I>&gt;<i> &gt; &gt; that reason alone I believe that the SHA hash representation 
</I>&gt;<i> &gt; &gt; for anonymous
</I>&gt;<i> &gt; &gt; users needs to stay.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;   David
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Constantin Nickonov writes:
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; &gt; &gt; From: David Sutton [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jabber at dsutton.legend.uk.com</A>]
</I>&gt;<i> &gt; &gt; &gt; &gt; Sent: Wednesday, February 12, 2003 2:57 AM
</I>&gt;<i> &gt; &gt; &gt; &gt; To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; Subject: Re: [JDEV] MUC problems
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; Hi there,
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt;   I can understand your point as well, so have come 
</I>&gt;<i> up with this
</I>&gt;<i> &gt; &gt; &gt; &gt;   compromise. When you browse a room, the jid given will be 
</I>&gt;<i> &gt; &gt; &gt; &gt; the room jid
</I>&gt;<i> &gt; &gt; &gt; &gt;   + nick. What happens if you browse further depends on the 
</I>&gt;<i> &gt; &gt; &gt; &gt; room. If the
</I>&gt;<i> &gt; &gt; &gt; &gt;   room is unanonymous, or you are a room admin, then you 
</I>&gt;<i> &gt; &gt; will see the
</I>&gt;<i> &gt; &gt; &gt; &gt;   users real jid. If you are a normal user and not 
</I>&gt;<i> &gt; &gt; allowed to see real
</I>&gt;<i> &gt; &gt; &gt; &gt;   jids, then you will see the SHA hash jid version. That way 
</I>&gt;<i> &gt; &gt; &gt; &gt; we keep to
</I>&gt;<i> &gt; &gt; &gt; &gt;   the spirit of the jep, whilst allowing tracking of 
</I>&gt;<i> user-&gt;nick
</I>&gt;<i> &gt; &gt; &gt; &gt;   relations.
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt;   This has been checked into the mu-conference cvs. Does this 
</I>&gt;<i> &gt; &gt; &gt; &gt; sound good
</I>&gt;<i> &gt; &gt; &gt; &gt;   to you?
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; And where else will the SHA-hashed version of the JID be 
</I>&gt;<i> &gt; &gt; used? Can clients
</I>&gt;<i> &gt; &gt; &gt; send directed messages, etc., to the SHA-hashed version? I 
</I>&gt;<i> &gt; &gt; really don't
</I>&gt;<i> &gt; &gt; &gt; see the need to &quot;track people&quot; in this way. In the end, if 
</I>&gt;<i> &gt; &gt; the room is
</I>&gt;<i> &gt; &gt; &gt; anonymous, a user shouldn't really be &quot;trackable&quot; when in 
</I>&gt;<i> &gt; &gt; it. If it's
</I>&gt;<i> &gt; &gt; &gt; non-anonymous, you have the real JID and don't need to 
</I>&gt;<i> &gt; &gt; complicate things
</I>&gt;<i> &gt; &gt; &gt; (which you've already conceded).
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; The two-phase browse seems like a good idea, i.e., get the 
</I>&gt;<i> &gt; &gt; in-room JID
</I>&gt;<i> &gt; &gt; &gt; from a room browse, and then dig deeper for the user's 
</I>&gt;<i> real JID by
</I>&gt;<i> &gt; &gt; &gt; browsing to the in-room JID.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt;   David
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; On Tue, Feb 11, 2003 at 10:28:55AM -0700, Constantin 
</I>&gt;<i> &gt; &gt; Nickonov wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; I understand what you're trying to do. The problem is that 
</I>&gt;<i> &gt; &gt; &gt; &gt; your methods
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; conflict with the intent of JEP-0045, which will eventually 
</I>&gt;<i> &gt; &gt; &gt; &gt; result in
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; fragmentation of the standard, i.e., when two or more 
</I>&gt;<i> &gt; &gt; &gt; &gt; implementations of MUC
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; accomplish the same thing in incompatible ways. Perhaps the 
</I>&gt;<i> &gt; &gt; &gt; &gt; JEP should be
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; more specific when it comes to laying out the 
</I>&gt;<i> 'jabber:iq:browse'
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; capabilities (which are being phased out in favor of 
</I>&gt;<i> &gt; &gt; &gt; &gt; disco), but it seems to
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; me the re-introduction of SHA-hashing for this purpose is 
</I>&gt;<i> &gt; &gt; &gt; &gt; not a good thing.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Sure, you can talk about race conditions, like when I 
</I>&gt;<i> &gt; &gt; &gt; &gt; browse to get a list
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; of users and one of them chooses that moment to change his 
</I>&gt;<i> &gt; &gt; &gt; &gt; nick, making my
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; subsequent user-level browse requests invalid. But why not 
</I>&gt;<i> &gt; &gt; &gt; &gt; just return the
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; real JID (if it's allowed by the room) in the room-level 
</I>&gt;<i> &gt; &gt; &gt; &gt; browse result?
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Something like this:
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; SENT: &lt;iq type='get' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">room at muc.server</A>'&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;         &lt;query xmlns='jabber:iq:browse'/&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;       &lt;/iq&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; READ: &lt;iq type='result' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>/resource' 
</I>&gt;<i> &gt; &gt; &gt; &gt; from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">room at muc.server</A>'&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;         &lt;conference xmlns='jabber:iq:browse' name='room' 
</I>&gt;<i> &gt; &gt; &gt; &gt; type='public'&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;           &lt;ns&gt;<A HREF="http://jabber.org/protocol/muc&lt;/ns">http://jabber.org/protocol/muc&lt;/ns</A>&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;           &lt;user name='nick1' jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user2 at server</A>/resource'/&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;         &lt;/conference&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;       &lt;/iq&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; In the case of an anonymous room, the 'jid' attribute could 
</I>&gt;<i> &gt; &gt; &gt; &gt; be omitted (or
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; contain the in-room JID for that user, i.e., 
</I>&gt;<i> &gt; &gt; &gt; &gt; '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">room at muc.server</A>/nick2').
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; From: David Sutton [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jabber at dsutton.legend.uk.com</A>]
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; Sent: Tuesday, February 11, 2003 8:59 AM
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; Subject: Re: [JDEV] MUC problems
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; Hello there,
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   We are both correct in this situation. The JEP 
</I>&gt;<i> does define 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; how the jid
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   is to be handled for a presence packet, and 
</I>&gt;<i> &gt; &gt; &gt; &gt; MU-Conference follows
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   that. You will never see the SHA1 string in a 
</I>&gt;<i> &gt; &gt; presence packet. 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   On the other hand, the system of using an iq 
</I>&gt;<i> request, xmlns
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   jabber:iq:browse, to discover the room roster is not 
</I>&gt;<i> &gt; &gt; &gt; &gt; covered by the 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   JEP. In order to maintain sanity, I have opted to 
</I>&gt;<i> &gt; &gt; &gt; &gt; continue using the
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   existing methods. If you require to see the real jid, 
</I>&gt;<i> &gt; &gt; &gt; &gt; and you are
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   allowed, then browsing the SHA1 resource will reveal 
</I>&gt;<i> &gt; &gt; &gt; &gt; the true jid. I
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   have to use the sha1, since it allows you to track 
</I>&gt;<i> &gt; &gt; the user more
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   consistantly - as I tried to explain before, I could use
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">girls at conference.localhost</A>/NICK' for the 
</I>&gt;<i> nickname reported 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; by browse,
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   the problem is that if users swap nicknames, I 
</I>&gt;<i> have no way 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; of knowing
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   that is what happened. The SHA1 string is unique to 
</I>&gt;<i> &gt; &gt; that user.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt;   David
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; On Tue, Feb 11, 2003 at 08:12:16AM -0700, Constantin 
</I>&gt;<i> &gt; &gt; &gt; &gt; Nickonov wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; see below
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; From: David Sutton 
</I>&gt;<i> [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jabber at dsutton.legend.uk.com</A>]
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Sent: Monday, February 10, 2003 8:51 PM
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Subject: Re: [JDEV] MUC problems
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &lt;snip&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; The hex string is actually a SHA1 hash of the 
</I>&gt;<i> users real 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; jid. Its used
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; to reference a user, but not reveal the true jid. 
</I>&gt;<i> &gt; &gt; If the room 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; is set up to allow people to see the real jid, then 
</I>&gt;<i> &gt; &gt; &gt; &gt; just browse
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">girls at conference.localhost</A>/13c6a01dc31309e331c2b018640b9c03b85
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 34327 and
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; it will show you the true jid. This also 
</I>&gt;<i> helps to keep 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; compatability to
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; existing clients that are used to this form with the
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; groupchat/conferencing module. The real jid 
</I>&gt;<i> is used as 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; the reference, as
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; a person can keep changing their nick throughout a 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; session, but they
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; can't change their real jid
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; The problem with this is that the MUC standard 
</I>&gt;<i> (JEP-0045) 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; specifies how
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; nicknames are passed along with presence 
</I>&gt;<i> information, and 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; how they are
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; changed -- and SHA-hashing isn't the way.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; Entering a room (JEP-0045, section 6.2):
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;   SENT: &lt;presence to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at muc.server</A>/nick1'&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;           &lt;x xmlns='<A HREF="http://jabber.org/protocol/muc'/">http://jabber.org/protocol/muc'/</A>&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;         &lt;/presence&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;   READ: &lt;presence from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at muc.server</A>/nick1' 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>/resource'&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;           &lt;x 
</I>&gt;<i> xmlns='<A HREF="http://jabber.org/protocol/muc#user'">http://jabber.org/protocol/muc#user'</A>&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;             &lt;item affiliation='owner' 
</I>&gt;<i> &gt; &gt; jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>/resource'
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; role='moderator'/&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;           &lt;/x&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;         &lt;/presence&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; Changing the nick (JEP-0045, section 6.4):
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;   SENT: &lt;presence to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at muc.server</A>/nick2'/&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;   READ: &lt;presence type='unavailable' 
</I>&gt;<i> &gt; &gt; from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at muc.server</A>/nick1'
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>/resource'&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;           &lt;x 
</I>&gt;<i> xmlns='<A HREF="http://jabber.org/protocol/muc#user'">http://jabber.org/protocol/muc#user'</A>&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;             &lt;item nick='nick2' affiliation='owner'
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>/resource' role='moderator'/&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;             &lt;status code='303'/&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;           &lt;/x&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;         &lt;/presence&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;         &lt;presence from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at muc.server</A>/nick2' 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>/resource'&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;           &lt;x 
</I>&gt;<i> xmlns='<A HREF="http://jabber.org/protocol/muc#user'">http://jabber.org/protocol/muc#user'</A>&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;             &lt;item affiliation='owner' 
</I>&gt;<i> &gt; &gt; jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>/resource'
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; role='moderator'/&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;           &lt;/x&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt;         &lt;/presence&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; The MUC protocol wasn't designed to be fully 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; backward-compatible with the
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; JCF draft.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; Constantin
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; -- 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; David Sutton
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; Email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dsutton at legend.co.uk</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; Jabber: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">peregrine at legend.net.uk</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; -- 
</I>&gt;<i> &gt; &gt; &gt; &gt; David Sutton
</I>&gt;<i> &gt; &gt; &gt; &gt; Email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dsutton at legend.co.uk</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; Jabber: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">peregrine at legend.net.uk</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; jdev mailing list
</I>&gt;<i> &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> David Sutton
</I>&gt;<i> Email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dsutton at legend.co.uk</A>
</I>&gt;<i> Jabber: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">peregrine at legend.net.uk</A>
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045119.html">[JDEV] Re: MUC problems
</A></li>
	<LI>Next message: <A HREF="045121.html">[JDEV] Whither JABBEROO?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45120">[ date ]</a>
              <a href="thread.html#45120">[ thread ]</a>
              <a href="subject.html#45120">[ subject ]</a>
              <a href="author.html#45120">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

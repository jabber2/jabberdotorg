<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: Proposal for a solution to transport rosters
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20Proposal%20for%20a%20solution%20to%20transport%20rosters&In-Reply-To=%3C200409062337.59487.james%40delx.cjb.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049385.html">
   <LINK REL="Next"  HREF="049389.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: Proposal for a solution to transport rosters</H1>
    <B>James Bunton</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20Proposal%20for%20a%20solution%20to%20transport%20rosters&In-Reply-To=%3C200409062337.59487.james%40delx.cjb.net%3E"
       TITLE="[jdev] Re: Proposal for a solution to transport rosters">james at delx.cjb.net
       </A><BR>
    <I>Mon Sep  6 08:37:59 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="049385.html">[work] Re: [JDEV] Re: Conference component for win32
</A></li>
        <LI>Next message: <A HREF="049389.html">[jdev] Jabbers Killer App
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49388">[ date ]</a>
              <a href="thread.html#49388">[ thread ]</a>
              <a href="subject.html#49388">[ subject ]</a>
              <a href="author.html#49388">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mike wrote:
&gt;<i> Hi James &amp; all others.
</I>&gt;<i>
</I>&gt;<i> What is 'wrong' with using JEP-0093 (jabber:x:roster) after a disco or caps 
</I>&gt;<i> to the client? I am using '93 within my yahoo-transport.
</I>&gt;<i>
</I>&gt;<i> The only change in the logic would be:
</I>&gt;<i> 
</I>&gt;<i> 1 User registers with msn.host.com
</I>&gt;<i> 2 Transport does disco or caps comparison to see if '93 is supported, client 
</I>&gt;<i> advertises the jabber:x:disco feature.
</I>&gt;<i> 3 If '93 is supported then provide a roster exchange list to which the
</I>&gt;<i> client can decide what to do with (user configurable), or go through old
</I>&gt;<i> method of sending a subscription for each  
</I>&gt;<i> (or just sending a '93 anyway which is what I do).
</I>&gt;<i>
</I>&gt;<i> As you are already checking for the registered hostname the logic is easier
</I>&gt;<i> and a lot of clients already support '93 so you loose nothing in real terms. 
</I>&gt;<i>
</I>&gt;<i> Please correct me if I have made a major error in logic.
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> Mike
</I>
The main reason is that not all clients support jabber:x:roster (including all 
current releases of Psi). I was not aware that those that did advertised 
their support with service discovery (it doesn't seem to be in the JEP).

My reasoning for not using it is that if the client doesn't support it, then 
they do not see their roster at all. To fix this, we say send the presence 
type=&quot;subscribe&quot; messages anyway. But this means that the clients that do 
support x:roster receive these anyway, and the user still gets lots of 
prompts.

My idea would allow for XMPP compatibility (which needed to be fixed by 
changing any presence subscribed into presence subscribe), as well as 
compatibility with all clients that support subscriptions, and a better user 
experience for newer clients. Older clients would still show the roster 
though (which is very important).

I just think it's cleaner to integrate the importing into the presence 
subscription packets, since they pretty much have to be sent at some point 
anyway.

Eventually of course we'll have proper shared groups functionality, then we 
can drop all the subscription stuff completely, as there will be no need to 
even have the MSN contacts stored on the Jabber user's roster, they can just 
be sent at login. =)
That's my hopes anyway :)

---

James

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049385.html">[work] Re: [JDEV] Re: Conference component for win32
</A></li>
	<LI>Next message: <A HREF="049389.html">[jdev] Jabbers Killer App
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49388">[ date ]</a>
              <a href="thread.html#49388">[ thread ]</a>
              <a href="subject.html#49388">[ subject ]</a>
              <a href="author.html#49388">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

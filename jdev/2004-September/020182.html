<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: [ejabberd] probably bug: registration of existing account
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20%5Bejabberd%5D%20probably%20bug%3A%20registration%20of%20existing%20account&In-Reply-To=878yb2a6mi.fsf%40office.sevcom.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020181.html">
   <LINK REL="Next"  HREF="020183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: [ejabberd] probably bug: registration of existing account</H1>
    <B>Oleg V. Motienko</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20%5Bejabberd%5D%20probably%20bug%3A%20registration%20of%20existing%20account&In-Reply-To=878yb2a6mi.fsf%40office.sevcom.net"
       TITLE="[jdev] Re: [ejabberd] probably bug: registration of existing account">mmm at ttn.ru
       </A><BR>
    <I>Wed Sep 22 15:36:46 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="020181.html">[jdev] Testing Ejabberd with a ready-to-run CD
</A></li>
        <LI>Next message: <A HREF="020183.html">[jdev] Porting to VxWorks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20182">[ date ]</a>
              <a href="thread.html#20182">[ thread ]</a>
              <a href="subject.html#20182">[ subject ]</a>
              <a href="author.html#20182">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!

Alexey Shchepin wrote:

&gt;<i>Hello, Oleg!
</I>&gt;<i>
</I>&gt;<i>On Wed, 22 Sep 2004 10:44:53 +0400, you said:
</I>&gt;<i>
</I>&gt;<i> OVM&gt; Hello!  Sometimes I get messages from server like this.
</I>&gt;<i>
</I>&gt;<i> OVM&gt; [01:47:16] &lt;jabber.mydomain.ru&gt; The user
</I>&gt;<i> OVM&gt; '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">skazo4nik at jabber.mydomain.ru</A>' was just created on node
</I>&gt;<i> OVM&gt; '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ejabberd at jabber.mydomain.ru</A>'.  [01:51:48] &lt;jabber.mydomain.ru&gt;
</I>&gt;<i> OVM&gt; The user '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">skazo4nik at jabber.mydomain.ru</A>' was just created on node
</I>&gt;<i> OVM&gt; '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ejabberd at jabber.mydomain.ru</A>'.
</I>&gt;<i>
</I>&gt;<i> OVM&gt; This looks like server allow registration of existing
</I>&gt;<i> OVM&gt; account.
</I>&gt;<i>
</I>&gt;<i>No, this user probably unregistered first, and then re-registered again.
</I>&gt;<i>
</I>&gt;<i> OVM&gt; Or this is bug of client program.
</I>&gt;<i>
</I>&gt;<i> OVM&gt; Did anybody have such situation ?
</I>&gt;<i>
</I>&gt;<i>I've seen such behaviour with JAJC, usually after user have tried to
</I>&gt;<i>register on icq transport and then cancels registration, probably JAJC
</I>&gt;<i>sends unregistration packet on main server instead of icq transport.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>I think, we find problem (thanks to Michail Pishchagin for help):
This looks like a bug in several jabber clients:
If user add server contact to roster (notafter recieving welcome 
message, for ex.), then remove it, clients send unregistration to 
server. If this user relogin, client creates new account, with new blank 
roster etc.

So, client program must check if servername in JID not equal of name of 
deleted service.

-- 
Regards, Oleg
xmpp: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mmm at jabber.ttn.ru</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020181.html">[jdev] Testing Ejabberd with a ready-to-run CD
</A></li>
	<LI>Next message: <A HREF="020183.html">[jdev] Porting to VxWorks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20182">[ date ]</a>
              <a href="thread.html#20182">[ thread ]</a>
              <a href="subject.html#20182">[ subject ]</a>
              <a href="author.html#20182">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] File Transfer Interoperability
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20File%20Transfer%20Interoperability&In-Reply-To=%3C725715363.513711186424310233.JavaMail.root%40jive01.managed.contegix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055792.html">
   <LINK REL="Next"  HREF="055794.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] File Transfer Interoperability</H1>
    <B>Alex Wenckus</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20File%20Transfer%20Interoperability&In-Reply-To=%3C725715363.513711186424310233.JavaMail.root%40jive01.managed.contegix.com%3E"
       TITLE="[jdev] File Transfer Interoperability">alex at jivesoftware.com
       </A><BR>
    <I>Mon Aug  6 13:18:30 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="055792.html">[jdev] File Transfer Interoperability
</A></li>
        <LI>Next message: <A HREF="055794.html">[jdev] File Transfer Interoperability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55793">[ date ]</a>
              <a href="thread.html#55793">[ thread ]</a>
              <a href="subject.html#55793">[ subject ]</a>
              <a href="author.html#55793">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In Spark we made the changes as we found XEP-0096 deficient in several respects, its support for file transfer fail-over being one of them. A solution we hit upon for this was to allow clients to specify multiple methods of transfer during the negotiation process; unfortunately since PSI and iChat are strict in their interpretation of the received data from this causes file transfer to break. XEP-0096 and the related stream XEPs are deficient in several other regards which causes a poor file transfer experience.

We have been reluctant to change this in Spark for two reasons, one being we hoped to provide a responsible level of assurance that file transfer would not fail between Spark clients when SOCKS5 transfer failed and two we have been told for a while now that there would be a newer method of file transfer which would hopefully address many of the deficiencies in the current method. There was talk of updating the current XEPs to address several of the issues we came across but they were mostly brushed aside for reason 2.

I don't know what the best solution is in this situation. We want Spark to be compatible as can be in this case but if we were to move to strictly interpret the XEP this would cause a degradation in the file transfer experience in Spark, as you can see it was a lose, lost situation.

Cheers,
Alex

----- Original Message -----
From: &quot;Justin Karneges&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">justin-keyword-jabber.093179 at affinix.com</A>&gt;
To: &quot;Jabber software development list&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
Sent: Sunday, August 5, 2007 8:04:09 PM (GMT-0800) America/Los_Angeles
Subject: Re: [jdev] File Transfer Interoperability

On Sunday 05 August 2007 8:49 am, Michael Laukner wrote:
&gt;<i> Hi,
</I>&gt;<i> I have been reading the discussions about Basic/Intermediate Client 2008
</I>&gt;<i> because I was interested in file transfer interoperability. Although
</I>&gt;<i> there is a standard (XEP-96) file transfer does not work properly
</I>&gt;<i> within the XMPP famliy of clients.
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.igniterealtime.org/forum/thread.jspa?messageID=152457#152457">http://www.igniterealtime.org/forum/thread.jspa?messageID=152457#152457</A>
</I>&gt;<i> <A HREF="http://forum.psi-im.org/thread/4174">http://forum.psi-im.org/thread/4174</A>
</I>&gt;<i> <A HREF="http://thread.gmane.org/gmane.network.jabber.standards-jig/10468">http://thread.gmane.org/gmane.network.jabber.standards-jig/10468</A>
</I>&gt;<i>
</I>&gt;<i> Wouldn't it be nice if file transfer worked as seamless as an e-mail
</I>&gt;<i> attachment? I would love if at least the main players (recommended
</I>&gt;<i> clients in jabber.org) could agree on an implementation guideline.
</I>
The igniterealtime thread has a post containing compatibility test data 
between Spark, Pidgin, Psi, and Pandion.  Here is my explanation of the 
results:

Pandion doesn't support XEP-96, and Pidgin/Gaim is notoriously buggy for file 
transfer.  The problem with these two has nothing to do with a lack of an 
implementation guideline.  Someone just needs to step up and fix things.

Spark uses a special variant of XEP-96 that apparently breaks compatibility 
with every other client, most likely due to x:data ambiguity.  I'd suggest 
the Spark guys make an extension that is less prone to misinterpretation.

As far as I can tell, Psi works properly.

Keep in mind that these are not the only clients.  Gajim, iChat, and Trillian 
are also popular clients that support file transfer, and they may not have 
any of the problems described in the igniterealtime thread.  The situation 
may not be as bad as you think.

-Justin


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055792.html">[jdev] File Transfer Interoperability
</A></li>
	<LI>Next message: <A HREF="055794.html">[jdev] File Transfer Interoperability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55793">[ date ]</a>
              <a href="thread.html#55793">[ thread ]</a>
              <a href="subject.html#55793">[ subject ]</a>
              <a href="author.html#55793">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

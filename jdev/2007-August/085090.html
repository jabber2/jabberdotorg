<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] File Transfer Interoperability
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20File%20Transfer%20Interoperability&In-Reply-To=%3Cf60b7eb60708081051n6f4e14e2qdf3a6f0cb017bd1e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="085089.html">
   <LINK REL="Next"  HREF="085088.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] File Transfer Interoperability</H1>
    <B>Sergei Golovan</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20File%20Transfer%20Interoperability&In-Reply-To=%3Cf60b7eb60708081051n6f4e14e2qdf3a6f0cb017bd1e%40mail.gmail.com%3E"
       TITLE="[jdev] File Transfer Interoperability">sgolovan at nes.ru
       </A><BR>
    <I>Wed Aug  8 12:51:49 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="085089.html">[jdev] File Transfer Interoperability
</A></li>
        <LI>Next message: <A HREF="085088.html">[jdev] File Transfer Interoperability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85090">[ date ]</a>
              <a href="thread.html#85090">[ thread ]</a>
              <a href="subject.html#85090">[ subject ]</a>
              <a href="author.html#85090">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8/8/07, Justin Karneges &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">justin-keyword-jabber.093179 at affinix.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> If the sender offers a file and then cancels it before the receiver accepts,
</I>&gt;<i> then S5B hasn't even started yet.  In other words, the sender hasn't sent the
</I>&gt;<i> iq-set for the S5B open.  Therefore, there are no sockets to time out, and
</I>&gt;<i> the receiver will wait forever.  Just like with IBB, just like with anything.
</I>&gt;<i> It's an SI issue.
</I>
You're right. It's a file transfer request which takes a long time to
answer, and not an IBB one.

&gt;<i>
</I>&gt;<i> If the sender cancels the file transfer immediately after the receiver
</I>&gt;<i> accepts, then there is a chance that the sender may have started an IBB or
</I>&gt;<i> S5B negotiation.  This is much less common than the SI problem, and I think a
</I>&gt;<i> timeout in IBB here would be enough to solve this situation of bad luck.
</I>
Well, it would be better to clarify at least the most frequent stream
breaks. As for now, there's no way to break file transfer gracefully
(with error messgae which is shown to the peer).

&gt;<i>
</I>&gt;<i> FWIW, S5B also doesn't specify any timeouts.  If the receiver goes offline
</I>&gt;<i> instead of replying with an iq, then the sender will wait forever (and this
</I>
At least you'll notice that the receiver goes offline (not always
though). And in case of sender I think that it's impossible to find a
proper timeout. There always will be users complaining that they
replied too late.

&gt;<i> is the case today with Psi).  As you can see, endlessly waiting is not a
</I>&gt;<i> feature of just IBB.  We generally don't specify timeouts in XEPs.  For
</I>
Tkabber now uses timeout only when waiting for ping request. But
probably it would be better to add some to file transfer part.

&gt;<i> example, how long should you wait for a vcard request to be answered?
</I>
Hm. Is it important? You show a notebook (or any other GUI, or nothing
if it's a text client) and some progressbar and fill in the fields on
answer comes. I don't think that vcard requires timeout at all.

-- 
Sergei Golovan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="085089.html">[jdev] File Transfer Interoperability
</A></li>
	<LI>Next message: <A HREF="085088.html">[jdev] File Transfer Interoperability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85090">[ date ]</a>
              <a href="thread.html#85090">[ thread ]</a>
              <a href="subject.html#85090">[ subject ]</a>
              <a href="author.html#85090">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

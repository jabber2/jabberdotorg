<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Help! jabberd 1.4.2 coredumping!!!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Help%21%20jabberd%201.4.2%20coredumping%21%21%21&In-Reply-To=%3CE95AE238BE655441942C2139C83D00D010B78D82%40MARS.us.iwon.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043006.html">
   <LINK REL="Next"  HREF="043012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Help! jabberd 1.4.2 coredumping!!!</H1>
    <B>Alex Nikolayew</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Help%21%20jabberd%201.4.2%20coredumping%21%21%21&In-Reply-To=%3CE95AE238BE655441942C2139C83D00D010B78D82%40MARS.us.iwon.com%3E"
       TITLE="[JDEV] Help! jabberd 1.4.2 coredumping!!!">anikolayew at excitenetwork.com
       </A><BR>
    <I>Thu Aug  1 13:42:32 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="043006.html">[JDEV] Requesting a roster
</A></li>
        <LI>Next message: <A HREF="043012.html">[JDEV] Java StartTLS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43011">[ date ]</a>
              <a href="thread.html#43011">[ thread ]</a>
              <a href="subject.html#43011">[ subject ]</a>
              <a href="author.html#43011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here's my predicament: A few months ago, when we upgraded from jabber 1.2 to
1.4, offline message management broke.  (They continued to store up in spool
files beyond maxoffline, and they were never being delivered).   I recently
discovered it was due to a module dependency issue (mod_offline needed to be
loaded before mod_presence).  However, before enabling the fix in
production, I decided to purge excessive offline content in the spool files,
so users wouldn't get bombarded with old garbage.

And herein lies the problem: I wrote a script using perl XML::Simple to
undef offline storage message array elements that I didn't want to keep.
XMLout() converted the empty message arrays to &lt;message&gt;&lt;/message&gt;.  This
caused jabberd to coredump! I can of course rerun the conversion, completely
removing the empty message tags, but was wondering if anyone knew of a quick
source code fix to be able to correctly handle these empty message tags?

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043006.html">[JDEV] Requesting a roster
</A></li>
	<LI>Next message: <A HREF="043012.html">[JDEV] Java StartTLS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43011">[ date ]</a>
              <a href="thread.html#43011">[ thread ]</a>
              <a href="subject.html#43011">[ subject ]</a>
              <a href="author.html#43011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

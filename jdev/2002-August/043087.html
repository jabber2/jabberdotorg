<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] jsm and jsm_sql problem with jabber 1.4.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20jsm%20and%20jsm_sql%20problem%20with%20jabber%201.4.2&In-Reply-To=%3CF23HEmaZRHFKpO2DTSW00003d92%40hotmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043086.html">
   <LINK REL="Next"  HREF="043089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] jsm and jsm_sql problem with jabber 1.4.2</H1>
    <B>anand v</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20jsm%20and%20jsm_sql%20problem%20with%20jabber%201.4.2&In-Reply-To=%3CF23HEmaZRHFKpO2DTSW00003d92%40hotmail.com%3E"
       TITLE="[JDEV] jsm and jsm_sql problem with jabber 1.4.2">objectmulti at hotmail.com
       </A><BR>
    <I>Tue Aug  6 15:17:34 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="043086.html">[JDEV] Help with Jabber-1.4.2 and MySQL backend
</A></li>
        <LI>Next message: <A HREF="043089.html">[JDEV] Integrating Jabber into our existing instant messaging architecture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43087">[ date ]</a>
              <a href="thread.html#43087">[ thread ]</a>
              <a href="subject.html#43087">[ subject ]</a>
              <a href="author.html#43087">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have Redhat linux 7.1 and been using jabber 1.4.1 with mysql xdb
for 1 year now...

Now I am trying to upgrade jabber to 1.4.2 to another Redhat server
and I have tested mysql from command prompt and also ran a simple C
client program to connect to mysql and execute some queries..everything
seems to be working fine.

First step is to make the jsm work so that I could atleast register
new users to this new server...and my winjab is not even connecting
to jabber and I don't see any log messages in jsm log file.. so that
means the connection itself is not coming through...

=======================jsm log file=======================
Wed Aug  7 01:15:26 2002  mio.c:578 MIO is starting up
Wed Aug  7 01:15:26 2002  mio.c:607 mio while loop top
Wed Aug  7 01:15:26 2002  base_accept.c:387 base_accept loading...

Wed Aug  7 01:15:26 2002  base_connect.c:268 base_connect loading...

Wed Aug  7 01:15:26 2002  base_exec.c:374 base_exec loading...

Wed Aug  7 01:15:26 2002  base_file.c:117 base_file loading...
Wed Aug  7 01:15:26 2002  base_format.c:138 base_format loading...
Wed Aug  7 01:15:26 2002  base_to.c:99 base_to loading...
Wed Aug  7 01:15:26 2002  base_stderr.c:85 base_stderr loading...
Wed Aug  7 01:15:26 2002  base_stdout.c:242 base_stdout loading...

Wed Aug  7 01:15:26 2002  base_dynamic.c:197 base_dynamic loading...
Wed Aug  7 01:15:26 2002  load.c:241 dynamic component loader 
initializing...

Wed Aug  7 01:15:26 2002  base_connect.c:231 base_accept_config validating 
configuration

Wed Aug  7 01:15:26 2002  load.c:213 dynamic loader processing configuration 
&lt;load main='jsm'&gt;
      &lt;jsm&gt;./jsm/jsm.so&lt;/jsm&gt;
      &lt;mod_echo&gt;./jsm/jsm.so&lt;/mod_echo&gt;
      &lt;mod_roster&gt;./jsm/jsm.so&lt;/mod_roster&gt;
      &lt;mod_time&gt;./jsm/jsm.so&lt;/mod_time&gt;
      &lt;mod_vcard&gt;./jsm/jsm.so&lt;/mod_vcard&gt;
      &lt;mod_last&gt;./jsm/jsm.so&lt;/mod_last&gt;
      &lt;mod_version&gt;./jsm/jsm.so&lt;/mod_version&gt;
...... etc etc
/* everything seems to be ok so far... but i see this at the end of the log 
file */

Wed Aug  7 01:15:28 2002  mio.c:527 calling the connect handler for mio 
object 818F478
Wed Aug  7 01:15:28 2002  base_connect.c:129 process XML: m:818F478 state:4, 
arg:80CC4E8, x:804F6
BB
Wed Aug  7 01:15:28 2002  base_connect.c:202 Base Connect Failed to connect 
to 127.0.0.1:7000 Ret
ry [-1] in 2 seconds...
Wed Aug  7 01:15:28 2002  mtq 80CC6E0 entering from pth
Wed Aug  7 01:15:28 2002  mtq 80CC6E0 one call 80CC4E8
Wed Aug  7 01:15:30 2002  mtq 80CC6E0 leaving to pth

==================================jsm xdb log file=================

    &lt;querydef name='auth-disable'&gt;
      &lt;text&gt;DELETE FROM users WHERE username = &amp;apos;$$user$$&amp;apos;&lt;/text&gt;
      &lt;bindvar name='user'&gt;$$user$$&lt;/bindvar&gt;
    &lt;/querydef&gt;
Fri May 10 01:21:20 2002  deliver.c:474 DELIVER 3:-internal &lt;log 
type='notice' f
rom='-internal'&gt;initializing server&lt;/log&gt;
Fri May 10 01:21:20 2002  deliver.c:678 delivering to instance 'xdblink'
Fri May 10 01:21:20 2002  jabberd.c:255 main load check of 1.00 with 3 total 
thr
eads
Fri May 10 01:21:20 2002  mio.c:620 mio while loop, working
Fri May 10 01:21:20 2002  mio.c:678 socket 7 has been intialized with 
starting k
arma 5
Fri May 10 01:21:20 2002  mio.c:607 mio while loop top
Fri May 10 01:21:31 2002  deliver.c:606 delivery failed (Internal Timeout)
WARNING!  Logging Failed: &lt;log type='notice' from='-internal'&gt;initializing 
serve
r&lt;/log&gt;


Thanks

Anand
Wed Aug  7 01:15:30 2002  mio.c:527 calling the connect handler for mio 
object 818F280



_________________________________________________________________
MSN Photos is the easiest way to share and print your photos: 
<A HREF="http://photos.msn.com/support/worldwide.aspx">http://photos.msn.com/support/worldwide.aspx</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043086.html">[JDEV] Help with Jabber-1.4.2 and MySQL backend
</A></li>
	<LI>Next message: <A HREF="043089.html">[JDEV] Integrating Jabber into our existing instant messaging architecture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43087">[ date ]</a>
              <a href="thread.html#43087">[ thread ]</a>
              <a href="subject.html#43087">[ subject ]</a>
              <a href="author.html#43087">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

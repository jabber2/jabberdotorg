<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] conference presence issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20conference%20presence%20issue&In-Reply-To=%3C3D4B345C.9080402%40calvin.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072312.html">
   <LINK REL="Next"  HREF="072314.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] conference presence issue</H1>
    <B>Wes Morgan</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20conference%20presence%20issue&In-Reply-To=%3C3D4B345C.9080402%40calvin.edu%3E"
       TITLE="[JDEV] conference presence issue">wmorga13 at calvin.edu
       </A><BR>
    <I>Fri Aug  2 20:39:40 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="072312.html">Dynamic DNS Updates (was Re: [JDEV] Custom messages/extensions)
</A></li>
        <LI>Next message: <A HREF="072314.html">[JDEV] conference presence issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72311">[ date ]</a>
              <a href="thread.html#72311">[ thread ]</a>
              <a href="subject.html#72311">[ subject ]</a>
              <a href="author.html#72311">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am running conference-v2 with jabberd 1.4.2 and I am experiencing 
strange issues with presence. When I join a room, I send the following:

&lt;presence to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">1 at classrooms.chat1.advancedacademics.com</A>/S-Wes Morgan&quot; 
from=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">9307 at chat1.advancedacademics.com</A>/InterAActClient&quot; id=&quot;#&quot;&gt;&lt;/presence&gt;

(where # is decided by JabberBeans)

If I send that to a couple different rooms, I can chat in them and 
everything works fine. But then, when I want to leave one of the rooms, 
I send this:

&lt;presence to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">1 at classrooms.chat1.advancedacademics.com</A>/S-Wes Morgan&quot; 
from=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">9307 at chat1.advancedacademics.com</A>/InterAActClient&quot; id=&quot;#&quot; 
type=&quot;unavailable&quot;&gt;&lt;/presence&gt;

I then leave that room (as I should), but shortly thereafter, jabberd 
fires off presence type='unavailable' packets to any and all other rooms 
I'm in. I can't figure out why in the world it would be doing this. 
Another strange issue I'm having is that it ignores my custom join/leave 
notices that I've specified for the classrooms service in jabber.xml, 
which also baffles me. I can post all or part of my jabber.xml file upon 
request. Thanks in advance for any help you may offer.

Wes Morgan


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072312.html">Dynamic DNS Updates (was Re: [JDEV] Custom messages/extensions)
</A></li>
	<LI>Next message: <A HREF="072314.html">[JDEV] conference presence issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72311">[ date ]</a>
              <a href="thread.html#72311">[ thread ]</a>
              <a href="subject.html#72311">[ subject ]</a>
              <a href="author.html#72311">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

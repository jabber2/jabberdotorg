<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Jabberd 1.4.2 redirect and alias
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabberd%201.4.2%20redirect%20and%20alias&In-Reply-To=%3C20020830112424.77803.qmail%40web21502.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072651.html">
   <LINK REL="Next"  HREF="072654.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Jabberd 1.4.2 redirect and alias</H1>
    <B>JJ Coder</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabberd%201.4.2%20redirect%20and%20alias&In-Reply-To=%3C20020830112424.77803.qmail%40web21502.mail.yahoo.com%3E"
       TITLE="[JDEV] Jabberd 1.4.2 redirect and alias">jjcoder4 at yahoo.com
       </A><BR>
    <I>Fri Aug 30 06:24:24 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="072651.html">[JDEV] problem with adding methods of jabbercom
</A></li>
        <LI>Next message: <A HREF="072654.html">[JDEV] Jabberd 1.4.2 redirect and alias
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72652">[ date ]</a>
              <a href="thread.html#72652">[ thread ]</a>
              <a href="subject.html#72652">[ subject ]</a>
              <a href="author.html#72652">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm running jabberd 1.4.2 on my machine with the host
parameter in the jabberd.xml set to 'localhost'.
Everything is fine and dandy provided that I initiate
the stream with 'to=&quot;localhost&quot;'. However, if I
attempt to connect with 'to=&quot;127.0.0.1&quot;' then I can
successfully open the stream and the server just echos
back 'from=&quot;127.0.0.1&quot;'. I then try to authenticate
and then I get a rude disconnect due to a stream:error
without a real description of the problem. 

So I went into my jabberd.xml and added 
&lt;alias to=&quot;localhost&quot;&gt;127.0.0.1&lt;/alias&gt;
and that fixed the problem.

Here's the problem: jabberd (without the alias mod) is
supposed to complain if the 'to' field sent by the
client in the stream:stream element does not match
what its has been given for the 'host' element in the
jabberd.xml. However, if you address the server using
its IP instead of its DNS name, currently the server
doesn't correct the client by using the 'from'
attribute in stream:stream, and so the client has no
idea that something has gone wrong until it gets the
abrupt disconnect.

JJ 


__________________________________________________
Do You Yahoo!?
Yahoo! Finance - Get real-time stock quotes
<A HREF="http://finance.yahoo.com">http://finance.yahoo.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072651.html">[JDEV] problem with adding methods of jabbercom
</A></li>
	<LI>Next message: <A HREF="072654.html">[JDEV] Jabberd 1.4.2 redirect and alias
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72652">[ date ]</a>
              <a href="thread.html#72652">[ thread ]</a>
              <a href="subject.html#72652">[ subject ]</a>
              <a href="author.html#72652">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

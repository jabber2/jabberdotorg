<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] parsing xml (xmpp) with ruby
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20parsing%20xml%20%28xmpp%29%20with%20ruby&In-Reply-To=%3C1ce38ef40810030448r4d1c8838g2e7121393ce9f79b%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="086953.html">
   <LINK REL="Next"  HREF="086960.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] parsing xml (xmpp) with ruby</H1>
    <B>Eric Will</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20parsing%20xml%20%28xmpp%29%20with%20ruby&In-Reply-To=%3C1ce38ef40810030448r4d1c8838g2e7121393ce9f79b%40mail.gmail.com%3E"
       TITLE="[jdev] parsing xml (xmpp) with ruby">rakaur at malkier.net
       </A><BR>
    <I>Fri Oct  3 06:48:54 CDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="086953.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
        <LI>Next message: <A HREF="086960.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86959">[ date ]</a>
              <a href="thread.html#86959">[ thread ]</a>
              <a href="subject.html#86959">[ subject ]</a>
              <a href="author.html#86959">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Oct 2, 2008 at 5:41 PM, Stephan Maka &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">stephan at spaceboyz.net</A>&gt; wrote:
&gt;<i> Oh, I didn't know that. I now realize that you are using no threads.
</I>&gt;<i> Obviously REXML's sax2parser is an endless loop which only breaks on EOF
</I>&gt;<i> and loses all state then.
</I>&gt;<i>
</I>&gt;<i> There are three solutions:
</I>&gt;<i> * Either use threads like in XMPP4R
</I>&gt;<i> * Or use libxml-ruby's sax2parser with my patch
</I>&gt;<i> * Make your own - interruptable - version of sax2parser, using REXML's
</I>&gt;<i>  BaseParser
</I>
I don't really know anything about threads. I come from programming
single-threaded C applications that do a lot of socket input/output,
so I'm more the &quot;using asynchronous socket techniques&quot; kind of person.

&gt;<i> I'm sorry I confused you, you should have pointed at the code earlier.
</I>&gt;<i>
</I>&gt;<i> BTW, I like the code, it looks clean. If you decide to take the
</I>&gt;<i> threading path, please consider contributing to XMPP4R. S2S is useful
</I>&gt;<i> for more than just standard user servers.
</I>
Thanks. I still have a lot of plans to clean it up further. I'm pretty
anal with my code. I started this two years ago, and then stopped for
two years, and when I came back to it I had no idea what it did
anymore, but it only took me a day or so to get it all back in my
brain.

Sorry about sounding snippy in that mail, I was pretty frustrated.
Still am, but I've decided to work on other things until I get a solid
solution for the current issue.

Like I said, I don't really know anything about threading. From what I
understand, doing a blocking read() call in a Ruby thread is going to
block the entire program anyway, because Ruby doesn't do &quot;real&quot;
threads. The only threading I do in xmppd is with the timers, and
those are really simple. I'm guessing it would take a lot of work to
thread it.

As for contributing, my code is totally open and free. I don't care
who uses it in what. I guess technically it's under BSD license. I
haven't done any of the s2s stuff yet. My plan is to get all the c2s
stuff working well, release that as the alpha, and then add the s2s
stuff for the beta.

By the way, my JID is the same as my email.

&gt;<i> Stephan
</I>
-- Eric Will // rakaur

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="086953.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
	<LI>Next message: <A HREF="086960.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86959">[ date ]</a>
              <a href="thread.html#86959">[ thread ]</a>
              <a href="subject.html#86959">[ subject ]</a>
              <a href="author.html#86959">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

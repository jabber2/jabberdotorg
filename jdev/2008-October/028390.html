<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] parsing xml (xmpp) with ruby
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20parsing%20xml%20%28xmpp%29%20with%20ruby&In-Reply-To=A790BE8D83ECC3469047C2E344EABE61D20B755310%40zamail01.k2workflow.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028388.html">
   <LINK REL="Next"  HREF="028391.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] parsing xml (xmpp) with ruby</H1>
    <B>Eric Will</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20parsing%20xml%20%28xmpp%29%20with%20ruby&In-Reply-To=A790BE8D83ECC3469047C2E344EABE61D20B755310%40zamail01.k2workflow.com"
       TITLE="[jdev] parsing xml (xmpp) with ruby">rakaur at malkier.net
       </A><BR>
    <I>Fri Oct  3 08:28:03 CDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028388.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
        <LI>Next message: <A HREF="028391.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28390">[ date ]</a>
              <a href="thread.html#28390">[ thread ]</a>
              <a href="subject.html#28390">[ subject ]</a>
              <a href="author.html#28390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Oct 3, 2008 at 8:29 AM, Jonathan Dickinson
&lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jonathan.dickinson at k2.com</A>&gt; wrote:
&gt;&gt;<i> ... Only resort to
</I>&gt;&gt;<i> threads when you *really* have a problem that can only be solved with
</I>&gt;&gt;<i> adding threads.
</I>&gt;<i>
</I>&gt;<i> Amen.
</I>&gt;<i>
</I>&gt;&gt;<i> Otherwise, stay away from it if you want to maintain
</I>&gt;&gt;<i> your sanity.
</I>&gt;<i>
</I>&gt;<i> Amen, again.
</I>&gt;<i>
</I>&gt;&gt;<i> I doubt that the poster's software project is already in
</I>&gt;&gt;<i> that stage where he needs threads to solve his problems.
</I>&gt;<i>
</I>&gt;<i> I beg to differ. It's a daemon, it will be a nightmare to refactor into threads if he takes it any further. It is a choice he has to make, but it won't scale horizontally unless more machines/process instances are added.
</I>
So what's the concenus here? I don't really care for threads, never
have. The daemon seems to run fine on my dual core machine and my quad
core machine; I see activity on all of the cores via a system monitor.
SMP has come a long way as well, and may be just as clever without
threads (mere speculation here).

I already had the realization that this project wasn't going to scale
fantastically as soon as I chose Ruby for the language. It's not
something that I expect to be deployed widely, but more of a &quot;hey cool
I want to run a jabber server&quot; kind of thing. I wrote it for me
mostly, with a userbase of less than a few hundred. It'd be cool to
see it running somewhere, but mostly it's for me, to &quot;scratch the
itch&quot; as it were. All of my programs were written &quot;for me&quot; but I
always release my code because someone might find it useful.

That doesn't mean I don't take measures to help performance. Each
connected user only incurs about 5-10 objects. An XMPP::Stream, an
XMPP::Resource, and a handful of REXML element objects (stored stanzas
for things like presence). The performance will also increase
dramatically with Ruby 1.9 as 1.9 moved from interpreted to bytecode,
so the performance gain is a few orders of magnitude. I'm fairly sure
it'll be out before my code is done (Christmas ish).

I tend to agree that if I can stay away from threads I should. I like
to be able to follow my code flow.

Thanks for all the feedback.

-- Eric Will // xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rakaur at malkier.net</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028388.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
	<LI>Next message: <A HREF="028391.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28390">[ date ]</a>
              <a href="thread.html#28390">[ thread ]</a>
              <a href="subject.html#28390">[ subject ]</a>
              <a href="author.html#28390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

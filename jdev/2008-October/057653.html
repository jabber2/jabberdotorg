<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] parsing xml (xmpp) with ruby
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20parsing%20xml%20%28xmpp%29%20with%20ruby&In-Reply-To=%3C133fd4c60810011200k37a0a5f7gdf8a4e58e8bcd75d%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057652.html">
   <LINK REL="Next"  HREF="057654.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] parsing xml (xmpp) with ruby</H1>
    <B>Remko Tron&#231;on</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20parsing%20xml%20%28xmpp%29%20with%20ruby&In-Reply-To=%3C133fd4c60810011200k37a0a5f7gdf8a4e58e8bcd75d%40mail.gmail.com%3E"
       TITLE="[jdev] parsing xml (xmpp) with ruby">remko at el-tramo.be
       </A><BR>
    <I>Wed Oct  1 14:00:16 CDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="057652.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
        <LI>Next message: <A HREF="057654.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57653">[ date ]</a>
              <a href="thread.html#57653">[ thread ]</a>
              <a href="subject.html#57653">[ subject ]</a>
              <a href="author.html#57653">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> If someone is manually sending XML, and never sends an end tag, it will
</I>&gt;<i> keep on adding to the buffer forever. What should I do about this? Set
</I>&gt;<i> a limit on the buffer? If I limit my read()s to 8192 bytes, should I
</I>
That's a server limit you have to pick. I don't really see what that
limit would have to do with the read() buffer size, it's completely
independent.

&gt;<i> The problem of receiving a half-stanza that's not well formed is still
</I>&gt;<i> here.
</I>
To me, this means that you haven't solved the problem correctly, and
that you're still using the wrong type of parser that expects your
document to be complete. A real incremental parser never throws an
exception on an incomplete piece of XML of any kind. I'm also doubting
that you have the right test set to assume that your parser works.

&gt;<i> the exception and save the bad xml to the buffer and hope the next
</I>&gt;<i> read() fixes it. This is also a DoS problem, if that stanza never gets
</I>&gt;<i> fixed it'll keep raising the exception which will keep adding onto the
</I>&gt;<i> buffer, which will keep raising the exception...
</I>
Again, that's a server limit you have to pick.

cheers,
Remko

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057652.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
	<LI>Next message: <A HREF="057654.html">[jdev] parsing xml (xmpp) with ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57653">[ date ]</a>
              <a href="thread.html#57653">[ thread ]</a>
              <a href="subject.html#57653">[ subject ]</a>
              <a href="author.html#57653">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

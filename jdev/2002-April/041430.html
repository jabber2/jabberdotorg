<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Annotating user's presence with extra information
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Annotating%20user%27s%20presence%20with%20extra%20information&In-Reply-To=%3C001301c1e270%2441bffc00%246800a8c0%40darius%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041693.html">
   <LINK REL="Next"  HREF="041431.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Annotating user's presence with extra information</H1>
    <B>Jean-Louis Seguineau /EXC/TEC</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Annotating%20user%27s%20presence%20with%20extra%20information&In-Reply-To=%3C001301c1e270%2441bffc00%246800a8c0%40darius%3E"
       TITLE="[JDEV] Annotating user's presence with extra information">jean-louis.seguineau at antepo.com
       </A><BR>
    <I>Fri Apr 12 17:17:10 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="041693.html">[JDEV] Any JAVA CHAT CLIENT for JABBER exists ??
</A></li>
        <LI>Next message: <A HREF="041431.html">[JDEV] Modification to running jabberd on Mac OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41430">[ date ]</a>
              <a href="thread.html#41430">[ thread ]</a>
              <a href="subject.html#41430">[ subject ]</a>
              <a href="author.html#41430">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

IMHO, the Jabber protocole already provides all necessary extension
mechanism through the &lt;x/&gt; tags that perfectly allow to transport location
based information. This way you don't have to rely on any specific server to
transport your extension, you just need to add some external transport
component that will generate the appropriate messages. A simple registration
process like the one which is available for any transport will allow a user
to register to the location service. Simply sending a presence available to
the transport will start the location to be braodcaste, and a presence
unavailable to the transport will disable the braodcast.
Indeed extending the presence tag is certainly the best place to place the
extension tag, and the client should be able to handle this extension.

We do provide this kind of location service extension to jabber servers for
wireless carriers. We are using the method described above with the
following extension tag:

&lt;presence to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">whoever at server</A>&quot; &gt;
    &lt;x xmlns=&quot;xmpp:x:location&quot;&gt;
        &lt;item from=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">someplace at someservice</A>&quot;&gt;
            &lt;location&gt;nameoftheplace&lt;/location&gt;
            &lt;latitude&gt;latvalue&lt;/latitude&gt;
            &lt;longitude&gt;longvalue&lt;/logitude&gt;
            &lt;uncertainty&gt;uncvalue&lt;/uncertainty&gt;
        &lt;/item&gt;
    &lt;/x&gt;
&lt;/presence&gt;

____________________________
Jean-Louis Seguineau
Chief Technology Officer
Antepo, Inc.

ACCEPT, by Antepo
Advanced Converging Communication and Enhanced Presence for the Telecom

&gt;<i>
</I>Date: Fri, 12 Apr 2002 16:29:23 +0200
&gt;<i> From: Arjan Peddemors &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">Arjan.Peddemors at telin.nl</A>&gt;
</I>&gt;<i> Organization: Telematica Instituut
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> Subject: Re: [JDEV] Annotating user's presence with extra information
</I>&gt;<i> Reply-To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> We have been working on a context-aware mobile application
</I>&gt;<i> framework that handles location as well as presence information.
</I>&gt;<i> We use an extended version of the jabber server that can deal
</I>&gt;<i> with location data. The extended server handles the &lt;location&gt;
</I>&gt;<i> element at the same level as the common data types &lt;message&gt;,
</I>&gt;<i> &lt;presence&gt;, and &lt;iq&gt;; i.e. &lt;location&gt; is defined as a common data
</I>&gt;<i> type itself and is not part of &lt;presence&gt;. The &lt;location&gt; element
</I>&gt;<i> currently has a single child element, &lt;position&gt;, that indicates
</I>&gt;<i> the location of the user.
</I>&gt;<i>
</I>&gt;<i> The framework is used to update indoor location information.
</I>&gt;<i> It uses an infrastructure of Bluetooth access points. The
</I>&gt;<i> target mobile device is, at this moment, the Compaq iPAQ
</I>&gt;<i> PocketPC equipped with a Bluetooth card. The instant
</I>&gt;<i> messaging application running on the iPAQ detects in which
</I>&gt;<i> Bluetooth cell it resides and sends the location information
</I>&gt;<i> provided by the Bluetooth access point to the extended Jabber
</I>&gt;<i> server. The &lt;location&gt; elements has its own subscription
</I>&gt;<i> mechanism, which is the same as for &lt;presence&gt;. This means
</I>&gt;<i> that a user can subscribe to both the presence AND the location
</I>&gt;<i> information of another user, as seperate items.
</I>&gt;<i>
</I>&gt;<i> Currently, the framework is in the experimental phase. We use
</I>&gt;<i> it for our research on context-aware mobile applications and
</I>&gt;<i> pervasive computing. We plan to provide more details on this
</I>&gt;<i> project, as well as the source code for the extended server
</I>&gt;<i> and the mobile client application, within the coming few
</I>&gt;<i> months. I'll keep you posted.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Arjan Peddemors
</I>&gt;<i> Telematica Instituut
</I>&gt;<i> <A HREF="http://www.telin.nl/">http://www.telin.nl/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -------- Original Message --------
</I>&gt;<i> Subject: [JDEV] Annotating user's presence with extra information
</I>&gt;<i> Date: Wed, 10 Apr 2002 12:17:09 -0400
</I>&gt;<i> From: Henry Minsky &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hqm at ai.mit.edu</A>&gt;
</I>&gt;<i> Reply-To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I am working on a project where we have a server that is tracking users'
</I>&gt;<i> locations
</I>&gt;<i> via various technologies, and recording them in a realtime database.
</I>&gt;<i>
</I>&gt;<i> I would like to be able to annotate each jabber user on the server with
</I>&gt;<i> some information about their physical location. This information would
</I>most
&gt;<i> likely be
</I>&gt;<i> retrieved in the presence information for each user, although might there
</I>&gt;<i> be some better place to put it, such as a new separate iq query?
</I>&gt;<i>
</I>&gt;<i> Note that the clients themselves do not necessarily know their own
</I>&gt;<i> locations,
</I>&gt;<i> that information is derived on the server, so I need my &quot;location server&quot;
</I>to
&gt;<i> somehow inject the location information for each user into the jabber
</I>&gt;<i> server, where it can be accessed by custom clients, or perhaps also
</I>stuffed
&gt;<i> into the english-readable status strings, for backward compatibility with
</I>&gt;<i> existing
</I>&gt;<i> clients.
</I>&gt;<i>
</I>&gt;<i> Anyone else working on something like this?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>      Henry Minsky
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041693.html">[JDEV] Any JAVA CHAT CLIENT for JABBER exists ??
</A></li>
	<LI>Next message: <A HREF="041431.html">[JDEV] Modification to running jabberd on Mac OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41430">[ date ]</a>
              <a href="thread.html#41430">[ thread ]</a>
              <a href="subject.html#41430">[ subject ]</a>
              <a href="author.html#41430">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

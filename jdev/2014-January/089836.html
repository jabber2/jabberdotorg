<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Spoofing of iq ids and misbehaving servers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Spoofing%20of%20iq%20ids%20and%20misbehaving%20servers&In-Reply-To=%3CCAPZ8mV4OqSa5KrkdO7oN_LgcaeFOuj%3DLK_bKq7reHYO3fq0mXg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089832.html">
   <LINK REL="Next"  HREF="089837.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Spoofing of iq ids and misbehaving servers</H1>
    <B>Mark Doliner</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Spoofing%20of%20iq%20ids%20and%20misbehaving%20servers&In-Reply-To=%3CCAPZ8mV4OqSa5KrkdO7oN_LgcaeFOuj%3DLK_bKq7reHYO3fq0mXg%40mail.gmail.com%3E"
       TITLE="[jdev] Spoofing of iq ids and misbehaving servers">mark at kingant.net
       </A><BR>
    <I>Fri Jan 31 17:01:23 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="089832.html">[jdev] Spoofing of iq ids and misbehaving servers
</A></li>
        <LI>Next message: <A HREF="089837.html">[jdev] Spoofing of iq ids and misbehaving servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89836">[ date ]</a>
              <a href="thread.html#89836">[ thread ]</a>
              <a href="subject.html#89836">[ subject ]</a>
              <a href="author.html#89836">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jan 31, 2014 at 2:51 AM, Alexander Holler &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">holler at ahsoftware.de</A>&gt; wrote:
&gt;<i> In general the reply should always have 'to' and 'from' exchanged. I think
</I>&gt;<i> any server which doesn't do so, does something wrong.
</I>
Hmm, are you talking about the 'jabber:client' namespace? If so I
think this statement isn't correct. I think there are times when 'to'
and 'from' are allowed to be empty. Examples:
- &quot;A stanza sent from a client to a server for direct processing by
the server ... MUST NOT possess a 'to' attribute.&quot;
- &quot;When the server generates a stanza from the server for delivery to
the client on behalf of the account of the connected client ..., the
stanza MUST either (a) not include a 'from' attribute or (b) include a
....&quot;

&gt;<i> Where the confusion starts is what servers do use as 'to' for an incoming
</I>&gt;<i> stanza which contains no 'to'. As already said, I and some other servers do
</I>&gt;<i> use the servers JID (usually the domain where the client connected to) as
</I>&gt;<i> 'to', based on the fact that rfc 3920 wasn't clear about that.
</I>
Are we talking about the 'jabber:client' namespace? I think the
important thing is that iq stanzas in the client namespace which do
not contain 'to' must be handled by the server. This is clear in both
RFC 3920 and RFC 6120. It seems like an implementation detail as to
whether the server needs to assume a particular value for 'to' in this
case.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089832.html">[jdev] Spoofing of iq ids and misbehaving servers
</A></li>
	<LI>Next message: <A HREF="089837.html">[jdev] Spoofing of iq ids and misbehaving servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89836">[ date ]</a>
              <a href="thread.html#89836">[ thread ]</a>
              <a href="subject.html#89836">[ subject ]</a>
              <a href="author.html#89836">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

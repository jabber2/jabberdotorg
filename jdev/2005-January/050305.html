<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: [jadmin] Re: One million concurrent user
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20%5Bjadmin%5D%20Re%3A%20One%20million%20concurrent%20user&In-Reply-To=%3C002101c5077b%244f50e2c0%246600a8c0%40eteach.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050300.html">
   <LINK REL="Next"  HREF="050306.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: [jadmin] Re: One million concurrent user</H1>
    <B>Richard Dobson</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20%5Bjadmin%5D%20Re%3A%20One%20million%20concurrent%20user&In-Reply-To=%3C002101c5077b%244f50e2c0%246600a8c0%40eteach.com%3E"
       TITLE="[jdev] Re: [jadmin] Re: One million concurrent user">richard at dobson-i.net
       </A><BR>
    <I>Mon Jan 31 03:57:43 CST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="050300.html">[jdev] Re: [jadmin] Re: One million concurrent user
</A></li>
        <LI>Next message: <A HREF="050306.html">[jdev] Re: [jadmin] Re: One million concurrent user
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50305">[ date ]</a>
              <a href="thread.html#50305">[ thread ]</a>
              <a href="subject.html#50305">[ subject ]</a>
              <a href="author.html#50305">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> Yup although for a truely scalable solution you wouldnt want to rely on a 
</I>&gt;&gt;<i> single sql server, you would want the servers to replicate the routing 
</I>&gt;&gt;<i> data themselves and store that data in memory for maximum speed and to 
</I>&gt;&gt;<i> help keep the load of your sql servers.
</I>&gt;<i>
</I>&gt;<i> So you are saying have a server that routes individual IM connections to 
</I>&gt;<i> other jabber servers and store the route info in the sql db. Then, how to 
</I>&gt;<i> make the sql servers redundant? I don't have tons of experience in this 
</I>&gt;<i> area, but am willing to work towards it and/or provide code to solve 
</I>&gt;<i> scalability issues if we can lead towards some needed improvements.
</I>
Nope thats not what I meant, what I meant is that you wouldnt want data such 
as routes stored into an sql db (otherwise it will load it far too much, and 
makes it a massive single point of failure), the jabber servers themselves 
need to store and replicate this data themselves, all you should need the db 
for is storing stuff like authentication/account details, offline messages, 
roster etc.

&gt;<i> That is one of the options I am considering is to have a main jabber login 
</I>&gt;<i> server that then keeps track of the load of the other jabber servers and 
</I>&gt;<i> then routes connections to the other jabber servers and records which 
</I>&gt;<i> current jabber server a user is on in mysql.
</I>&gt;<i>
</I>&gt;<i> Thus, could have jabber01.blah.com, jabber02.blah.com and just record that 
</I>&gt;<i> in the mysql db as the current server route...but wait, that would mess up 
</I>&gt;<i> the rosters...ugh...still thinking about solutions.
</I>
Yea that would be a bit of a mess and rather unprofessional looking, 
ejabberd sounds like it might be a possibility as that is the only 
opensource server ive heard of so far that has really thought about real 
server clustering, jabberd2 really will not work for you as it needs to be 
able to cluster is jsm module to really be able to handle the kind of load 
you want it to, last I heard the tested limit for a jabberd2 server was 
between 10,000 to 20,000 connections (not sure if its been fixed yet but 
there were also run away memory leaks past a certain number of users), which 
is hardly your required figure of a million.

&gt;<i> As I said before, this company I'm doing this work for is in support of me 
</I>&gt;<i> adding code to open source solutions to contribute back to the community, 
</I>&gt;<i> so I hope that that can be the best solution.
</I>
If you want to work on it then do, but ive got a feeling it will be a lot of 
work for you, and if you do have tight deadlines on getting this operational 
then I do think a commercial solution from people who have experience with 
the sort of system you want to build will be your only real option, but if 
you have quite a few months then yea you might be ok with developing an 
opensource solution.

Richard 



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050300.html">[jdev] Re: [jadmin] Re: One million concurrent user
</A></li>
	<LI>Next message: <A HREF="050306.html">[jdev] Re: [jadmin] Re: One million concurrent user
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50305">[ date ]</a>
              <a href="thread.html#50305">[ thread ]</a>
              <a href="subject.html#50305">[ subject ]</a>
              <a href="author.html#50305">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

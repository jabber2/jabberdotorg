<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Zerok Authentication
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Zerok%20Authentication&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010429.html">
   <LINK REL="Next"  HREF="010423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Zerok Authentication</H1>
    <B>Antoine Maitre</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Zerok%20Authentication&In-Reply-To="
       TITLE="[JDEV] Zerok Authentication">antoine_maitre at yahoo.com
       </A><BR>
    <I>Tue Dec 18 04:44:11 CST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="010429.html">[JDEV] ICQv7-t
</A></li>
        <LI>Next message: <A HREF="010423.html">[JDEV] AIM-T Buddy List Import
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10421">[ date ]</a>
              <a href="thread.html#10421">[ thread ]</a>
              <a href="subject.html#10421">[ subject ]</a>
              <a href="author.html#10421">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to implement zerok authentication for my client.  I use the method described in the document (<A HREF="http://docs.jabber.org/draft-proto/html/zerok.html">http://docs.jabber.org/draft-proto/html/zerok.html</A>) but it doesn't work. I checked the the XML files in the spool folder on the Jabber server and the hash provided there doesn't match. Can anyone tell me what I'm doing wrong.

Here are the streams:

SENT ------------------
&lt;stream:stream to='SERVER_NAME' xmlns='jabber:client' xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>&gt;

RECEIVED -------------------
&lt;?xml version='1.0'?&gt;
&lt;stream:stream xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> id='3C1F24FC' xmlns='jabber:client' from='SERVER_NAME'&gt;

SENT ------------------
&lt;iq id='100001' type='get'&gt;
&lt;query xmlns='jabber:iq:auth'&gt;
&lt;username&gt;USER_NAME&lt;/username&gt;
&lt;/query&gt;
&lt;/iq&gt;

RECEIVED -------------------
&lt;iq id='100001' type='result'&gt;
&lt;query xmlns='jabber:iq:auth'&gt;
&lt;username&gt;USER_NAME&lt;/username&gt;
&lt;digest/&gt;
&lt;sequence&gt;499&lt;/sequence&gt;
&lt;token&gt;3C1F1A61&lt;/token&gt;
&lt;resource/&gt;
&lt;/query&gt;
&lt;/iq&gt;

SENT ------------------
&lt;iq id='100002' type='set'&gt;
&lt;query xmlns='jabber:iq:auth'&gt;
&lt;username&gt;USER_NAME&lt;/username&gt;
&lt;hash&gt;HASH_CODE&lt;/hash&gt;
&lt;resource&gt;Work&lt;/resource&gt;
&lt;/query&gt;
&lt;/iq&gt;

RECEIVED -------------------
&lt;iq id='100002' type='error'&gt;
&lt;query xmlns='jabber:iq:auth'&gt;
&lt;username&gt;USER_NAME&lt;/username&gt;
&lt;hash&gt;HASH_CODE&lt;/hash&gt;
&lt;resource&gt;Work&lt;/resource&gt;
&lt;/query&gt;
&lt;error code='401'&gt;Unauthorized&lt;/error&gt;
&lt;/iq&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mail.jabber.org/pipermail/jdev/attachments/20011218/c68c59b8/attachment.htm">http://mail.jabber.org/pipermail/jdev/attachments/20011218/c68c59b8/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010429.html">[JDEV] ICQv7-t
</A></li>
	<LI>Next message: <A HREF="010423.html">[JDEV] AIM-T Buddy List Import
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10421">[ date ]</a>
              <a href="thread.html#10421">[ thread ]</a>
              <a href="subject.html#10421">[ subject ]</a>
              <a href="author.html#10421">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

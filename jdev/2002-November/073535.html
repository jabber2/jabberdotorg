<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Problems with auto reply
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Problems%20with%20auto%20reply&In-Reply-To=%3C3DDEB070.6000201%40tthias.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073556.html">
   <LINK REL="Next"  HREF="073537.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Problems with auto reply</H1>
    <B>Matthias Wimmer</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Problems%20with%20auto%20reply&In-Reply-To=%3C3DDEB070.6000201%40tthias.net%3E"
       TITLE="[JDEV] Problems with auto reply">m at tthias.net
       </A><BR>
    <I>Fri Nov 22 16:32:16 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="073556.html">[JDEV] Building jabberd2.a2 on freebsd
</A></li>
        <LI>Next message: <A HREF="073537.html">[JDEV] Problems with auto reply
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73535">[ date ]</a>
              <a href="thread.html#73535">[ thread ]</a>
              <a href="subject.html#73535">[ subject ]</a>
              <a href="author.html#73535">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

I notice one problem on my Jabber server frequent: Loops of auto replies 
- two JIDs sending auto replies to each other that are triggered by the 
others auto replies.

Two examples:
- Two users have a client that sends auto replies when they are away and 
both users have set their status to &quot;away&quot;
(not that problematic as the user sending the first message can notice 
this and change his status to online to interrupt the loop)
- but the more problematic case I had now: I sent a server announcement 
to all my online users - one user sent auto replies that got to the 
server JID ... the server forwarded the message to me and confirmed to 
the sender that the message has been forwarded to the admin ... the 
sender got the confirmation and replied with an auto reply ... (go back 
3 steps and continue from there)
It was hard for me to interrupt this loop as I can't stop the JSM to 
send the auto replies without restarting it.

My suggestion to this problem:
- Send auto replies only with type='headline'
- Don't auto reply to messages with type='headline'
(The alternative would be to add a new attribute or element that marks a 
message as an auto reply.)

The problem: It would need to be implemented by all entities that 
support auto replies (clients, jsm, mod_forward, icqv7-transport, ...)

What do you think about it?


Tot kijk
    Matthias

-- 
Fon: +49-(0)70 0770 07770	<A HREF="http://matthias-wimmer.de/">http://matthias-wimmer.de/</A>
Fax: +49-(0)89-312 88 654	<A HREF="jabber://mawis@charente.de">jabber://mawis@charente.de</A>
HAM: DB1MW



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073556.html">[JDEV] Building jabberd2.a2 on freebsd
</A></li>
	<LI>Next message: <A HREF="073537.html">[JDEV] Problems with auto reply
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73535">[ date ]</a>
              <a href="thread.html#73535">[ thread ]</a>
              <a href="subject.html#73535">[ subject ]</a>
              <a href="author.html#73535">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

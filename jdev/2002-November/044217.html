<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] using roommaker
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20using%20roommaker&In-Reply-To=%3C033501c29013%24c8d8b960%240b01a8c0%40mars%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044210.html">
   <LINK REL="Next"  HREF="044216.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] using roommaker</H1>
    <B>Rob Davis :: Solaris Media</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20using%20roommaker&In-Reply-To=%3C033501c29013%24c8d8b960%240b01a8c0%40mars%3E"
       TITLE="[JDEV] using roommaker">rob at solarismedia.co.uk
       </A><BR>
    <I>Tue Nov 19 15:36:54 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="044210.html">[JDEV] using roommaker
</A></li>
        <LI>Next message: <A HREF="044216.html">[JDEV] lost jabberbeans
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44217">[ date ]</a>
              <a href="thread.html#44217">[ thread ]</a>
              <a href="subject.html#44217">[ subject ]</a>
              <a href="author.html#44217">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks David,

I'm pleased the minor Perl changes were useful - you must be running a
different version of Perl (probably newer!) than us.

I didn't realise that I could create the persistent rooms with Exodus
though - I'll give that a try. Do I need to be the admin user specified
in jabber.xml?

(might be worth adding that to the MUC documentation BTW cos I had no
idea it was the intended method).

Thanks

Rob



As per other email, this should now be fixed.

If you configure the room you created with exodus to be persistent, it
is exactly the same as if you'd made the room with roommaker.

Regards,

  David

On Tue, Nov 19, 2002 at 07:52:33PM -0000, Rob Davis wrote:
&gt;<i>
</I>&gt;<i> OK - I managed to fix the bugs in roommaker.pl - a badly formed MKDIR
</I>&gt;<i> command on line 79 and an undeclared variable used for the file
</I>handler.
&gt;<i>
</I>&gt;<i> So now I am running roommaker.pl without any bugs and it is writing
</I>the
&gt;<i> rooms.xml file.
</I>&gt;<i>
</I>&gt;<i> Then I restart Jabber, browse using my client or Exodus and... no
</I>rooms
&gt;<i> appear...
</I>&gt;<i>
</I>&gt;<i> Here's the command I'm issuing in my client:
</I>&gt;<i>
</I>&gt;<i> &lt;iq type=&quot;get&quot; to=&quot;conference.localhost&quot; id=&quot;rooms&quot;&gt;&lt;query
</I>&gt;<i> xmlns=&quot;jabber:iq:browse&quot; /&gt;&lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i> And here's what i get back:
</I>&gt;<i>
</I>&gt;<i> &lt;iq type=&quot;result&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rob at myjabberurl.com</A>&quot; id=&quot;rooms&quot;
</I>&gt;<i> from=&quot;conference.localhost&quot;&gt;&lt;conference xmlns=&quot;jabber:iq:browse&quot;
</I>&gt;<i> type=&quot;public&quot; name=&quot;Public
</I>&gt;<i>
</I>Chatrooms&quot;&gt;&lt;ns&gt;<A HREF="http://jabber.org/protocol/muc&lt;/ns">http://jabber.org/protocol/muc&lt;/ns</A>&gt;&lt;ns&gt;jabber:iq:register
&gt;<i>
</I>&lt;/ns&gt;&lt;ns&gt;jabber:iq:version&lt;/ns&gt;&lt;ns&gt;jabber:iq:time&lt;/ns&gt;&lt;ns&gt;jabber:iq:last
&gt;<i> &lt;/ns&gt;&lt;/conference&gt;&lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i> If I create a room in Exodus, it does allow that to be browsed:
</I>&gt;<i>
</I>&gt;<i> &lt;iq type=&quot;result&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rob at myjabberurl.com</A>&quot; id=&quot;rooms&quot;
</I>&gt;<i> from=&quot;conference.localhost&quot;&gt;&lt;conference xmlns=&quot;jabber:iq:browse&quot;
</I>&gt;<i> type=&quot;public&quot; name=&quot;Public
</I>&gt;<i>
</I>Chatrooms&quot;&gt;&lt;ns&gt;<A HREF="http://jabber.org/protocol/muc&lt;/ns">http://jabber.org/protocol/muc&lt;/ns</A>&gt;&lt;ns&gt;jabber:iq:register
&gt;<i>
</I>&lt;/ns&gt;&lt;ns&gt;jabber:iq:version&lt;/ns&gt;&lt;ns&gt;jabber:iq:time&lt;/ns&gt;&lt;ns&gt;jabber:iq:last
&gt;<i> &lt;/ns&gt;&lt;conference type=&quot;public&quot; jid=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">test at conference.localhost</A>&quot;
</I>&gt;<i> name=&quot;test (1/30)&quot; /&gt;&lt;/conference&gt;&lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i> I've tried creating rooms that are both private and public in
</I>roommaker,
&gt;<i> but neither seem browseable.
</I>&gt;<i>
</I>&gt;<i> Any ideas?
</I>&gt;<i>
</I>&gt;<i> Rob
</I>&gt;<i>
</I>&gt;<i> p.s. here are the changes i made to get roommaker to work:
</I>&gt;<i>
</I>&gt;<i> change line 79 to:
</I>&gt;<i> (change to mkdir(&quot;$spooldir/$server&quot;, 0777);
</I>&gt;<i>
</I>&gt;<i> lines 185-187
</I>&gt;<i> open(DATA, &quot;&gt;$spooldir/$server/$hash.xml&quot;);
</I>&gt;<i> print DATA XMLout($output, rootname =&gt; &quot;xdb&quot;);
</I>&gt;<i> close(DATA);
</I>&gt;<i>
</I>&gt;<i> lines 210-212
</I>&gt;<i> open(DATA, &quot;&gt;$spooldir/$server/rooms.xml&quot;);
</I>&gt;<i> print DATA XMLout($roomsconfig, rootname =&gt; &quot;xdb&quot;);
</I>&gt;<i> close(DATA);
</I>&gt;<i>
</I>&gt;<i> -------------------------------------------------------
</I>&gt;<i> Rob Davis
</I>&gt;<i> -------------------------------------------------------
</I>&gt;<i> Solaris Media
</I>&gt;<i> <A HREF="http://www.solarismedia.co.uk">http://www.solarismedia.co.uk</A>
</I>&gt;<i> -------------------------------------------------------
</I>&gt;<i> 20 Damien Street
</I>&gt;<i> London E1 2HX
</I>&gt;<i>
</I>&gt;<i> Tel: 020 7791 1555
</I>&gt;<i> Mob: 07973 658033
</I>&gt;<i> Fax: 020 7791 1545
</I>&gt;<i> Email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rob at solarismedia.co.uk</A>
</I>&gt;<i> AOL IM username: rbdavis68
</I>&gt;<i> MSN Messenger username: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rbdavis68 at hotmail.com</A>
</I>&gt;<i> 51 31' N x 0 03' W
</I>&gt;<i> -------------------------------------------------------
</I>&gt;<i> Creative digital media solutions
</I>&gt;<i> -------------------------------------------------------
</I>&gt;<i> Map: <A HREF="http://www.streetmap.co.uk/streetmap.dll?P2M?P=e12hx&amp;Z=1">http://www.streetmap.co.uk/streetmap.dll?P2M?P=e12hx&amp;Z=1</A>
</I>&gt;<i> -------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>
--
David Sutton
Email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dsutton at legend.co.uk</A>
Jabber: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">peregrine at legend.net.uk</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044210.html">[JDEV] using roommaker
</A></li>
	<LI>Next message: <A HREF="044216.html">[JDEV] lost jabberbeans
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44217">[ date ]</a>
              <a href="thread.html#44217">[ thread ]</a>
              <a href="subject.html#44217">[ subject ]</a>
              <a href="author.html#44217">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

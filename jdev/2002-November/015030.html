<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Karma settings question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Karma%20settings%20question&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015024.html">
   <LINK REL="Next"  HREF="015044.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Karma settings question</H1>
    <B>Joe Breeden</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Karma%20settings%20question&In-Reply-To="
       TITLE="[JDEV] Karma settings question">jbreeden at ena.com
       </A><BR>
    <I>Tue Nov 26 10:10:41 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="015024.html">[JDEV] Re: [Jb1_dev] GroupChatBean example code?
</A></li>
        <LI>Next message: <A HREF="015044.html">[JDEV] Karma settings question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15030">[ date ]</a>
              <a href="thread.html#15030">[ thread ]</a>
              <a href="subject.html#15030">[ subject ]</a>
              <a href="author.html#15030">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>All,

I am developing a server component that essentially will take requests from a custom jabber client and return the output of a call to a database server to said client. Simple, right? My problem is that when the client makes the request it takes approx. 30 seconds to see the results. This is with the client running on the same computer as the server and not at heavy load (it is a P3/800 with 512M RAM running RedHat 7.3 with no email/apache/other servers running). I assumed that the karma settings needed to be fiddled with, but when I add a &lt;karma/&gt; tag to the &lt;service/&gt; tag of jabber.xml I get a message telling me that the &lt;karma/&gt; tag is not recognized. See the truncated output of a jabberd -D startup call:

Invalid Configuration in instance 'sls_agent':
&lt;karma&gt;
        &lt;init&gt;50&lt;/init&gt;
        &lt;max&gt;50&lt;/max&gt;
        &lt;inc&gt;4&lt;/inc&gt;
        &lt;dec&gt;1&lt;/dec&gt;
        &lt;penalty&gt;-5&lt;/penalty&gt;
        &lt;restore&gt;50&lt;/restore&gt;
      &lt;/karma&gt;
ERROR: Unknown Base Tag: karma

My jabber.xml file includes the following &lt;service/&gt; tag for my component:

  &lt;service id=&quot;sls_agent&quot;&gt;
  	&lt;host&gt;sls_agent.shrieker.ena.com&lt;/host&gt;
	&lt;accept&gt;
		&lt;ip&gt;localhost&lt;/ip&gt;
		&lt;port&gt;5998&lt;/port&gt;
		&lt;secret&gt;terces&lt;/secret&gt;
	&lt;/accept&gt;
      &lt;karma&gt;
        &lt;init&gt;50&lt;/init&gt;
        &lt;max&gt;50&lt;/max&gt;
        &lt;inc&gt;4&lt;/inc&gt;
        &lt;dec&gt;1&lt;/dec&gt;
        &lt;penalty&gt;-5&lt;/penalty&gt;
        &lt;restore&gt;50&lt;/restore&gt;
      &lt;/karma&gt;
  &lt;/service&gt;

I have my server in debug mode and see the response from the component in the debug output immediately when the component is accessed and the log info from my component suggests that the once the call is made the data is processed quickly and that the results are returned the server in short order. It looks like the server is holding on to the data before it sends it to the client. I have written my component in Perl using the Jabber::Connection (v0.04 from cvs) and the Jabber::NodeFactory Perl modules. 

If anyone has any ideas about why the server would, seemingly, hold on to packets before it sends them I would greatly appreciate hearing from you. 

Thanks in advance for the help,

--Joe Breeden
Fake Shemp

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015024.html">[JDEV] Re: [Jb1_dev] GroupChatBean example code?
</A></li>
	<LI>Next message: <A HREF="015044.html">[JDEV] Karma settings question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15030">[ date ]</a>
              <a href="thread.html#15030">[ thread ]</a>
              <a href="subject.html#15030">[ subject ]</a>
              <a href="author.html#15030">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

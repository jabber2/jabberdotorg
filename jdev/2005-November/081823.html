<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] SASL EXTERNAL for s2s
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20SASL%20EXTERNAL%20for%20s2s&In-Reply-To=%3C436CB0BF.5040001%40tthias.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081821.html">
   <LINK REL="Next"  HREF="081815.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] SASL EXTERNAL for s2s</H1>
    <B>Matthias Wimmer</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20SASL%20EXTERNAL%20for%20s2s&In-Reply-To=%3C436CB0BF.5040001%40tthias.net%3E"
       TITLE="[jdev] SASL EXTERNAL for s2s">m at tthias.net
       </A><BR>
    <I>Sat Nov  5 07:16:47 CST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="081821.html">[jdev] SASL EXTERNAL for s2s in jabberd14
</A></li>
        <LI>Next message: <A HREF="081815.html">[jdev] SASL EXTERNAL for s2s in jabberd14
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81823">[ date ]</a>
              <a href="thread.html#81823">[ thread ]</a>
              <a href="subject.html#81823">[ subject ]</a>
              <a href="author.html#81823">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Brian!


Brian Campbell schrieb:

&gt;&gt;<i>Out of that context, I think another interesting problem is this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Think of two servers A and B, that require a SASL authenticated 
</I>&gt;&gt;<i>connection. (No matter which one enforces this, or if both servers 
</I>&gt;&gt;<i>enforce this.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>B trusts the certification authority of A, therefore A can deliver 
</I>&gt;&gt;<i>stanzas to B. <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user1 at A</A> can send a message to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user2 at B.</A>
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Shouldn't A refuse to send to B because B is unable to authenticate
</I>&gt;<i>itself?  My reading of the RFC (section 4.3) is that both ends must
</I>&gt;<i>authenticate themselves, not just the server which initiates the
</I>&gt;<i>connection.  This makes sense because A shouldn't be sending messages to
</I>&gt;<i>a potential imposter.
</I>&gt;<i>  
</I>&gt;<i>
</I>
Well at the SASL layer, A does not have to validate the certificate of 
B, when it connects to B. But you are right. When establishing the TLS 
layer it already has to validate the certificate (RFC 3920, section 14.2).
But still the described situation may arrise. The certificate might be 
valid to be used as server certificate (when you connect to), but not as 
client certificate (when you are connecting). Accidently I tried my SASL 
EXTERNAL implementation with such a certificate first and wondered why 
the certificate validation worked in the one direction and not in the other.

But I see (<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">fippo at goodadvice.pages.de</A> pointed it out to me), that the 
problem might even be caused even in other situations: As SASL does not 
require the dialback conenction, server A might just not be accepting 
incoming connections. With the certificate it can connect and 
authenticate with B, but B will not be able to connect back to A, e.g. 
because A is not listening, behind a firewall or a NAT router. But 
that's the same as with e-mail. If you can send a mail to someone, that 
does not neccessarily mean, that this person is able to reply to you.


Tot kijk
     Matthias

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081821.html">[jdev] SASL EXTERNAL for s2s in jabberd14
</A></li>
	<LI>Next message: <A HREF="081815.html">[jdev] SASL EXTERNAL for s2s in jabberd14
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81823">[ date ]</a>
              <a href="thread.html#81823">[ thread ]</a>
              <a href="subject.html#81823">[ subject ]</a>
              <a href="author.html#81823">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: bytestreams and Psi
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20bytestreams%20and%20Psi&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023269.html">
   <LINK REL="Next"  HREF="023271.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: bytestreams and Psi</H1>
    <B>Mats Bengtsson</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20bytestreams%20and%20Psi&In-Reply-To="
       TITLE="[jdev] Re: bytestreams and Psi">matben at privat.utfors.se
       </A><BR>
    <I>Wed Nov  9 01:52:46 CST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="023269.html">[jdev] Server side presence changes
</A></li>
        <LI>Next message: <A HREF="023271.html">[jdev] Re: bytestreams and Psi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23270">[ date ]</a>
              <a href="thread.html#23270">[ thread ]</a>
              <a href="subject.html#23270">[ subject ]</a>
              <a href="author.html#23270">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Sunday 06 November 2005 03:10, Mats Bengtsson wrote:
</I>&gt;<i> &gt; Right now I cannot judge if the 'fast' extension is the smartest one.
</I>&gt;<i> &gt; The negotiation to avoid race conditions by sending an
</I>&gt;<i> &gt; additional [CR] character across the bytestream to indicate its selection
</I>&gt;<i> &gt; seems crude. My first impression tells me that host negotiation shall take
</I>&gt;<i> &gt; place in the xml stream, but I might be missing something important here.
</I>&gt;<i> 
</I>&gt;<i> I suppose selection could have occured over Jabber also.  I think the reason I 
</I>&gt;<i> went with the [CR] is because that's how I did the selection back with DTCP 
</I>&gt;<i> (jep-46), and it didn't really occur to me to do it over Jabber.  However, 
</I>&gt;<i> sending one byte directly is probably more efficient than a routed &lt;message&gt; 
</I>&gt;<i> stanza, so I don't have a regret.
</I>&gt;<i> 
</I>&gt;<i> -Justin
</I>
What I meant is that we already have some kind of bytestream negotiation
with the &lt;streamhost/&gt; and &lt;streamhost-used/&gt; and mixing this with
sending special bytes seems pretty ugly.
It is a direct way to minimize the racing conditions, true.
But you still have it, although the risk is much smaller than if routed
directly as xml.

The problem comes when you (we) allow symmetric streamhosts but it is
not an option to let the target timeout before it offers its streamhost.
I don't have any good ideas for a protocol to solve this sync problem.
Any ideas?

A dumb question: can't the initiator figure out itself that it is
unreachable for clients outside its NAT using its local ip number?
Ip numbers come in classes and some are designated local subnets.

Mats

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023269.html">[jdev] Server side presence changes
</A></li>
	<LI>Next message: <A HREF="023271.html">[jdev] Re: bytestreams and Psi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23270">[ date ]</a>
              <a href="thread.html#23270">[ thread ]</a>
              <a href="subject.html#23270">[ subject ]</a>
              <a href="author.html#23270">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

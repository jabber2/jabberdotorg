<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Escaping JID using XEP-0106
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Escaping%20JID%20using%20XEP-0106&In-Reply-To=f60b7eb60706270424s14ab90aan359fda57f72be198%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026416.html">
   <LINK REL="Next"  HREF="026404.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Escaping JID using XEP-0106</H1>
    <B>Mridul Muralidharan</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Escaping%20JID%20using%20XEP-0106&In-Reply-To=f60b7eb60706270424s14ab90aan359fda57f72be198%40mail.gmail.com"
       TITLE="[jdev] Escaping JID using XEP-0106">mridul at sun.com
       </A><BR>
    <I>Wed Jun 27 07:18:56 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="026416.html">[jdev] Escaping JID using XEP-0106
</A></li>
        <LI>Next message: <A HREF="026404.html">[jdev] Escaping JID using XEP-0106
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26401">[ date ]</a>
              <a href="thread.html#26401">[ thread ]</a>
              <a href="subject.html#26401">[ subject ]</a>
              <a href="author.html#26401">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sergei Golovan wrote:
&gt;<i> On 6/27/07, Norman Rasmussen &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at rasmussen.co.za</A>&gt; wrote:
</I>&gt;&gt;<i> On 6/27/07, Sergei Golovan &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">sgolovan at nes.ru</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; You're right. And the question is: &quot;How to escape it? Can escaping be
</I>&gt;&gt;<i> &gt; done unambiguously?&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yes, but only if you already know the split.
</I>&gt;<i> 
</I>&gt;<i> So, a full unsecaped JID (with resource) can't be split unambiguously.
</I>&gt;<i> Then I'm afraid we should do something with the XEP.
</I>
I think you are confused about the intent about the xep here.
The xep allows you to encode unallowed characters such that they can be 
used as part of the jid.
You decode after splitting the jid into its constituents, not before.

So, mridul\<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">40test.com at sun.com</A> is a valid jid, while 
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mridul at test.com</A>@sun.com makes no sense - and intent of the xep is not to 
make any sense of it.
You take the node (mridul\40test.com), and then decode it for your 
purpose (<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mridul at test.com</A>) - not as part of the jid.


&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; The problem is that if I get alredy escaped JID
</I>&gt;&gt;<i> &gt; user\40jabber.org\<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">2fuser at jabber.org</A>/resource then I can
</I>&gt;&gt;<i> unescape it
</I>&gt;&gt;<i> &gt; and show to a user as
</I>&gt;&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at jabber.org</A>/<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at jabber.org</A>/resource.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; But what to do if a user enters such a JID into a client entry box and
</I>&gt;&gt;<i> &gt; wants to send a message to it?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You have to provider two entry boxes, or require the the user enter a
</I>&gt;&gt;<i> pre-escaped jid, and reject the ambiguous jid.
</I>&gt;<i> 
</I>&gt;<i> There is another problem here. If the user receives message from
</I>&gt;<i> user\40jabber.org\<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">2fuser at jabber.org</A>/resource I can't unescape JID
</I>&gt;<i> because he will not know if the message came from <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at jabber.org.</A>
</I>&gt;<i> Using two entry boxes is not good IMHO. It breaks the idea of JID -
</I>&gt;<i> the only user identifier in XMPP world.
</I>&gt;<i> 
</I>
Why would you want to unescape it ?
The identifier of the contact is user\40jabber.org\2fuser in xmpp world.
The node by itself conveys no meaning other than when associated with 
the full jid.

Regards,
Mridul

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026416.html">[jdev] Escaping JID using XEP-0106
</A></li>
	<LI>Next message: <A HREF="026404.html">[jdev] Escaping JID using XEP-0106
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26401">[ date ]</a>
              <a href="thread.html#26401">[ thread ]</a>
              <a href="subject.html#26401">[ subject ]</a>
              <a href="author.html#26401">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Different behaviors of ejabbered and openFire in pushing	messages to the client!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Different%20behaviors%20of%20ejabbered%20and%20openFire%20in%20pushing%0A%09messages%20to%20the%20client%21&In-Reply-To=%3Ce591c7850706182035g37f0c8e2kc9b87ae54f7ffa76%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084919.html">
   <LINK REL="Next"  HREF="084922.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Different behaviors of ejabbered and openFire in pushing	messages to the client!</H1>
    <B>Tran Thai Son</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Different%20behaviors%20of%20ejabbered%20and%20openFire%20in%20pushing%0A%09messages%20to%20the%20client%21&In-Reply-To=%3Ce591c7850706182035g37f0c8e2kc9b87ae54f7ffa76%40mail.gmail.com%3E"
       TITLE="[jdev] Different behaviors of ejabbered and openFire in pushing	messages to the client!">tofoneo at gmail.com
       </A><BR>
    <I>Mon Jun 18 22:35:18 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="084919.html">[jdev] [ANN] gloox 0.9
</A></li>
        <LI>Next message: <A HREF="084922.html">[jdev] Different behaviors of ejabbered and openFire in pushing	messages to the client!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84921">[ date ]</a>
              <a href="thread.html#84921">[ thread ]</a>
              <a href="subject.html#84921">[ subject ]</a>
              <a href="author.html#84921">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I am writing a client and I've experienced different behaviors from
different servers in handling client's actions such as add / accept / deny
subscription requests. What surprised me is that it seems there is no
standard behaviors (e.g. processes of treating actions, order of
notification messages pushing to the clients...) for the server.

E.g.:
- ejabbered 1.1.3 always adds the incoming contact to the user's roster
(with the subscription status = 0, means no relationship) before pushing the
subscription (add-friend) request to the user. So the client gets two
messages: one to notify that there is an item added, the next to notify that
there is a subscription request.
- meanwhile, openFire 3.3.1 does not add the contact before, so you get only
the later message. One (probably) bug I found: even when the client sent a
message denying the subscription request, the server still adds the contact
to the user's roster (with subscription= 0)

Furthermore, with the same actions from the clients, the number  and order
of messages that the servers send significantly different.
E.g.
- ejabbered 1.1.3 tends to not to send any message to the contact with
subscription = 0. Example: If user B denied a subscription request from user
B (means no relationship at the moment), B will not receive the next
unsubscription request from A, but with openFire 3.3.1, it will.
- Furthermore, I found the order of messages that openFire pushes to the
clients rather annoying. For example, if user A removes user B from its
roster (and therefore B will also remove A - my implementation), A will
receive &quot;unsubscribed&quot; and &quot;unsubscribe&quot; (respectively) from B before
received the notification that its removal was done. So you cannot trust
that: when you remove a contact from your roster, you won't receive
unexpected message from that contact; You also see that contact still in
your roster for a while (with subscription = 0).

Does any body experience similar problems ?

Son.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20070619/10e5c1e3/attachment-0002.htm">https://www.jabber.org/jdev/attachments/20070619/10e5c1e3/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084919.html">[jdev] [ANN] gloox 0.9
</A></li>
	<LI>Next message: <A HREF="084922.html">[jdev] Different behaviors of ejabbered and openFire in pushing	messages to the client!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84921">[ date ]</a>
              <a href="thread.html#84921">[ thread ]</a>
              <a href="subject.html#84921">[ subject ]</a>
              <a href="author.html#84921">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Escaping JID using XEP-0106
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Escaping%20JID%20using%20XEP-0106&In-Reply-To=f60b7eb60706270424s14ab90aan359fda57f72be198%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026393.html">
   <LINK REL="Next"  HREF="026398.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Escaping JID using XEP-0106</H1>
    <B>Matthias Wimmer</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Escaping%20JID%20using%20XEP-0106&In-Reply-To=f60b7eb60706270424s14ab90aan359fda57f72be198%40mail.gmail.com"
       TITLE="[jdev] Escaping JID using XEP-0106">m at tthias.eu
       </A><BR>
    <I>Wed Jun 27 06:33:29 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="026393.html">[jdev] Escaping JID using XEP-0106
</A></li>
        <LI>Next message: <A HREF="026398.html">[jdev] Escaping JID using XEP-0106
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26395">[ date ]</a>
              <a href="thread.html#26395">[ thread ]</a>
              <a href="subject.html#26395">[ subject ]</a>
              <a href="author.html#26395">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Sergei!

Ah okay ... it seems I start understanding what you are trying to do.
You want to map a JID (or something like that) into another JID, e.g.
for building the infamous Jabber-Jabber transport.

Sergei Golovan schrieb:
&gt;<i> So, a full unsecaped JID (with resource) can't be split unambiguously.
</I>&gt;<i> Then I'm afraid we should do something with the XEP.
</I>
You will always only handle escaped JIDs when splitting the JID.

If you do unescape the JID, you should do this to get back the mapped
address.

E.g. if you unescape &quot;foo\<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">40bar at jabber.org</A>&quot; you do not get back
&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at bar</A>&quot; and not &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at bar</A>@jabber.org&quot;.

Compare this with the escaping in XML:

If you map &quot;&lt;element&gt;this is XML&lt;/element&gt;&quot; in an XHTML document you get:

&lt;p&gt;&amp;lt;element&amp;gt;this is XML&amp;lt;/element&amp;gt;&lt;/p&gt;

You will also only be able to unescape the content of the &lt;p/&gt; element
without creating a mess. If you would just unescape everything you would
get &lt;p&gt;&lt;element&gt;this is XML&lt;/element&gt;&lt;/p&gt; and with that also no XML
parser could understand what of this is your XHTML and what is your XML
document you wrapped.



Matthias

-- 
Matthias Wimmer      Fon +49-700 77 00 77 70
Z&#252;richer Str. 243    Fax +49-89 95 89 91 56
81476 M&#252;nchen        <A HREF="http://ma.tthias.eu/">http://ma.tthias.eu/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026393.html">[jdev] Escaping JID using XEP-0106
</A></li>
	<LI>Next message: <A HREF="026398.html">[jdev] Escaping JID using XEP-0106
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26395">[ date ]</a>
              <a href="thread.html#26395">[ thread ]</a>
              <a href="subject.html#26395">[ subject ]</a>
              <a href="author.html#26395">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

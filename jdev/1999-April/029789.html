<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Suggestions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Suggestions&In-Reply-To=%3CPine.LNX.4.10.9904251520060.23259-100000%40olaf.nick.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029788.html">
   <LINK REL="Next"  HREF="029799.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Suggestions</H1>
    <B>Nicholas M. Kirsch</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Suggestions&In-Reply-To=%3CPine.LNX.4.10.9904251520060.23259-100000%40olaf.nick.org%3E"
       TITLE="[JDEV] Suggestions">nkirsch at olaf.nick.org
       </A><BR>
    <I>Sun Apr 25 17:21:40 CDT 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="029788.html">[JDEV] Suggestions
</A></li>
        <LI>Next message: <A HREF="029799.html">[JDEV] Suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29789">[ date ]</a>
              <a href="thread.html#29789">[ thread ]</a>
              <a href="subject.html#29789">[ subject ]</a>
              <a href="author.html#29789">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Right you are, on many points. The jabberbox router will be multi-threaded
as soon as I have the time. As far as async vs. sync, that is an issue we
will have to examine. 

Nick

On Sun, 25 Apr 1999 <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dave at raystewart.com</A> wrote:

&gt;<i> Greetings... 
</I>&gt;<i> 
</I>&gt;<i> I got the jabber source from CVS and have started my examination of it 
</I>&gt;<i> so that I could begin design on a client library. However, I've found
</I>&gt;<i> some other interesting topics that I believe we should probably
</I>&gt;<i> address first. It's primarily design issues, and I'm trying to give
</I>&gt;<i> constructive criticism. :) 
</I>&gt;<i> 
</I>&gt;<i> A disclaimer, this is *not* a flame. Please read responsibly. :)
</I>&gt;<i> 
</I>&gt;<i> To begin, let's start with a technique known as &quot;commenting&quot;. :) I
</I>&gt;<i> code, so I know how much of a pain it is to put comments in while
</I>&gt;<i> you're hacking. However, in a project of this size, it is absolutely
</I>&gt;<i> *critical* that each person submit commented code. Now, before you get 
</I>&gt;<i> too steamed, let me laud you on the amount of design documents and
</I>&gt;<i> discussion. Great job! Be aware, though, that in order for the code to 
</I>&gt;<i> be maintainable, people must understand the interactions. For example, 
</I>&gt;<i> I have found little-&gt;no information on any of the lib/ functions or
</I>&gt;<i> types. What's an xpt_pool? What's it used for? What's a jpair? You
</I>&gt;<i> follow? 
</I>&gt;<i> 
</I>&gt;<i> So enough complaining, now on to the interesting stuff.
</I>&gt;<i> 
</I>&gt;<i> &gt;From what I've read of the lib/ functions, it looks like you're using
</I>&gt;<i> async sockets, with polling, to handle multiple connections. Is there
</I>&gt;<i> a performance advantage to using this over threads &amp; sync sockets? I'm 
</I>&gt;<i> not all that knowledgeble on async sockets, but I *do* know that
</I>&gt;<i> polling is Bad News (tm). Furthermore, it tends to make the code more
</I>&gt;<i> complicated, since each connection must be examined -- even if it's
</I>&gt;<i> not busy. 
</I>&gt;<i> 
</I>&gt;<i> Let's consider the jabberbox router for a moment. As I understand the
</I>&gt;<i> code (in my limited knowledge), the router maintains a list of
</I>&gt;<i> connections to transports and polls these looking for inputs. As the
</I>&gt;<i> routing packets come through, it parses the packet and forwards it on
</I>&gt;<i> to the appropriate transport. Basically, this is a producer/consumer
</I>&gt;<i> problem -- well suited to a multi-threaded approach with
</I>&gt;<i> semaphores. Utilizing such an approach would probably signficantly
</I>&gt;<i> (%25-%100) improve the performance of the router (especially on a
</I>&gt;<i> multi-processor system). 
</I>&gt;<i> 
</I>&gt;<i> Well I must go now, but I'd like to hear your feedback before I
</I>&gt;<i> continue. Maybe I'm wrong (it's happened before!), but I'd love to see 
</I>&gt;<i> Jabber take off. I believe it's the Right Concept. All we gotta do now 
</I>&gt;<i> is execute properly. :) 
</I>&gt;<i> 
</I>&gt;<i> D.
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029788.html">[JDEV] Suggestions
</A></li>
	<LI>Next message: <A HREF="029799.html">[JDEV] Suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29789">[ date ]</a>
              <a href="thread.html#29789">[ thread ]</a>
              <a href="subject.html#29789">[ subject ]</a>
              <a href="author.html#29789">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

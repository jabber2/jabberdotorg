<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Suggestions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Suggestions&In-Reply-To=%3CPine.LNX.3.96.990426110936.16557H-100000%40mondo.eppg.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059088.html">
   <LINK REL="Next"  HREF="059080.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Suggestions</H1>
    <B>Jeremie</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Suggestions&In-Reply-To=%3CPine.LNX.3.96.990426110936.16557H-100000%40mondo.eppg.com%3E"
       TITLE="[JDEV] Suggestions">jeremie at jabber.org
       </A><BR>
    <I>Mon Apr 26 11:29:48 CDT 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="059088.html">[JDEV] Suggestions
</A></li>
        <LI>Next message: <A HREF="059080.html">[JDEV] Suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59076">[ date ]</a>
              <a href="thread.html#59076">[ thread ]</a>
              <a href="subject.html#59076">[ subject ]</a>
              <a href="author.html#59076">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Greetings... 
</I>&gt;<i> 
</I>&gt;<i> I got the jabber source from CVS and have started my examination of it 
</I>&gt;<i> so that I could begin design on a client library. However, I've found
</I>&gt;<i> some other interesting topics that I believe we should probably
</I>&gt;<i> address first. It's primarily design issues, and I'm trying to give
</I>&gt;<i> constructive criticism. :) 
</I>
Thanks for taking a serious look, it's needed it badly and your
constructive criticism is welcomed and appreciated!

&gt;<i> To begin, let's start with a technique known as &quot;commenting&quot;. :)
</I>
I'm the one to burn at the stake for this one, *grin*.

The dearth of comments is a problem, even for myself maintaining the code.

For some time now I've been planning on going through and commenting
everything, it just keeps getting put off and nobody has complained yet. 
But, now that someone is asking I'll make this a priority and check-in a
ton of comments this week. 

&gt;<i> So enough complaining, now on to the interesting stuff.
</I>
Let me add a bit of background quickly here:

I basically had to learn C to do this project.  I knew the design and
architecture of Jabber, knew what I wanted, and knew that C was the most
appropriate avenue.  The only way to get rolling was to learn C and start
coding :)

So, you may notice a ton of naive things being done in the source, and
when you do, please feel free to fix it or discuss it, it won't offend me
in any way as I know I'm doing things wrong but I don't have enough
experience(or time) to know how to do it better. 

I think the design is pretty solid, but any/all C code help is
appreciated.

&gt;<i> &gt;From what I've read of the lib/ functions, it looks like you're using
</I>&gt;<i> async sockets, with polling, to handle multiple connections. Is there
</I>&gt;<i> a performance advantage to using this over threads &amp; sync sockets? I'm 
</I>&gt;<i> not all that knowledgeble on async sockets, but I *do* know that
</I>&gt;<i> polling is Bad News (tm). Furthermore, it tends to make the code more
</I>&gt;<i> complicated, since each connection must be examined -- even if it's
</I>&gt;<i> not busy. 
</I>
Threads are definately the way to go on this stuff, and that's always been
in my &quot;plan&quot;.  I knew that if I can just &quot;make it work&quot; and express the
intent of the design/architecture of Jabber, and others like it, they will
jump in and help me figure out threading and other issues the &quot;right way&quot;.

&gt;<i> Let's consider the jabberbox router for a moment. As I understand the
</I>&gt;<i> code (in my limited knowledge), the router maintains a list of
</I>&gt;<i> connections to transports and polls these looking for inputs. As the
</I>&gt;<i> routing packets come through, it parses the packet and forwards it on
</I>&gt;<i> to the appropriate transport. Basically, this is a producer/consumer
</I>&gt;<i> problem -- well suited to a multi-threaded approach with
</I>&gt;<i> semaphores. Utilizing such an approach would probably signficantly
</I>&gt;<i> (%25-%100) improve the performance of the router (especially on a
</I>&gt;<i> multi-processor system). 
</I>
As above, I agree 100%.  I've been trying to create a functional platform
so that others can start building clients, transports, and modules ontop
of it, and then ramp up the performance as things develop and demand it.

&gt;<i> Well I must go now, but I'd like to hear your feedback before I
</I>&gt;<i> continue. Maybe I'm wrong (it's happened before!), but I'd love to see 
</I>&gt;<i> Jabber take off. I believe it's the Right Concept. All we gotta do now 
</I>&gt;<i> is execute properly. :) 
</I>
Yes, perfect!  If you think you have some time to seriously help out on
these parts, we can work on getting you commit access and familiarized
with the rest of the group :)

Jer


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059088.html">[JDEV] Suggestions
</A></li>
	<LI>Next message: <A HREF="059080.html">[JDEV] Suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59076">[ date ]</a>
              <a href="thread.html#59076">[ thread ]</a>
              <a href="subject.html#59076">[ subject ]</a>
              <a href="author.html#59076">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] tls negotiation over. Then what ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20tls%20negotiation%20over.%20Then%20what%20%3F&In-Reply-To=%3C441C0A83.7080200%40outer-planes.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053569.html">
   <LINK REL="Next"  HREF="053567.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] tls negotiation over. Then what ?</H1>
    <B>Matthew A. Miller</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20tls%20negotiation%20over.%20Then%20what%20%3F&In-Reply-To=%3C441C0A83.7080200%40outer-planes.net%3E"
       TITLE="[jdev] tls negotiation over. Then what ?">linuxwolf at outer-planes.net
       </A><BR>
    <I>Sat Mar 18 07:26:27 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="053569.html">[jdev] tls negotiation over. Then what ?
</A></li>
        <LI>Next message: <A HREF="053567.html">[jdev] DOAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53570">[ date ]</a>
              <a href="thread.html#53570">[ thread ]</a>
              <a href="subject.html#53570">[ subject ]</a>
              <a href="author.html#53570">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You'll need to read RFC 2831 (Using Digest Authentication as a SASL 
Mechansim) to (hope to) understand the various bits.

 From the IETF:    <A HREF="http://www.ietf.org/rfc/rfc2831.txt">http://www.ietf.org/rfc/rfc2831.txt</A>
Formatted:           <A HREF="http://rfc-ref.org/RFC-TEXTS/2831/index.html">http://rfc-ref.org/RFC-TEXTS/2831/index.html</A>

God luck...

Adrian Adrian wrote:
&gt;<i> By secure connection I mean being able to send and receive xml packets 
</I>&gt;<i> that can't be intercepted and decoded by a third party. So anything 
</I>&gt;<i> that achieves that is good for me.
</I>&gt;<i>  
</I>&gt;<i> I use the XIFF library for dealing with XMPP 
</I>&gt;<i> (<A HREF="http://www.jivesoftware.org/xiff">http://www.jivesoftware.org/xiff</A>)
</I>&gt;<i> It's built for Flash Actionscript 2.0 and it's exactly what I need 
</I>&gt;<i> except it doesn't do TLS+SASL.
</I>&gt;<i>  
</I>&gt;<i> So let me get this straight:
</I>&gt;<i> In order to use TLS + SASL :
</I>&gt;<i> I send out a command &lt;starttls bla bla /&gt;
</I>&gt;<i> Server sends &lt;proceed &gt;
</I>&gt;<i> I then start a new stream, select a mechanism (digest md-5),
</I>&gt;<i> server sends a challenge (base64 encoded)
</I>&gt;<i>  
</I>&gt;<i> I decode that but I don't know what to send back. The specs say I 
</I>&gt;<i> shoud send this :
</I>&gt;<i>  
</I>&gt;<i> username=&quot;somenode&quot;,realm=&quot;somerealm&quot;,\
</I>&gt;<i> nonce=&quot;OA6MG9tEQGm2hh&quot;,cnonce=&quot;OA6MHXh6VqTrRk&quot;,\
</I>&gt;<i> nc=00000001,qop=auth,digest-uri=&quot;xmpp/example.com&quot;,\
</I>&gt;<i> response=d388dad90d4bbd760a152321f2143af7,charset=utf-8
</I>&gt;<i> What are these : username, realm, nonce, cnonce, nc, qop, digest-uri, 
</I>&gt;<i> response ?
</I>&gt;<i> Where do I get them from ?
</I>&gt;<i>  
</I>&gt;<i> (Sorry to be dense)
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> */Peter Saint-Andre &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">stpeter at jabber.org</A>&gt;/* wrote:
</I>&gt;<i>
</I>&gt;<i>     -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i>     Hash: SHA1
</I>&gt;<i>
</I>&gt;<i>     Adrian Adrian wrote:
</I>&gt;<i>     &gt; Hello,
</I>&gt;<i>     &gt; I'm totally new with the xmpp protocol so this questions may
</I>&gt;<i>     seem too
</I>&gt;<i>     &gt; easy if not plain stupid.
</I>&gt;<i>     &gt; I want to comunicate with the the im (wildfire) server through
</I>&gt;<i>     TLS.So I
</I>&gt;<i>     &gt; do what the docs tell me to do :
</I>&gt;<i>     &gt; I send this command :
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt; And server responds with :
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt; Now, if I read the docs correctly, I have to start a new stream and
</I>&gt;<i>     &gt; begin SASL negotiation. Is this correct ?
</I>&gt;<i>     &gt; If so, more questions will follow :) The digest-md5 is really
</I>&gt;<i>     making my
</I>&gt;<i>     &gt; head spin.
</I>&gt;<i>     &gt; Isn't there an easier way to establish a secure connection ?
</I>&gt;<i>     (without
</I>&gt;<i>     &gt; receiving challenges and stuff)
</I>&gt;<i>
</I>&gt;<i>     Depends on what you mean by secure. :-)
</I>&gt;<i>
</I>&gt;<i>     There is an older, nearly-deprecated method for authentication between
</I>&gt;<i>     clients and servers:
</I>&gt;<i>
</I>&gt;<i>     <A HREF="http://www.jabber.org/jeps/jep-0078.html">http://www.jabber.org/jeps/jep-0078.html</A>
</I>&gt;<i>
</I>&gt;<i>     In the old days clients could connect on a separate SSL-enabled port
</I>&gt;<i>     (usually 5223, though that was never codified).
</I>&gt;<i>
</I>&gt;<i>     But with RFC 3920, it is preferred to upgrade to TLS on port 5222 and
</I>&gt;<i>     then use SASL for authentication.
</I>&gt;<i>
</I>&gt;<i>     Are you writing your own library? Why not use one of the existing code
</I>&gt;<i>     libraries that already does TLS+SASL?
</I>&gt;<i>
</I>&gt;<i>     Peter
</I>&gt;<i>
</I>&gt;<i>     - --
</I>&gt;<i>     Peter Saint-Andre
</I>&gt;<i>     Jabber Software Foundation
</I>&gt;<i>     <A HREF="http://www.jabber.org/people/stpeter.shtml">http://www.jabber.org/people/stpeter.shtml</A>
</I>&gt;<i>
</I>&gt;<i>     -----BEGIN PGP SIGNATURE-----
</I>&gt;<i>     Version: GnuPG v1.4.1 (Darwin)
</I>&gt;<i>     Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>
</I>&gt;<i>
</I>&gt;<i>     iD8DBQFEGyLANF1RSzyt3NURAh6NAKDL/MysQyIZMTzojaZQdBI1m3kL/ACgvRbz
</I>&gt;<i>     45Y3Jk8Co9PM7AJ5QfZEnF4=
</I>&gt;<i>     =Y+/I
</I>&gt;<i>     -----END PGP SIGNATURE-----
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> Relax. Yahoo! Mail virus scanning 
</I>&gt;<i> &lt;<A HREF="http://us.rd.yahoo.com/mail_us/taglines/virusall/*http://communications.yahoo.com/features.php?page=221">http://us.rd.yahoo.com/mail_us/taglines/virusall/*http://communications.yahoo.com/features.php?page=221</A>&gt; 
</I>&gt;<i> helps detect nasty viruses! 
</I>
-- 
-  LW

&quot;Got JABBER(R)?&quot; &lt;<A HREF="http://www.jabber.org/">http://www.jabber.org/</A>&gt;

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3543 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20060318/2cf097f4/attachment-0001.bin">https://www.jabber.org/jdev/attachments/20060318/2cf097f4/attachment-0001.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053569.html">[jdev] tls negotiation over. Then what ?
</A></li>
	<LI>Next message: <A HREF="053567.html">[jdev] DOAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53570">[ date ]</a>
              <a href="thread.html#53570">[ thread ]</a>
              <a href="subject.html#53570">[ subject ]</a>
              <a href="author.html#53570">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

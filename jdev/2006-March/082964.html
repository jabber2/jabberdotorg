<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: type='available' in &lt;presence/&gt; stanza
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20type%3D%27available%27%20in%20%3Cpresence/%3E%20stanza&In-Reply-To=%3C200603290150.11984.justin-keyword-jabber.093179%40affinix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082963.html">
   <LINK REL="Next"  HREF="082965.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: type='available' in &lt;presence/&gt; stanza</H1>
    <B>Justin Karneges</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20type%3D%27available%27%20in%20%3Cpresence/%3E%20stanza&In-Reply-To=%3C200603290150.11984.justin-keyword-jabber.093179%40affinix.com%3E"
       TITLE="[jdev] Re: type='available' in &lt;presence/&gt; stanza">justin-keyword-jabber.093179 at affinix.com
       </A><BR>
    <I>Wed Mar 29 03:50:11 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="082963.html">[jdev] Re: type='available' in &lt;presence/&gt; stanza
</A></li>
        <LI>Next message: <A HREF="082965.html">[jdev] Re: [SPAM?] Re: Re: type='available' in &lt;presence/&gt; stanza
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82964">[ date ]</a>
              <a href="thread.html#82964">[ thread ]</a>
              <a href="subject.html#82964">[ subject ]</a>
              <a href="author.html#82964">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 29 March 2006 01:40, Heiner Wolf wrote:
&gt;<i> Vinod Panicker schrieb:
</I>&gt;<i> &gt; Anyways, when a server that uses schema validation encounters such a
</I>&gt;<i> &gt; stanza, it will return an error to the client.  And frankly, I don't
</I>&gt;<i> &gt; think being tolerant to implementation issues will lead to a better
</I>&gt;<i> &gt; future for the protocol.
</I>&gt;<i>
</I>&gt;<i> Yes, this is true. On the other hand, the internet works because most
</I>&gt;<i> systems are tolerant. Some time ago I implemewnted vcard PHOTO. You
</I>&gt;<i> would be surprised how many things can be wrong. But as a programmer I
</I>&gt;<i> try to make things work by tolerating errors as long as they do not
</I>&gt;<i> break anything. Therefore my question if type='available' does break
</I>&gt;<i> something. Obviously it breaks servers (client connections) at schema
</I>&gt;<i> validation time. I question strict schema validation anyhow because it
</I>&gt;<i> contradicts the IETF's be-tolerate-and-conservative claim. But there are
</I>&gt;<i> also valid arguments for strictness. So, lets shoot them in this case.
</I>
The problem is that an unknown presence type doesn't mean available.  Some 
servers were also misdelivering type='probe' to clients, and the effects of 
this vary depending on the client.  Maybe in some clients it is interpretted 
as availability.  In Psi it is interpretted as a blank system message (this 
is due to the logic being that if it isn't blank or unavailable, then it is 
subscription related), which is quite confusing.

It seems like the only decent solutions are:
 1) ignore packets with an unexpected type
 2) interpret type='available' as having no type

#1 is not tolerant, #2 is not general.  I'm afraid there's no good answer 
here.

-Justin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082963.html">[jdev] Re: type='available' in &lt;presence/&gt; stanza
</A></li>
	<LI>Next message: <A HREF="082965.html">[jdev] Re: [SPAM?] Re: Re: type='available' in &lt;presence/&gt; stanza
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82964">[ date ]</a>
              <a href="thread.html#82964">[ thread ]</a>
              <a href="subject.html#82964">[ subject ]</a>
              <a href="author.html#82964">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

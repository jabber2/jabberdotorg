<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] SamePlace 0.2.9+0.3.0prealpha
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20SamePlace%200.2.9%2B0.3.0prealpha&In-Reply-To=5b698f5a0603270759y5c7eeec5s88b8f440d797c15c%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024335.html">
   <LINK REL="Next"  HREF="024338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] SamePlace 0.2.9+0.3.0prealpha</H1>
    <B>Massimiliano Mirra</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20SamePlace%200.2.9%2B0.3.0prealpha&In-Reply-To=5b698f5a0603270759y5c7eeec5s88b8f440d797c15c%40mail.gmail.com"
       TITLE="[jdev] SamePlace 0.2.9+0.3.0prealpha">k03k7rc02 at sneakemail.com
       </A><BR>
    <I>Mon Mar 27 10:29:15 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="024335.html">[jdev] SamePlace 0.2.9+0.3.0prealpha
</A></li>
        <LI>Next message: <A HREF="024338.html">[jdev] SamePlace 0.2.9+0.3.0prealpha
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24336">[ date ]</a>
              <a href="thread.html#24336">[ thread ]</a>
              <a href="subject.html#24336">[ subject ]</a>
              <a href="author.html#24336">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; &gt; This way you would get redundancy, but I'm not sure how practical it
</I>&gt;<i> &gt; &gt; is.  The biggest problem with any centralised architecture is that
</I>&gt;<i> &gt; &gt; it's centralised.  This almost needs a distributed p2p
</I>&gt;<i> &gt; &gt; rendezvous-style MUC server implementation.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It's already setup to work in a distributed fashion.  The lookup
</I>&gt;<i> &gt; returns &quot;places.sameplace.cc&quot; just because that's the only server
</I>&gt;<i> &gt; hosting rooms for now.
</I>&gt;<i>
</I>&gt;<i> Untrue, lluna was there first, Heiner says &quot;Currently we are hosting most
</I>&gt;<i> chat channels for LLuna&quot;, so that means I join those pages using
</I>&gt;<i> lluna, and SameTime it's two difference places.
</I>
Hm, I'll try to phrase that better: the specific lookup service at
&quot;query.sameplace.cc&quot; returns &quot;places.sameplace.cc&quot; because that's the
only server hosting rooms that &quot;query.sameplace.cc&quot; knows about, not
because the system is supposed to work with a single server.
Hopefully that's clearer now. :-)

&gt;<i> Idealy you'd want to
</I>&gt;<i> see uses of _ALL_ virtual presence clients currently viewing the same
</I>&gt;<i> page.
</I>&gt;<i>
</I>&gt;<i> We can't do that if the 'defaults' are different for all the client.
</I>&gt;<i> (I'm talking about pages that don't have any vpi files doing
</I>&gt;<i> overrides).
</I>&gt;<i>
</I>&gt;<i> So I guess one of the options is to load balance the mucs between the
</I>&gt;<i> servers.  Say take the room name's hash: if the first charecter is &lt;
</I>&gt;<i> '8' then use lluna server, if &gt;='8' then use sametime server.  This
</I>&gt;<i> doesn't distribute well, which is why I made the p2p suggestion.
</I>
That is how the lookup would work.  It would get the room name, then
return the address of the server hosting the requested room, based on
some criteria such as partitioning of the MD5 value space, as in your
example, or actual load of each host, and/or some random salt to avoid
a room being &quot;owned&quot; by a particular server.  The lookup itself can be
distributed by simple round robin DNS.

Massimiliano

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024335.html">[jdev] SamePlace 0.2.9+0.3.0prealpha
</A></li>
	<LI>Next message: <A HREF="024338.html">[jdev] SamePlace 0.2.9+0.3.0prealpha
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24336">[ date ]</a>
              <a href="thread.html#24336">[ thread ]</a>
              <a href="subject.html#24336">[ subject ]</a>
              <a href="author.html#24336">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] tls negotiation over. Then what ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20tls%20negotiation%20over.%20Then%20what%20%3F&In-Reply-To=441B22C1.8090503%40jabber.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024276.html">
   <LINK REL="Next"  HREF="024280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] tls negotiation over. Then what ?</H1>
    <B>Adrian Adrian</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20tls%20negotiation%20over.%20Then%20what%20%3F&In-Reply-To=441B22C1.8090503%40jabber.org"
       TITLE="[jdev] tls negotiation over. Then what ?">flashbk2003 at yahoo.com
       </A><BR>
    <I>Sat Mar 18 03:22:17 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="024276.html">[jdev] tsl negotiation over. Then what ?
</A></li>
        <LI>Next message: <A HREF="024280.html">[jdev] tls negotiation over. Then what ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24279">[ date ]</a>
              <a href="thread.html#24279">[ thread ]</a>
              <a href="subject.html#24279">[ subject ]</a>
              <a href="author.html#24279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>By secure connection I mean being able to send and receive xml packets that can't be intercepted and decoded by a third party. So anything that achieves that is good for me. 
   
  I use the XIFF library for dealing with XMPP (<A HREF="http://www.jivesoftware.org/xiff">http://www.jivesoftware.org/xiff</A>) 
  It's built for Flash Actionscript 2.0 and it's exactly what I need except it doesn't do TLS+SASL.
   
  So let me get this straight: 
  In order to use TLS + SASL : 
  I send out a command &lt;starttls bla bla /&gt;
  Server sends &lt;proceed &gt; 
  I then start a new stream, select a mechanism (digest md-5), 
  server sends a challenge (base64 encoded) 
   
  I decode that but I don't know what to send back. The specs say I shoud send this :
   
  username=&quot;somenode&quot;,realm=&quot;somerealm&quot;,\
nonce=&quot;OA6MG9tEQGm2hh&quot;,cnonce=&quot;OA6MHXh6VqTrRk&quot;,\
nc=00000001,qop=auth,digest-uri=&quot;xmpp/example.com&quot;,\
response=d388dad90d4bbd760a152321f2143af7,charset=utf-8

  What are these : username, realm, nonce, cnonce, nc, qop, digest-uri, response ? 
  Where do I get them from ? 
   
  (Sorry to be dense) 
   
   
   
  

Peter Saint-Andre &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">stpeter at jabber.org</A>&gt; wrote:
  -----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Adrian Adrian wrote:
&gt;<i> Hello,
</I>&gt;<i> I'm totally new with the xmpp protocol so this questions may seem too
</I>&gt;<i> easy if not plain stupid.
</I>&gt;<i> I want to comunicate with the the im (wildfire) server through TLS.So I
</I>&gt;<i> do what the docs tell me to do :
</I>&gt;<i> I send this command :
</I>&gt;<i> 
</I>&gt;<i> And server responds with :
</I>&gt;<i> 
</I>
&gt;<i> Now, if I read the docs correctly, I have to start a new stream and
</I>&gt;<i> begin SASL negotiation. Is this correct ?
</I>&gt;<i> If so, more questions will follow :) The digest-md5 is really making my
</I>&gt;<i> head spin.
</I>&gt;<i> Isn't there an easier way to establish a secure connection ? (without
</I>&gt;<i> receiving challenges and stuff)
</I>
Depends on what you mean by secure. :-)

There is an older, nearly-deprecated method for authentication between
clients and servers:

<A HREF="http://www.jabber.org/jeps/jep-0078.html">http://www.jabber.org/jeps/jep-0078.html</A>

In the old days clients could connect on a separate SSL-enabled port
(usually 5223, though that was never codified).

But with RFC 3920, it is preferred to upgrade to TLS on port 5222 and
then use SASL for authentication.

Are you writing your own library? Why not use one of the existing code
libraries that already does TLS+SASL?

Peter

- --
Peter Saint-Andre
Jabber Software Foundation
<A HREF="http://www.jabber.org/people/stpeter.shtml">http://www.jabber.org/people/stpeter.shtml</A>

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (Darwin)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFEGyLANF1RSzyt3NURAh6NAKDL/MysQyIZMTzojaZQdBI1m3kL/ACgvRbz
45Y3Jk8Co9PM7AJ5QfZEnF4=
=Y+/I
-----END PGP SIGNATURE-----


		
---------------------------------
Relax. Yahoo! Mail virus scanning helps detect nasty viruses!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://www.jabber.org/jdev/attachments/20060318/3734f742/attachment.htm">https://www.jabber.org/jdev/attachments/20060318/3734f742/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024276.html">[jdev] tsl negotiation over. Then what ?
</A></li>
	<LI>Next message: <A HREF="024280.html">[jdev] tls negotiation over. Then what ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24279">[ date ]</a>
              <a href="thread.html#24279">[ thread ]</a>
              <a href="subject.html#24279">[ subject ]</a>
              <a href="author.html#24279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

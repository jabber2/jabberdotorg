<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Is there any way to make sure that there will be a response	to presence stanza
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Is%20there%20any%20way%20to%20make%20sure%20that%20there%20will%20be%20a%20response%0A%09to%20presence%20stanza&In-Reply-To=%3C46287061.7020604%40fon.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055474.html">
   <LINK REL="Next"  HREF="055478.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Is there any way to make sure that there will be a response	to presence stanza</H1>
    <B>david hidalgo</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Is%20there%20any%20way%20to%20make%20sure%20that%20there%20will%20be%20a%20response%0A%09to%20presence%20stanza&In-Reply-To=%3C46287061.7020604%40fon.com%3E"
       TITLE="[jdev] Is there any way to make sure that there will be a response	to presence stanza">david.hidalgo at fon.com
       </A><BR>
    <I>Fri Apr 20 02:48:49 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="055474.html">[jdev] Is there any way to make sure that there will be a response	to presence stanza
</A></li>
        <LI>Next message: <A HREF="055478.html">[jdev] Is there any way to make sure that there will be a	response to presence stanza
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55477">[ date ]</a>
              <a href="thread.html#55477">[ thread ]</a>
              <a href="subject.html#55477">[ subject ]</a>
              <a href="author.html#55477">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sergej Andrejev escribi&#243;:
&gt;<i> I'm writing a PHP jabber/xmpp library. So far I can connect and do basic 
</I>&gt;<i> actions, but there is one problem. PHP cannot use unblocking stream when 
</I>&gt;<i> working with SSL. That means when I am sending stanza I must decide 
</I>&gt;<i> whether to wait for a response or not. For example when sending a 
</I>&gt;<i> &lt;message /&gt; I am not waiting for response, but when sending &lt;iq /&gt; I do. 
</I>&gt;<i> Now when sending &lt;presence /&gt; I am not really sure about the response 
</I>&gt;<i> and whether it will arrive or not. So if it arrives everything is fine, 
</I>&gt;<i> but when not my script just hangs there waiting for response. So what I 
</I>&gt;<i> am asking is that is there any type of &lt;presence /&gt; which will 100% 
</I>&gt;<i> return some data (and contacts, if there are some)
</I>
Hi, Sergej,
I'm a begginer in jabber app's development, so I'm learning trying anf 
failing...
When I send some xml to the server, I wait for a response in a bucle, 
something like this:
for($i=0; $i&lt;NUM_RETRIES; $i++) {
	$line = $this-&gt;receive();
         if (!empty($line)) {
         	return true;
	}
	sleep(SECONDS_TO_RETRY);
}
Obviously, it's not the better way, but I'm learning by the moment.

Regards,
David.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055474.html">[jdev] Is there any way to make sure that there will be a response	to presence stanza
</A></li>
	<LI>Next message: <A HREF="055478.html">[jdev] Is there any way to make sure that there will be a	response to presence stanza
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55477">[ date ]</a>
              <a href="thread.html#55477">[ thread ]</a>
              <a href="subject.html#55477">[ subject ]</a>
              <a href="author.html#55477">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

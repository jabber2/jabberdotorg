<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] That presence problem again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20That%20presence%20problem%20again&In-Reply-To=%3CPine.BSO.4.63.0704210355510.21093%40zodarblet.zerlargal.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055487.html">
   <LINK REL="Next"  HREF="055496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] That presence problem again</H1>
    <B>Bruce Campbell</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20That%20presence%20problem%20again&In-Reply-To=%3CPine.BSO.4.63.0704210355510.21093%40zodarblet.zerlargal.org%3E"
       TITLE="[jdev] That presence problem again">b+jabber at bruce-2007.zerlargal.org
       </A><BR>
    <I>Fri Apr 20 13:38:02 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="055487.html">[jdev] bad-request error type
</A></li>
        <LI>Next message: <A HREF="055496.html">[jdev] That presence problem again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55494">[ date ]</a>
              <a href="thread.html#55494">[ thread ]</a>
              <a href="subject.html#55494">[ subject ]</a>
              <a href="author.html#55494">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
This more of a 'what are people doing now' question, not a 'what should 
the implementations be doing'.

Lets say that my Jabber client has an avid desire to know the accurate 
online status of remote JIDs, and the roster subscriptions are 'both'.  To 
that end, my client makes the assumption that if no update to the status 
has been received in an hour, then something has possibly happened to the 
remote JID that hasn't been properly pushed to my client (remote server 
restart normally ).

How should my Jabber _client_ get the latest news about the remote JID?

The solutions that I've tried to get this information are:

   A) Presence probes.  Swallowed by some servers.
 	&lt;presence to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">remoteJID at some.where</A>' type='probe'/&gt;
       or
 	&lt;presence to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">remoteJID at some.where</A>' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">me at my.domain</A>' type='probe'/&gt;

   B) Directed presence saying unavailable then available again.
 	&lt;presence to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">remoteJID at some.where</A>' type='unavailable'/&gt;
 	&lt;presence to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">remoteJID at some.where</A>'/&gt;

   C) Subscribe to their presence again.
 	&lt;presence to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">remoteJID at some.where</A>' type='subscribe'/&gt;

and finally (this far less frequently than anything directed at a given 
JID):

   D) Unavailable then available again to the entire roster.
 	&lt;presence type='unavailable/&gt;&lt;presence/&gt;

Of these, the 'subscribe' trick seems to be the most consistent at 
returning the desired information.  'probe's seem to get swallowed by a 
number of servers, and appearing to go offline and online again just 
irritates the remote users.

Any other tricks that people use?

-- 
   Bruce Campbell.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055487.html">[jdev] bad-request error type
</A></li>
	<LI>Next message: <A HREF="055496.html">[jdev] That presence problem again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55494">[ date ]</a>
              <a href="thread.html#55494">[ thread ]</a>
              <a href="subject.html#55494">[ subject ]</a>
              <a href="author.html#55494">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Cannot send stanza
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Cannot%20send%20stanza&In-Reply-To=%3C59290844-3A81-465F-A400-D58FCFE9720D%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055486.html">
   <LINK REL="Next"  HREF="055464.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Cannot send stanza</H1>
    <B>Sergej Andrejev</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Cannot%20send%20stanza&In-Reply-To=%3C59290844-3A81-465F-A400-D58FCFE9720D%40gmail.com%3E"
       TITLE="[jdev] Cannot send stanza">sandrejev at gmail.com
       </A><BR>
    <I>Wed Apr 18 05:52:10 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="055486.html">[jdev] What is the purpose of the rspauth?
</A></li>
        <LI>Next message: <A HREF="055464.html">[jdev] Cannot send stanza
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55463">[ date ]</a>
              <a href="thread.html#55463">[ thread ]</a>
              <a href="subject.html#55463">[ subject ]</a>
              <a href="author.html#55463">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi guys,

I'm trying to write a client which will connect to jabber server over  
TLS. For so far I have connected to server, authorized, but the  
problem is that I cannot send any stanza.

C:
&lt;stream:stream to='jabber.org' xmlns='jabber:client'  
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> version='1.0'&gt;

S:
&lt;?xml version='1.0'?&gt;&lt;stream:stream xmlns='jabber:client'  
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> id='1619528249'  
from='jabber.org' version='1.0'  
xml:lang='en'&gt;&lt;stream:features&gt;&lt;starttls  
xmlns='urn:ietf:params:xml:ns:xmpp-tls'/&gt;&lt;compression xmlns='http:// 
jabber.org/features/compress'&gt;&lt;method&gt;zlib&lt;/method&gt;&lt;/ 
compression&gt;&lt;mechanisms xmlns='urn:ietf:params:xml:ns:xmpp- 
sasl'&gt;&lt;mechanism&gt;DIGEST-MD5&lt;/mechanism&gt;&lt;mechanism&gt;PLAIN&lt;/mechanism&gt;&lt;/ 
mechanisms&gt;&lt;register xmlns='<A HREF="http://jabber.org/features/iq-register'/">http://jabber.org/features/iq-register'/</A> 
 &gt;&lt;/stream:features&gt;

C:
&lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls' /&gt;

S:
&lt;proceed xmlns='urn:ietf:params:xml:ns:xmpp-tls'/&gt;

C:
&lt;stream:stream to='jabber.org' xmlns='jabber:client'  
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> version='1.0'&gt;

S:
&lt;?xml version='1.0'?&gt;&lt;stream:stream xmlns='jabber:client'  
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> id='3304439314'  
from='jabber.org' version='1.0'  
xml:lang='en'&gt;&lt;stream:features&gt;&lt;mechanisms  
xmlns='urn:ietf:params:xml:ns:xmpp-sasl'&gt;&lt;mechanism&gt;DIGEST-MD5&lt;/ 
mechanism&gt;&lt;mechanism&gt;PLAIN&lt;/mechanism&gt;&lt;/mechanisms&gt;&lt;register  
xmlns='<A HREF="http://jabber.org/features/iq-register'/">http://jabber.org/features/iq-register'/</A>&gt;&lt;/stream:features&gt;

C:
&lt;auth xmlns=&quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;  
mechanism=&quot;PLAIN&quot;&gt;AHBLALBALBAwMjA=&lt;/auth&gt;

S:
&lt;success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/&gt;

C:
&lt;stream:stream to='jabber.org' xmlns='jabber:client'  
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> version='1.0'&gt;

S:
&lt;?xml version='1.0'?&gt;&lt;stream:stream xmlns='jabber:client'  
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> id='2997768092'  
from='jabber.org' version='1.0' xml:lang='en'&gt;&lt;stream:features&gt;&lt;bind  
xmlns='urn:ietf:params:xml:ns:xmpp-bind'/&gt;&lt;session  
xmlns='urn:ietf:params:xml:ns:xmpp-session'/&gt;&lt;/stream:features&gt;

C:
&lt;iq type=&quot;set&quot; id=&quot;10001&quot;&gt;&lt;bind xmlns=&quot;urn:ietf:params:xml:ns:xmpp- 
bind&quot;&gt;&lt;resource&gt;Gaim&lt;/resource&gt;&lt;/bind&gt;&lt;/iq&gt;

S:
&lt;iq id='10001' type='result'&gt;&lt;bind xmlns='urn:ietf:params:xml:ns:xmpp- 
bind'&gt;&lt;jid&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">sandrejev at jabber.org</A>/Gaim&lt;/jid&gt;&lt;/bind&gt;&lt;/iq&gt;



... After bind i cannot send no type of stanza. Anything I send just  
goes there  with no response.  I don't get it am i doing something  
wrong. As you can see I have connected and authorized successfully


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055486.html">[jdev] What is the purpose of the rspauth?
</A></li>
	<LI>Next message: <A HREF="055464.html">[jdev] Cannot send stanza
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55463">[ date ]</a>
              <a href="thread.html#55463">[ thread ]</a>
              <a href="subject.html#55463">[ subject ]</a>
              <a href="author.html#55463">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

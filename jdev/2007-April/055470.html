<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] How to create a MUC room
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20How%20to%20create%20a%20MUC%20room&In-Reply-To=%3C46276D12.4070705%40fon.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055469.html">
   <LINK REL="Next"  HREF="055471.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] How to create a MUC room</H1>
    <B>david hidalgo</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20How%20to%20create%20a%20MUC%20room&In-Reply-To=%3C46276D12.4070705%40fon.com%3E"
       TITLE="[jdev] How to create a MUC room">david.hidalgo at fon.com
       </A><BR>
    <I>Thu Apr 19 08:22:26 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="055469.html">[jdev] Problem in SASL authentication
</A></li>
        <LI>Next message: <A HREF="055471.html">[jdev] How to create a MUC room
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55470">[ date ]</a>
              <a href="thread.html#55470">[ thread ]</a>
              <a href="subject.html#55470">[ subject ]</a>
              <a href="author.html#55470">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!
I'm trying to create a MUC room using a php script, but if fails.
My php script (the client) connects to my server, it authenticates, 
sends messages to other users, receives events wihtout problems... But 
it fails when I try to create a MUC room the server.
I'm sending this xml to the server...
&lt;presence
     from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">myuser at domain.com</A>'
     to='server.com'&gt;
   &lt;x xmlns='<A HREF="http://jabber.org/protocol/muc'/">http://jabber.org/protocol/muc'/</A>&gt;
&lt;/presence&gt;
&lt;iq from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">myuser at domain.com</A>'
     id='create1'
     to='server.com'
     type='set'&gt;
   &lt;query xmlns='<A HREF="http://jabber.org/protocol/muc#owner'">http://jabber.org/protocol/muc#owner'</A>&gt;
     &lt;x xmlns='jabber:x:data' type='submit'/&gt;
   &lt;/query&gt;
&lt;/iq&gt;

As you can see, i'm specifying the &quot;to&quot; attribute with the jabber server 
host. I understand that &quot;from&quot; attribute is my own user, but I don't 
know what i should specify for &quot;to&quot; attribute. Who or what is &quot;to&quot;, is 
the server host?
Well, the server sends me the next response...
&lt;iq
     from='server.com'
     to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">myuser at domain.com</A>/Resource'
     type='error'
     id='create1'&gt;
   &lt;query xmlns='<A HREF="http://jabber.org/protocol/muc#owner'">http://jabber.org/protocol/muc#owner'</A>&gt;
     &lt;x xmlns='jabber:x:data' type='submit'/&gt;
   &lt;/query&gt;
   &lt;error code='501' type='cancel'&gt;
     &lt;feature-not-implemented
       xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;
   &lt;/error&gt;
&lt;/iq&gt;

I'm not the server admin, so, I don't know what he must to configurate 
to allow MUC rooms. Could you help me? I'd like what to configurate, or 
what i'm sending wrong to the server.

Oh, we are using eJabberd 1.1.2 as server.

Thank you!!!

David.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055469.html">[jdev] Problem in SASL authentication
</A></li>
	<LI>Next message: <A HREF="055471.html">[jdev] How to create a MUC room
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55470">[ date ]</a>
              <a href="thread.html#55470">[ thread ]</a>
              <a href="subject.html#55470">[ subject ]</a>
              <a href="author.html#55470">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

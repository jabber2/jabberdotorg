<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] That presence problem again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20That%20presence%20problem%20again&In-Reply-To=%3C46294073.70504%40dobson-i.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084783.html">
   <LINK REL="Next"  HREF="084785.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] That presence problem again</H1>
    <B>Richard Dobson</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20That%20presence%20problem%20again&In-Reply-To=%3C46294073.70504%40dobson-i.net%3E"
       TITLE="[jdev] That presence problem again">richard at dobson-i.net
       </A><BR>
    <I>Fri Apr 20 17:36:35 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="084783.html">[jdev] That presence problem again
</A></li>
        <LI>Next message: <A HREF="084785.html">[jdev] That presence problem again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84784">[ date ]</a>
              <a href="thread.html#84784">[ thread ]</a>
              <a href="subject.html#84784">[ subject ]</a>
              <a href="author.html#84784">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nathan Fritz wrote:
&gt;<i> I don't see this as being the client's job.  Perhaps the protocol could 
</I>&gt;<i> be changed to either make more assumptions such as &quot;if the s2s 
</I>&gt;<i> connection is closed unexpectedly, then the server SHOULD consider all 
</I>&gt;<i> jids connected to it as offline&quot; and perhaps even the suggestion of &quot;If 
</I>&gt;<i> an available jid has not sent any presence updates in an hour, the 
</I>&gt;<i> server SHOULD probe for an update.&quot; The protocol provides methods to 
</I>&gt;<i> solve this problem on the server end.  I don't believe that the client 
</I>&gt;<i> should take it upon itself to nag about presence, as presence is high 
</I>&gt;<i> traffic enough as it is.
</I>&gt;<i> 
</I>&gt;<i> The problem boils down to s2s not having specific recommendations on 
</I>&gt;<i> what to assume about presence, nor what to do when there are 
</I>&gt;<i> connectivity issues.
</I>
Yea id definately agree that this must be solved by the server on the 
clients behalf, id say that if s2s connections are not closed cleanly 
with the appropriate stream errors then a recovery operation should go 
into action where the server will immediately try to re-establish the 
s2s connections, if this fails it should assume all the contacts at that 
domain are offline, if it suceeds it should probe, but for the probe I 
think we do need to create something a bit more efficient than probing 
each contact individually. Also if the s2s connection is cleanly closed 
the servers should do this probing periodically to check everything is 
still ok, although hopefully there will normally be enough traffic 
between domains that this doesn't need to happen often.

Richard


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084783.html">[jdev] That presence problem again
</A></li>
	<LI>Next message: <A HREF="084785.html">[jdev] That presence problem again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84784">[ date ]</a>
              <a href="thread.html#84784">[ thread ]</a>
              <a href="subject.html#84784">[ subject ]</a>
              <a href="author.html#84784">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

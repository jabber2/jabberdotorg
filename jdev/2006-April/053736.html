<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] sasl plain again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20sasl%20plain%20again&In-Reply-To=%3C20060417130900.44555.qmail%40web50602.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053735.html">
   <LINK REL="Next"  HREF="053737.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] sasl plain again</H1>
    <B>Adrian Adrian</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20sasl%20plain%20again&In-Reply-To=%3C20060417130900.44555.qmail%40web50602.mail.yahoo.com%3E"
       TITLE="[jdev] sasl plain again">flashbk2003 at yahoo.com
       </A><BR>
    <I>Mon Apr 17 08:09:00 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="053735.html">[jdev] sasl plain again
</A></li>
        <LI>Next message: <A HREF="053737.html">[jdev] sasl plain again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53736">[ date ]</a>
              <a href="thread.html#53736">[ thread ]</a>
              <a href="subject.html#53736">[ subject ]</a>
              <a href="author.html#53736">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey, 
  
  I used a packet sniffer as you suggested and sadly I was able to see  all packets, including the ones that came after the server said  &quot;proceed&quot;.
  I then used a commercial  im client  and tried to sniff,  and  this one worked as expected.  Everything after &quot;proceed&quot;  was encrypted. 
  
  I don't get it. I wonder if this could be a platform issue (my  application is based on flash player 8 so that's  actionscript  virtual machine)  or if I misunderstood the tls plain  authentication in the first place. 
  
  Here's my full comunication : 
  
  Client:
  &lt;?xml version=&quot;1.0&quot;?&gt;&lt;flash:stream to=&quot;myserver&quot;  xmlns=&quot;jabber:client&quot; xmlns:flash=&quot;<A HREF="http://www.jabber.com/streams/flash&quot;">http://www.jabber.com/streams/flash&quot;</A>  version=&quot;1.0&quot;&gt;
  
  Server:
  &lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;flash:stream  xmlns:flash=&quot;<A HREF="http://www.jabber.com/streams/flash&quot;">http://www.jabber.com/streams/flash&quot;</A>  xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams&quot;">http://etherx.jabber.org/streams&quot;</A> xmlns=&quot;jabber:client&quot;  from=&quot;myserver&quot; id=&quot;77241f23&quot; xml:lang=&quot;en&quot;  version=&quot;1.0&quot;&gt;&lt;stream:features&gt;&lt;starttls  xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;&gt;&lt;/starttls&gt;&lt;mechanisms  xmlns=&quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;&gt;&lt;mechanism&gt;CRAM-MD5&lt;/mechanism&gt;&lt;mechanism&gt;DIGEST-MD5&lt;/mechanism&gt;&lt;mechanism&gt;PLAIN&lt;/mechanism&gt;&lt;mechanism&gt;ANONYMOUS&lt;/mechanism&gt;&lt;/mechanisms&gt;&lt;auth  xmlns=&quot;<A HREF="http://jabber.org/features/iq-auth&quot;/">http://jabber.org/features/iq-auth&quot;/</A>&gt;&lt;register  xmlns=&quot;<A HREF="http://jabber.org/features/iq-register&quot;/">http://jabber.org/features/iq-register&quot;/</A>&gt;&lt;/stream:features&gt;
  
  Client
  &lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls'/&gt;
  
  Server
  &lt;proceed xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;/&gt;
  
  Client
  &lt;?xml version=&quot;1.0&quot;?&gt;&lt;flash:stream to=&quot;myserver&quot;  xmlns=&quot;jabber:client&quot; xmlns:flash=&quot;<A HREF="http://www.jabber.com/streams/flash&quot;">http://www.jabber.com/streams/flash&quot;</A>  version=&quot;1.0&quot;&gt;
  
  Server
   &lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;flash:stream  xmlns:flash=&quot;<A HREF="http://www.jabber.com/streams/flash&quot;">http://www.jabber.com/streams/flash&quot;</A>  xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams&quot;">http://etherx.jabber.org/streams&quot;</A> xmlns=&quot;jabber:client&quot;  from=&quot;myserver&quot; id=&quot;77241f23&quot; xml:lang=&quot;en&quot;  version=&quot;1.0&quot;&gt;&lt;stream:features&gt;&lt;starttls  xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;&gt;&lt;/starttls&gt;&lt;mechanisms  xmlns=&quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;&gt;&lt;mechanism&gt;CRAM-MD5&lt;/mechanism&gt;&lt;mechanism&gt;DIGEST-MD5&lt;/mechanism&gt;&lt;mechanism&gt;PLAIN&lt;/mechanism&gt;&lt;mechanism&gt;ANONYMOUS&lt;/mechanism&gt;&lt;/mechanisms&gt;&lt;auth  xmlns=&quot;<A HREF="http://jabber.org/features/iq-auth&quot;/">http://jabber.org/features/iq-auth&quot;/</A>&gt;&lt;register  xmlns=&quot;<A HREF="http://jabber.org/features/iq-register&quot;/">http://jabber.org/features/iq-register&quot;/</A>&gt;&lt;/stream:features&gt;
  
  Client
   &lt;auth xmlns='urn:ietf:params:xml:ns:xmpp-sasl'mechanism='PLAIN'&gt;[Base64 stuff]&lt;/auth&gt;
  
  Server
  &lt;success xmlns=&quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;/&gt;
  
  Client
  &lt;?xml version=&quot;1.0&quot;?&gt;&lt;flash:stream to=&quot;myserver&quot;  xmlns=&quot;jabber:client&quot; xmlns:flash=&quot;<A HREF="http://www.jabber.com/streams/flash&quot;">http://www.jabber.com/streams/flash&quot;</A>  version=&quot;1.0&quot;&gt;
  
  Server
  &lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;flash:stream  xmlns:flash=&quot;<A HREF="http://www.jabber.com/streams/flash&quot;">http://www.jabber.com/streams/flash&quot;</A>  xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams&quot;">http://etherx.jabber.org/streams&quot;</A> xmlns=&quot;jabber:client&quot;  from=&quot;myserver&quot; id=&quot;d1eecb8b&quot; xml:lang=&quot;en&quot;  version=&quot;1.0&quot;&gt;&lt;stream:features&gt;&lt;starttls  xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;&gt;&lt;/starttls&gt;&lt;mechanisms  xmlns=&quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;&gt;&lt;mechanism&gt;CRAM-MD5&lt;/mechanism&gt;&lt;mechanism&gt;DIGEST-MD5&lt;/mechanism&gt;&lt;mechanism&gt;PLAIN&lt;/mechanism&gt;&lt;mechanism&gt;ANONYMOUS&lt;/mechanism&gt;&lt;/mechanisms&gt;&lt;auth  xmlns=&quot;<A HREF="http://jabber.org/features/iq-auth&quot;/">http://jabber.org/features/iq-auth&quot;/</A>&gt;&lt;register  xmlns=&quot;<A HREF="http://jabber.org/features/iq-register&quot;/">http://jabber.org/features/iq-register&quot;/</A>&gt;&lt;/stream:features&gt;
  
  Client
  &lt;iq id=&quot;log_user_1&quot; type=&quot;get&quot;&gt;&lt;query  xmlns=&quot;jabber:iq:auth&quot;&gt;&lt;username&gt;userName&lt;/username&gt;&lt;/query&gt;&lt;/iq&gt;
  
  Server
  &lt;iq type=&quot;result&quot; id=&quot;log_user_1&quot;&gt;&lt;query  xmlns=&quot;jabber:iq:auth&quot;&gt;&lt;username&gt;userName&lt;/username&gt;&lt;password/&gt;&lt;digest/&gt;&lt;resource/&gt;&lt;/query&gt;&lt;/iq&gt;
  
  etc etc
  
What am I doing wrong ? 
  
  Many thanks,
  Adrian. 
  
  
Norman Rasmussen &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at rasmussen.co.za</A>&gt; wrote:If you're enabling TLS then it's secure as any https connection
(excepting the fact that certs are not checked correctly, etc).

If you're worried, try running tcpdump (or any other packet sniffer),
and check out the data that flows back and forth.  You _should_ see
the initial xml stream, and the starttls request, but after that
everything should look encrypted.

--
- Norman Rasmussen
 - Email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at rasmussen.co.za</A>
 - Home page: <A HREF="http://norman.rasmussen.co.za/">http://norman.rasmussen.co.za/</A>


		
---------------------------------
Talk is cheap. Use Yahoo! Messenger to make PC-to-Phone calls.  Great rates starting at 1&amp;cent;/min.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20060417/5378d6bb/attachment-0001.htm">https://www.jabber.org/jdev/attachments/20060417/5378d6bb/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053735.html">[jdev] sasl plain again
</A></li>
	<LI>Next message: <A HREF="053737.html">[jdev] sasl plain again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53736">[ date ]</a>
              <a href="thread.html#53736">[ thread ]</a>
              <a href="subject.html#53736">[ subject ]</a>
              <a href="author.html#53736">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

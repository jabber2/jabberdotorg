<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] 'service requested for unknown domain' Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20%27service%20requested%20for%20unknown%20domain%27%20Problem&In-Reply-To=%3CKLEIIHPKBHGBHJCGLFHECEBOCAAA.dennis%40telepronto.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083096.html">
   <LINK REL="Next"  HREF="083084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] 'service requested for unknown domain' Problem</H1>
    <B>Dennis Philpot</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20%27service%20requested%20for%20unknown%20domain%27%20Problem&In-Reply-To=%3CKLEIIHPKBHGBHJCGLFHECEBOCAAA.dennis%40telepronto.de%3E"
       TITLE="[jdev] 'service requested for unknown domain' Problem">dennis at telepronto.de
       </A><BR>
    <I>Tue Apr 25 07:36:37 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="083096.html">[jdev] ejabberd 1.1.0 released
</A></li>
        <LI>Next message: <A HREF="083084.html">[jdev] Re: jabber and video chat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83083">[ date ]</a>
              <a href="thread.html#83083">[ thread ]</a>
              <a href="subject.html#83083">[ subject ]</a>
              <a href="author.html#83083">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello everybody,

i hope i can find some help in here. I want to develop a php Jabber client
and got some problems from the very first steps.

I'm opening a socket connection to the jabber-server and sending the
following:
----snip----
&lt;?xml version='1.0' encoding='UTF-8' ?&gt;
&lt;stream:stream to='{jabber.domain.tdl}' xmlns='jabber:client'
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>&gt;
&lt;iq type='get' id='auth_11474daa1621fcf9c870dcc0392846c4'&gt;
	&lt;query xmlns='jabber:iq:auth'&gt;
		&lt;username&gt;
			{test}
		&lt;/username&gt;
	&lt;/query&gt;
&lt;/iq&gt;
----snap----

after this I'm waiting for the response (2 sec) and request a block of 4096
bytes with the following content:
----snip----
&lt;?xml version='1.0'?&gt;
&lt;stream:stream from='{jabber.domain.tdl}' xmlns='jabber:client'
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>
id='cyyl9sxo6hyldefbvnyhio3lwaff7hqkgo5ph2do'&gt;
	&lt;stream:error xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>&gt;
		&lt;host-unknown xmlns='urn:ietf:params:xml:ns:xmpp-streams'/&gt;
			&lt;text xmlns='urn:ietf:params:xml:ns:xmpp-streams'&gt;
				service requested for unknown domain
			&lt;/text&gt;
		&lt;/stream:error&gt;
	&lt;/stream:stream&gt;
&lt;/stream:stream&gt;
----snap----

Now the to the confusing part:
1. The PSI client works perfektly on the Jabberserver
2. The host-unknown message give me the following information (AFAIK): the
domain in the c2s.xml isn't the requested domain in the php-script. Well
this seems to be a good point to start, but the domain's and vhost's are the
same, the IP is configured correctly and so on.
So basicly the Jabberserver is running correctly and every client can
connect, excluding mine.

So i hope i can get here some help for my, hopefully, little problem.

Cheers

Dennis


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083096.html">[jdev] ejabberd 1.1.0 released
</A></li>
	<LI>Next message: <A HREF="083084.html">[jdev] Re: jabber and video chat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83083">[ date ]</a>
              <a href="thread.html#83083">[ thread ]</a>
              <a href="subject.html#83083">[ subject ]</a>
              <a href="author.html#83083">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Digest URIs for XMPP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Digest%20URIs%20for%20XMPP&In-Reply-To=%3C49E4B789.40800%40stpeter.im%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="087629.html">
   <LINK REL="Next"  HREF="087632.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Digest URIs for XMPP</H1>
    <B>Peter Saint-Andre</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Digest%20URIs%20for%20XMPP&In-Reply-To=%3C49E4B789.40800%40stpeter.im%3E"
       TITLE="[jdev] Digest URIs for XMPP">stpeter at stpeter.im
       </A><BR>
    <I>Tue Apr 14 11:19:21 CDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="087629.html">[jdev] Digest URIs for XMPP
</A></li>
        <LI>Next message: <A HREF="087632.html">[jdev] Digest URIs for XMPP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87630">[ date ]</a>
              <a href="thread.html#87630">[ thread ]</a>
              <a href="subject.html#87630">[ subject ]</a>
              <a href="author.html#87630">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/14/09 6:08 AM, Jonathan Dickinson wrote:
&gt;<i> I am busy doing the SASL lib for my server/client (almost completely
</I>&gt;<i> finished with DIGEST-MD5). I was just wondering what the common practice
</I>&gt;<i> is for digest-uris with varying ports. Some people use them as follows:
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Port 80:
</I>&gt;<i> 
</I>&gt;<i> http/www.foo.com
</I>&gt;<i> 
</I>&gt;<i> Port 8080:
</I>&gt;<i> 
</I>&gt;<i> http/www.foo.com
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Where others:
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Port 80:
</I>&gt;<i> 
</I>&gt;<i> http/www.foo.com
</I>&gt;<i> 
</I>&gt;<i> Port 8080:
</I>&gt;<i> 
</I>&gt;<i> http/www.foo.com:8080
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> So which one is in common use in the XMPP world?
</I>
Isn't this what SRV records are for?

&gt;<i> Also where the connect server is different I would assume the following
</I>&gt;<i> would apply (I am just confirming what I have read):
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> xmpp/talk.google.com/google.com
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Or even:
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> xmpp/talk.google.com/gmail.com
</I>
As you know from RFC 2831, the format is:

serv-type &quot;/&quot; host [ &quot;/&quot; serv-name ]

The serv-type is always xmpp for us.

The host is the machine you connect to (or discover via SRV).

The serv-name is the name used by the client to discover the machine.

In the case of Google Talk, you look up gmail.com (or googlemail.com or
whatever) and discover things like this:

$ dig +short -t SRV _xmpp-client._tcp.gmail.com
20 0 5222 talk4.l.google.com.
5 0 5222 talk.l.google.com.
20 0 5222 talk1.l.google.com.
20 0 5222 talk2.l.google.com.
20 0 5222 talk3.l.google.com.

So I think that the resulting digest-uri would be of this form:

xmpp/talk.l.google.com/gmail.com

But I freely admit that this might be subject to interpretation, as so
many things are when it comes to the DIGEST-MD5 SASL mechanism. :(

Peter

-- 
Peter Saint-Andre
<A HREF="https://stpeter.im/">https://stpeter.im/</A>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 6751 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20090414/8a53d1c3/attachment-0003.bin">https://www.jabber.org/jdev/attachments/20090414/8a53d1c3/attachment-0003.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="087629.html">[jdev] Digest URIs for XMPP
</A></li>
	<LI>Next message: <A HREF="087632.html">[jdev] Digest URIs for XMPP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87630">[ date ]</a>
              <a href="thread.html#87630">[ thread ]</a>
              <a href="subject.html#87630">[ subject ]</a>
              <a href="author.html#87630">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

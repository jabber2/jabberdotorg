<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] DSO Interface
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20DSO%20Interface&In-Reply-To=20001020112033.A20504%40lister.sourcegear.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004305.html">
   <LINK REL="Next"  HREF="004280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] DSO Interface</H1>
    <B>Thomas Muldowney</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20DSO%20Interface&In-Reply-To=20001020112033.A20504%40lister.sourcegear.com"
       TITLE="[JDEV] DSO Interface">temas at box5.net
       </A><BR>
    <I>Fri Oct 20 12:10:08 CDT 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="004305.html">[JDEV] DSO Interface
</A></li>
        <LI>Next message: <A HREF="004280.html">[JDEV] Connecting to the server.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4308">[ date ]</a>
              <a href="thread.html#4308">[ thread ]</a>
              <a href="subject.html#4308">[ subject ]</a>
              <a href="author.html#4308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok I'll summarize the current methods for an agent to interface with the server
First is base_accept, which is similar to the current etherx style, where the
agent connects to the server.  Next is base_connect, which is the opposite, the
server connects to you.  Then we have base_exec, this is the module that will
launch a program and use the stdin and stdout for communications with it. 
Finally you can create a DSO component.

Like we've also mentioned previously we'll probably be moving away from pth
after 1.2

I'm going to work on some docs today, I'll let everyone know how that goes.

--temas

On Fri, Oct 20, 2000 at 11:20:33AM -0500, Shaw Terwilliger wrote:
&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mark at mjwilcox.com</A> wrote:
</I>&gt;<i> &gt; Besides DSO you can also write components that spawn a 
</I>&gt;<i> &gt; seperate persisent process that comunicates via STDIN/STDOUT 
</I>&gt;<i> &gt; or a seperate server. 
</I>&gt;<i> 
</I>&gt;<i> This interests me very much.  Working in the DSO space means dealing with
</I>&gt;<i> pth (which I like much less than pthreads), and no re-entrant glib functions
</I>&gt;<i> (this might be possible, but flipping the right CFLAGS is a pain).
</I>&gt;<i> 
</I>&gt;<i> Is there any documentation on the stdin/stdout interface?  Also, since I'm
</I>&gt;<i> working with the older jserver code, and the DSO interfaces don't appear to
</I>&gt;<i> be in the new tree, I'm assuming the stdin/stdout interface will be easier
</I>&gt;<i> to port to new versions of Jabber.
</I>&gt;<i> 
</I>&gt;<i> The reason I chose the DSO over running my own server is I need to map
</I>&gt;<i> the stateful connection Jabber uses to a stateless one used by an
</I>&gt;<i> external client system already in place.  To do this, I have to keep track
</I>&gt;<i> of open sessions in my DSO, much like svc_http does, so I need to do more
</I>&gt;<i> than pump XML through a Jabber client port.  I need to be able to flip
</I>&gt;<i> user presences on and off at will, handle automatic subscription approvals,
</I>&gt;<i> receive all messages for logged in users and route them to the other network,
</I>&gt;<i> etc.  Because of the large number of &quot;stateless clients&quot; on that existing
</I>&gt;<i> network I mentioned (up to 10,000 at a time), writing my own server that 
</I>&gt;<i> opens one TCP/IP socket connection per &quot;online&quot; user would be out of the
</I>&gt;<i> question.  I took a quick look at svc_mux the other day, and the idea of
</I>&gt;<i> multiplexing connections through a single socket occured to me, as an 
</I>&gt;<i> alternative to writing my own DSO to handle all session state.  Will the 
</I>&gt;<i> stdin/stdout interface let me handle multiple sessions?
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Shaw Terwilliger &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">sterwill at sourcegear.com</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
Url : <A HREF="https://www.jabber.org/jdev/attachments/20001020/1ab97606/attachment.pgp">https://www.jabber.org/jdev/attachments/20001020/1ab97606/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004305.html">[JDEV] DSO Interface
</A></li>
	<LI>Next message: <A HREF="004280.html">[JDEV] Connecting to the server.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4308">[ date ]</a>
              <a href="thread.html#4308">[ thread ]</a>
              <a href="subject.html#4308">[ subject ]</a>
              <a href="author.html#4308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

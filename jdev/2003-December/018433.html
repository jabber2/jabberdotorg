<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Yahoo-t Transport Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Yahoo-t%20Transport%20Problem&In-Reply-To=3FDE37FA.2040101%40terrapin.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018427.html">
   <LINK REL="Next"  HREF="018438.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Yahoo-t Transport Problem</H1>
    <B>Wes Morgan</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Yahoo-t%20Transport%20Problem&In-Reply-To=3FDE37FA.2040101%40terrapin.com"
       TITLE="[JDEV] Yahoo-t Transport Problem">wesm at libretech.org
       </A><BR>
    <I>Mon Dec 15 21:38:50 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="018427.html">[JDEV] Yahoo-t Transport Problem
</A></li>
        <LI>Next message: <A HREF="018438.html">[JDEV] Yahoo-t Transport Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18433">[ date ]</a>
              <a href="thread.html#18433">[ thread ]</a>
              <a href="subject.html#18433">[ subject ]</a>
              <a href="author.html#18433">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Things seem to be working better already with this patch on my server. Thank 
you for your hard work, Paul. The Yahoo! transport is a very nice piece of 
work. :)

Wes Morgan

On Monday 15 December 2003 03:38 pm, Paul Curtis wrote:
&gt;<i> Some users and admins have benn experiencing connection problems with the
</I>&gt;<i> Yahoo transport. I have traced the problem to Yahoo, and it seems that upon
</I>&gt;<i> initial connection, Yahoo is not responding. The problem is random, and I
</I>&gt;<i> haven't been able to predict when it will occur. This causes problems for
</I>&gt;<i> user's sessions, as they are left running and connected. Below is a small
</I>&gt;<i> patch for the yahoo-phandler.c to help with this problem.
</I>&gt;<i>
</I>&gt;<i> I am currently working on an update to the transport, but in the mean time,
</I>&gt;<i> the below code will reset the user's session when the problem occurs. The
</I>&gt;<i> symptoms are obvious: the transport sends an error packet to the client
</I>&gt;<i> approximately 30 seconds after the initial attempt to connect to Yahoo. The
</I>&gt;<i> below code will not change the behavior of the transport EXCEPT when Yahoo
</I>&gt;<i> does not respond within the 30 second timeout.
</I>&gt;<i>
</I>&gt;<i> Starting on line 97 of yahoo-phandler.c (version 2.2.0 of the transport)
</I>&gt;<i> the new code should be:
</I>&gt;<i>
</I>&gt;<i>     if (i &gt;= yi-&gt;timeout) {
</I>&gt;<i>        if (yd)
</I>&gt;<i>           yahoo_close(yd);
</I>&gt;<i>        jutil_error(jp-&gt;x, TERROR_INTERNAL);
</I>&gt;<i>        yahoo_deliver(NULL,jp-&gt;x);
</I>&gt;<i>        return;
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i> Please make the changes to the source code, compile, and restart the
</I>&gt;<i> transport. I'll be updating more soon.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Paul
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>
- -- 
This American dream may be poisonous
Violence is contagious
Crowded or empty
I walk these city streets alone
Whoever brought me here
Is gonna have to take me home

&quot;What I'll Remember Most&quot; - Over the Rhine
- ----------------------------------
Libretech.org - Technology Is Free (<A HREF="http://www.libretech.org">http://www.libretech.org</A>)
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)

iD8DBQE/3n5KI89ooLagmnQRAjHEAKCdfhpiMgeuYUurOr7Fw37LE1iJqwCggyDH
wXqwrFGLMwxgcFeN6lVzNdM=
=XF3R
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018427.html">[JDEV] Yahoo-t Transport Problem
</A></li>
	<LI>Next message: <A HREF="018438.html">[JDEV] Yahoo-t Transport Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18433">[ date ]</a>
              <a href="thread.html#18433">[ thread ]</a>
              <a href="subject.html#18433">[ subject ]</a>
              <a href="author.html#18433">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

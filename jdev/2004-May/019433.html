<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] recipient of a packet
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20recipient%20of%20a%20packet&In-Reply-To=40B1C96C.1050104%40gicm.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019431.html">
   <LINK REL="Next"  HREF="019443.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] recipient of a packet</H1>
    <B>Matthias Wimmer</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20recipient%20of%20a%20packet&In-Reply-To=40B1C96C.1050104%40gicm.fr"
       TITLE="[jdev] recipient of a packet">m at tthias.net
       </A><BR>
    <I>Mon May 24 10:30:25 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="019431.html">[jdev] recipient of a packet
</A></li>
        <LI>Next message: <A HREF="019443.html">[jdev] Need help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19433">[ date ]</a>
              <a href="thread.html#19433">[ thread ]</a>
              <a href="subject.html#19433">[ subject ]</a>
              <a href="author.html#19433">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Remy!

Remy HAREL schrieb am 2004-05-24 12:07:40:
&gt;<i>  I'm looking for the full jid of the recipient of a packet, in c2s 
</I>&gt;<i> module.Can I determine it by using this command :
</I>&gt;<i> 
</I>&gt;<i> tmp = nad_find_attr ( nad, 0, -1, &quot;to&quot;, NULL )
</I>&gt;<i> 
</I>&gt;<i> But this will return an integer, will not ? I'd prefer a char* because 
</I>&gt;<i> the full jid is a char*. Is it the good way to get the full jid of the 
</I>&gt;<i> recipient of a packet or is there a better solution ( need in c2s.c ) ?
</I>
I do not know why you want to check for the receipient of the packet in
c2s. If you check packets from the sm you might already have the
receipient parsed in the code as c2s has to deliver the packets.
If you want it for packets that arrived from a client, I am not sure if
it is a good idea ...

In any case ... nad_find_attr will return you an integer that is
something like a handle. You can use the macros NAD_AVAL and NAD_AVAL_L
... the first will return a pointer to the string (that is NOT zero
terminated!) and the second will give you the length of the string.


Tot kijk
    Matthias

-- 
Fon: +49-(0)70 0770 07770       <A HREF="http://matthias.wimmer.name/">http://matthias.wimmer.name/</A>
HAM: DB1MW                      xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mawis at amessage.info</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : <A HREF="https://www.jabber.org/jdev/attachments/20040524/20c96615/attachment.pgp">https://www.jabber.org/jdev/attachments/20040524/20c96615/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019431.html">[jdev] recipient of a packet
</A></li>
	<LI>Next message: <A HREF="019443.html">[jdev] Need help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19433">[ date ]</a>
              <a href="thread.html#19433">[ thread ]</a>
              <a href="subject.html#19433">[ subject ]</a>
              <a href="author.html#19433">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

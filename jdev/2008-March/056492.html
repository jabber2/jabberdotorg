<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Issues With Subscription Requests (Block and Unblock)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Issues%20With%20Subscription%20Requests%20%28Block%20and%20Unblock%29&In-Reply-To=%3C25026.1204899262.652002%40peirce.dave.cridland.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056491.html">
   <LINK REL="Next"  HREF="056493.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Issues With Subscription Requests (Block and Unblock)</H1>
    <B>Dave Cridland</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Issues%20With%20Subscription%20Requests%20%28Block%20and%20Unblock%29&In-Reply-To=%3C25026.1204899262.652002%40peirce.dave.cridland.net%3E"
       TITLE="[jdev] Issues With Subscription Requests (Block and Unblock)">dave at cridland.net
       </A><BR>
    <I>Fri Mar  7 08:14:22 CST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056491.html">[jdev] Issues With Subscription Requests (Block and Unblock)
</A></li>
        <LI>Next message: <A HREF="056493.html">[jdev] Issues With Subscription Requests (Block and Unblock)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56492">[ date ]</a>
              <a href="thread.html#56492">[ thread ]</a>
              <a href="subject.html#56492">[ subject ]</a>
              <a href="author.html#56492">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri Mar  7 13:31:45 2008, shashi kiran wrote:
&gt;<i> i Block a Contact, and it is Successfully done,but once i unblock  
</I>&gt;<i> the same
</I>&gt;<i> Contact in the current session my immediate Presence is not  
</I>&gt;<i> broadcasted to
</I>&gt;<i> the contact but his presence is seen by me. Once i Logout and then  
</I>&gt;<i> login
</I>&gt;<i> again everything is fine he is able to see my presence and me his...
</I>&gt;<i> 
</I>&gt;<i> 
</I>One problem is that you're not actually blocking and unblocking.


&gt;<i> I Use the Following Stanzas for Block and Unblock
</I>&gt;<i> 
</I>&gt;<i> For Block:
</I>&gt;<i>      * &lt;presence to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">contact at jabber.org</A>'   type='unsubscribe'/&gt;
</I>
This one is unsubscribing - you're no longer trying to get them to  
send you their presence.


&gt;<i>       &lt;presence to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">contact at jabber.org</A>'  type='unavailable'/&gt;*
</I>&gt;<i> 
</I>&gt;<i> 
</I>This one, on the other hand, is a directed presence - you're saying  
&quot;Tell these people I'm unavailable for the rest of this session,  
unless I say otherwise.&quot;


&gt;<i> For Unblock:
</I>&gt;<i>       *&lt;presence to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">contact at jabber.org</A>'   type='subscribe'/&gt;*
</I>&gt;<i> 
</I>&gt;<i> 
</I>This one requests that the other person gives you permission to see  
his presence again.

But you never override the directed presence again, which lasts for  
the rest of the session. That's why everything works again once you  
log out and back in again.

For blocking, you either want to use privacy lists, or else you want  
to send out directed presence to the people you want to block - but  
note that doesn't actually block them, just make you appear offline.

Dave.
-- 
Dave Cridland - mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dave at cridland.net</A> - xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dwd at jabber.org</A>
  - <A HREF="acap://acap.dave.cridland.net/byowner/user/dwd/bookmarks/">acap://acap.dave.cridland.net/byowner/user/dwd/bookmarks/</A>
  - <A HREF="http://dave.cridland.net/">http://dave.cridland.net/</A>
Infotrope Polymer - ACAP, IMAP, ESMTP, and Lemonade

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056491.html">[jdev] Issues With Subscription Requests (Block and Unblock)
</A></li>
	<LI>Next message: <A HREF="056493.html">[jdev] Issues With Subscription Requests (Block and Unblock)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56492">[ date ]</a>
              <a href="thread.html#56492">[ thread ]</a>
              <a href="subject.html#56492">[ subject ]</a>
              <a href="author.html#56492">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Authentication Process For Jabber.com
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Authentication%20Process%20For%20Jabber.com&In-Reply-To=%3C47D42ACE.8040008%40stpeter.im%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056502.html">
   <LINK REL="Next"  HREF="056496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Authentication Process For Jabber.com</H1>
    <B>Peter Saint-Andre</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Authentication%20Process%20For%20Jabber.com&In-Reply-To=%3C47D42ACE.8040008%40stpeter.im%3E"
       TITLE="[jdev] Authentication Process For Jabber.com">stpeter at stpeter.im
       </A><BR>
    <I>Sun Mar  9 13:22:06 CDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056502.html">[jdev] Issues With Subscription Requests (Block and Unblock)
</A></li>
        <LI>Next message: <A HREF="056496.html">[jdev] Authentication Process For Jabber.com
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56495">[ date ]</a>
              <a href="thread.html#56495">[ thread ]</a>
              <a href="subject.html#56495">[ subject ]</a>
              <a href="author.html#56495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sergei Golovan wrote:
&gt;<i> On 2/29/08, Norman Rasmussen &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at rasmussen.co.za</A>&gt; wrote:
</I>&gt;&gt;<i> The point is that:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;stream:stream
</I>&gt;&gt;<i> xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>&gt;
</I>&gt;&gt;<i> &lt;message&gt;&lt;gajim:die/&gt;&lt;/message&gt;
</I>&gt;&gt;<i> &lt;/stream&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> contains an unbound prefix 'gajim', so MUST be rejected by all XMPP
</I>&gt;&gt;<i> parsers..  If you want to send xml that looks similar to that, you need to
</I>&gt;&gt;<i> transmit one of the following:
</I>&gt;<i> 
</I>&gt;<i> Just find any rule in RFC 3290 which forbids this stanza with unbound
</I>&gt;<i> prefix and I'll immediately file a bugreport to ejabberd.
</I>
This was unclear in RFC 3920 but is clarified in rfc3920bis, which
contains the following text:

***

An implementation SHOULD NOT generate namespace prefixes for elements
qualified by content (as opposed to stream) namespaces other than the
default namespace.  However, if included, the namespace declarations for
those prefixes MUST be included on the stanza root or a child thereof,
not at the level of the stream element (this helps to ensure that any
such namespace declaration is routed and delivered with the stanza,
instead of assumed from the stream).

***

Therefore, this is wrong:

&lt;stream:stream
        xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>&gt;
  &lt;message&gt;&lt;gajim:die/&gt;&lt;/message&gt;
&lt;/stream&gt;

And this is wrong:

&lt;stream:stream
        xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>
        xmlns:gajim='<A HREF="http://gajim.org/die'">http://gajim.org/die'</A>&gt;
  &lt;message&gt;&lt;gajim:die/&gt;&lt;/message&gt;
&lt;/stream&gt;

But this is OK:

&lt;stream:stream
        xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>&gt;
  &lt;message
        xmlns:gajim='<A HREF="http://gajim.org/die'">http://gajim.org/die'</A>&gt;
    &lt;gajim:die/&gt;
  &lt;/message&gt;
&lt;/stream&gt;

P

-- 
Peter Saint-Andre
<A HREF="https://stpeter.im/">https://stpeter.im/</A>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 7338 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20080309/db3ed930/attachment-0001.bin">https://www.jabber.org/jdev/attachments/20080309/db3ed930/attachment-0001.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056502.html">[jdev] Issues With Subscription Requests (Block and Unblock)
</A></li>
	<LI>Next message: <A HREF="056496.html">[jdev] Authentication Process For Jabber.com
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56495">[ date ]</a>
              <a href="thread.html#56495">[ thread ]</a>
              <a href="subject.html#56495">[ subject ]</a>
              <a href="author.html#56495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Authentication Process For Jabber.com
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Authentication%20Process%20For%20Jabber.com&In-Reply-To=%3C200803091952.58384.justin-keyword-jabber.093179%40affinix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="056497.html">
   <LINK REL="Next"  HREF="056500.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Authentication Process For Jabber.com</H1>
    <B>Justin Karneges</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Authentication%20Process%20For%20Jabber.com&In-Reply-To=%3C200803091952.58384.justin-keyword-jabber.093179%40affinix.com%3E"
       TITLE="[jdev] Authentication Process For Jabber.com">justin-keyword-jabber.093179 at affinix.com
       </A><BR>
    <I>Sun Mar  9 21:52:58 CDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="056497.html">[jdev] Authentication Process For Jabber.com
</A></li>
        <LI>Next message: <A HREF="056500.html">[jdev] Authentication Process For Jabber.com
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56498">[ date ]</a>
              <a href="thread.html#56498">[ thread ]</a>
              <a href="subject.html#56498">[ subject ]</a>
              <a href="author.html#56498">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sunday 09 March 2008 5:49 pm, Peter Saint-Andre wrote:
&gt;<i> Sergei Golovan wrote:
</I>&gt;<i> &gt; On 3/9/08, Peter Saint-Andre &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">stpeter at stpeter.im</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;  Therefore, this is wrong:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;  &lt;stream:stream
</I>&gt;<i> &gt;&gt;         xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>&gt;
</I>&gt;<i> &gt;&gt;   &lt;message&gt;&lt;gajim:die/&gt;&lt;/message&gt;
</I>&gt;<i> &gt;&gt;  &lt;/stream&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It means that it's wrong to send this stanza. But it doesn't mean that
</I>&gt;<i> &gt; it's wrong to accept this stanza.
</I>&gt;<i>
</I>&gt;<i> Correct. The spec currently does not say that the server must enforce
</I>&gt;<i> that rule. But naturally the recipient (or the sender's or recipient's
</I>&gt;<i> server) could return a stanza error on receiving it. A &lt;not-acceptable/&gt;
</I>&gt;<i> error seems appropriate:
</I>&gt;<i>
</I>&gt;<i> &lt;message type='error'&gt;
</I>&gt;<i>   &lt;error type='modify&gt;
</I>&gt;<i>     &lt;not-acceptable xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;
</I>&gt;<i>   &lt;/error&gt;
</I>&gt;<i>   &lt;gajim:die/&gt;
</I>&gt;<i> &lt;/message&gt;
</I>
Hmm, you should probably not send the original XML back in this case, since it 
is invalid.

Further, since some XML parsers throw error when an unrecognized prefix is 
encountered, those clients/servers would most likely respond not with a 
stanza error, but with an xml-not-well-formed *stream* error and close the 
connection.

I think we have to be very careful about how this stuff is routed.  Obviously 
clients shouldn't be generating invalid XML, but servers shouldn't be routing 
it either.  A good server would disconnect whoever sent gajim:die rather than 
routing it and DoS'ing other clients.

-Justin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="056497.html">[jdev] Authentication Process For Jabber.com
</A></li>
	<LI>Next message: <A HREF="056500.html">[jdev] Authentication Process For Jabber.com
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56498">[ date ]</a>
              <a href="thread.html#56498">[ thread ]</a>
              <a href="subject.html#56498">[ subject ]</a>
              <a href="author.html#56498">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

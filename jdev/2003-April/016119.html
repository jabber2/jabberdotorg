<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] jabberbeans api
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20jabberbeans%20api&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016114.html">
   <LINK REL="Next"  HREF="016120.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] jabberbeans api</H1>
    <B>Mathias Waag</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20jabberbeans%20api&In-Reply-To="
       TITLE="[JDEV] jabberbeans api">mathias.waag at web.de
       </A><BR>
    <I>Tue Apr  1 17:58:58 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="016114.html">[JDEV] jabberd patch (updated)
</A></li>
        <LI>Next message: <A HREF="016120.html">[JDEV] component developement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16119">[ date ]</a>
              <a href="thread.html#16119">[ thread ]</a>
              <a href="subject.html#16119">[ subject ]</a>
              <a href="author.html#16119">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi,

i am using the jabberbeans api and i am adding up to 10 Extensions into a
presence packet. i have developed the extensions the same way the
jabberbeans api does. eg. IQBrowse, IQBrowseBuilder, IQBrowseHandler.
internally jabberbeans stores these extensions in a vector. when the
subscriber receives the presence packet, he can get the extensions within an
enumeration by calling the Extension() method of the ContentPacket class.
and thats my problem. if the subscriber is only interested in one extension
(say Location) i have to do the following:
for(Enumeration enum = presence.Extensions();enum.hasMoreElements();){
	Object o = enum.nextElement();
	if(o instanceof Location){
	...
	break;
	}
}
thats bad. instanceof comparison is expensive, as far as i know.
is there another way of getting a specific extension?
- change the jabber api and use a hashtable.
ContentPacket: addExtension(String name, Extension ext),
getExtension(name)...
- subclassing the ContentPacket class and use a hashtable there.
- something else
- dont worry about the instanceof

cheers
mathias


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016114.html">[JDEV] jabberd patch (updated)
</A></li>
	<LI>Next message: <A HREF="016120.html">[JDEV] component developement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16119">[ date ]</a>
              <a href="thread.html#16119">[ thread ]</a>
              <a href="subject.html#16119">[ subject ]</a>
              <a href="author.html#16119">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Presence probe requests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Presence%20probe%20requests&In-Reply-To=015901c2f86d%24f1228410%246600a8c0%40eteach.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016115.html">
   <LINK REL="Next"  HREF="016117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Presence probe requests</H1>
    <B>Matt Kearse</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Presence%20probe%20requests&In-Reply-To=015901c2f86d%24f1228410%246600a8c0%40eteach.com"
       TITLE="[JDEV] Presence probe requests">matt at netwinsite.com
       </A><BR>
    <I>Tue Apr  1 16:31:03 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="016115.html">[JDEV] Presence probe requests
</A></li>
        <LI>Next message: <A HREF="016117.html">[JDEV] Presence probe requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16116">[ date ]</a>
              <a href="thread.html#16116">[ thread ]</a>
              <a href="subject.html#16116">[ subject ]</a>
              <a href="author.html#16116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Huh??? But if you are talking about s2s then its not supposed to, in s2s it
</I>&gt;<i> is your responsibility to send the unavailable presence of users on your
</I>&gt;<i> server and if you server goes down, its not something wrong with the
</I>&gt;<i> protocol its you seeming to not follow it.
</I>
I am the person who originally raised this issue for our own custom
server (<A HREF="http://netwinsite.com/dbabble">http://netwinsite.com/dbabble</A>) that I am implementing the
Jabber protocol for. But I suspect the person you are replying to here
is actually referring to jabberd (not his/her own server
implementation.) From the quick test I ran, it seems jabberd does not
implement this properly and can easily get the status of users out of
sync with the transports when the server is restarted.

There are also other problems to do with the fact that the Jabber
protocol was not originally designed to have reliable message and
status delivery, but rather just intends to achieve message and status
delivery most of the time. This shows up when a user sends a message,
and a momentary problem with the network connection between 2 servers
means that the message is not delivered, but since the Jabber protocol
was not designed for message receipt acknowledgement the message can
just disappear with the sender thinking it has been sent, but the
recipient never actually receiving it. I realize there is a Jabber
enhancement proposal that suggests a way around this problem
(<A HREF="http://www.jabber.org/jeps/jep-0040.html">http://www.jabber.org/jeps/jep-0040.html</A>). Do any Jabber server
implementations use this? Our own server protocol is designed to
ensure message delivery and user status notification is guaranteed in
all cases, and I find was was quite surprised to find the Jabber
protocol was never designed to ensure reliable message delivery in the
first place.

I guess I will just have to try and do my best to make the Jabber
part work most of the time. It shouldn't be too hard to make it
work more reliably than the current jabberd implementation, particularly
regarding dropped client connections and server restarts. Thanks
everyone for your help.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016115.html">[JDEV] Presence probe requests
</A></li>
	<LI>Next message: <A HREF="016117.html">[JDEV] Presence probe requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16116">[ date ]</a>
              <a href="thread.html#16116">[ thread ]</a>
              <a href="subject.html#16116">[ subject ]</a>
              <a href="author.html#16116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

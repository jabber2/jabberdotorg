<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Listing Users who are Connected to the Server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Listing%20Users%20who%20are%20Connected%20to%20the%20Server&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016216.html">
   <LINK REL="Next"  HREF="016214.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Listing Users who are Connected to the Server</H1>
    <B>Ralph Siemsen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Listing%20Users%20who%20are%20Connected%20to%20the%20Server&In-Reply-To="
       TITLE="[JDEV] Listing Users who are Connected to the Server">ralphs at blueairnetworks.com
       </A><BR>
    <I>Tue Apr 15 12:23:48 CDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="016216.html">[JDEV] Listing Users who are Connected to the Server
</A></li>
        <LI>Next message: <A HREF="016214.html">[JDEV] Listing Users who are Connected to the Server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16218">[ date ]</a>
              <a href="thread.html#16218">[ thread ]</a>
              <a href="subject.html#16218">[ subject ]</a>
              <a href="author.html#16218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jerry McMorran wrote:

&gt;<i> I have read this thread which contain similar things I want:
</I>&gt;<i> <A HREF="news://news.gmane.org/3E2E8E30.DF3AF14D@terravirtual.net">news://news.gmane.org/3E2E8E30.DF3AF14D@terravirtual.net</A>
</I>&gt;<i> But I cannot find the answer for displaying online users' JIDs.
</I>
Well you can get the names of the online users with the script that I
posted in that thread.  The script is in perl, you could write it in PHP
if you wanted, or just call it from cron every minute and let it write
to a filename of you choice.

<A HREF="http://mailman.jabber.org/pipermail/jdev/2003-January/014678.html">http://mailman.jabber.org/pipermail/jdev/2003-January/014678.html</A>

For each user this will give you an XML chunk like so:

&lt;presence from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JID at SERVER.COM</A>/RESOURCE'&gt;
   &lt;priority&gt;5&lt;/priority&gt;
   &lt;show&gt;chat&lt;/show&gt;
   &lt;status&gt;Online&lt;/status&gt;
   &lt;x xmlns='jabber:x:delay' stamp='20030415T16:25:57'
      from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JID at SERVER.COM</A>/RESOURCE'/&gt;
   &lt;x xmlns='jabber:mod_admin:who' timer='7944' from='580'
       to='490'/&gt;
&lt;/presence&gt;

You can parse these chunks easily enough, either using regular
expressions, or if you wish, a full XML parser.

-R


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016216.html">[JDEV] Listing Users who are Connected to the Server
</A></li>
	<LI>Next message: <A HREF="016214.html">[JDEV] Listing Users who are Connected to the Server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16218">[ date ]</a>
              <a href="thread.html#16218">[ thread ]</a>
              <a href="subject.html#16218">[ subject ]</a>
              <a href="author.html#16218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Jserver Core Dump - redhat 5.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Jserver%20Core%20Dump%20-%20redhat%205.2&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003118.html">
   <LINK REL="Next"  HREF="003117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Jserver Core Dump - redhat 5.2</H1>
    <B>Eric Bowersox</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Jserver%20Core%20Dump%20-%20redhat%205.2&In-Reply-To="
       TITLE="[JDEV] Jserver Core Dump - redhat 5.2">ebowersox at corp.webb.net
       </A><BR>
    <I>Tue May 16 14:57:52 CDT 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="003118.html">[JDEV] Jserver Core Dump - redhat 5.2
</A></li>
        <LI>Next message: <A HREF="003117.html">[JDEV] Jserver Core Dump - redhat 5.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3114">[ date ]</a>
              <a href="thread.html#3114">[ thread ]</a>
              <a href="subject.html#3114">[ subject ]</a>
              <a href="author.html#3114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>What's the executable that's running?  And what version of pth are you
using?

This sounds suspiciously like a problem I had with icq-transport where an
additional argument was not being passed to (a newer version of) pth in
certain event creation calls, that wound up causing an unexpected coredump.
However, we fixed that issue in jserver, icq-transport, aimtrans, and
yahootrans (or so I seem to recall), so this could be something else.

					Eric

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Dan [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">diablo at flatland.com</A>]
</I>&gt;<i> Sent: Tuesday, May 16, 2000 12:49 PM
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> Subject: Re: [JDEV] Jserver Core Dump - redhat 5.2
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> At 06:08 PM 5/15/00 -0500, you wrote:
</I>&gt;<i> 
</I>&gt;<i> Further into looking at the jserver core dump: I've traced the area to
</I>&gt;<i> &quot;libetherx-1.0/src/tstream.c::_tstream_connect&quot; and the 
</I>&gt;<i> following section
</I>&gt;<i> of code.
</I>&gt;<i> 
</I>&gt;<i> The code seems to make it to -       adns_beforeselect(ads, 
</I>&gt;<i> &amp;maxfd, &amp;rfds,
</I>&gt;<i> &amp;wfds, &amp;efds, &amp;tv, &amp;tvbuf,0);
</I>&gt;<i> 
</I>&gt;<i> but here a core dump occurs. Btw, I'm using adns-0.8.
</I>&gt;<i> 
</I>&gt;<i> I've used the cmd line adnstest tool &amp; adnshost and they work 
</I>&gt;<i> fine.?? It's
</I>&gt;<i> crashing out whenever it tries a lookup I guess, but I'm not sure why.
</I>&gt;<i> 
</I>&gt;<i> Anyone have any ideas? 
</I>&gt;<i> 
</I>&gt;<i> Dan.
</I>&gt;<i> 
</I>&gt;<i> &gt;May I ask why you are using the RC? 1.0 is final. 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I'm not sure if this is related or not though. I recommend 
</I>&gt;<i> going by the 
</I>&gt;<i> &gt;default jserver.xml configuration that comes with the server 
</I>&gt;<i> rather than use 
</I>&gt;<i> &gt;the HOWTO. I'll be updating that shortly for changes in 1.0.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;On Mon, May 15, 2000 at 02:57:47PM -0700, Dan wrote:
</I>&gt;<i> &gt;&gt; Hi.
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Have just installed jabber 1.0 rc onto my linux box as per 
</I>&gt;<i> the &quot;Server
</I>&gt;<i> &gt;&gt; mini-How to&quot; doc. Install was fine and I have Jserver 
</I>&gt;<i> running in debug
</I>&gt;<i> &gt;&gt; mode. Using &quot;Jabba&quot; win32 client I've created two users 
</I>&gt;<i> and am trying find
</I>&gt;<i> &gt;&gt; one user to add to the others roster.
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; However, whenever I select 'Jabber User Directory' and 
</I>&gt;<i> search I get a core
</I>&gt;<i> &gt;&gt; dump. The following is the last line of server output
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; debug/tstream:339 _tstream_connect: ADNS[username:5269]
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; -- In fact if I try any communication other than 
</I>&gt;<i> registering I get a seg
</I>&gt;<i> &gt;&gt; fault --
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; I'm going to look around my system and re-read the jabber 
</I>&gt;<i> docs, but was
</I>&gt;<i> &gt;&gt; wondering if anyone has encountered this? Perhaps there's some
</I>&gt;<i> &gt;&gt; permissioning prob?
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Any help would be great:
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; My machine details are:
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Server Platform details:
</I>&gt;<i> &gt;&gt; jabber rc 1.0 
</I>&gt;<i> &gt;&gt; redhat linux 5.2
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Client:
</I>&gt;<i> &gt;&gt; Jabba - win32 client (v0.9.0)
</I>&gt;<i> &gt;&gt; by Keith Minkle.
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Thanks,  Dan.
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; jdev mailing list
</I>&gt;<i> &gt;&gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;-- 
</I>&gt;<i> &gt;Eliot Landrum
</I>&gt;<i> &gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">eliot at landrum.cx</A>
</I>&gt;<i> &gt;GnuPG ID: 8F5B499E
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;-Soli Deo Gloria-
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003118.html">[JDEV] Jserver Core Dump - redhat 5.2
</A></li>
	<LI>Next message: <A HREF="003117.html">[JDEV] Jserver Core Dump - redhat 5.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3114">[ date ]</a>
              <a href="thread.html#3114">[ thread ]</a>
              <a href="subject.html#3114">[ subject ]</a>
              <a href="author.html#3114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Stress testing and connection limits
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Stress%20testing%20and%20connection%20limits&In-Reply-To=%3C20000614135134.C6782%40orientation.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032543.html">
   <LINK REL="Next"  HREF="032548.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Stress testing and connection limits</H1>
    <B>Kurt D. Starsinic</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Stress%20testing%20and%20connection%20limits&In-Reply-To=%3C20000614135134.C6782%40orientation.com%3E"
       TITLE="[JDEV] Stress testing and connection limits">kstar at orientation.com
       </A><BR>
    <I>Wed Jun 14 12:51:34 CDT 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="032543.html">[JDEV] Stress testing and connection limits
</A></li>
        <LI>Next message: <A HREF="032548.html">[JDEV] Stress testing and connection limits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32544">[ date ]</a>
              <a href="thread.html#32544">[ thread ]</a>
              <a href="subject.html#32544">[ subject ]</a>
              <a href="author.html#32544">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jun 14, 2000 at 10:22:28AM -0700, Chuck Bohling wrote:
&gt;<i> I've been stress testing Jabber to get a feel for how many concurrent users
</I>&gt;<i> it can handle. I've hit some limit on the number of connections that Jabber
</I>&gt;<i> will accept. Hopefully, it's a soft limit in Linux or Jabber, or maybe a
</I>&gt;<i> mistake in my test. (Could it be a problem with Windows 2000?) Here's what
</I>&gt;<i> I've done. The test is in C++ on Windows 2000. The program spawns some
</I>&gt;<i> number of threads, emulating Jabber clients. Each &quot;client&quot; starts a stream,
</I>&gt;<i> registers, authenticates, does an online presence, and then, in a somewhat
</I>&gt;<i> random fashion, sends messages to other &quot;clients&quot;. The receiving client
</I>&gt;<i> prints the message. This works great up to about 1000 (1024?) clients
</I>&gt;<i> (threads). Above that number, I start seeing all kinds of failures. I think
</I>&gt;<i> it may be caused by pth_accept rejecting the connection, but I'm not sure.
</I>&gt;<i> Anyone have any ideas? I did disable the connection rate check in tlisten.c.
</I>&gt;<i> Hopefully, it's something like a 1024 limit on the number of connections
</I>&gt;<i> from the same IP.
</I>
    Are you running jserver with `-D'?  Do you log packets with a &lt;packet&gt;
directive in jserver.xml?  Have you checked the output of both?

    BTW, I have a FreeBSD machine running jserver, and I'm itching to
stress test it.  If you'll contact me privately, I'd love to have you
stress it to see how its limits compare to the numbers you see on
Linux.

    Peace,
* Kurt Starsinic (<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">kstar at orientation.com</A>) ---------- Senior Network Engineer *
|<i>       `If we knew what it was we were doing, it wouldn't be called        |
</I>|<i>        research, would it?' -- Albert Einstein                            |
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032543.html">[JDEV] Stress testing and connection limits
</A></li>
	<LI>Next message: <A HREF="032548.html">[JDEV] Stress testing and connection limits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32544">[ date ]</a>
              <a href="thread.html#32544">[ thread ]</a>
              <a href="subject.html#32544">[ subject ]</a>
              <a href="author.html#32544">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

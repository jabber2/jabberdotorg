<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Stress testing and connection limits
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Stress%20testing%20and%20connection%20limits&In-Reply-To=%3C3947C299.6E15D48C%40sneakerlabs.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032541.html">
   <LINK REL="Next"  HREF="032544.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Stress testing and connection limits</H1>
    <B>Jacob Gladish</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Stress%20testing%20and%20connection%20limits&In-Reply-To=%3C3947C299.6E15D48C%40sneakerlabs.com%3E"
       TITLE="[JDEV] Stress testing and connection limits">gladish at sneakerlabs.com
       </A><BR>
    <I>Wed Jun 14 12:36:25 CDT 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="032541.html">[JDEV] Stress testing and connection limits
</A></li>
        <LI>Next message: <A HREF="032544.html">[JDEV] Stress testing and connection limits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32543">[ date ]</a>
              <a href="thread.html#32543">[ thread ]</a>
              <a href="subject.html#32543">[ subject ]</a>
              <a href="author.html#32543">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>you're probably hitting the max number of file handles on liunx. you're
going to have to up the number of max open handles for the jabber server
process. read the docs for ulimit. 


Chuck Bohling wrote:
&gt;<i> 
</I>&gt;<i> I've been stress testing Jabber to get a feel for how many concurrent users
</I>&gt;<i> it can handle. I've hit some limit on the number of connections that Jabber
</I>&gt;<i> will accept. Hopefully, it's a soft limit in Linux or Jabber, or maybe a
</I>&gt;<i> mistake in my test. (Could it be a problem with Windows 2000?) Here's what
</I>&gt;<i> I've done. The test is in C++ on Windows 2000. The program spawns some
</I>&gt;<i> number of threads, emulating Jabber clients. Each &quot;client&quot; starts a stream,
</I>&gt;<i> registers, authenticates, does an online presence, and then, in a somewhat
</I>&gt;<i> random fashion, sends messages to other &quot;clients&quot;. The receiving client
</I>&gt;<i> prints the message. This works great up to about 1000 (1024?) clients
</I>&gt;<i> (threads). Above that number, I start seeing all kinds of failures. I think
</I>&gt;<i> it may be caused by pth_accept rejecting the connection, but I'm not sure.
</I>&gt;<i> Anyone have any ideas? I did disable the connection rate check in tlisten.c.
</I>&gt;<i> Hopefully, it's something like a 1024 limit on the number of connections
</I>&gt;<i> from the same IP.
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> Chuck Bohling
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032541.html">[JDEV] Stress testing and connection limits
</A></li>
	<LI>Next message: <A HREF="032544.html">[JDEV] Stress testing and connection limits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32543">[ date ]</a>
              <a href="thread.html#32543">[ thread ]</a>
              <a href="subject.html#32543">[ subject ]</a>
              <a href="author.html#32543">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

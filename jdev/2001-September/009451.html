<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Weird: email getting deleted from Jabber vCard
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Weird%3A%20email%20getting%20deleted%20from%20Jabber%20vCard&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009432.html">
   <LINK REL="Next"  HREF="009452.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Weird: email getting deleted from Jabber vCard</H1>
    <B>Jens Alfke</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Weird%3A%20email%20getting%20deleted%20from%20Jabber%20vCard&In-Reply-To="
       TITLE="[JDEV] Weird: email getting deleted from Jabber vCard">jens at mac.com
       </A><BR>
    <I>Mon Sep 17 17:11:31 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="009432.html">[JDEV] XDB_SQL -&gt; always using the same rostergroup for every users
</A></li>
        <LI>Next message: <A HREF="009452.html">[JDEV] Weird: email getting deleted from Jabber vCard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9451">[ date ]</a>
              <a href="thread.html#9451">[ thread ]</a>
              <a href="subject.html#9451">[ subject ]</a>
              <a href="author.html#9451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've just found that the email address gets lost when I retrieve a 
Jabber vCard. On one of my machines I send the following to set the card:

&lt;iq type=&quot;set&quot; id=&quot;00000002&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">snej at myserver.com</A>&quot;&gt;
&lt;vCard xmlns=&quot;vcard-temp&quot; version=&quot;3.0&quot; prodid=&quot;-//HandGen//NONSGML vGen 
v1.0//EN&quot;&gt;
&lt;FN&gt;sneJ Alfke&lt;/FN&gt;
&lt;N&gt;
&lt;GIVEN&gt;sneJ&lt;/GIVEN&gt;
&lt;FAMILY&gt;Alfke&lt;/FAMILY&gt;
&lt;/N&gt;
&lt;EMAIL&gt;
&lt;INTERNET/&gt;
&lt;PREF/&gt;
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jens at mac.com</A>&lt;/EMAIL&gt;
&lt;/vCard&gt;
&lt;/iq&gt;

On the other machine (logged in as a different account) when I retrieve 
the vCard I get the following:

&lt;iq type='result' id='00000007' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jens at myserver.com</A>/Work' 
from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">snej at myserver.com</A>'&gt;
&lt;vCard xmlns='vcard-temp' version='3.0' prodid='-//HandGen//NONSGML vGen 
v1.0//EN'&gt;
&lt;FN&gt;sneJ Alfke&lt;/FN&gt;
&lt;N&gt;
&lt;GIVEN&gt;sneJ&lt;/GIVEN&gt;
&lt;FAMILY&gt;Alfke&lt;/FAMILY&gt;
&lt;/N&gt;
&lt;EMAIL&gt;
&lt;INTERNET/&gt;
&lt;PREF/&gt;
&lt;/EMAIL&gt;
&lt;/vCard&gt;&lt;/iq&gt;

You'll note that the vCard content is identical except that the email 
address itself is missing. These are exact transcripts I just pasted in 
from my client's XML log, so it definitely looks like the server's 
fault. Why would this be happening? Anyone else seen this?

--Jens


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009432.html">[JDEV] XDB_SQL -&gt; always using the same rostergroup for every users
</A></li>
	<LI>Next message: <A HREF="009452.html">[JDEV] Weird: email getting deleted from Jabber vCard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9451">[ date ]</a>
              <a href="thread.html#9451">[ thread ]</a>
              <a href="subject.html#9451">[ subject ]</a>
              <a href="author.html#9451">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

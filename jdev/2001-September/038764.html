<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Conference messages cut off at newlines, too
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Conference%20messages%20cut%20off%20at%20newlines%2C%20too&In-Reply-To=%3CC7A7784B433BD511993900508BAC4C865EAEBD%40casanex2.cricketcommunications.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038774.html">
   <LINK REL="Next"  HREF="038810.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Conference messages cut off at newlines, too</H1>
    <B>Stanley Kurdziel</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Conference%20messages%20cut%20off%20at%20newlines%2C%20too&In-Reply-To=%3CC7A7784B433BD511993900508BAC4C865EAEBD%40casanex2.cricketcommunications.com%3E"
       TITLE="[JDEV] Conference messages cut off at newlines, too">skurdziel at leapwireless.com
       </A><BR>
    <I>Tue Sep 18 18:56:15 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="038774.html">[JDEV] Conference messages cut off at newlines, too
</A></li>
        <LI>Next message: <A HREF="038810.html">[JDEV] Conference messages cut off
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38764">[ date ]</a>
              <a href="thread.html#38764">[ thread ]</a>
              <a href="subject.html#38764">[ subject ]</a>
              <a href="author.html#38764">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I noticed very similar behavior when sending a message to an offline contact
using the 1.4.1 code on a Solaris 7 machine.
However, the same exact code
(<A HREF="http://download.jabber.org/dists/1.4/final/jabber-1.4.1.tar.gz">http://download.jabber.org/dists/1.4/final/jabber-1.4.1.tar.gz</A>), compiled
on a linux box (redhat 6.2), does NOT show this behavior.

I was forced to conclude that either something went awry during the
compilation process under solaris, or one of the open-source libraries I
installed (from www.sunfreeware.com) was responsible for this bug.
Actually, even more likely, one of the utilities from sun is responsible for
this behavior.  Either way, I could not duplicate the problem under Linux.

I know this info might not help you get it running under solaris, but at
least you wont have to be overly confused if other people tell you they
can't duplicate the problem.

-sek


-----Original Message-----
From: Jens Alfke [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jens at mac.com</A>]
Sent: Tuesday, September 18, 2001 3:04 PM
To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
Subject: [JDEV] Conference messages cut off at newlines, too


Many moons ago I mentioned that the conference module often cuts off 
chat messages if they contain XML metacharacters like quotes, angle 
brackets, etc. In fact I've had to make my client translate those 
characters into less offensive ones (like curly quotes) on the way out 
to avoid hitting this bug.

Now I found a related problem: Multi-line conference messages often 
appear to get cut off after the first line. (That is, a newline is 
causing message truncation just like the XML metacharacters do.) What's 
weird is that the sender will (about half the time) be echoed the full 
message, but other people in the chat never receive the full message. 
I've looked at the raw XML on both sides to verify this.

This is with the 1.4.1 server on Solaris.

--Jens

_______________________________________________
jdev mailing list
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
<A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038774.html">[JDEV] Conference messages cut off at newlines, too
</A></li>
	<LI>Next message: <A HREF="038810.html">[JDEV] Conference messages cut off
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38764">[ date ]</a>
              <a href="thread.html#38764">[ thread ]</a>
              <a href="subject.html#38764">[ subject ]</a>
              <a href="author.html#38764">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

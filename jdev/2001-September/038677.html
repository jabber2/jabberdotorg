<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] PHP recieve messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20PHP%20recieve%20messages&In-Reply-To=%3C88571812-A638-11D5-9638-003065ABC052%40mooseyard.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038670.html">
   <LINK REL="Next"  HREF="038678.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] PHP recieve messages</H1>
    <B>Jens Alfke</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20PHP%20recieve%20messages&In-Reply-To=%3C88571812-A638-11D5-9638-003065ABC052%40mooseyard.com%3E"
       TITLE="[JDEV] PHP recieve messages">jens at mooseyard.com
       </A><BR>
    <I>Mon Sep 10 17:09:41 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="038670.html">[JDEV] PHP recieve messages
</A></li>
        <LI>Next message: <A HREF="038678.html">[JDEV] PHP recieve messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38677">[ date ]</a>
              <a href="thread.html#38677">[ thread ]</a>
              <a href="subject.html#38677">[ subject ]</a>
              <a href="author.html#38677">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Monday, September 10, 2001, at 08:47 AM, Nicolas Lafferty wrote:

&gt;<i> I would like to write a PHP script to log on to a jabber server. Have 
</I>&gt;<i> the stored messages parsed to a web page. Then disconnect.
</I>
This doesn't actually make a lot of sense to me ... Jabber is a 
real-time, dynamic system, not like email. The idea is that you receive 
messages in real time, so the model is a continuous login session, not a 
single quick download as with POP.

&gt;<i> I'm not really sure how to do this. I have been playing around with a 
</I>&gt;<i> PHP script that will connect and the send a message from a form. But 
</I>&gt;<i> the incoming messages is where my problem lies. I have looked into 
</I>&gt;<i> using expat (and xml parser) but i'm not sure if that will do it or not.
</I>
You definitely want to find an existing library that will do the XML 
parsing for you; parsing it yourself is not for the faint-hearted. I 
know almost nothing about PHP so I can't help you there. Hopefully 
someone has already written such a library.

expat is a C library with a C API so it would not help you from the PHP 
side.

&gt;<i> I actually really need to know how to actually recieve the 
</I>&gt;<i> messages.....i think that is dont automatically at login. Any ideas 
</I>&gt;<i> would be very appreciated.
</I>
The server does queue up messages that are sent to you if you are not 
online, and it will deliver them to you as soon as you log in. After the 
login process you will receive &lt;presence&gt; elements from the server 
containing the messages. There is no way to know how many such messages 
are queued up, so the only thing to do is to open the connection and 
wait &quot;a while&quot; and hope you got them all. (Unless the server is really 
overloaded, you should receive them all within a second or two.)

However, as I said before, it seems unlikely that someone would send you 
an IM while you were offline. If I see someone's offline, I'm more 
likely to email them instead.

&#8212;Jens
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 2133 bytes
Desc: not available
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20010910/1a8f436d/attachment-0001.bin">https://www.jabber.org/jdev/attachments/20010910/1a8f436d/attachment-0001.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038670.html">[JDEV] PHP recieve messages
</A></li>
	<LI>Next message: <A HREF="038678.html">[JDEV] PHP recieve messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38677">[ date ]</a>
              <a href="thread.html#38677">[ thread ]</a>
              <a href="subject.html#38677">[ subject ]</a>
              <a href="author.html#38677">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

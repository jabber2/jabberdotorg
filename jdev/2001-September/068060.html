<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Re: Client and server on same machine , problem ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Re%3A%20Client%20and%20server%20on%20same%20machine%20%2C%20problem%20%3F&In-Reply-To=%3CPine.SOL.3.91.1010919085321.18470B-100000%40npsr-smtp%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068051.html">
   <LINK REL="Next"  HREF="068052.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Re: Client and server on same machine , problem ?</H1>
    <B>Yuan John Jiang</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Re%3A%20Client%20and%20server%20on%20same%20machine%20%2C%20problem%20%3F&In-Reply-To=%3CPine.SOL.3.91.1010919085321.18470B-100000%40npsr-smtp%3E"
       TITLE="[JDEV] Re: Client and server on same machine , problem ?">yjj at netplexus.com
       </A><BR>
    <I>Wed Sep 19 07:56:11 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="068051.html">[JDEV] Re: Client and server on same machine , problem ?
</A></li>
        <LI>Next message: <A HREF="068052.html">[JDEV] MSN Transport problem with &lt;x&gt; tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68060">[ date ]</a>
              <a href="thread.html#68060">[ thread ]</a>
              <a href="subject.html#68060">[ subject ]</a>
              <a href="author.html#68060">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Where can I find documentation on the structure and design of the server?
I'm trying to write a (Solaris) PAM authetication module to work with jud.
Where should I look?

BTW, I can't start the server jabberd in daemon mode.  Do I miss something
in the make process?

Thanks,

John

On Tue, 18 Sep 2001, Jay Curry wrote:

&gt;<i> &quot;V.Vasant&quot;&lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">vasant at runbox.com</A>&gt; wrote:
</I>&gt;<i> &gt;hi,
</I>&gt;<i> &gt;Does running the client and server on the same machine cause any problem. When I
</I>&gt;<i> &gt; tried connecting to the server, I got a &quot;server disconnected&quot; message. On having a
</I>&gt;<i> &gt; look at the server debug log, I found the following 
</I>&gt;<i> 
</I>&gt;<i> Not usualy.
</I>&gt;<i> 
</I>&gt;<i> &gt;20010918T01:39:01: [notice] (192.168.36.41): bouncing a routed packet to 192.168.36.41/
</I>&gt;<i> vasant from <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">11 at c2s</A>/80EB9C0: Internal Delivery Error
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;By examining the source, I found that this is logged by jabberd/deliver.c in the function
</I>&gt;<i> &gt; deliver_instance, when the call to the handler fails. What could be the reason. By the
</I>&gt;<i> &gt; by, I've just begun going through the source. What does deliver.c actually do ?
</I>&gt;<i> 
</I>&gt;<i> &gt;From what I have seen so far, this looks like you set up the user-id as something like 
</I>&gt;<i> '192.168.36.41/vasant'. Which I think is incorrect in two forms, one is that there is no &quot;id&quot; 
</I>&gt;<i> in that user-id, what looks like an id is the field specified for resource. The other is that 
</I>&gt;<i> you have specified an IP address as opposed to a host name.
</I>&gt;<i> 
</I>&gt;<i> If you have set up your &quot;hostname&quot; portion of the jabber.xml file as 192.168.36.41, this 
</I>&gt;<i> part should be ok. However it is unlikely that you want jabber to be specifically 
</I>&gt;<i> associated to this IP address. For testing purposes you can try using 'localhost' as the 
</I>&gt;<i> appropriate interface, or if you want to use a specific ethernet interface, something 
</I>&gt;<i> more like jabber.vasant.com with it also defined either in your /etc/host or via dns would 
</I>&gt;<i> work as well. Setting this up to connect with an outside resource is outside of what I can 
</I>&gt;<i> describe here as well. (The Quick rundown is that you need your internet gateway to 
</I>&gt;<i> portforward 5222 to your server, and have whatever hostname you have decided to 
</I>&gt;<i> give jabber point to the outside interface of your firewall.)
</I>&gt;<i> 
</I>&gt;<i> The correct form for a userid is {name}@{host}/{resource} where {name} is replaced 
</I>&gt;<i> with a name that you either select, or that you are assigned. {host} is replaced with your 
</I>&gt;<i> server's host name. {resource} is selected by you, either via pre-designed resources 
</I>&gt;<i> provided by the client, or by entering your own.
</I>&gt;<i> 
</I>&gt;<i> For example, I prefer the name rusty, use a server named jabber.beresourceful.net and 
</I>&gt;<i> work from a variety of systems including my laptop running Win98. When I log into my 
</I>&gt;<i> server I use the string '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rusty at jabber.beresourceful.net</A>/laptop'. If I am using my 
</I>&gt;<i> workstation running BeOS, I use the string '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rusty at jabber.beresourceful.net</A>/beos' When I 
</I>&gt;<i> tell other people that I can be reached via jabber, they really only need to know that I 
</I>&gt;<i> am available as '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rusty at jabber.beresourceful.net</A>'
</I>&gt;<i> 
</I>&gt;<i> Now all we need to do is get IAANA to allocate 5222 to jabber, and you could in theory 
</I>&gt;<i> type 'jabber:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rusty at jabber.beresourceful.net</A>' into a jabber aware application, and it 
</I>&gt;<i> would treat it the same way 'mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rusty at beresourceful.net</A>' would be treated. I.e. the 
</I>&gt;<i> application kicks off a jabber client of some sort and away you go.
</I>&gt;<i> 
</I>&gt;<i> Good luck.
</I>&gt;<i> 
</I>&gt;<i> -Rusty
</I>&gt;<i> 
</I>&gt;<i> Why sell arms to terrorists? Two seem to be more than they can safely handle... 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068051.html">[JDEV] Re: Client and server on same machine , problem ?
</A></li>
	<LI>Next message: <A HREF="068052.html">[JDEV] MSN Transport problem with &lt;x&gt; tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68060">[ date ]</a>
              <a href="thread.html#68060">[ thread ]</a>
              <a href="subject.html#68060">[ subject ]</a>
              <a href="author.html#68060">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

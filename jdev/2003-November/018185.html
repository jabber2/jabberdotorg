<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] External component and s2s
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20External%20component%20and%20s2s&In-Reply-To=003501c3b2a5%24b5d94950%244d00a8c0%40catamount">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018181.html">
   <LINK REL="Next"  HREF="018183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] External component and s2s</H1>
    <B>David Waite</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20External%20component%20and%20s2s&In-Reply-To=003501c3b2a5%24b5d94950%244d00a8c0%40catamount"
       TITLE="[JDEV] External component and s2s">mass at akuma.org
       </A><BR>
    <I>Mon Nov 24 13:01:19 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="018181.html">[JDEV] External component and s2s
</A></li>
        <LI>Next message: <A HREF="018183.html">[JDEV] External component and s2s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18185">[ date ]</a>
              <a href="thread.html#18185">[ thread ]</a>
              <a href="subject.html#18185">[ subject ]</a>
              <a href="author.html#18185">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Unfortunately, components (in 1.4.2 and 2.0) are bound only to dns, and 
have free reign over the user/node and resource parts of the JID. 
Because JIDs have hard limits on length, there is no 'translation' 
strategy which will allow all JIDs a component might want to be 
translated.

XMPP addresses are based solely on DNS (you cannot even specify an 
alternate port #), and the 1.4/2.0 implementations rely on different 
services being able to have complete control over a domain. You really 
need to have one DNS entry per exposed service.

-David Waite

On Nov 24, 2003, at 9:12 AM, Glenn MacGregor wrote:

&gt;<i>
</I>&gt;<i> Unfortunately I am looking for a different solution. In some cases I 
</I>&gt;<i> can't
</I>&gt;<i> change the DNS. I am looking to change 1.4.2 and 2.0 (if necessary) to 
</I>&gt;<i> allow
</I>&gt;<i> for this. As far as I can tell the change could be made in two places. 
</I>&gt;<i> I
</I>&gt;<i> have not got any further than that so I don't yet know the 
</I>&gt;<i> ramifications of
</I>&gt;<i> making the changes (hope you can help with that).
</I>&gt;<i>
</I>&gt;<i> I first place would be to allow the service id to contain an '@' 
</I>&gt;<i> symbol or
</I>&gt;<i> the second place would be in the delivery, if it is local and fails 
</I>&gt;<i> with 404
</I>&gt;<i> then strip everything after the '@' inclusive and try the local 
</I>&gt;<i> delivery
</I>&gt;<i> again.
</I>&gt;<i>
</I>&gt;<i> What do you think? Will either of these work?
</I>&gt;<i>
</I>&gt;<i>     Thanks
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Matthias Wimmer&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">m at tthias.net</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> Sent: Monday, November 24, 2003 10:16 AM
</I>&gt;<i> Subject: Re: [JDEV] External component and s2s
</I>&gt;<i>
</I>&gt;<i> (I guess the component is comp1.server2.domain.com ... else just delete
</I>&gt;<i> &quot;comp1&quot; in the example DNS entry below.)
</I>&gt;<i>
</I>&gt;<i> Yes this works. No special configuration is needed, just a corret DNS
</I>&gt;<i> entry, e.g. the follwoing:
</I>&gt;<i>
</I>&gt;<i> _xmpp-server._tcp.comp1.server2.domain.com 86400 SRV 5 0 5269 \
</I>&gt;<i>  server2.domain.com.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Tot kijk
</I>&gt;<i>     Matthias
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Fon: +49-(0)70 0770 07770       <A HREF="http://matthias.wimmer.name/">http://matthias.wimmer.name/</A>
</I>&gt;<i> HAM: DB1MW                      xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mawis at charente.de</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018181.html">[JDEV] External component and s2s
</A></li>
	<LI>Next message: <A HREF="018183.html">[JDEV] External component and s2s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18185">[ date ]</a>
              <a href="thread.html#18185">[ thread ]</a>
              <a href="subject.html#18185">[ subject ]</a>
              <a href="author.html#18185">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

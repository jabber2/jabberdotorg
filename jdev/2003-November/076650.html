<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Chatting with the correct resource
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Chatting%20with%20the%20correct%20resource&In-Reply-To=%3C1068244136.11514.43.camel%40chili.home.hallendal.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076648.html">
   <LINK REL="Next"  HREF="076619.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Chatting with the correct resource</H1>
    <B>Mikael Hallendal</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Chatting%20with%20the%20correct%20resource&In-Reply-To=%3C1068244136.11514.43.camel%40chili.home.hallendal.net%3E"
       TITLE="[JDEV] Chatting with the correct resource">micke at imendio.com
       </A><BR>
    <I>Fri Nov  7 16:28:56 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="076648.html">[JDEV] Chatting with the correct resource
</A></li>
        <LI>Next message: <A HREF="076619.html">[JDEV] Chatting with the correct resource
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76650">[ date ]</a>
              <a href="thread.html#76650">[ thread ]</a>
              <a href="subject.html#76650">[ subject ]</a>
              <a href="author.html#76650">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>fre 2003-11-07 klockan 18.23 skrev Daniel Chote:
&gt;<i> This was one of the items ive always had an opinion on, since the very 
</I>&gt;<i> first day I started jabber development.. Ive tried 4 different 
</I>&gt;<i> approaches to this method now... And just from my point of view what im 
</I>&gt;<i> doing now is fairly efficient...  In the original Rival, i didnt really 
</I>&gt;<i> cater for resources, everything message was sent to a resource stripped 
</I>&gt;<i> jid.  Rival v2 was pretty much the same, but you &quot;could&quot; specify a jid 
</I>&gt;<i> if you wanted. Rival3 allowed you to view resources in your contact list 
</I>&gt;<i> if you wanted... if you started a chat session with someone, it would go 
</I>&gt;<i> to a recource stripped jid, but if you recieved a message from someone 
</I>&gt;<i> with a resource as the start to a chat session, i would send back to the 
</I>&gt;<i> jid with resource, so... if they got on another client at the same time 
</I>&gt;<i> and sent you a new message, it would create a new chat window based on 
</I>&gt;<i> the new jid...  In the new Rival's that im working on, i take a little 
</I>&gt;<i> more complex approach.  Each roster item in the list as a default 
</I>&gt;<i> resource value, which is generated by collating all the presence 
</I>&gt;<i> recieved from a user, and then ordering it based on &lt;show/&gt;... so.. if 
</I>&gt;<i> someone had 2 resources active, one away and one online... the online 
</I>&gt;<i> resource gets set as the default, if the presence changes, it resorts 
</I>&gt;<i> based on the best one...   So, when a chat session is started, it goes 
</I>&gt;<i> to the resource thats got the highest status..  Im however not looking 
</I>&gt;<i> at presence priority at this point (as most of the time its irrelevant 
</I>&gt;<i> or not recieved :P).
</I>
It sounds like the solution you are aiming for now is pretty close to
the one we are doing in Gossip, though we are using the priority instead
of &lt;show/&gt;. In Gossip however this is the same, since we set priority
depending on your &lt;show/&gt;-status. Might be a solution for you aswell
since it'll make your Rival users get the expected results when chatting
with people using priority-aware clients.

Sounds like a good solution to use the resource of an incoming chat and
send to the resource with highest &quot;availability&quot; (however you calculate
it) for outgoing messages.

&gt;<i> So thats how I do it in Rival... I dont feel this is something that 
</I>&gt;<i> _needs_ to be standardised across clients, mainly because of the 
</I>&gt;<i> different user experiences offered by having the selection.   *Not 
</I>&gt;<i> everyone likes the MSN experience*
</I>
The problem here is that you almost never chat only with people that use
the same client. And if everyone handles this differently you can't be
sure that there messages will end up where you think they'll do.

Regards,
  Mikael Hallendal
-- 
Mikael Hallendal               <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">micke at imendio.com</A>
Imendio HB                     <A HREF="http://www.imendio.com">http://www.imendio.com</A>
Phone: +46 (0)709 718 918



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076648.html">[JDEV] Chatting with the correct resource
</A></li>
	<LI>Next message: <A HREF="076619.html">[JDEV] Chatting with the correct resource
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76650">[ date ]</a>
              <a href="thread.html#76650">[ thread ]</a>
              <a href="subject.html#76650">[ subject ]</a>
              <a href="author.html#76650">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Videoconferencing with jabber / Re:[speex-dev]Videoconferencing with speex and jabber
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Videoconferencing%20with%20jabber%20/%20Re%3A%5Bspeex-dev%5DVideoconferencing%20with%20speex%20and%20jabber&In-Reply-To=%3Coprzg7ldm1n9nte4%40smtp.chello.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047611.html">
   <LINK REL="Next"  HREF="047618.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Videoconferencing with jabber / Re:[speex-dev]Videoconferencing with speex and jabber</H1>
    <B>Tijl Houtbeckers</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Videoconferencing%20with%20jabber%20/%20Re%3A%5Bspeex-dev%5DVideoconferencing%20with%20speex%20and%20jabber&In-Reply-To=%3Coprzg7ldm1n9nte4%40smtp.chello.nl%3E"
       TITLE="[JDEV] Videoconferencing with jabber / Re:[speex-dev]Videoconferencing with speex and jabber">thoutbeckers at splendo.com
       </A><BR>
    <I>Sun Nov 30 18:28:15 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="047611.html">[JDEV] Videoconferencing with jabber / Re:[speex-dev]Videoconferencing with speex and jabber
</A></li>
        <LI>Next message: <A HREF="047618.html">[JDEV] Videoconferencing with jabber /	Re:[speex-dev]Videoconferencing with speex and jabber
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47616">[ date ]</a>
              <a href="thread.html#47616">[ thread ]</a>
              <a href="subject.html#47616">[ subject ]</a>
              <a href="author.html#47616">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 30 Nov 2003 22:36:38 -0000, Richard Dobson &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">richard at dobson-i.net</A>&gt; 
wrote:

&gt;&gt;<i> I had a larger reply to this, but somewhere it got lost.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Using a client/server model has no heavyer requirments than a p2p based
</I>&gt;&gt;<i> mode. Nor is it any complexer, but it will allow much easyer to
</I>&gt;&gt;<i> participate in client/server based conferencing.
</I>&gt;<i>
</I>&gt;<i> I still dispute your opinion on this, a client having to act as a server 
</I>&gt;<i> can
</I>&gt;<i> create more problems than it solves IMO (as already discussed), and IMO 
</I>&gt;<i> its
</I>&gt;<i> not really any easier to participate in.
</I>
Having one user assume the role as server, and one of client is really no 
harder than a model in wich you asume both are equal peers. It's simply a 
matter of different roles. If you can think of any reason why this is not 
true, please share it with the rest of us!

However, using a client/model will allow you to participate in a 
conference on a server with more people *with no extra effort at all*. Yet 
you still state you don't believe it will be easyer?

&gt;&gt;<i> I also think building p2p based conferincing into the protocol from day
</I>&gt;&gt;<i> one is unnecisarly complex, that should belong in an extention in any 
</I>&gt;&gt;<i> case
</I>&gt;&gt;<i> then.
</I>&gt;<i>
</I>&gt;<i> Have you changed your mind on the complexity? you say at the top of this
</I>&gt;<i> email that its no complexor to implement p2p than it is client server, 
</I>&gt;<i> seems
</I>&gt;<i> a bit of a contradiction.
</I>
No contradiction at all. I've never disputed that for 2 persons talking 
over a direct link p2p is just as easy as a client server model. In fact 
I've done quite the opposite, I've stated over and over it's not quite the 
same thing, but neither one is complexer than the other. Read back my 
previous posts and you'll see.

What I *am* saying, that an entirely p2p based conferencing model (with 
more than 2 persons involved) is a lot more complex than a client/server 
model. Even more so, if you only have to implement the client portion. 
That's why this allows &quot;thin&quot; clients to still participate. It was you 
yourself who argued against mixing and bandwith req. on thin clients such 
as a pocket PC.

I think from the discussion it's pretty obvious what's needed/wanted most 
are 2 things:
- person to person over a direct link
- conferencing with multiple persons on a server

This can both be handeled, without overlap, with a simple JEP based on a 
c/s model. P2P won't cover this, nor will it be any simpeler.

Conferencing over induvidual direct links between persons is intresting 
too, but too complex to be included in the basic JEP if you ask me.
Conferencing over direct links doesn't have to be p2p either. You can base 
it on the c/s JEP with every induvidual participant acting as a server. 
Not that more complex than doing this on a p2p based model.

&gt;&gt;<i> It's odd though, that you completly put aside the arguments you tried to
</I>&gt;&gt;<i> make about 1 on 1 chat, when you talk about conferencing. Namely, 
</I>&gt;&gt;<i> limited
</I>&gt;&gt;<i> bandwith (in the case of 20 people talking this would be almost 10 times
</I>&gt;&gt;<i> as much as as c/s based) and lack of mixing capabilities (even if your
</I>&gt;&gt;<i> pocketpc does have that much bandwith it'll have to mix 20 channels!).
</I>&gt;<i>
</I>&gt;<i> Its just as bad for the client acting as the server (in bandwidth terms) 
</I>&gt;<i> as
</I>&gt;<i> it is to go p2p,
</I>
With conferencing the requirment of a (fast enough) server is way more 
reasonable than for a person to person conversation (I completly agree 
with you there a direct link should be used when possible!). However, by 
going with a c2s model you'll still provide a fallback method for when a 
direct link fails, by using a component that hosts a conference.

The total amount of bandwith used in a c/s conference is always smaller 
than a conference based on direct links between all participants. For 
obvious reasons ofcourse, I don't need to explain here.
Another difference is with c/s you'll need very little bandwith on all 
machines, except for the server.

The server will require the same amount of bandwith as the peak requirment 
of bandwith for a single p2p node. This is assuming you use silence 
detection, else we're not talking about the peak requirment but just the 
normal requirment. Ofcourse, silence detection can also be used in c/s, 
but for the server it will be only half as effective as p2p (the server 
will only benifit on incoming connections)

Basically this means that in a direct link based conference &quot;weak&quot; client 
with limited bandwith, limited CPU will not be able to participate a 
direct-link based conference (or will have a bad user experiance). Opposed 
to this, if you want to do c/s conferencing, you'll need *1* server with 
the same *peak* requirments as a single node (but it's the same for all 
nodes) in a direct-link based conference, and generally around 50% more 
bandwith usage on *average*.

So let's apply this to some real world situations. In how many cases are 
all the clients have about the same available bandwith, CPU, etc. With Joe 
Consumer this is unlikely.. it's a mix of dailup and broadband users. If 
I'd want to talk to my mother, sister and brother at the same time, I have 
a 1 mbit link, 1 will have a cheap DSL account, and the other 2 will be on 
dailup most likely.

In a corporate enviroment having a dedicated component for conferences is 
much more likely as in consumerland (for benefits mentioned already here), 
and even if not, bandwith availabilty would generaly be high enough for 
most users to host.

So what's a situation where all users have about the same specs concerning 
bandwith and CPU, and there is no 1 machine that sticks out. Well, XBox 
Live! ofcourse. All machines are identical, and broadband is required to 
participate I think.

Again I don't think direct-link style conferncing is unintresting or 
unneeded, but it's a much more specific application than c/s conferencing. 
And *again*, a c/s style approach will not prevent this from being an 
extention.

&gt;<i> also I would disbute that it would be 10 times as much
</I>&gt;<i> bandwidth for the rest, adding silence detection (which you seem to have
</I>&gt;<i> oddly put aside and ignored) reduces the p2p bandwidth use massively,
</I>
Hopefully I adressed this now to your liking.

&gt;<i> also
</I>&gt;<i> as I have shown previously the mixing requirements are less on p2p 
</I>&gt;<i> clients
</I>&gt;<i> than on the &quot;server client&quot;.
</I>
And how's that? When 4 people talk at once, *all* client will have to mix 
4 streams in the case of direct links. In the case of c/s only the server 
will have to mix 4 streams. Explain..
(only thing I could think of is if you want to create a seperate mix for 
each client, without their own channel in it to prevent echo. Rather than 
mixing new streams for each client you should just surpress echo for each 
clients. Admitted, it increases demands on the server if you want this, 
but not as bad as having to mix a new stream for each client)

&gt;<i> Also having a server client creates a single
</I>&gt;<i> point of failure which you also seem to have completely put aside,
</I>
Yes, when the server quits the conference the other will get booted. If 
this is a big issue for you, you could devise a fallback system to another 
server (one of the clients for example) and still have a massivly less 
complex system than direct-link based conferencing. Since servers are most 
likely to be the best machines with the best connections this isn't such a 
big problem, but it's still easily solved if you want.

When there are a few clients with bad connections in the conversation 
reliability will probably improve a bit too. Bad connection &lt;-&gt; Good 
connection &lt;-&gt; bad connection is generally more reliable than bad 
connection &lt;-&gt; bad connection. Escp. when you consider bandwith usage 
drops too.

&gt;<i> there is
</I>&gt;<i> also the latency issue that you have yet to address and until you do 
</I>&gt;<i> address
</I>&gt;<i> this satisfactorly
</I>
Latency is an intresting case, but in practise the results would probably 
surprise you. Because on low-bandwith nodes to bandwith requirments 
dramatically drop when they act as a client rather than a node in the 
direct link conference, latency in many cases will actually improve in a 
lot of cases! So you can have the situation where a node in a direct-link 
conference with 3 persons talking is barely able to keep up, with horrible 
latency. While a client with the exact same quality connection is enjoying 
a conference where 6 people are talking with lower latency! (it wouldn't 
even be able to participate when 6 people are talking in a direct link 
conference).

Now lets talk about out-of-sync mixing. With direct-link based conferences 
every client will produce a different &quot;mix&quot; based on the latency / 
bandwith of their connections, and that of the other nodes. This means 
when we're in a meeting, for me it can sound like 3 people were talking at 
once, while for you it can sound like they didn't at all. (that means I 
didn't hear what they said and I'll ask them to repeat, while you'll be 
annoyed with me (even more ;) cause for you it sounded like I could have 
heard perfectly).

Ofcourse there is a solution for this, syncing the mixes between nodes. 
But then you loose all latentcy advantages, you'll be as slow as the 
&quot;weakest link&quot;. (and the weakest link will be a lot more stressed than it 
would be in a c/s model). Ofcourse compromises are possible..

You'll always have problems with out of sync mixes if you don't do 
something about it, but there are cases where it's less likely to occur or 
just not so important. For example when it's only about a game anyway ;) 
and all clients have about the same bandwith and CPU available.. :)

&gt;<i> I will not be convinced by your strange need to make this
</I>&gt;<i> client server mode only, for which you still havent provided sufficent
</I>&gt;<i> reason.
</I>
I've presented many reasons for you. Maybe you don't agree with them (then 
I wonder what you think of Jabber and it's client/server architecture), 
but I'd appriciate it if you do not refer to them as &quot;strange&quot;.

Escp. considering I didn't quite just make em up either, they are well 
known issues with audioconferncing (hardly &quot;strange&quot; issues), and if you'd 
have looked into it a little yourself you'd know that. (For example, I'm 
not on the speex list, but way at the beginning of the discussion someone 
already mentioned these thing have been discussed to death there, I guess 
he didn't take the bait and I did ;)

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047611.html">[JDEV] Videoconferencing with jabber / Re:[speex-dev]Videoconferencing with speex and jabber
</A></li>
	<LI>Next message: <A HREF="047618.html">[JDEV] Videoconferencing with jabber /	Re:[speex-dev]Videoconferencing with speex and jabber
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47616">[ date ]</a>
              <a href="thread.html#47616">[ thread ]</a>
              <a href="subject.html#47616">[ subject ]</a>
              <a href="author.html#47616">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

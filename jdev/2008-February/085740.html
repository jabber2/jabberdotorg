<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Sharing a single connection for multiple users
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Sharing%20a%20single%20connection%20for%20multiple%20users&In-Reply-To=%3C1204149081.19208.10.camel%40wing%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="085731.html">
   <LINK REL="Next"  HREF="085735.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Sharing a single connection for multiple users</H1>
    <B>Tomasz Sterna</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Sharing%20a%20single%20connection%20for%20multiple%20users&In-Reply-To=%3C1204149081.19208.10.camel%40wing%3E"
       TITLE="[jdev] Sharing a single connection for multiple users">tomek at xiaoka.com
       </A><BR>
    <I>Wed Feb 27 15:51:21 CST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="085731.html">[jdev] Sharing a single connection for multiple users
</A></li>
        <LI>Next message: <A HREF="085735.html">[jdev] Jabber Client : XML Form interpreter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85740">[ date ]</a>
              <a href="thread.html#85740">[ thread ]</a>
              <a href="subject.html#85740">[ subject ]</a>
              <a href="author.html#85740">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dnia 2008-02-27, &#346;r o godzinie 04:48 +0100, Andrew Miehs pisze:
&gt;<i> Would I need to create one connection to the jabber server for each  
</I>&gt;<i> web user, or can
</I>&gt;<i> I use one connection per web server? I am a little worried about how  
</I>&gt;<i> well thousands
</I>&gt;<i> of connections per server would scale.
</I>
Many jabber servers use a concept of client connection manager, that
mediates connections between jabber clients and jabber server.
These managers might be deployed on separate machines, handle thousands
client connections and pipe the messages through one connection to the
jabber server.

You might consider implementing your web gateway to work as such
connection manager utilising connection manager protocol. You wouldn't
need to open client connections from your web server, log in and do the
whole session establishing burden on the web server. Instead you just
send session-start command to the server when you have new web frontend
user logged in, and you're done.


There is jadc2s that works with jabberd 1.x and jabberd 2.x has its own
c2s component bundled.
jabberd 2.x component protocol is a bit documented at
<A HREF="http://jabberd2.xiaoka.com/wiki/ComponentProtocol">http://jabberd2.xiaoka.com/wiki/ComponentProtocol</A> (look at the SM&lt;-&gt;C2S
protocol).


-- 
  /\_./o__ Tomasz Sterna
 (/^/(_^^' &#65279;<A HREF="http://www.xiaoka.com/">http://www.xiaoka.com/</A>
._.(_.)_   im:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">smoku at xiaoka.com</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="085731.html">[jdev] Sharing a single connection for multiple users
</A></li>
	<LI>Next message: <A HREF="085735.html">[jdev] Jabber Client : XML Form interpreter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85740">[ date ]</a>
              <a href="thread.html#85740">[ thread ]</a>
              <a href="subject.html#85740">[ subject ]</a>
              <a href="author.html#85740">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

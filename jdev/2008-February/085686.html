<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Why is my jabber server kicking out a remote	useron	anerror?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Why%20is%20my%20jabber%20server%20kicking%20out%20a%20remote%0A%09useron%09anerror%3F&In-Reply-To=%3CE869123789AC2A4F8605D87F909EB55131BF94%40TSIEXCHANGE.tridsys.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="085685.html">
   <LINK REL="Next"  HREF="085687.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Why is my jabber server kicking out a remote	useron	anerror?</H1>
    <B>Tom Kalafut</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Why%20is%20my%20jabber%20server%20kicking%20out%20a%20remote%0A%09useron%09anerror%3F&In-Reply-To=%3CE869123789AC2A4F8605D87F909EB55131BF94%40TSIEXCHANGE.tridsys.com%3E"
       TITLE="[jdev] Why is my jabber server kicking out a remote	useron	anerror?">tommyk at tridsys.com
       </A><BR>
    <I>Wed Feb 20 13:26:25 CST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="085685.html">[jdev] Why is my jabber server kicking out a remote user	on	anerror?
</A></li>
        <LI>Next message: <A HREF="085687.html">[jdev] Why is my jabber server kicking out a	remote	useron	anerror?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85686">[ date ]</a>
              <a href="thread.html#85686">[ thread ]</a>
              <a href="subject.html#85686">[ subject ]</a>
              <a href="author.html#85686">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oops.  I did use error code not_acceptable, so it's not that.  It's apparently kicking out the user that sent an iq stanza of type error (any code).

I think I understand now.  Apparently, ejabberd is kicking out the user in the Line 294 check because the 'to' is a chatroom JID, no matter what the stanza is.  And the Line 294 check is not going away, right?  So I think I'm stuck.
 
I think I may have to just return a message and append some &quot;ERROR&quot; text to the body.  Everybody on the local side of the chat room will receive the error like a normal message.  Any other ideas?

Thanks,
Tom


Tom Kalafut
I3/CG Crew Member
Trident Systems Inc.
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">tommyk at tridsys.com</A>
(919)388-1264

============
The opinions expressed in this e-mail may not necessarily reflect the opinions of Trident Systems Inc.


-----Original Message-----
From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-bounces at jabber.org</A> [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-bounces at jabber.org</A>] On Behalf Of Peter Saint-Andre
Sent: Wednesday, February 20, 2008 1:52 PM
To: Jabber/XMPP software development list
Subject: Re: [jdev] Why is my jabber server kicking out a remote useron anerror?

Tom Kalafut wrote:
&gt;<i> Changing to an iq stanza kicked the user out, too :(
</I>&gt;<i> 
</I>&gt;<i> Do I have to use an error code not listed in the discussion link?
</I>
Either that or wait for this bug to be fixed (I am not sure if the fix
made it into the soon-to-be-released ejabberd 2.0.0, but you might want
to ask on the ejabberd list).

Peter

-- 
Peter Saint-Andre
<A HREF="https://stpeter.im/">https://stpeter.im/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="085685.html">[jdev] Why is my jabber server kicking out a remote user	on	anerror?
</A></li>
	<LI>Next message: <A HREF="085687.html">[jdev] Why is my jabber server kicking out a	remote	useron	anerror?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85686">[ date ]</a>
              <a href="thread.html#85686">[ thread ]</a>
              <a href="subject.html#85686">[ subject ]</a>
              <a href="author.html#85686">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] When to pass the JID??
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20When%20to%20pass%20the%20JID%3F%3F&In-Reply-To=%3C4C09A994.1080708%40aaronwl.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="088286.html">
   <LINK REL="Next"  HREF="088288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] When to pass the JID??</H1>
    <B>Aaron Kryptokos</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20When%20to%20pass%20the%20JID%3F%3F&In-Reply-To=%3C4C09A994.1080708%40aaronwl.com%3E"
       TITLE="[jdev] When to pass the JID??">aaronkryptokos6 at aaronwl.com
       </A><BR>
    <I>Fri Jun  4 20:34:12 CDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="088286.html">[jdev] Issue: Anonymous User Connecting to GTalk
</A></li>
        <LI>Next message: <A HREF="088288.html">[jdev] Fwd: [Summit] XMPP Summit #9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88287">[ date ]</a>
              <a href="thread.html#88287">[ thread ]</a>
              <a href="subject.html#88287">[ subject ]</a>
              <a href="author.html#88287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mason, Matt wrote:

&gt;<i> So can someone please tell me when the JID is
</I>&gt;<i> passed from the client to the server?  The spec seems pretty verbose, 
</I>&gt;<i> and oddly doesn&#8217;t appear to specifically state when the initial JID is 
</I>&gt;<i> passed.
</I>
I'm sure you've figured out by now that the JID is passed from the 
server to the client, not from the client to the server.


This is one of the weirdest parts of XMPP in my opinion.  Most XMPP IM 
clients ask you for your JID, or ask you for some login info then 
speculate on what your JID might be; but the reality is that you don't 
know what your JID is until you connect and the server tells you after 
resource binding.

I think what it comes down to is pretty much all of the XMPP IM clients 
have this wrong.  They're asking all the wrong questions:

-node: Most clients ask for this, and it serves absolutely no purpose; 
you don't need it to log in, and the server is going to tell you what it 
is when you do, and if you put the wrong thing, no client I've tested 
will let you know that it was wrong when you connect.

-domain: You obviously need this, but it's wrong to assume that this 
domain will actually be part of your JID, like many clients do; GTalk is 
the best counterexample.

-username/accountinfo: This is obviously dependent on the authentication 
methods available, but it's essential the the client ask the user for 
this: many do not, or make incorrect assumptions that it is the same as 
the node, or hide the authentication info entry field somewhere 
hard-to-find.


I think the way this should work is the only two questions IM clients 
should ask about when setting up an existing account before talking to 
the server is
-Domain
-Authentication: user/pass, or whatever is appropriate for supported 
authentication methods.  In fact, it may be best to wait until 
contacting the server for the first time to even ask for this so that 
you can be sure which methods are supported.  Anything else is just 
preemptive.

It's fine if a client remembers and displays the JID associated with an 
account, but I think this should only happen after talking to the server 
to see what the JID actually is.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="088286.html">[jdev] Issue: Anonymous User Connecting to GTalk
</A></li>
	<LI>Next message: <A HREF="088288.html">[jdev] Fwd: [Summit] XMPP Summit #9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88287">[ date ]</a>
              <a href="thread.html#88287">[ thread ]</a>
              <a href="subject.html#88287">[ subject ]</a>
              <a href="author.html#88287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Server/transport restart question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Server/transport%20restart%20question&In-Reply-To=%3C20000802075537.D1613%40Flint.digix.dyndns.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032865.html">
   <LINK REL="Next"  HREF="032867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Server/transport restart question</H1>
    <B>Keith Minkler</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Server/transport%20restart%20question&In-Reply-To=%3C20000802075537.D1613%40Flint.digix.dyndns.org%3E"
       TITLE="[JDEV] Server/transport restart question">kminkler at jabber.com
       </A><BR>
    <I>Wed Aug  2 07:55:37 CDT 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="032865.html">[JDEV] more groupchat
</A></li>
        <LI>Next message: <A HREF="032867.html">[JDEV] getting id no
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32866">[ date ]</a>
              <a href="thread.html#32866">[ thread ]</a>
              <a href="subject.html#32866">[ subject ]</a>
              <a href="author.html#32866">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Kurt,

  Yeah, it's not all that suprising actually.. ICQ keeps alot of state information in it, based on the presence of all the connected users... if jserver dies, there is nothing to tell ICQ transport that all those users that were online, are now offline, so ICQ transport goes happily on, thinking they are Online, so when the users come online again, and try to connect to icq transport, it won't happen, since icq transport thinks there are all online.. 

  &quot;Well, heck, what can I do about *that*?&quot;, you may ask.. absolutly nothing.  The Jabber 2.0 architecture may fix these problems, as all transports, and evertying will be started/managed/killed/restarted by the jabberd daemon, so you may see this problem more resolved, come the 1.2 and beyond servers..

Keith Minkler
Jabber.com, Inc.



On Wed, Jul 26, 2000 at 01:57:04PM -0400, Kurt D. Starsinic wrote:
&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i>     I had been assured by somebody on the team a while ago that, if the
</I>&gt;<i> jserver dies and restarts within a reasonable period of time, that any
</I>&gt;<i> transports that are running will re-connect to jserver and everything
</I>&gt;<i> will be hunky dory.  My practical experience tells me that is not quite
</I>&gt;<i> the case.  I'm running a slightly-post-1.0 CVS snapshot (from May 19) of
</I>&gt;<i> jserver, icq-transport, and groupchat-transport that's been working quite
</I>&gt;<i> well, _but_:
</I>&gt;<i> 
</I>&gt;<i>         * jserver crashed (for the first time in over a month!)
</I>&gt;<i> 
</I>&gt;<i>         * jserver was restarted within a minute
</I>&gt;<i> 
</I>&gt;<i>         * the icq transport logged that it had lost its connection to jserver
</I>&gt;<i> 
</I>&gt;<i>         * the groupchat and icq transports appear to have reconnected
</I>&gt;<i>           to jserver
</I>&gt;<i> 
</I>&gt;<i>         * the icq transport didn't function _correctly_ until I restarted
</I>&gt;<i>           it
</I>&gt;<i> 
</I>&gt;<i>     I don't have any more specifics right now, but can anybody
</I>&gt;<i> authoritatively say that it is or is not surprising that I had to
</I>&gt;<i> restart the transports?
</I>&gt;<i> 
</I>&gt;<i>     Peace,
</I>&gt;<i> * Kurt Starsinic (<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">kstar at orientation.com</A>) ---------- Senior Network Engineer *
</I>&gt;<i> |    `The future masters of technology will have to be lighthearted and     |
</I>&gt;<i> |     intelligent.  The machine easily masters the grim and the dumb.'      |
</I>&gt;<i> |                            -- Marshall McLuhan                            |
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032865.html">[JDEV] more groupchat
</A></li>
	<LI>Next message: <A HREF="032867.html">[JDEV] getting id no
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32866">[ date ]</a>
              <a href="thread.html#32866">[ thread ]</a>
              <a href="subject.html#32866">[ subject ]</a>
              <a href="author.html#32866">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] patch: jabberd-1.4 logfile rotation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20patch%3A%20jabberd-1.4%20logfile%20rotation&In-Reply-To=20021002160814.GB73135%40www.ladro.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014334.html">
   <LINK REL="Next"  HREF="014349.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] patch: jabberd-1.4 logfile rotation</H1>
    <B>Martin Lesser</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20patch%3A%20jabberd-1.4%20logfile%20rotation&In-Reply-To=20021002160814.GB73135%40www.ladro.com"
       TITLE="[JDEV] patch: jabberd-1.4 logfile rotation">jabber-adm at better-com.de
       </A><BR>
    <I>Thu Oct  3 00:23:03 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="014334.html">[JDEV] patch: jabberd-1.4 logfile rotation
</A></li>
        <LI>Next message: <A HREF="014349.html">[JDEV] patch: jabberd-1.4 logfile rotation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14346">[ date ]</a>
              <a href="thread.html#14346">[ thread ]</a>
              <a href="subject.html#14346">[ subject ]</a>
              <a href="author.html#14346">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Chris Wilkes &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">cwilkes-jabber at ladro.com</A>&gt; writes:

&gt;<i> Speaking of log files, is there a way to up the logging level of
</I>&gt;<i> jabberd?  Right now I just have logins and outs in my jabber.record file
</I>&gt;<i> and would like to have something on the order of &quot;user1 sent message to
</I>&gt;<i> user2&quot;
</I>
As you mentioned below: You have to run jabberd with the -D option. Then
you can use the filter options of multilog to get only specific entries
of the debugged output. For example I run jabberd here and maintain
several types of logfiles by filtering the lines for several
purposes. I.e one line of the multilog-run filter states:

  '+* * * * * *usercount*' $LOGDIR/usercount

So in $LOGDIR/usercount/current I get a simple stat about the usage of
my jabberd containing one line for every minute.

&gt;<i> If jabber's logging is like Apache's you might have to do some tricks
</I>&gt;<i> with getting it to work with multilog by creating a named pipe.  See
</I>&gt;<i> this page on how to do that <A HREF="http://www.lightwerk.com/zope/logging">http://www.lightwerk.com/zope/logging</A>
</I>
Yes, multilog needs a pipe where it gets the output of the supervised
daemon so you have to ensure that the supervised process and its output
won't go to background but in case of jabberd this is done by the -D
option automaticly. Output of stderr should be forwarded to stdout
additionally.

Martin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014334.html">[JDEV] patch: jabberd-1.4 logfile rotation
</A></li>
	<LI>Next message: <A HREF="014349.html">[JDEV] patch: jabberd-1.4 logfile rotation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14346">[ date ]</a>
              <a href="thread.html#14346">[ thread ]</a>
              <a href="subject.html#14346">[ subject ]</a>
              <a href="author.html#14346">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

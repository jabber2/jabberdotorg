<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] patch: jabberd-1.4 logfile rotation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20patch%3A%20jabberd-1.4%20logfile%20rotation&In-Reply-To=%3C87u1k5s7q3.fsf%40nb-acer.better-com.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072900.html">
   <LINK REL="Next"  HREF="072905.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] patch: jabberd-1.4 logfile rotation</H1>
    <B>Martin Lesser</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20patch%3A%20jabberd-1.4%20logfile%20rotation&In-Reply-To=%3C87u1k5s7q3.fsf%40nb-acer.better-com.de%3E"
       TITLE="[JDEV] patch: jabberd-1.4 logfile rotation">jabber-adm at better-com.de
       </A><BR>
    <I>Wed Oct  2 00:57:56 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="072900.html">[JDEV] patch: jabberd-1.4 logfile rotation
</A></li>
        <LI>Next message: <A HREF="072905.html">[JDEV] patch: jabberd-1.4 logfile rotation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72903">[ date ]</a>
              <a href="thread.html#72903">[ thread ]</a>
              <a href="subject.html#72903">[ subject ]</a>
              <a href="author.html#72903">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ralph Siemsen &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ralphs at blueairnetworks.com</A>&gt; writes:

&gt;<i> Attached is a small patch to make jabberd-1.4 play nice with the
</I>&gt;<i> logrotate facility.  Actually this is only half the story, I got lost
</I>&gt;<i> trying to chase down how error.log and record.log actually get
</I>&gt;<i> written, so those are not yet addressed.  Pointers welcomed!
</I>
Why not use multilog from <A HREF="http://cr.yp.to/daemontools.html">http://cr.yp.to/daemontools.html</A> in
combination with the other utitlities provided by this great piece of
software?

There are several benefits:

- automatic restart of died daemons (with supervise)
- automatic rotation of logfiles depending on (configurable) size and
  number of logfiles
- possibility to filter the entries which should be written to the
  logfile combined with the possibility to maintain several logfiles for
  different purposes (i.e. one logfile only for output of mio.c)
- very precise timestamping (up to nanosecs) of each line in logs
- easy signalling to daemons (with svc)
- possibility to define resource limits for a process using softlimit
  which is also part of daemontools

The cons (which IMO are no cons) should be mentioned too:

- only available for unices (not really a con)
- timestamping is done in TAI-format so you need i.e. tai64nlocal (also
  part of the suite) to convert the timestamps into a human readable
  format ('tai64nlocal &lt; logfile |less' would do it)

Give it a try, you will love it.

Martin

-- 
Express-Kommunikation mit Jabber:
JabberID: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">martin at jabber.bettercom.de</A>
Infos unter <A HREF="http://www.better-com.de/pages/im.php">http://www.better-com.de/pages/im.php</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072900.html">[JDEV] patch: jabberd-1.4 logfile rotation
</A></li>
	<LI>Next message: <A HREF="072905.html">[JDEV] patch: jabberd-1.4 logfile rotation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72903">[ date ]</a>
              <a href="thread.html#72903">[ thread ]</a>
              <a href="subject.html#72903">[ subject ]</a>
              <a href="author.html#72903">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

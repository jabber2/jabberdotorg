<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Status Notifications.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Status%20Notifications.&In-Reply-To=%3CPine.A41.3.96.990119132804.12968B-100000%40moresby.csc.UVic.CA%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029472.html">
   <LINK REL="Next"  HREF="029473.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Status Notifications.</H1>
    <B>qbradley at csc.UVic.CA</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Status%20Notifications.&In-Reply-To=%3CPine.A41.3.96.990119132804.12968B-100000%40moresby.csc.UVic.CA%3E"
       TITLE="[JDEV] Status Notifications.">qbradley at csc.UVic.CA
       </A><BR>
    <I>Tue Jan 19 15:42:49 CST 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="029472.html">[JDEV] Status Notifications.
</A></li>
        <LI>Next message: <A HREF="029473.html">[JDEV] college students?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29474">[ date ]</a>
              <a href="thread.html#29474">[ thread ]</a>
              <a href="subject.html#29474">[ subject ]</a>
              <a href="author.html#29474">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I think it would be a good idea to develop a protocol for notifications
that allows different servers to make different decisions about CPU time,
bandwidth, etc...

Here is a try:

Server A wants to know when the status of user &quot;fred&quot; on server B changes.
Server A sends a message to server B letting server B know this.  Server B
sends messages to server A when status changes.  (the connection between A
and B could be a continuous connection with occassional traffic, just like
between the client and the server)

Now servers have options

One server has lots of bandwidth but a heavily loaded CPU.  It doesn't
want to think much.  Any time a server notifies interest in a user, the
server adds the interested server to a list.  any time any users status
changes, the server sends the notification to every server on the list.

This is terribly wasteful of bandwidth but uses almost no memory and very
little CPU..

Another server is more concerned with bandwidth and is willing to expend
more memory and CPU to concerve bandwidth.  This server keeps a list of
users for each server interested in status changes.  Each time a users
status change, the server looks at each server in its list, and sends a
notification only if that server has indicated an interest in the user
whose status has changed.

Servers should be able to send other messages to each other, such as &quot;I'm
not interested in anyone from you anymore&quot; or &quot;I'm not interested in user
X anymore&quot; (which might be ignored by some servers).

I think this solution is better than polling, even in the wasteful case,
because messages are only sent when something has changed.  The potential
waste comes from servers that send messages about users a server doesn't
care about.  If that became a problem, servers could be configured not to
accept notifications from &quot;noisy&quot; servers... this would cause pressure on
such servers to use a different module.. but only if it was enough of a
problem that they got on ignore lists.  Note that not receiving
notifications would not prevent messages from going back and forth.

Lets get some servers up and running and try out some of these options.

Quetzalcoatl Bradley
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">qbradley at csc.uvic.ca</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029472.html">[JDEV] Status Notifications.
</A></li>
	<LI>Next message: <A HREF="029473.html">[JDEV] college students?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29474">[ date ]</a>
              <a href="thread.html#29474">[ thread ]</a>
              <a href="subject.html#29474">[ subject ]</a>
              <a href="author.html#29474">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

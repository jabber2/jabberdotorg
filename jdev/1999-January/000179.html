<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Status Notifications.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Status%20Notifications.&In-Reply-To=000701be4371%24bcdb32c0%24ceea7fce%40tscomm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000178.html">
   <LINK REL="Next"  HREF="000180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Status Notifications.</H1>
    <B>Nicholas M. Kirsch</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Status%20Notifications.&In-Reply-To=000701be4371%24bcdb32c0%24ceea7fce%40tscomm"
       TITLE="[JDEV] Status Notifications.">nkirsch at biznatch.nick.org
       </A><BR>
    <I>Tue Jan 19 02:16:25 CST 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="000178.html">[JDEV] Status Notifications.
</A></li>
        <LI>Next message: <A HREF="000180.html">[JDEV] Status Notifications.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#179">[ date ]</a>
              <a href="thread.html#179">[ thread ]</a>
              <a href="subject.html#179">[ subject ]</a>
              <a href="author.html#179">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>What about the case where a client is unpredicatably disconnected (ie
no-carrier, lost route)? Status messages are no longer received from that
client.. So will there be timers on the other clients, or will there be
keepalives involved?

On a security sense, I would feel more comfortable with most of the 
communication between my client and the Jabber server.. Otherwise I can
tell the IP address of all of my 'buddies' and boom.. unless there were
plans to have messages be sent directly? I didn't think that was part of
the protocol...


Not that I have a better alternative, yet.. 

Nick
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">nkirsch at biznatch.nick.org</A>

 On Mon, 18 Jan 1999,
Donovan Schulteis wrote:

&gt;<i> 
</I>&gt;<i> &gt;&gt; The roster is stored in a file on the server.  When the client conencts
</I>&gt;<i> to
</I>&gt;<i> &gt;&gt; the server, the server sends it back to the client.  The client keeps the
</I>&gt;<i> &gt;&gt; roster in memory, and periodically sends messages asking the server if
</I>&gt;<i> the
</I>&gt;<i> &gt;&gt; users are online.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Expecting the clients to poll for people on your roster is going to
</I>&gt;<i> &gt;become very expensive very quickly.  Presence indication is one of the
</I>&gt;<i> &gt;most important features I think, and having built and used a system
</I>&gt;<i> &gt;where I am notified *immediately* when someone arrives I find this vastly
</I>&gt;<i> &gt;preferable.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Why not have the server store your roster list in your account (thus
</I>&gt;<i> allowing user/computer roaming), and when the user opens the client and
</I>&gt;<i> connects to their particular server, have the roster list downloaded from
</I>&gt;<i> the server to the client.  The server could then check to see who on that
</I>&gt;<i> roster is online at the time the connection is made and download that info
</I>&gt;<i> to the client (Either with the roster, or right after downloading it).
</I>&gt;<i> After that the server does no more checking.
</I>&gt;<i> 
</I>&gt;<i> When users connect to the server, a status is sent out to all persons in
</I>&gt;<i> their roster saying that the user has come online. This should be done by
</I>&gt;<i> the server at the same time that the roster is checked to see who is online
</I>&gt;<i> (above para).  After that, the client of each individual user could then
</I>&gt;<i> post all status messages to the server, AND all users listed in the roster.
</I>&gt;<i> That way, no traffic will be passed between clients and servers (after the
</I>&gt;<i> session loading) except when a user changes their own status or when actual
</I>&gt;<i> messages are being passed.  This way the client applications keep track of
</I>&gt;<i> who is online (and whatever other status needs), and relieves the server of
</I>&gt;<i> that responsibility.
</I>&gt;<i> 
</I>&gt;<i> In essence, the server would send the initial online message to the roster,
</I>&gt;<i> and then the client would receive all status messages from a buddys client,
</I>&gt;<i> and broadcast all further status messages to all buddies, ignoring any
</I>&gt;<i> bounced messages (if the client was to send to all buddies, instead of just
</I>&gt;<i> online buddies).   You have the server announce your presence and let you
</I>&gt;<i> know who is online, and then the client app accepts the status message
</I>&gt;<i> responsibilities from there.
</I>&gt;<i> 
</I>&gt;<i> The status messages would be sent just as any other instant message would be
</I>&gt;<i> sent, but the intended receiver would be the client, not the user.  The
</I>&gt;<i> client would then display the corresponding buddy status as necessary.
</I>&gt;<i> Any new buddies added during that session could be uploaded to the server at
</I>&gt;<i> the time of adding or when closing the session, updating the users
</I>&gt;<i> account/roster file.
</I>&gt;<i> 
</I>&gt;<i> This makes the client a little smarter than some have originally conceived
</I>&gt;<i> it to be, but I feel that this scheme is necessary to reduce the load on the
</I>&gt;<i> server greatly.  The server is already handling a great deal for each
</I>&gt;<i> individual user via multiple transports and message passing.  Give the
</I>&gt;<i> server a break  :)     Anyways, the idea is to get multiple, everyday ISPs
</I>&gt;<i> to adopt and implement this server, and they absolutely will not if it is
</I>&gt;<i> going to eat up processes and CPU time.
</I>&gt;<i> 
</I>&gt;<i> I dont know, what do you all think???
</I>&gt;<i> Deej
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000178.html">[JDEV] Status Notifications.
</A></li>
	<LI>Next message: <A HREF="000180.html">[JDEV] Status Notifications.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#179">[ date ]</a>
              <a href="thread.html#179">[ thread ]</a>
              <a href="subject.html#179">[ subject ]</a>
              <a href="author.html#179">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Status Notifications.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Status%20Notifications.&In-Reply-To=%3C000701be4371%24bcdb32c0%24ceea7fce%40tscomm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="058750.html">
   <LINK REL="Next"  HREF="058754.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Status Notifications.</H1>
    <B>Donovan Schulteis</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Status%20Notifications.&In-Reply-To=%3C000701be4371%24bcdb32c0%24ceea7fce%40tscomm%3E"
       TITLE="[JDEV] Status Notifications.">sculdheizo at mindless.com
       </A><BR>
    <I>Tue Jan 19 00:05:36 CST 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="058750.html">[JDEV] cabbar snapshot
</A></li>
        <LI>Next message: <A HREF="058754.html">[JDEV] Status Notifications.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58753">[ date ]</a>
              <a href="thread.html#58753">[ thread ]</a>
              <a href="subject.html#58753">[ subject ]</a>
              <a href="author.html#58753">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;&gt;<i> The roster is stored in a file on the server.  When the client conencts
</I>to
&gt;&gt;<i> the server, the server sends it back to the client.  The client keeps the
</I>&gt;&gt;<i> roster in memory, and periodically sends messages asking the server if
</I>the
&gt;&gt;<i> users are online.
</I>&gt;<i>
</I>&gt;<i>Expecting the clients to poll for people on your roster is going to
</I>&gt;<i>become very expensive very quickly.  Presence indication is one of the
</I>&gt;<i>most important features I think, and having built and used a system
</I>&gt;<i>where I am notified *immediately* when someone arrives I find this vastly
</I>&gt;<i>preferable.
</I>

Why not have the server store your roster list in your account (thus
allowing user/computer roaming), and when the user opens the client and
connects to their particular server, have the roster list downloaded from
the server to the client.  The server could then check to see who on that
roster is online at the time the connection is made and download that info
to the client (Either with the roster, or right after downloading it).
After that the server does no more checking.

When users connect to the server, a status is sent out to all persons in
their roster saying that the user has come online. This should be done by
the server at the same time that the roster is checked to see who is online
(above para).  After that, the client of each individual user could then
post all status messages to the server, AND all users listed in the roster.
That way, no traffic will be passed between clients and servers (after the
session loading) except when a user changes their own status or when actual
messages are being passed.  This way the client applications keep track of
who is online (and whatever other status needs), and relieves the server of
that responsibility.

In essence, the server would send the initial online message to the roster,
and then the client would receive all status messages from a buddys client,
and broadcast all further status messages to all buddies, ignoring any
bounced messages (if the client was to send to all buddies, instead of just
online buddies).   You have the server announce your presence and let you
know who is online, and then the client app accepts the status message
responsibilities from there.

The status messages would be sent just as any other instant message would be
sent, but the intended receiver would be the client, not the user.  The
client would then display the corresponding buddy status as necessary.
Any new buddies added during that session could be uploaded to the server at
the time of adding or when closing the session, updating the users
account/roster file.

This makes the client a little smarter than some have originally conceived
it to be, but I feel that this scheme is necessary to reduce the load on the
server greatly.  The server is already handling a great deal for each
individual user via multiple transports and message passing.  Give the
server a break  :)     Anyways, the idea is to get multiple, everyday ISPs
to adopt and implement this server, and they absolutely will not if it is
going to eat up processes and CPU time.

I dont know, what do you all think???
Deej



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="058750.html">[JDEV] cabbar snapshot
</A></li>
	<LI>Next message: <A HREF="058754.html">[JDEV] Status Notifications.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58753">[ date ]</a>
              <a href="thread.html#58753">[ thread ]</a>
              <a href="subject.html#58753">[ subject ]</a>
              <a href="author.html#58753">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

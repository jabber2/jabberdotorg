<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] XEP-0115: backward compatibility
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20XEP-0115%3A%20backward%20compatibility&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027627.html">
   <LINK REL="Next"  HREF="027638.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] XEP-0115: backward compatibility</H1>
    <B>Alban Crequy</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20XEP-0115%3A%20backward%20compatibility&In-Reply-To="
       TITLE="[jdev] XEP-0115: backward compatibility">alban.crequy at collabora.co.uk
       </A><BR>
    <I>Tue May  6 05:59:46 CDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027627.html">[jdev] Presence of type &quot;available&quot; not allowed?
</A></li>
        <LI>Next message: <A HREF="027638.html">[jdev] XEP-0115: backward compatibility
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27637">[ date ]</a>
              <a href="thread.html#27637">[ thread ]</a>
              <a href="subject.html#27637">[ subject ]</a>
              <a href="author.html#27637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have some questions about backward compatibility of XEP-0115:
version 1.3: <A HREF="http://www.xmpp.org/extensions/attic/xep-0115-1.3.html">http://www.xmpp.org/extensions/attic/xep-0115-1.3.html</A>
version 1.5: <A HREF="http://www.xmpp.org/extensions/xep-0115.html">http://www.xmpp.org/extensions/xep-0115.html</A>

1. If I receives a presence that contains both a 'hash' and 'ext'
attributes like this:

&lt;presence from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">romeo at montague.lit</A>/orchard'&gt;
  &lt;c xmlns='<A HREF="http://jabber.org/protocol/caps'">http://jabber.org/protocol/caps'</A> 
     hash='sha-1'
     ext='voice-v1 jingle-audio jingle-video'
     node='<A HREF="http://code.google.com/p/exodus'">http://code.google.com/p/exodus'</A>
     ver='QgayPKawpkPSDYmwT/WM94uAlu0='/&gt;
&lt;/presence&gt;

Version 1.5 of XEP-0115 section &quot;5.4 Processing method&quot; says that
since it contains a 'hash' attribute, my client should send a service
discovery query on the verification string.

MUST I ignore the 'ext' attribute if my client follow the version 1.5
of the XEP? Is it allowed to send a discovery query on both the
verification string and each bundles? Should I?


2. I don't understand how backward-compatibility works. The XEP version
1.5 says: &quot;If a caps-processing application does not support the legacy
format, it SHOULD ignore the 'ver' value entirely&quot;.

But a client compliant to the XEP version 1.3 (where is defined the
legacy format) will send a discovery query on the ver attribute,
whatever it contains (hash as specified in v1.5 or version as in v1.3).
It seems inconsistent.


3. If a client with pluggable capabilities want to be compatible with
both remote client implementing the XEP v1.3 and v1.5, is the
recommended way to use both 'ext' and 'hash' attributes? Can some
features be advertised both in a bundle (e.g. jingle-audio) for v1.3
clients and in the main node with the verification string for v1.5
clients?

-- 
Alban

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027627.html">[jdev] Presence of type &quot;available&quot; not allowed?
</A></li>
	<LI>Next message: <A HREF="027638.html">[jdev] XEP-0115: backward compatibility
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27637">[ date ]</a>
              <a href="thread.html#27637">[ thread ]</a>
              <a href="subject.html#27637">[ subject ]</a>
              <a href="author.html#27637">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Suspending and resuming presence
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Suspending%20and%20resuming%20presence&In-Reply-To=%3C20060923215000.87232.qmail%40web38110.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054633.html">
   <LINK REL="Next"  HREF="054635.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Suspending and resuming presence</H1>
    <B>ennova2005-jabber at yahoo.com</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Suspending%20and%20resuming%20presence&In-Reply-To=%3C20060923215000.87232.qmail%40web38110.mail.mud.yahoo.com%3E"
       TITLE="[jdev] Suspending and resuming presence">ennova2005-jabber at yahoo.com
       </A><BR>
    <I>Sat Sep 23 16:50:00 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="054633.html">[jdev] Suspending and resuming presence
</A></li>
        <LI>Next message: <A HREF="054635.html">[jdev] Suspending and resuming presence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54634">[ date ]</a>
              <a href="thread.html#54634">[ thread ]</a>
              <a href="subject.html#54634">[ subject ]</a>
              <a href="author.html#54634">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This depends on whether your client is implemented over a polling architecture ( http) or a longer lived connection (persistent tcp) and whether you modulate your polling frequency based on what kind of messages you are getting ( presence or actual messages)

If long lived - the battery effects are marginal. You are only getting presence of people who are subscribed to and the connection is open anyway. If you are paying by the byte (or SMS or pager message) for traffic that may be a different consideration since getting presence packets when you are not actively interested in that information may not be of much use and expensive

If using http polling and modulating your polling frequency based on whether inbound traffic is presence or message - you may wish to not speed up polling if inbound is just presence updates. This will save battery life.

Ofcourse - one level of indirection solves many problems - so you could develop a small proxy on the higher bandwidth side ( between your client and your xmpp server)  which will maintain a cumultaive view of the roster and can then trickle out the presence changes on demand (pause/resume). This does not require a change in the protocol. 

I am not sure if any of the XMPP servers implement a &quot;refresh my roster&quot; command or if the protocol demands it.

What would be interesting is the concept of a variable roster based on the resource you use to login - for example if you login with resource &quot;/mobile&quot;, then your roster and subscriptions are only created for your contacts in the &quot;Mobile Contacts&quot; group ..you only appear visible to those contacts, and also only receive presence for contacts in those groups..




Stephen Pendleton &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">spendleton at movsoftware.com</A>&gt; wrote: There may be a small difference in battery savings, but since you still need
to keep an active data session going I doubt it is appreciable. I do not
think there is much of a difference between an active data session that is
transmitting and receiving application level data versus an active session
that is not.

I run a mobile XMPP client on mobiles all day long with EDGE/GPRS
connections and they are constantly sending and receiving location and
presence data and I haven't seen an issue as long as I charge the devices
every couple of days.

-----Original Message-----
From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-bounces at jabber.org</A> [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-bounces at jabber.org</A>] On Behalf Of
Tony Yat-Tung Cheung
Sent: Saturday, September 23, 2006 11:21 AM
To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
Subject: [jdev] Suspending and resuming presence


I am a developer of a wireless Jabber client. I think the idea of  
pausing/resuming presence information is an interesting one.

It is neat to block incoming presence information by using the  
privacy list. To resume the incoming presence information, we will  
have to do a presence probe on every roster. This is certainly not  
ideal. There should be a way for us to retrieve the presence changes  
(deltas) only. We may as well bring this idea to improve the XMPP  
protocol?

Is there really a huge battery savings? Has anyone performed any  
field testing of this idea?

Thanks.

Regards,
Tony Cheung



-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20060923/23e19ecd/attachment-0001.htm">https://www.jabber.org/jdev/attachments/20060923/23e19ecd/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054633.html">[jdev] Suspending and resuming presence
</A></li>
	<LI>Next message: <A HREF="054635.html">[jdev] Suspending and resuming presence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54634">[ date ]</a>
              <a href="thread.html#54634">[ thread ]</a>
              <a href="subject.html#54634">[ subject ]</a>
              <a href="author.html#54634">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

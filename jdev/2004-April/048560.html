<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] yahoo transport issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20yahoo%20transport%20issues&In-Reply-To=%3C20040423164626.GL1388%40blank.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048561.html">
   <LINK REL="Next"  HREF="048567.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] yahoo transport issues</H1>
    <B>Nathan J. Mehl</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20yahoo%20transport%20issues&In-Reply-To=%3C20040423164626.GL1388%40blank.org%3E"
       TITLE="[jdev] yahoo transport issues">memory-jabber at blank.org
       </A><BR>
    <I>Fri Apr 23 11:46:27 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="048561.html">[jdev] FAQ?
</A></li>
        <LI>Next message: <A HREF="048567.html">[jdev] yahoo transport issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48560">[ date ]</a>
              <a href="thread.html#48560">[ thread ]</a>
              <a href="subject.html#48560">[ subject ]</a>
              <a href="author.html#48560">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In the immortal words of Paul Curtis (<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pcurtis at terrapin.com</A>):
&gt;<i> Nathan J. Mehl wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Try it yourself: my jid is <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">nmehl at jabber.feedroom.com</A>, my Y! id is
</I>&gt;<i> &gt;memoryphd -- you'll see the first, but not the second...
</I>&gt;<i> 
</I>&gt;<i> Yahoo has recently required presence subscriptions from both sides .... in 
</I>&gt;<i> the same way that Jabber does. I had to re-subscribe to all my contacts to 
</I>&gt;<i> have them &quot;see&quot; me as online
</I>
Honestly, this does not seem to be the problem.  Observe:

	<A HREF="http://blank.org/memory/work/yahoo.jpg">http://blank.org/memory/work/yahoo.jpg</A>

What we have there is:

	On the left: Nitro, logged into jabber.feedroom.com.  I am
	logged into the Yahoo Transport with the Y! account 'memoryphd'

	On the right: Yahoo Messenger for OSX, which I am logged 
	into with the Y! account 'cecil_b_demental'.

Each account sees the other as being offline.  Re-subscribing to the
presence of <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">cecil_b_demental at yahoo.feedroom.com</A> on the jabber side
does not change this, nor does deleting and re-adding the 'memoryphd'
contact from within Y!M.

Here's the transport log from adding '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">cecil_b_demental at yahoo.feedroom.com</A>' 
to my roster:

Fri Apr 23 12:29:27 2004  yahoo.c:302 [YAHOO]: Read Key: 66   Value: 0
Fri Apr 23 12:29:27 2004  yahoo.c:302 [YAHOO]: Read Key: 7    Value: cecil_b_demental
Fri Apr 23 12:29:27 2004  yahoo.c:302 [YAHOO]: Read Key: 65   Value: Buddies
Fri Apr 23 12:29:27 2004  yahoo.c:1313 unhandled service 0x84
Fri Apr 23 12:29:27 2004  mio.c:607 mio while loop top
Fri Apr 23 12:29:51 2004  jabberd.c:255 main load check of 1.00 with 13 total threads
Fri Apr 23 12:30:31 2004  mio.c:620 mio while loop, working
Fri Apr 23 12:30:31 2004  mio.c:760 MIO read from socket 7: &lt;presence xmlns='jabber:client' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">cecil_b_demental at yahoo.feedroom.com</A>' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">nmehl at jabber.feedroom.com</A>' type='subscribe'&gt;&lt;status/&gt;&lt;/presence&gt;
Fri Apr 23 12:30:31 2004  base_connect.c:129 process XML: m:817A378 state:3, arg:80C44F8, x:81E0030
Fri Apr 23 12:30:31 2004  deliver.c:474 DELIVER 1:yahoo.feedroom.com &lt;presence xmlns='jabber:client' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">cecil_b_demental at yahoo.feedroom.com</A>' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">nmehl at jabber.feedroom.com</A>' type='subscribe'&gt;&lt;status/&gt;&lt;/presence&gt;
Fri Apr 23 12:30:31 2004  deliver.c:678 delivering to instance 'yahoo.feedroom.com'
Fri Apr 23 12:30:31 2004  mio.c:607 mio while loop top
Fri Apr 23 12:30:31 2004  mtq 80C46E0 entering from pth
Fri Apr 23 12:30:31 2004  mtq 80C46E0 one call 81E0538
Fri Apr 23 12:30:31 2004  yahoo-phandler.c:335 [YAHOO] Packet type=8 subtype=8 iq=(null) iq_type=subscribe
Fri Apr 23 12:30:31 2004  yahoo-phandler.c:336 [YAHOO] Packet to '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">cecil_b_demental at yahoo.feedroom.com</A>'
Fri Apr 23 12:30:31 2004  yahoo-phandler.c:337 [YAHOO] Packet from '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">nmehl at jabber.feedroom.com</A>'
Fri Apr 23 12:30:31 2004  yahoo-phandler.c:244 [YAHOO]: Adding 'cecil_b_demental' to group 'Buddies'
Fri Apr 23 12:30:31 2004  yahoo.c:327 [YAHOO]: Write Key: 1   Value: memoryphd
Fri Apr 23 12:30:31 2004  yahoo.c:327 [YAHOO]: Write Key: 7   Value: cecil_b_demental
Fri Apr 23 12:30:31 2004  yahoo.c:327 [YAHOO]: Write Key: 65 Value: Buddies
Fri Apr 23 12:30:31 2004  yahoo.c:377 [YAHOO]: Writing 68 bytes to Yahoo! (fd=8) state=0
Fri Apr 23 12:30:31 2004  mio.c:1054 mio_write called on x: 0 buffer: YMSG
Fri Apr 23 12:30:31 2004  deliver.c:474 DELIVER 1:jabber.feedroom.com &lt;presence type='subscribed' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">nmehl at jabber.feedroom.com</A>' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">cecil_b_demental at yahoo.feedroom.com</A>'/&gt;
Fri Apr 23 12:30:31 2004  deliver.c:678 delivering to instance 'yahoolinker'
Fri Apr 23 12:30:31 2004  mio.c:1054 mio_write called on x: 81B5E98 buffer: (null)
Fri Apr 23 12:30:31 2004  mtq 80C46E0 leaving to pth
Fri Apr 23 12:30:31 2004  mio.c:620 mio while loop, working
Fri Apr 23 12:30:31 2004  mio.c:279 write_dump writing data: YMSG
Fri Apr 23 12:30:31 2004  mio.c:279 write_dump writing data: &lt;presence type='subscribed' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">nmehl at jabber.feedroom.com</A>' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">cecil_b_demental at yahoo.feedroom.com</A>'/&gt;
Fri Apr 23 12:30:31 2004  mio.c:607 mio while loop top
Fri Apr 23 12:30:32 2004  mio.c:620 mio while loop, working
Fri Apr 23 12:30:32 2004  mio.c:760 MIO read from socket 8: YMSG
Fri Apr 23 12:30:32 2004  yahoo.c:1366 [YAHOO]: Read 20 [0] bytes (fd=8)  for '<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">nmehl at jabber.feedroom.com</A>/Nitro'
Fri Apr 23 12:30:32 2004  yahoo.c:1385 [YAHOO]: 0 bytes to read, rxlen is 20
Fri Apr 23 12:30:32 2004  yahoo.c:1396 [YAHOO]: Service: 0x0f Status: 1
Fri Apr 23 12:30:32 2004  yahoo.c:1301 [YAHOO]: Process New Contact


Here, in contrast, is the transport server log from when I try to re-add
'memoryphd' to the friends list of 'cecil_b_demental' from within the
official Y!M client:

Fri Apr 23 12:33:51 2004  jabberd.c:255 main load check of 1.00 with 13 total threads
Fri Apr 23 12:34:51 2004  jabberd.c:255 main load check of 1.00 with 13 total threads

...ie: a big fat nothing.  Yahoo just doesn't believe that the
'memoryphd' account is actually logged on.

Is there any additional debugging information that I can provide here?

-n


------------------------------------------------------&lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">memory at blank.org</A>&gt;
     Well, Mister President, it's the bees and the spiders again...
&lt;<A HREF="http://blank.org/memory/">http://blank.org/memory/</A>&gt;----------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048561.html">[jdev] FAQ?
</A></li>
	<LI>Next message: <A HREF="048567.html">[jdev] yahoo transport issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48560">[ date ]</a>
              <a href="thread.html#48560">[ thread ]</a>
              <a href="subject.html#48560">[ subject ]</a>
              <a href="author.html#48560">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

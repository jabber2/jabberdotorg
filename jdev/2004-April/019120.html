<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Questions with JEP 045
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Questions%20with%20JEP%20045&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019119.html">
   <LINK REL="Next"  HREF="019121.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Questions with JEP 045</H1>
    <B>rthummal</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Questions%20with%20JEP%20045&In-Reply-To="
       TITLE="[jdev] Questions with JEP 045">rthummal at csnet.cs.odu.edu
       </A><BR>
    <I>Mon Apr  5 19:14:04 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="019119.html">[jdev] Re: Server component and user presence
</A></li>
        <LI>Next message: <A HREF="019121.html">[jdev] RE: [jadmin] Questions with JEP 045
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19120">[ date ]</a>
              <a href="thread.html#19120">[ thread ]</a>
              <a href="subject.html#19120">[ subject ]</a>
              <a href="author.html#19120">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I got a question about JEP 045(Described in <A HREF="http://www.jabber.org/jeps/jep-0045.html#enter">http://www.jabber.org/jeps/jep-0045.html#enter</A>)
I am providing the contents of this JEP where I am really confused.
Example 18. Jabber User Seeks to Enter a Room (Multi-User Chat)
&lt;presence
    from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hag66 at shakespeare.lit</A>/pda'
    to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">darkcave at macbeth.shakespeare.lit</A>/thirdwitch'&gt;
  &lt;x xmlns='<A HREF="http://jabber.org/protocol/muc'/">http://jabber.org/protocol/muc'/</A>&gt;
&lt;/presence&gt;
Once Jabber user enters a room(in this case <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">darkcave at macbeth.shakespeare.lit</A>/thirdwitch),
server sends others(in this room) presence to this new user.
Example 19. Service Sends Presence from Existing Occupants to New Occupant
&lt;presence
    from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">darkcave at macbeth.shakespeare.lit</A>/firstwitch'
    to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hag66 at shakespeare.lit</A>/pda'&gt;
  &lt;x xmlns='<A HREF="http://jabber.org/protocol/muc#user'">http://jabber.org/protocol/muc#user'</A>&gt;
    &lt;item affiliation='owner' role='moderator'/&gt;
  &lt;/x&gt;
&lt;/presence&gt;
&lt;presence
    from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">darkcave at macbeth.shakespeare.lit</A>/secondwitch'
    to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hag66 at shakespeare.lit</A>/pda'&gt;
  &lt;x xmlns='<A HREF="http://jabber.org/protocol/muc#user'">http://jabber.org/protocol/muc#user'</A>&gt;
    &lt;item affiliation='admin' role='moderator'/&gt;
  &lt;/x&gt;
&lt;/presence&gt;

These are the stanzas provided by the JEP 045 specification document. Once the client receives
these messages how does it know about the rest of the members in that room. No where their
nickname or jid is specified in the presence stanza.
Example 20. Service Sends New Occupant's Presence to All Occupants
&lt;presence
    from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">darkcave at macbeth.shakespeare.lit</A>/thirdwitch'
    to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crone1 at shakespeare.lit</A>/desktop'&gt;
  &lt;x xmlns='<A HREF="http://jabber.org/protocol/muc#user'">http://jabber.org/protocol/muc#user'</A>&gt;
    &lt;item affiliation='member' role='participant'/&gt;
  &lt;/x&gt;
&lt;/presence&gt;
&lt;presence
    from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">darkcave at macbeth.shakespeare.lit</A>/thirdwitch'
    to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">wiccarocks at shakespeare.lit</A>/laptop'&gt;
  &lt;x xmlns='<A HREF="http://jabber.org/protocol/muc#user'">http://jabber.org/protocol/muc#user'</A>&gt;
    &lt;item affiliation='member' role='participant'/&gt;
  &lt;/x&gt;
&lt;/presence&gt;
&lt;presence
    from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">darkcave at macbeth.shakespeare.lit</A>/thirdwitch'
    to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hag66 at shakespeare.lit</A>/pda'&gt;
  &lt;x xmlns='<A HREF="http://jabber.org/protocol/muc#user'">http://jabber.org/protocol/muc#user'</A>&gt;
    &lt;item affiliation='member' role='participant'/&gt;
  &lt;/x&gt;
&lt;/presence&gt;

Here even the case is the same as all the other clients receive the presence of 
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hag66 at shakespeare.lit</A>/pda. How does client at <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crone1 at shakespeare.lit</A>/desktop and 
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">wiccarocks at shakespeare.lit</A>/laptop know about presence of <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hag66 at shakespeare.lit</A>/pda, as this 
jid is not mentioned anywhere.
Any help on this would be great.

Thanks
Raghu

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019119.html">[jdev] Re: Server component and user presence
</A></li>
	<LI>Next message: <A HREF="019121.html">[jdev] RE: [jadmin] Questions with JEP 045
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19120">[ date ]</a>
              <a href="thread.html#19120">[ thread ]</a>
              <a href="subject.html#19120">[ subject ]</a>
              <a href="author.html#19120">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

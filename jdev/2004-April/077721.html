<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: Net::Jabber::Protocol::CallBack() logic
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20Net%3A%3AJabber%3A%3AProtocol%3A%3ACallBack%28%29%20logic&In-Reply-To=%3C4075C2E5.3080007%40jabber.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077718.html">
   <LINK REL="Next"  HREF="077722.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: Net::Jabber::Protocol::CallBack() logic</H1>
    <B>Ryan Eatmon</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20Net%3A%3AJabber%3A%3AProtocol%3A%3ACallBack%28%29%20logic&In-Reply-To=%3C4075C2E5.3080007%40jabber.org%3E"
       TITLE="[jdev] Re: Net::Jabber::Protocol::CallBack() logic">reatmon at jabber.org
       </A><BR>
    <I>Thu Apr  8 16:23:49 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="077718.html">[jdev] Net::Jabber::Protocol::CallBack() logic
</A></li>
        <LI>Next message: <A HREF="077722.html">[jdev] Installing/Testing Jabberd2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77721">[ date ]</a>
              <a href="thread.html#77721">[ thread ]</a>
              <a href="subject.html#77721">[ subject ]</a>
              <a href="author.html#77721">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Legacy.  Really.  I supposed I could put in flags to control that 
though.  If you set the flag, then if there was an xpath match return, 
otherwise call the generic if it is defined.


Scott Bolte wrote:
&gt;<i> 	Ryan,
</I>&gt;<i> 
</I>&gt;<i> 	The logic in the CallBack method for unregistered stanzas
</I>&gt;<i> 	is to first cycle through the XPath callbacks, and then,
</I>&gt;<i> 	inexorably, process generic tag (e.g. IQ) callbacks.  Is
</I>&gt;<i> 	the unconditional use of the generic callbacks a deliberate
</I>&gt;<i> 	design decision or an artifact of the implementation?
</I>&gt;<i> 
</I>&gt;<i> 	What I want to do is normally use XPath based callbacks for
</I>&gt;<i> 	messages.  But if no XPath callback matches a new stanza,
</I>&gt;<i> 	then and only then have a generic 'default' callback invoked.
</I>&gt;<i> 
</I>&gt;<i> 	I know I could maintain my own state table based on stream
</I>&gt;<i> 	ids, but that's a kludge at best. A more elegant approach
</I>&gt;<i> 	would be to use the return value of a callback to control
</I>&gt;<i> 	future processing of that stanza.
</I>&gt;<i> 
</I>&gt;<i> 	Is such a change possible, or are there architectural
</I>&gt;<i> 	constraints?
</I>&gt;<i> 
</I>&gt;<i> 		Scott
</I>&gt;<i> 
</I>
-- 
Ryan Eatmon
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">reatmon at jabber.org</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077718.html">[jdev] Net::Jabber::Protocol::CallBack() logic
</A></li>
	<LI>Next message: <A HREF="077722.html">[jdev] Installing/Testing Jabberd2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77721">[ date ]</a>
              <a href="thread.html#77721">[ thread ]</a>
              <a href="subject.html#77721">[ subject ]</a>
              <a href="author.html#77721">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

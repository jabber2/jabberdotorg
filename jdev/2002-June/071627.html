<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Possible Denial of Service in mio_ssl.c
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Possible%20Denial%20of%20Service%20in%20mio_ssl.c&In-Reply-To=%3C3D00C3AD.9020606%40phoenix-int.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071620.html">
   <LINK REL="Next"  HREF="071634.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Possible Denial of Service in mio_ssl.c</H1>
    <B>Nathan Sharp</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Possible%20Denial%20of%20Service%20in%20mio_ssl.c&In-Reply-To=%3C3D00C3AD.9020606%40phoenix-int.com%3E"
       TITLE="[JDEV] Possible Denial of Service in mio_ssl.c">spamnps+jabber at phoenix-int.com
       </A><BR>
    <I>Fri Jun  7 09:31:09 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="071620.html">[JDEV] Possible Denial of Service in mio_ssl.c
</A></li>
        <LI>Next message: <A HREF="071634.html">[JDEV] Possible Denial of Service in mio_ssl.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71627">[ date ]</a>
              <a href="thread.html#71627">[ thread ]</a>
              <a href="subject.html#71627">[ subject ]</a>
              <a href="author.html#71627">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Martin,

This is the bug that I just found the other day!  Look back to last week 
and you'll see a patch I submitted to the jdev list which fixes this 
problem.   (suspicious that this script happens just after I posted the 
patch ;-)

The problem is that non-blocking mode is not inherited to the accepted 
socket, and isn't set until after the initial ssl negotiation, thereby 
locking up the jabber server until the ssl is negotiated.  The patch 
sets the non-blocking mode immediately, and regular karma and rate 
limits take care of everything past that.

Good luck!
  Nathan

Martin Lesser wrote:

&gt;<i>The last days we had some trouble with a script-kiddie:
</I>&gt;<i>
</I>&gt;<i>Looks like this kid wrote a script which permanently (at least every
</I>&gt;<i>second) tried to connect to port 5223 of our Jabber-Server (1.4.2)
</I>&gt;<i>without having a real ssl-client at his side.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071620.html">[JDEV] Possible Denial of Service in mio_ssl.c
</A></li>
	<LI>Next message: <A HREF="071634.html">[JDEV] Possible Denial of Service in mio_ssl.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71627">[ date ]</a>
              <a href="thread.html#71627">[ thread ]</a>
              <a href="subject.html#71627">[ subject ]</a>
              <a href="author.html#71627">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

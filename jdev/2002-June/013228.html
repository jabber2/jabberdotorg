<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Problem with xdb_mysql : cannot load backend 'mysql'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Problem%20with%20xdb_mysql%20%3A%20cannot%20load%20backend%20%27mysql%27&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013235.html">
   <LINK REL="Next"  HREF="013202.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Problem with xdb_mysql : cannot load backend 'mysql'</H1>
    <B>Benoit Decaudin</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Problem%20with%20xdb_mysql%20%3A%20cannot%20load%20backend%20%27mysql%27&In-Reply-To="
       TITLE="[JDEV] Problem with xdb_mysql : cannot load backend 'mysql'">benoit.decaudin at terravirtual.net
       </A><BR>
    <I>Tue Jun 25 10:05:36 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="013235.html">[JDEV] scalability
</A></li>
        <LI>Next message: <A HREF="013202.html">[JDEV] jpolld with jabberd 1.4.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13228">[ date ]</a>
              <a href="thread.html#13228">[ thread ]</a>
              <a href="subject.html#13228">[ subject ]</a>
              <a href="author.html#13228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello.

I have a problem when trying to start the server with a xdb_sql module.
The server returns that error :

20020625T16:35:45: [alert] (-internal): [xdbsql_config_init] cannot load
backend 'mysql'

I just don't know why. I did not found much information about the &lt;/backend&gt;
tag in the xdb_sql.xml configuration file. I have added the following lines
to my jabber.xml file (I've replaced my.hostname.com, of course) :

  &lt;xdb id=&quot;xdb_sql&quot;&gt;
    &lt;host&gt;my.hostname.com&lt;/host&gt;
    &lt;ns&gt;jabber:iq:roster&lt;/ns&gt;
    &lt;ns&gt;jabber:x:offline&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:filter&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:last&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:auth&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:auth:0k&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:register&lt;/ns&gt;
    &lt;ns&gt;vcard-temp&lt;/ns&gt;
    &lt;load&gt;
      &lt;xdb_sql&gt;./xdb_sql/xdb_sql.so&lt;/xdb_sql&gt;
    &lt;/load&gt;
    &lt;jabberd:include&gt;/etc/jabber/xdb_sql.xml&lt;/jabberd:include&gt;
  &lt;/xdb&gt;

  &lt;xdb id=&quot;xdb_file&quot;&gt;
    &lt;host&gt;jud.localhost&lt;/host&gt;
    &lt;host&gt;msn.localhost&lt;/host&gt;
    &lt;host&gt;icq.localhost&lt;/host&gt;
    &lt;host&gt;aim.localhost&lt;/host&gt;
    &lt;host&gt;irc.localhost&lt;/host&gt;
    &lt;host&gt;yahoo.localhost&lt;/host&gt;
    &lt;ns&gt;jabber:iq:roster&lt;/ns&gt;
    &lt;ns&gt;jabber:x:offline&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:filter&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:last&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:auth&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:auth:0k&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:register&lt;/ns&gt;
    &lt;ns&gt;vcard-temp&lt;/ns&gt;
    &lt;load&gt;
      &lt;xdb_file&gt;./xdb_file/xdb_file.so&lt;/xdb_file&gt;
    &lt;/load&gt;
    &lt;!-- there is no line break below... --&gt;
    &lt;xdb_file xmlns=&quot;jabber:config:xdb_file&quot;&gt;
      &lt;spool&gt;&lt;jabberd:cmdline
      flag='s'&gt;/var/lib/jabber&lt;/jabberd:cmdline&gt;&lt;/spool&gt;
    &lt;/xdb_file&gt;
  &lt;/xdb&gt;


And here is the beginning of the xdb_sql.xml file :

  &lt;xdb_sql xmlns=&quot;jabberd:xdb_sql:config&quot;&gt;

    &lt;backend&gt;mysql&lt;/backend&gt;

    &lt;connection&gt;
      &lt;host&gt;localhost&lt;/host&gt;
      &lt;db&gt;jabber&lt;/db&gt;
      &lt;user&gt;daemon&lt;/user&gt;
      &lt;pass&gt;&lt;/pass&gt;
    &lt;/connection&gt;

    [etc...]


I've tested different settings for &lt;/host&gt;, &lt;/user&gt; and &lt;/password&gt; (real
hostname, localhost, root user with root password, root user w/o password,
etc) but I still have the same error message.

My jabber database has a <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">daemon at localhost</A> user with no password.

Any help will be really appreciated !
Thanks.


Beno&#238;t


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013235.html">[JDEV] scalability
</A></li>
	<LI>Next message: <A HREF="013202.html">[JDEV] jpolld with jabberd 1.4.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13228">[ date ]</a>
              <a href="thread.html#13228">[ thread ]</a>
              <a href="subject.html#13228">[ subject ]</a>
              <a href="author.html#13228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] File transfers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20File%20transfers&In-Reply-To=%3C200206072238.g57Mcjn01520%40proton.freenet.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071643.html">
   <LINK REL="Next"  HREF="071649.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] File transfers</H1>
    <B>Fireglyph</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20File%20transfers&In-Reply-To=%3C200206072238.g57Mcjn01520%40proton.freenet.de%3E"
       TITLE="[JDEV] File transfers">fireglyph at gmx.net
       </A><BR>
    <I>Fri Jun  7 17:38:45 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="071643.html">[JDEV] File transfers
</A></li>
        <LI>Next message: <A HREF="071649.html">[JDEV] File transfers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71647">[ date ]</a>
              <a href="thread.html#71647">[ thread ]</a>
              <a href="subject.html#71647">[ subject ]</a>
              <a href="author.html#71647">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 07 June 2002 22:11, Michael Rothwell wrote:
&gt;<i> [...] if a client is trying to transfter to another client on a
</I>&gt;<i> different server, then the servers negotiate acceptable
</I>&gt;<i> file-transfer parameters (the minimum of each server's config for
</I>&gt;<i> file size, timeout, etc), and communicate limitations back to the
</I>&gt;<i> client, including &quot;server-assisted file transfer not supported,&quot; at
</I>&gt;<i> which point the clients could fall back to p2p.
</I>
I really have difficulties to understand why anyone could prefer to 
transmit a file two times by using a machine in the middle (with even 
a higher payload if using Base64) instead of establishing a direct 
binary p2p connection, sending it only one time over the wire - at 
least if possible.

During the whole discussion I was often scratching my head, asking 
myself why anyone should prefer the less efficient solution over the 
other - especially if the same person doesn't only want to develop a 
client, but even *use* it himself. (I've only a 56K modem, for 
example.)

Therefore, shouldn't it rather read &quot;p2p file transfer not supported&quot; 
(NATs, firewalls, etc.) - at which point I could fall back to p2s2p?

Why - for example - not inventing a handshaking protocol, in which 
both clients exchange information about which one is sitting behind a 
firewall. Let us assume that A wants to send a file to B.
IMO, the rule is simple:

IF (B can establish a connection to A) THEN
    B connects to A and downloads the file using HTTP GET
    (more efficient than uploading, see cable modems/ADSL)

ELSE IF (A can establish a connection to B) THEN
    A connects to B and pushes the file using HTTP PUT/POST

ELSE
    A connects to the server, uploads the file using HTTP PUT/POST
    B connects to the server, downloads the file using HTTP GET

In each case, one would get the most efficient solution possible 
given the circumstances - what's *wrong* with that???

I've to admit though that I can imagine some situations when using 
the server could be a real advantage. If you want - for example - to 
send the file to many people, maybe to a whole group in your roster 
(or during a conference), then a server should be used to distribute 
the file.

Otherwise, I'd always try the p2p solution.

(Two additional if-statements aren't *that* much difficult to 
implement - are they?)

Of course, that's only my personal opinion,

greetings,
Marco

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071643.html">[JDEV] File transfers
</A></li>
	<LI>Next message: <A HREF="071649.html">[JDEV] File transfers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71647">[ date ]</a>
              <a href="thread.html#71647">[ thread ]</a>
              <a href="subject.html#71647">[ subject ]</a>
              <a href="author.html#71647">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

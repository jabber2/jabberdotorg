<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Jabber server hostname and JIDs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabber%20server%20hostname%20and%20JIDs&In-Reply-To=%3C20020304070701.GA1946%40gideon.its.monash.edu.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040812.html">
   <LINK REL="Next"  HREF="040814.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Jabber server hostname and JIDs</H1>
    <B>Robert Norris</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabber%20server%20hostname%20and%20JIDs&In-Reply-To=%3C20020304070701.GA1946%40gideon.its.monash.edu.au%3E"
       TITLE="[JDEV] Jabber server hostname and JIDs">rob at cataclysm.cx
       </A><BR>
    <I>Mon Mar  4 01:07:01 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="040812.html">[JDEV] Jabber server hostname and JIDs
</A></li>
        <LI>Next message: <A HREF="040814.html">[JDEV] Jabber server hostname and JIDs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40813">[ date ]</a>
              <a href="thread.html#40813">[ thread ]</a>
              <a href="subject.html#40813">[ subject ]</a>
              <a href="author.html#40813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; 3. Hack JID rewriting stuff into the JSM, so that any to/from attributes
</I>&gt;<i> &gt;    get rewritten to what I want them to be.
</I>&gt;<i> 
</I>&gt;<i> It already does this, in the &lt;pthcsock&gt; element in the c2s config just
</I>&gt;<i> add:
</I>&gt;<i> 	&lt;alias to=&quot;server.name&quot;/&gt;
</I>&gt;<i> 
</I>&gt;<i> It's ugly, but it does all the magic to/from replacing so that things work
</I>&gt;<i> just like you want :)  The above is the &quot;default&quot; one, you can also have
</I>&gt;<i> multiple &lt;alias to=&quot;real.server&quot;&gt;what.client.uses&lt;/alias&gt; in there.
</I>
That's interesting to know. It's pretty disgusting (as most hacks of
this type are), and it still has the problem that the client thinks its
JID is one thing while the rest of the network knows it as something
else. But for most things, this should work well enough.

&gt;<i> &gt; 4. Get clients to use SRV records for the client connection.
</I>&gt;<i> 
</I>&gt;<i> This should definately be a goal, but it's still very hard to do SRV
</I>&gt;<i> lookups in most environments.  Hopefully that will change, or some simple
</I>&gt;<i> portable SRV lookup libraries will happen. 
</I>
A bit of quick googling finds this:

  <A HREF="http://www.cs.columbia.edu/sip/srv/">http://www.cs.columbia.edu/sip/srv/</A>

Which is small enough to be pulled into just about anything, by the
looks of it.

Also, someone mentioned this last week, which looks promising (though it
hasn't been touched for a while):

  <A HREF="http://ruli.sf.net/">http://ruli.sf.net/</A>

&gt;<i> Although it's probably not &quot;right&quot; in some way, I'm a fan of using a
</I>&gt;<i> fallback method (if you can't do SRV) of just a normal A lookup on the
</I>&gt;<i> same SRV formatted record: _jabber._tcp.jabber.org.  SRV gives you port
</I>&gt;<i> assignment and weighted and load balanced farms, which is all very nice,
</I>&gt;<i> but if you just can't hack it then at least having an alternative IP is
</I>&gt;<i> still very useful.
</I>
Agreed. It's good in small deployments. Also, this is what SMTP does
with MX records - if it can't find one, it falls back to an A record.

&gt;<i> &gt; 5. Get clients to treat the JID and the server as different entities.
</I>&gt;<i> 
</I>&gt;<i> Yes, it should probably have been clearer at some point that it would be
</I>&gt;<i> useful in clients to have an advanced option for a &quot;proxy&quot; or &quot;server&quot;
</I>&gt;<i> entry box, that is used only for resolving the server, much like email
</I>&gt;<i> clients and pop/imap.
</I>
A plea to client developers - do this. It shouldn't be too hard, and is
a good interim solution.

Rob.

-- 
Robert Norris                                       GPG: 1024D/FC18E6C2
Email+Jabber: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rob at cataclysm.cx</A>                Web: <A HREF="http://cataclysm.cx/">http://cataclysm.cx/</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20020304/3761ab2a/attachment-0001.pgp">https://www.jabber.org/jdev/attachments/20020304/3761ab2a/attachment-0001.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040812.html">[JDEV] Jabber server hostname and JIDs
</A></li>
	<LI>Next message: <A HREF="040814.html">[JDEV] Jabber server hostname and JIDs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40813">[ date ]</a>
              <a href="thread.html#40813">[ thread ]</a>
              <a href="subject.html#40813">[ subject ]</a>
              <a href="author.html#40813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] icqv7 core dumps on external part ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20icqv7%20core%20dumps%20on%20external%20part%20%3F&In-Reply-To=%3C3CA2F200.4FD7E6B7%40godden.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041187.html">
   <LINK REL="Next"  HREF="041203.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] icqv7 core dumps on external part ?</H1>
    <B>Wim Godden</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20icqv7%20core%20dumps%20on%20external%20part%20%3F&In-Reply-To=%3C3CA2F200.4FD7E6B7%40godden.net%3E"
       TITLE="[JDEV] icqv7 core dumps on external part ?">wim at godden.net
       </A><BR>
    <I>Thu Mar 28 04:35:44 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="041187.html">[JDEV] icqv7 core dumps on external part ?
</A></li>
        <LI>Next message: <A HREF="041203.html">[JDEV] icqv7 core dumps on external part ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41195">[ date ]</a>
              <a href="thread.html#41195">[ thread ]</a>
              <a href="subject.html#41195">[ subject ]</a>
              <a href="author.html#41195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is the result :

Core was generated by `icqv7ext'.
Program terminated with signal 11, Segmentation fault.
Reading symbols from /usr/local/lib/libsigc-1.0.so.0...done.
Reading symbols from /lib/libpthread.so.0...done.
Reading symbols from /lib/libresolv.so.2...done.
Reading symbols from /usr/local/lib/libstdc++.so.3...done.
Reading symbols from /lib/libm.so.6...done.
Reading symbols from /usr/local/lib/libgcc_s.so.1...done.
Reading symbols from /lib/libc.so.6...done.
Reading symbols from /lib/ld-linux.so.2...done.
#0  0x40126e88 in chunk_alloc (ar_ptr=0x401bbd40, nb=16) at malloc.c:2875
2875    malloc.c: No such file or directory.
(gdb) bt
#0  0x40126e88 in chunk_alloc (ar_ptr=0x401bbd40, nb=16) at malloc.c:2875
#1  0x401265ae in __libc_malloc (bytes=12) at malloc.c:2696
#2  0x80de950 in _ZNSt23__malloc_alloc_templateILi0EE8allocateEj (__n=12) at
/usr/local/include/g++-v3/bits/stl_alloc.h:114
#3  0x806f6d1 in
_ZN7bedrock3net6SocketC1ERNS0_13SocketWatcherERNS_10ThreadPoolEiiPNS0_5KarmaEPNS0_15ConnectionLimitE
(
    this=0x8153010, watcher=@0xbffff81c, pool=@0xbffff7c4, key=0,
socketfd=-1, karma=0x0, conn_limit=0x0)
    at /usr/local/include/g++-v3/bits/stl_alloc.h:184
#4  0x806e655 in
_ZN7bedrock3net13SocketWatcher19createConnectSocketEPNS0_19SocketEventListenerEPKcS5_iiPNS0_5KarmaE
(
    this=0xbffff81c, listener=0xbffff9f4, host=0x814fad4 &quot;127.0.0.1&quot;,
service=0x814fab4 &quot;_jabber._tcp&quot;, defaultport=7000,
    thread_key=0, karma=0x0) at SocketWatcher.cpp:195
#5  0x80db48e in
_ZN3jax16RouterConnectionINS_6PacketES1_E7connectERKSsS4_RN7bedrock3net7AddressE
(this=0xbffff9f0,
    name=@0xbffff7a4, secret=@0xbffffac0, a=@0xbffff5d0) at
/usr/local/include/g++-v3/bits/basic_string.h:396
#6  0x8059516 in _ZN8IcqTransC1ERKSsS1_S1_jb (this=0xbffff7a0,
serviceid=@0xbffffad0, password=@0xbffffac0, hostname=@0xbffffab0,
    port=7000, outgoing_dir=true) at IcqTrans.cpp:67
#7  0x8069c17 in main (argc=1, argv=0xbffffb44) at main.cpp:113
Current language:  auto; currently c


David Waite wrote:

&gt;<i> Wim Godden wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;Trying to run it like this :
</I>&gt;<i> &gt;icqv7ext -n icqv7ext -s secretpass -h 127.0.0.1 -p 7000 -m
</I>&gt;<i> &gt;sms.localnetwork.local
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I get :
</I>&gt;<i> &gt;Starting component...
</I>&gt;<i> &gt;        Component ID : icqv7ext
</I>&gt;<i> &gt;        Secret       : secretpass
</I>&gt;<i> &gt;        Jabberd IP   : 127.0.0.1
</I>&gt;<i> &gt;        Jabberd Port : 7000
</I>&gt;<i> &gt;Segmentation fault (core dumped)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Any ideas ?
</I>&gt;<i> &gt;
</I>&gt;<i> Sounds like it is core-dumping wihle trying to start the component :-)
</I>&gt;<i>
</I>&gt;<i> Perhaps you could post a backtrace from the core? (perhaps &quot;gdb icqv7ext
</I>&gt;<i> -c core&quot;, then &quot;bt&quot;.) Cores from threaded components are much nicer if
</I>&gt;<i> they are generated from something other than Linux; if you are using
</I>&gt;<i> Linux try to use the newest kernel possible (as they reworked a bit of
</I>&gt;<i> this logic within the 2.4 series)
</I>&gt;<i>
</I>&gt;<i> -David Waite
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>
--
-----
FirstLink Networks - <A HREF="http://www.firstlinknetworks.com">http://www.firstlinknetworks.com</A>
-----
De leukste moppen op je scherm en in je mailbox : <A HREF="http://www.moppen.be">http://www.moppen.be</A> !!!!



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041187.html">[JDEV] icqv7 core dumps on external part ?
</A></li>
	<LI>Next message: <A HREF="041203.html">[JDEV] icqv7 core dumps on external part ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41195">[ date ]</a>
              <a href="thread.html#41195">[ thread ]</a>
              <a href="subject.html#41195">[ subject ]</a>
              <a href="author.html#41195">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

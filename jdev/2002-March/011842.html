<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Re: AIM-t crashes, was: Jabber Advocacy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20AIM-t%20crashes%2C%20was%3A%20Jabber%20Advocacy&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011841.html">
   <LINK REL="Next"  HREF="011850.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Re: AIM-t crashes, was: Jabber Advocacy</H1>
    <B>Julian Missig</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20AIM-t%20crashes%2C%20was%3A%20Jabber%20Advocacy&In-Reply-To="
       TITLE="[JDEV] Re: AIM-t crashes, was: Jabber Advocacy">julian at jabber.org
       </A><BR>
    <I>Mon Mar 25 17:06:00 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="011841.html">[JDEV] Re: AIM-t crashes, was: Jabber Advocacy
</A></li>
        <LI>Next message: <A HREF="011850.html">[JDEV] Re: AIM-t crashes, was: Jabber Advocacy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11842">[ date ]</a>
              <a href="thread.html#11842">[ thread ]</a>
              <a href="subject.html#11842">[ subject ]</a>
              <a href="author.html#11842">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oh, and this is the one I was receiving fairly often for a while:

#0  0x40131212 in __libc_send () from /lib/libc.so.6
#1  0x401adcf0 in aim_send (fd=9, buf=0x81d93f0, count=26) at txqueue.c:217
#2  0x401addb1 in aim_bstream_send (bs=0x81caf58, conn=0x81cb760, count=26)
     at txqueue.c:241
#3  0x401adfaf in sendframe_flap (sess=0x8192540, fr=0x81d8d50)
     at txqueue.c:288
#4  0x401ae1d4 in aim_tx_sendframe (sess=0x8192540, fr=0x81d8d50)
     at txqueue.c:346
#5  0x401adbab in aim_tx_enqueue__immediate (sess=0x8192540, fr=0x81d8d50)
     at txqueue.c:152
#6  0x401adc85 in aim_tx_enqueue (sess=0x8192540, fr=0x81d8d50)
     at txqueue.c:189
#7  0x4019368d in aim_add_buddy (sess=0x8192540, conn=0x81cb760,
     sn=0x81f5cd0 &quot;splshdown&quot;) at buddylist.c:114
#8  0x401922c5 in at_buddy_add (ti=0x8163cf0, jp=0x81f5ca8) at buddies.c:219
#9  0x401a46b2 in at_session_pres (s=0x8196068, jp=0x81f5ca8) at pres.c:93
#10 0x401ab8ae in at_aim_session_parser (s=0x8196068, jp=0x81f5ca8)
     at sessions.c:1090
#11 0x401ab5ed in at_session_main (arg=0x8196068) at sessions.c:1023
#12 0x40028437 in pth_spawn_trampoline () from /usr/lib/libpth.so.14
#13 0x4009b854 in __makecontext () from /lib/libc.so.6
#14 0x400c6bf6 in chunk_free (ar_ptr=0x0, p=0x81ad10c) at malloc.c:3165


but now I just seem to be getting this (VERY often):

#0  0x401a283f in at_parse_incoming_im (ass=0x8171848, command=0x81734a0)
     at messages.c:34
#1  0x4019d941 in incomingim_ch1 (sess=0x8171848, mod=0x8171b08, 
rx=0x81734a0,
     snac=0x8199a38, channel=1, userinfo=0x8199948, bs=0x81734b0,
     cookie=0x81999c8 &quot;1312C3F&quot;) at im.c:1181
#2  0x4019e427 in incomingim (sess=0x8171848, mod=0x8171b08, rx=0x81734a0,
     snac=0x8199a38, bs=0x81734b0) at im.c:1590
#3  0x4019ec45 in snachandler (sess=0x8171848, mod=0x8171b08, rx=0x81734a0,
     snac=0x8199a38, bs=0x81734b0) at im.c:1800
#4  0x401a69e7 in consumesnac (sess=0x8171848, rx=0x81734a0)
     at rxhandlers.c:117
#5  0x401a738b in aim_rxdispatch (sess=0x8171848) at rxhandlers.c:571
#6  0x401ac7aa in at_session_main (arg=0x8171bd8) at sessions.c:1012
#7  0x40028437 in pth_spawn_trampoline () from /usr/lib/libpth.so.14
#8  0x4009b854 in __makecontext () from /lib/libc.so.6
#9  0x400c6bf6 in chunk_free (ar_ptr=0x0, p=0x8176dcc) at malloc.c:3165

Both which I offered to temas, and I think I posted the first one in 
other places too.

Temas said backtraces aren't particularly helpful since he's rewriting 
major parts of it...

Julian Missig wrote:
&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">admin at jabber.fsinf.de</A> wrote:
</I>&gt;<i>  &gt; On Mon, 25 Mar 2002, Julian Missig wrote:
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;&gt; Someone needs to make aim-t not crash constantly and I'll be ok
</I>&gt;<i>  &gt;&gt; since I run my own server ;)
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; AIM-t is running for some weeks here now without a single crash.
</I>&gt;<i>  &gt; Just a few users and ICQ only though.
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; Take a look at AIM-t's current README (linked to on AIM-t's
</I>&gt;<i>  &gt; homepage, <A HREF="http://aim-transport.jabberstudio.org">http://aim-transport.jabberstudio.org</A>) for instructions on
</I>&gt;<i>  &gt; how to help debugging. Just saying &quot;it crashes&quot; isn't enough, sorry
</I>&gt;<i>  &gt; ;-).
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; Regards
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I am not at all interested in using AIM-t for ICQ. ICQv7 works great.
</I>&gt;<i> I'm well aware of how to setup aim-t, ask temas :)
</I>&gt;<i> 
</I>&gt;<i> Problems with aim-t:
</I>&gt;<i> Sends presence out to aim way too much, breaking message send limit,
</I>&gt;<i> causing aim-t to send out 30+ errors to the user.
</I>&gt;<i> Seems to crash if the user is disconnected or somehow unexpectedly
</I>&gt;<i> disconnects.
</I>&gt;<i> Crashes on certain kinds of aim messages from particular users (very
</I>&gt;<i> repeatible for me... I'm guessing something in the pseudoHTML
</I>&gt;<i> transformations?)
</I>&gt;<i> Crashes if presence changes a tad too frequently.
</I>&gt;<i> 
</I>&gt;<i> Quoting a dman, a gabber user:
</I>&gt;<i>  &gt; The first problem is if I am set to &quot;away&quot; due to being idle, on AIM I
</I>&gt;<i>  &gt; am listed as away forever (until I logout and log in again).
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; The second problem is if I log off the AIM agent and log back in, I
</I>&gt;<i>  &gt; get no status information regarding any contact.
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; If I completely log off the jabber server and re-login then everything
</I>&gt;<i>  &gt; returns to normal.
</I>&gt;<i> 
</I>&gt;<i> I experience those same problems.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Julian
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011841.html">[JDEV] Re: AIM-t crashes, was: Jabber Advocacy
</A></li>
	<LI>Next message: <A HREF="011850.html">[JDEV] Re: AIM-t crashes, was: Jabber Advocacy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11842">[ date ]</a>
              <a href="thread.html#11842">[ thread ]</a>
              <a href="subject.html#11842">[ subject ]</a>
              <a href="author.html#11842">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] About chatrooms over Jabber
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20About%20chatrooms%20over%20Jabber&In-Reply-To=%3C37D1A02B.5F2E33B5%40iname.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059984.html">
   <LINK REL="Next"  HREF="065502.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] About chatrooms over Jabber</H1>
    <B>Waster_</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20About%20chatrooms%20over%20Jabber&In-Reply-To=%3C37D1A02B.5F2E33B5%40iname.com%3E"
       TITLE="[JDEV] About chatrooms over Jabber">waster at iname.com
       </A><BR>
    <I>Sat Sep  4 17:41:47 CDT 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="059984.html">[JDEV] AIM/Oscar Specification
</A></li>
        <LI>Next message: <A HREF="065502.html">[JDEV] Need Jabber Server Consultant in N. VA
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60031">[ date ]</a>
              <a href="thread.html#60031">[ thread ]</a>
              <a href="subject.html#60031">[ subject ]</a>
              <a href="author.html#60031">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I was thinking to send this message to [JDEV] when I return from
holiday, but as I see that there seems some work to make Jabber
&quot;chattable&quot;,
I sent it like this. Maybe we can make this a part of standart Jabber
protocol.

  The &quot;JChat Bot&quot; is working and fully functional now, but the PING
stuff
hasn't finished yet. If we cannot make something like this a part of
standart
protocol, I'll try to put the JChat server inside zABBER, with changing
tags
(split them to jchat_server and jchat_client), because I don't think
making
clients specific to a bot/transport is a good idea in Jabber.

P.S: I can send the &quot;BOT&quot; (in Tcl) if anyone mails to me.

P.S#2: If I had to place JChat server inside zABBER, then another mail
will be
       sent to [JDEV] subjected &quot;A message type with no back-error&quot; :))

Thanks,
Kerem 'Waster_' HADIMLI


&gt;<i>
</I>&gt;<i> I'm working on a JChat &quot;Bot&quot; these days. It'll connect to
</I>&gt;<i> jabber.transport
</I>&gt;<i> as a client and wait for messages (ext). With the special commands in
</I>&gt;<i> &lt;jchat&gt;
</I>&gt;<i> tag under &lt;ext&gt;, it will create chatrooms, handle the people joining it,
</I>&gt;<i> inviting people, etc....
</I>&gt;<i> 
</I>&gt;<i>   The protocol is very simple, here's the all protocol:
</I>&gt;<i> 
</I>&gt;<i> #From <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A> to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A>, client wants to create a new room:
</I>&gt;<i> &lt;message&gt;
</I>&gt;<i>   &lt;from nick=&quot;CanAli&quot;&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A>&lt;/from&gt;
</I>&gt;<i>   &lt;ext&gt;
</I>&gt;<i>     &lt;jchat command=&quot;create&quot;/&gt;
</I>&gt;<i>   &lt;/ext&gt;
</I>&gt;<i> &lt;/message&gt;
</I>&gt;<i> 
</I>&gt;<i> #From <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A> to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A>, JChat says &quot;ok&quot; and sends the name
</I>&gt;<i> of the room in thread:
</I>&gt;<i> &lt;message&gt;
</I>&gt;<i>   &lt;from&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A>&lt;/from&gt;
</I>&gt;<i>   &lt;thread&gt;3145&lt;/thread&gt;
</I>&gt;<i>   &lt;ext&gt;
</I>&gt;<i>     &lt;jchat command=&quot;newroom&quot;/&gt;
</I>&gt;<i>   &lt;/ext&gt;
</I>&gt;<i> &lt;/message&gt;
</I>&gt;<i> 
</I>&gt;<i> #From <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A> to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A>, client wants to invite <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A>
</I>&gt;<i> to the room:
</I>&gt;<i> &lt;message&gt;
</I>&gt;<i>   &lt;from nick=&quot;CanAli&quot;&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A>&lt;/from&gt;
</I>&gt;<i>   &lt;thread&gt;3145&lt;/thread&gt;
</I>&gt;<i>   &lt;ext&gt;
</I>&gt;<i>     &lt;jchat command=&quot;invite&quot; nick=&quot;jennifer&quot;&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A>&lt;/jchat&gt;
</I>&gt;<i>   &lt;/ext&gt;
</I>&gt;<i> &lt;/message&gt;
</I>&gt;<i> 
</I>&gt;<i> #From <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A> to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A>, JChat invites <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A> to the
</I>&gt;<i> room, and adds her to the room's invite-list:
</I>&gt;<i> &lt;message&gt;
</I>&gt;<i>   &lt;from&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A>&lt;/from&gt;
</I>&gt;<i>   &lt;thread&gt;3145&lt;/thread&gt;
</I>&gt;<i>   &lt;ext&gt;
</I>&gt;<i>     &lt;jchat command=&quot;invite&quot; nick=&quot;CanAli&quot;&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A>&lt;/jchat&gt;
</I>&gt;<i>   &lt;/ext&gt;
</I>&gt;<i> &lt;/message&gt;
</I>&gt;<i> 
</I>&gt;<i> #From <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A> to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A>, jenny wants to join room. JChat
</I>&gt;<i> deletes her from room's invite list:
</I>&gt;<i> &lt;message&gt;
</I>&gt;<i>   &lt;from nick=&quot;jennifer&quot;&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A>&lt;/from&gt;
</I>&gt;<i>   &lt;thread&gt;3145&lt;/thread&gt;
</I>&gt;<i>   &lt;ext&gt;
</I>&gt;<i>     &lt;jchat command=&quot;join&quot;/&gt;
</I>&gt;<i>   &lt;/ext&gt;
</I>&gt;<i> &lt;/message&gt;
</I>&gt;<i> 
</I>&gt;<i> #From <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A> to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A>, <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A> notifies him that
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A> is connected:
</I>&gt;<i> &lt;message&gt;
</I>&gt;<i>   &lt;from&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A>&lt;/from&gt;
</I>&gt;<i>   &lt;thread&gt;3145&lt;/thread&gt;
</I>&gt;<i>   &lt;ext&gt;
</I>&gt;<i>     &lt;jchat command=&quot;join&quot; nick=&quot;jennifer&quot;&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A>&lt;/jchat&gt;
</I>&gt;<i>   &lt;/ext&gt;
</I>&gt;<i> &lt;/message&gt;
</I>&gt;<i> 
</I>&gt;<i> #From <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A> to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A>, he &quot;says&quot; something in the room:
</I>&gt;<i> &lt;message&gt;
</I>&gt;<i>   &lt;from nick=&quot;CanAli&quot;&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A>&lt;/from&gt;
</I>&gt;<i>   &lt;thread&gt;3145&lt;/thread&gt;
</I>&gt;<i>   &lt;ext&gt;
</I>&gt;<i>     &lt;jchat command=&quot;say&quot;&gt;something&lt;/jchat&gt;
</I>&gt;<i>   &lt;/ext&gt;
</I>&gt;<i> &lt;/message&gt;
</I>&gt;<i> 
</I>&gt;<i> #From <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A> to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A>, she &quot;parts&quot; from room. No reply is
</I>&gt;<i> sent from <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A>:
</I>&gt;<i> &lt;message&gt;
</I>&gt;<i>   &lt;from nick=&quot;jennifer&quot;&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A>&lt;/from&gt;
</I>&gt;<i>   &lt;thread&gt;3145&lt;/thread&gt;
</I>&gt;<i>   &lt;ext&gt;
</I>&gt;<i>     &lt;jchat command=&quot;part&quot;&gt;reason&lt;/jchat&gt;
</I>&gt;<i>   &lt;/ext&gt;
</I>&gt;<i> &lt;/message&gt;
</I>&gt;<i> 
</I>&gt;<i> #From <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A> to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A>, says <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A> parted from room:
</I>&gt;<i> &lt;message&gt;
</I>&gt;<i>   &lt;from&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A>&lt;/from
</I>&gt;<i>   &lt;thread&gt;3145&lt;/thread&gt;
</I>&gt;<i>   &lt;ext&gt;
</I>&gt;<i>     &lt;jchat command=&quot;part&quot; nick=&quot;jennifer&quot;&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jenny at JABBER</A>&lt;/jchat&gt;
</I>&gt;<i>   &lt;/ext&gt;
</I>&gt;<i> &lt;/message&gt;
</I>&gt;<i> 
</I>&gt;<i>   Seems simple, huh? There're only 5 commands from client2JChat
</I>&gt;<i> (create,invite,join,say,part)
</I>&gt;<i> and 5 commands from JChat2client (newroom,invite,join,say,part).
</I>&gt;<i> 
</I>&gt;<i>   But how will JChat understand to &quot;part&quot; a client when disconnected?
</I>&gt;<i> Will it use roster? Of course
</I>&gt;<i> not. Because of the authorization stuff that can be added at one time, I
</I>&gt;<i> prefer the &quot;PING&quot; method
</I>&gt;<i> used on IRC. JChat will only ping clients that are talking on it, (this
</I>&gt;<i> means that, if a client
</I>&gt;<i> is in 10 rooms, JChat will not ping it 10 times for each room, it'll
</I>&gt;<i> ping users without specifying
</I>&gt;<i> roomname). If no &quot;PONG&quot; is received after 180 seconds, it'll part the
</I>&gt;<i> client from all rooms with
</I>&gt;<i> the reason &quot;Ping Timeout&quot;.
</I>&gt;<i> 
</I>&gt;<i>   Here's a sample:
</I>&gt;<i> #PING message from JChat to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A>:
</I>&gt;<i> &lt;message&gt;
</I>&gt;<i>   &lt;from&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JChat at JABBER</A>&lt;from&gt;
</I>&gt;<i>   &lt;ext&gt;
</I>&gt;<i>     &lt;jchat command=&quot;PING&quot;&gt;asdk&lt;/jchat&gt;
</I>&gt;<i>   &lt;/ext&gt;
</I>&gt;<i> &lt;/message&gt;
</I>&gt;<i> 
</I>&gt;<i> #PONG reply from <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A> to JChat (note that the text that is
</I>&gt;<i> between the &lt;jchat&gt; tags are sent without modifying):
</I>&gt;<i> &lt;message&gt;
</I>&gt;<i>   &lt;from nick=&quot;CanAli&quot;&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">alican at JABBER</A>&lt;/from&gt;
</I>&gt;<i>   &lt;ext&gt;
</I>&gt;<i>     &lt;jchat command=&quot;PONG&quot;&gt;asdk&lt;/jchat&gt;
</I>&gt;<i>   &lt;/ext&gt;
</I>&gt;<i> &lt;/message&gt;
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059984.html">[JDEV] AIM/Oscar Specification
</A></li>
	<LI>Next message: <A HREF="065502.html">[JDEV] Need Jabber Server Consultant in N. VA
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60031">[ date ]</a>
              <a href="thread.html#60031">[ thread ]</a>
              <a href="subject.html#60031">[ subject ]</a>
              <a href="author.html#60031">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

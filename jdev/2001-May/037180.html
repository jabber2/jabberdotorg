<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] HHTP Proxy passthrough
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20HHTP%20Proxy%20passthrough&In-Reply-To=%3C20010519104742.5301.qmail%40web10104.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037179.html">
   <LINK REL="Next"  HREF="037177.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] HHTP Proxy passthrough</H1>
    <B>prasanta lenka</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20HHTP%20Proxy%20passthrough&In-Reply-To=%3C20010519104742.5301.qmail%40web10104.mail.yahoo.com%3E"
       TITLE="[JDEV] HHTP Proxy passthrough">pklenka at yahoo.com
       </A><BR>
    <I>Sat May 19 05:47:42 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="037179.html">[JDEV] HHTP Proxy passthrough
</A></li>
        <LI>Next message: <A HREF="037177.html">[JDEV] HHTP Proxy passthrough
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37180">[ date ]</a>
              <a href="thread.html#37180">[ thread ]</a>
              <a href="subject.html#37180">[ subject ]</a>
              <a href="author.html#37180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, what u have said is absolutely right.
I'm giving you here a session with jabber server.

step1: telnet hostname 80
step2: 
PUT <A HREF="http://hostname:5222/">http://hostname:5222/</A> HTTP/1.0
Content-Length: 122
User-Agent: test
Host: hostname

&lt;?xml version='1.0'?&gt;&lt;stream:stream to=&quot;hostname&quot;
xmlns=&quot;jabber:client&quot;
xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams&quot;">http://etherx.jabber.org/streams&quot;</A>&gt;
        
the reply is like this

HTTP/1.0 200 OK
Server: jabber/xmlstream-hack-0.1
Expires: Fri, 10 Oct 1997 10:10:10 GMT
Pragma: no-cache
Cache-Control: private
X-Cache: MISS from proxyname
Proxy-Connection: close

&lt;?xml version='1.0'?&gt;&lt;stream:stream
xmlns:stream='<A HREF="http://etherx.jabber.org/strea">http://etherx.jabber.org/strea</A>
ms' id='3B064226' xmlns='jabber:client'
from='hostname'&gt;

step3:
the I sent the following

PUT <A HREF="http://hostname:5222/">http://hostname:5222/</A> HTTP/1.0
Content-Length: 150
User-Agent: test
Host: hostname:5222

&lt;iq type=&quot;set&quot; id=&quot;1&quot;&gt;&lt;query
xmlns=&quot;jabber:iq:auth&quot;&gt;&lt;username&gt;xyz&lt;/username&gt;&lt;password&gt;xyz123&lt;/password&gt;&lt;resource&gt;xxxxxxx&lt;/resource&gt;&lt;/query&gt;&lt;/iq&gt;

here after i'm not getting any reply from either
jabber server or from proxy.Its hanged up.The same
problem i'm facing when i tried with my client.Is
there i'm doing something wrong or something i'm
missing.I have installed jabber 1.4.1 server.pl help
me by giving some sample session through HTTP  proxy.

Thanks and regards

Prasant


--- Max Horn &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">max at quendi.de</A>&gt; wrote:
&gt;<i> At 0:02 Uhr -0700 19.05.2001, prasanta lenka wrote:
</I>&gt;<i> &gt;Hi,
</I>&gt;<i> &gt;    I found one document for HTTP proxy passthrough
</I>&gt;<i> at
</I>&gt;<i> &gt;<A HREF="http://jabber.org/?oid=971">http://jabber.org/?oid=971</A> .I have one doubt.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;first, one will create a socket and connect to
</I>&gt;<i> &gt;proxy.Then he will write on the socket the
</I>&gt;<i> following
</I>&gt;<i> &gt;request
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;PUT <A HREF="http://jabber.org:5222/">http://jabber.org:5222/</A> HTTP/1.0
</I>&gt;<i> &gt;        User-Agent: test
</I>&gt;<i> &gt;        Host: jabber.org:5222
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;        &lt;stream:stream to=&quot;jabber.org&quot;
</I>&gt;<i> &gt;xmlns=&quot;jabber:client&quot;
</I>&gt;<i> &gt;xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/">http://etherx.jabber.org/</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;The Jabber server, after receiving this, will
</I>&gt;<i> respond
</I>&gt;<i> &gt;appropriately with:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;        HTTP/1.0 200 Ok
</I>&gt;<i> &gt;        Server: jabber/xmlstream-hack-0.1
</I>&gt;<i> &gt;        Expires: Fri, 10 Oct 1997 10:10:10 GMT
</I>&gt;<i> &gt;        Pragma: no-cache
</I>&gt;<i> &gt;        Cache-control: private
</I>&gt;<i> &gt;        Connection: close
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;        &lt;?xml version='1.0'?&gt;&lt;stream:stream
</I>&gt;<i> &gt;xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>
</I>&gt;<i> &gt;id='3AC96385' xmlns='jabber:client'
</I>&gt;<i> from='jabber.org'&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;and the proxy will close the connection.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> No! The proxy will *not* close the connection! Let
</I>&gt;<i> me cite from the 
</I>&gt;<i> aforementioned document: &quot;The trick is, you leave
</I>&gt;<i> the socket open so 
</I>&gt;<i> that you can send more data on it.&quot; ... &quot;And of
</I>&gt;<i> course, the server 
</I>&gt;<i> will keep the socket open...&quot;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Max
</I>&gt;<i> -- 
</I>&gt;<i> -----------------------------------------------
</I>&gt;<i> Max Horn
</I>&gt;<i> C++/ObjC/Java Developer
</I>&gt;<i> 
</I>&gt;<i> email: &lt;mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">max at quendi.de</A>&gt;
</I>&gt;<i> phone: (+49) 6151-494890
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>

__________________________________________________
Do You Yahoo!?
Yahoo! Auctions - buy the things you want at great prices
<A HREF="http://auctions.yahoo.com/">http://auctions.yahoo.com/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037179.html">[JDEV] HHTP Proxy passthrough
</A></li>
	<LI>Next message: <A HREF="037177.html">[JDEV] HHTP Proxy passthrough
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37180">[ date ]</a>
              <a href="thread.html#37180">[ thread ]</a>
              <a href="subject.html#37180">[ subject ]</a>
              <a href="author.html#37180">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Large rosters + a solution for the commands syntax problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Large%20rosters%20%2B%20a%20solution%20for%20the%20commands%20syntax%20problem&In-Reply-To=%3C009401c0e5fe%2473078360%2450a5fea9%40mercury%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066661.html">
   <LINK REL="Next"  HREF="066694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Large rosters + a solution for the commands syntax problem</H1>
    <B>Michael Hearn</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Large%20rosters%20%2B%20a%20solution%20for%20the%20commands%20syntax%20problem&In-Reply-To=%3C009401c0e5fe%2473078360%2450a5fea9%40mercury%3E"
       TITLE="[JDEV] Large rosters + a solution for the commands syntax problem">mhearn at subdimension.com
       </A><BR>
    <I>Sat May 26 11:03:01 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="066661.html">[JDEV] [jadmin] New Links Page
</A></li>
        <LI>Next message: <A HREF="066694.html">[JDEV] Large rosters + a solution for the commands syntax	problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66655">[ date ]</a>
              <a href="thread.html#66655">[ thread ]</a>
              <a href="subject.html#66655">[ subject ]</a>
              <a href="author.html#66655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I get the digest here so sorry for the lack of quotes/threading etc.
BTW, what happened to NNTP access to this list?

Anyway, two things.

1) Large rosters. I don't see the problem here - why oh why does the server
have to parse the rosters of all the people that presence is being SENT to?
That's the impression I've got, maybe I'm wrong, but surely to change
presence all the server has to do is load and parse that bots roster then
generate a &lt;presence&gt; packet for each one which gets sent to the client if
they are online or not, or to another server. There should be only 1 roster
parse, or am I wrong? Anyway, I agree with Jens that this seems to be a
major problem - client or transport the server should be able to happily
deal with large scale presence notifications.

2) Command syntax: Yeah, well I see this could be a problem. We can either
continue using natural language for this, which is improving all the time
but does have problems (as in: it can be difficult to know exactly what or
how you can do with the commands/varied syntax) or we can use some kind of
controlled input system like HTML forms only different. Here's my suggestion
(I'll prototype it when I can):

Bots advertise themselves as supporting the commands syntax somehow (in
presence?) and when a client that supports it beings &quot;chatting&quot; to this bot,
what actually happens is that a special message is sent to the bot
requesting the data (or it could be an IQ get/set system). This returns some
XML representing the commands that can be used, which are displayed to the
user as a series of linked phrases, like this:

(i'll use the freshmeat news example here)

* Start chat
* A window appears that looks like this, here [] means blue underlined text
like hyperlinks

[select option]

* The user clicks on the [select option] link and a menu appears with the
Watch and Ignore commands, and maybe others like About etc.
* The user chooses Watch
* The window changes to read

&gt;<i>From now on, send me updates on the (edit) news source.
</I>[ and ]

* The (edit) is just a text edit so we can type in the words we want. The
 and ] link gives us more options, like &quot;and, send me a daily digest&quot;, &quot;and,
send me XHTML formatted news items&quot; etc. The user wants both of these
options, so they click the first [and], then choose the option, so it reads

&gt;<i>From now on, send me updates on the (edit) news source,
</I>and send it as a daily digest,
[ and ]


... then ...

&gt;<i>From now on, send me updates on the (edit) news source,
</I>and send it as a daily digest,
and send it as XHTML formatted
[ and ]

Now the user has created a request that identifies their needs to the bot,
so they click OK or whatever and another XML message is sent to the bot with
the data the user entered. The bot returns a text message saying, &quot;Thanks
for using PersonalBuddy, I will:  send you updates on the (edit) news
source, and send it as a daily digest, and send it as XHTML formatted.&quot; to
let the user know it went OK. The same interface can be used to unsubscribe
:<i>
</I>
[ select option ]   &gt;   Unsubscribe   &gt;    [ select news feed ]    &gt;
Freshmeat.net   &gt;  OK

Anyway, I know this approach has some problems, most notably client support
is required which sort of does away with the whole point of IM bots which is
that they are like other people and all you need is the IM software, but  I
believe it -is- powerful and flexible. Also I suppose that for clients that
didn't support this or didn't want to use it (ie sent the bot a plain text
message) it could go to the natural language interface. Anyway, comments
anyone?

thanks -mike



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066661.html">[JDEV] [jadmin] New Links Page
</A></li>
	<LI>Next message: <A HREF="066694.html">[JDEV] Large rosters + a solution for the commands syntax	problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66655">[ date ]</a>
              <a href="thread.html#66655">[ thread ]</a>
              <a href="subject.html#66655">[ subject ]</a>
              <a href="author.html#66655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

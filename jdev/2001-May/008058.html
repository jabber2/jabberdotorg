<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Re: Large scale Jabber bots
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20Large%20scale%20Jabber%20bots&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008060.html">
   <LINK REL="Next"  HREF="008062.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Re: Large scale Jabber bots</H1>
    <B>Thomas Charron</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20Large%20scale%20Jabber%20bots&In-Reply-To="
       TITLE="[JDEV] Re: Large scale Jabber bots">tcharron at ductape.net
       </A><BR>
    <I>Fri May 25 15:23:43 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="008060.html">[JDEV] Re: Large scale Jabber bots
</A></li>
        <LI>Next message: <A HREF="008062.html">[JDEV] Re: Large scale Jabber bots
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8058">[ date ]</a>
              <a href="thread.html#8058">[ thread ]</a>
              <a href="subject.html#8058">[ subject ]</a>
              <a href="author.html#8058">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>From: &quot;David Waite&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dwaite at jabber.com</A>&gt;
Subject: Re: [JDEV] Re: Large scale Jabber bots
&gt;<i> &gt; Secondly, it ignores very useful aspects of Jabber for information
</I>delivery.
&gt;<i> &gt; Stock price agents, auction agents, news agents, etc. Like I said
</I>before,
&gt;<i> &gt; companies are slavering over the potential of this and having a viable
</I>open
&gt;<i> &gt; IM network would make it much easier to do. These things are not spam,
</I>&gt;<i> &gt; they're voluntary since you have to subscribe to them. And they could
</I>scale
&gt;<i> &gt; to zillions of users. Just read this article:
</I>&gt;<i> I'm very familiar with bots. I also know that the majority of bots do not
</I>&gt;<i> require presence information at all, all users do is query their services.
</I>
    Sounds like an iq request to a transport to me..  8-)

&gt;<i> &gt; So how many Radiohead fans do you think are going to subscribe to this
</I>bot?
&gt;<i> &gt; What happens when ActiveBuddy builds ones for N'Sync or Eminem? Are you
</I>&gt;<i> &gt; saying this kind of thing is inherently wrong and should not be
</I>supported?
&gt;<i> Yes, as a standard client, and as any service not known to the
</I>administrator of
&gt;<i> the box. If you are running a server, do you want some user to connect,
</I>&gt;<i> advertise their client as a bot, and start taking up memory and CPU usage
</I>to
&gt;<i> the scale described below?
</I>
    Thats a good point.  Should servers enforce limitations for the sake of
actually running?  There are probrably good poitns on both sides of the
fence.  It's a good point becouse the server will send out presence to
everyone, which really bypasses the entire idea of a karma limit on the
socket.  Death by buddy entries..  8-)

&gt;<i> &gt; Those numbers aren't specific to having a bot, only to the size of the
</I>&gt;<i> &gt; portal itself. It makes no difference whether all 250,000 users have the
</I>&gt;<i> &gt; same bot in their rosters, or if their rosters all have different jids
</I>in
&gt;<i> &gt; them. In other words, you're saying that for a portal of this size,
</I>there is
&gt;<i> &gt; an average 35MB memory hit per roster entry per user -- so if the
</I>average
&gt;<i> &gt; portal user has 20 people in their roster, that's 700MB just for
</I>rosters.
&gt;<i> 35 MB per roster entry per user? where does that come from?
</I>
    No, 35 Meg per 250k roster entires, one per user.

&gt;<i> &gt; (That's a scary number but on the other hand 700MB of RAM is chump
</I>change
&gt;<i> &gt; for a company big enough to run a portal this size. Something like $400?
</I>And
&gt;<i> &gt; anyway, wouldn't the load be spread across a whole farm of servers, not
</I>just
&gt;<i> &gt; one?)
</I>
    I know mass didn't write this part, but after rereading it, I have to
say, as this is a development list, how would the original auther solve
this?  *NOT ALLOW ROSTERS?*  Not allow presence?  Guess who their friends
are?  Kill the servers bandwidth by sending all of this data thru the
sockets?  Memory is cheaper then bandwidth, and can be sacled accross
machines, as mass notes below..

&gt;<i> No, because this is connected as a user. How is one user session spread
</I>out
&gt;<i> over a farm of machines? You would probably *want* a farm with a service
</I>this
&gt;<i> popular, but you can't do that if you connect as a plain user.
</I>&gt;<i> &gt; If you're saying is that the present Jabber server is not scalable to
</I>this
&gt;<i> &gt; size portal, that's sort of bad news for Jabber, it sounds like, since
</I>no
&gt;<i> &gt; large scale provider would adopt it.
</I>&gt;<i> I'm saying that you can't take protocol decisions made for an average
</I>roster
&gt;<i> size of 10 and scale it to a roster size of a quarter million. I'm not
</I>saying
&gt;<i> this is impossible, I'm saying that you have to approach it a different
</I>way.

    And it's DEFINATLY not a 'architecturally superior' decision.

&gt;<i> &gt; In any case, this is a bogus scenario. Everyone seems to keep forgetting
</I>&gt;<i> &gt; that Jabber is supposed to be a distributed system; while there will be
</I>&gt;<i> &gt; large portals with large numbers of users, there will be large numbers
</I>of
&gt;<i> &gt; smaller servers, as well as special purpose servers for bots. The likely
</I>&gt;<i> &gt; scenario is that a major bot would run on its own server (or perhaps
</I>there
&gt;<i> &gt; would be a small number of bots) hosted by the company that owns it.
</I>There
&gt;<i> &gt; would not be any appreciable number of actual users on this server. So
</I>&gt;<i> &gt; there's 25MB for the bot's roster; that's about $20 worth of RAM I
</I>think.
&gt;<i> &gt; The other side of the overhead is distributed among the host servers of
</I>all
&gt;<i> &gt; the subscribers, and has the same effect as of all the subscribers
</I>adding
&gt;<i> &gt; one more friend to their buddy list.
</I>
    Once again, after a second read, I need to respond.  bots are used when
an end user is *always* considered to be a human.  Thats why they call them
bots.  In the case of jabber, the entire idea of a nonperson resource is
taken care of.  NOT everything here is an individual person.  Hence, the
need for a bot is negated, unless you wish to allow users to run rogue
server applications at their slightest whim.  This would be unsafe, and to
say that the client protocol and system is unsound becouse it's not built
for it is rubish.  Go ahead and try to send an email SMTP email to 250k
users in one email.  Watch your bandwidth get eaten alive.  Bandwidth ain't
cheap, and sure can't be farmed or upgraded.  Now, once the servers really
start chewing on those 250k entires, see how much memory is consumed.  Oh,
and the disk space in /var/spool/mqueue.

    While your looking at it, think about how much nicer it'd have been if
that mail had been send from a designated spam mailer, meant for this sort
of thing.  (Assuming you don't just have 250k close friends, this is spam..
8-P)  Thats what transports and services are *FOR*.  Individuals should be
providing broad based services.  Transports and services should be doing
this.

    Oh, and go aheead and run that test with sendmail and see what happens.
The server will reject you.  Man, that sendmail must suck, and must be so
architechturally unsound for not letting you do it, hu?.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008060.html">[JDEV] Re: Large scale Jabber bots
</A></li>
	<LI>Next message: <A HREF="008062.html">[JDEV] Re: Large scale Jabber bots
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8058">[ date ]</a>
              <a href="thread.html#8058">[ thread ]</a>
              <a href="subject.html#8058">[ subject ]</a>
              <a href="author.html#8058">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Multiple logins
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Multiple%20logins&In-Reply-To=%3C8D96EDA0AC04D31197B400A0C96C148002D3D065%40ossex1.webb.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066592.html">
   <LINK REL="Next"  HREF="066599.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Multiple logins</H1>
    <B>Todd Bradley</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Multiple%20logins&In-Reply-To=%3C8D96EDA0AC04D31197B400A0C96C148002D3D065%40ossex1.webb.net%3E"
       TITLE="[JDEV] Multiple logins">TBradley at jabber.com
       </A><BR>
    <I>Thu May 24 12:10:59 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="066592.html">[JDEV] Request for comments on system using jabber
</A></li>
        <LI>Next message: <A HREF="066599.html">[JDEV] Multiple logins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66594">[ date ]</a>
              <a href="thread.html#66594">[ thread ]</a>
              <a href="subject.html#66594">[ subject ]</a>
              <a href="author.html#66594">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I definitely like where you're headed with this.  As someone else pointed
out, Jabber needs much more explanatory errors.  Right now, the client knows
nothing about the reason for why it was disconnected from the server.

Also, it's smart to have a better reconnect timeout algorithm than most
clients use.  The one I like the most is a geometrically increasing
reconnect timer.  So, when you first get disconnected, you try to reconnect
after 20 seconds.  If that doesn't work, then you wait 40 more seconds.  If
that doesn't work, you wait for 80 more seconds.  And so on.  That's how the
new version of Gabber works now, I'm told (though I haven't tried it
myself).


Todd.



-----Original Message-----
From: Jens Alfke [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jens at mac.com</A>]
Sent: Thursday, May 24, 2001 10:26 AM
To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
Subject: Re: [JDEV] Multiple logins


IMHO, if a client is disconnected by the server [receives an &lt;error&gt; and
&lt;/stream&gt;] it should not automatically attempt to reconnect. There is
probably some good reason it was disconnected, and this thread illustrates
one of the dangers of automatic reconnects. It'd be better to put up a
dialog box with &quot;Reconnect&quot; and &quot;Cancel&quot; buttons and let the user decide.
(Having a meaningful error code and message to display in the dialog would
be even better, of course.) 


In the event of a network-level disconnect, where the stream isn't properly
closed, automatic reconnect might still be a good idea. It would help if the
client could use some kind of OS-specific functionality* to determine
whether the network is still up or not &#8212; if I unplug the Ethernet from my
laptop I don't want the client to start an infinite series of reconnect
attempts, nor do I want it to start dialing the phone to my ISP without my
intervention. 


&#8212;Jens 


* In the case of Mac OS 9 there's an OTTCPWillDial function that's described
in some tech note, and in Mac OS X there's a System Configuration framework
which is not yet documented but whose [open] source can be found in Darwin. 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066592.html">[JDEV] Request for comments on system using jabber
</A></li>
	<LI>Next message: <A HREF="066599.html">[JDEV] Multiple logins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66594">[ date ]</a>
              <a href="thread.html#66594">[ thread ]</a>
              <a href="subject.html#66594">[ subject ]</a>
              <a href="author.html#66594">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Re: Large scale Jabber bots
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20Large%20scale%20Jabber%20bots&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008058.html">
   <LINK REL="Next"  HREF="008054.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Re: Large scale Jabber bots</H1>
    <B>Al Sutton</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20Large%20scale%20Jabber%20bots&In-Reply-To="
       TITLE="[JDEV] Re: Large scale Jabber bots">al at alsutton.com
       </A><BR>
    <I>Fri May 25 16:20:34 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="008058.html">[JDEV] Re: Large scale Jabber bots
</A></li>
        <LI>Next message: <A HREF="008054.html">[JDEV] Re: Large scale Jabber bots
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8062">[ date ]</a>
              <a href="thread.html#8062">[ thread ]</a>
              <a href="subject.html#8062">[ subject ]</a>
              <a href="author.html#8062">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The roster issue is one I've avoided by not requiring people to monitor the
presence of <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">personalbuddy at jabber.com</A> to get notifications. I looked over the
protocol docs and saw this as a potential weakness in terms of server load.

I think there should be some effort to standardise a subscription message
that doesn't require server intervention in order to facilitate systems that
act as bots. I prefer to have personalbuddy act as a client on the basis
that I currently can't afford a 24/7 connected server so I need to move the
system between machines during testing.

Al.

----- Original Message -----
From: &quot;David Waite&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dwaite at jabber.com</A>&gt;
To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
Sent: Friday, May 25, 2001 6:35 PM
Subject: Re: [JDEV] Re: Large scale Jabber bots


&gt;<i> Jens Alfke wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; [I've retitled this thread...]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Friday, May 25, 2001, at 08:50 AM, David Waite wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; IMO, mailservers should break if you try to send to more than ~20
</I>people
&gt;<i> &gt; &gt; at a time. Not crash, but refuse to send.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; What, all mailservers?! What about the ones that run mailing lists or
</I>&gt;<i> &gt; [voluntary] announcements? I've been on music mailing lists with
</I>thousands
&gt;<i> &gt; of subscribers, and I get very useful &quot;what's new&quot; mailings from Amazon
</I>that
&gt;<i> &gt; must have tens of thousands of readers.
</I>&gt;<i>
</I>&gt;<i> I said IMO, and I didn't say I was going to go out and start trying to
</I>force
&gt;<i> people to quota their users. If I had an open system such as hotmail, I
</I>&gt;<i> wouldn't want people to be able to create accounts and send out email to
</I>&gt;<i> 400-500 people at a time - there just isn't any good reason to do it.
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; Jabber should probably work
</I>&gt;<i> &gt; &gt; the same way in this case (200 users max in a roster or something
</I>&gt;<i> &gt; &gt; configurable like that)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; Why on earth should that be a requirement? First off, it penalizes
</I>people
&gt;<i> &gt; for something that's not their fault. What happens when I can't add a
</I>new
&gt;<i> &gt; buddy because I happen to be on 195 people's rosters already?
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> You get rid of them? Why do you keep people on your roster if you don't
</I>know
&gt;<i> who they are?
</I>&gt;<i> Again, I didn't say it would be something that people were forced to do,
</I>but
&gt;<i> there just isn't a good reason for someone to just have a thousand user
</I>roster;
&gt;<i> at that point you should be implementing the logic some other way.
</I>&gt;<i>
</I>&gt;<i> &gt; Secondly, it ignores very useful aspects of Jabber for information
</I>delivery.
&gt;<i> &gt; Stock price agents, auction agents, news agents, etc. Like I said
</I>before,
&gt;<i> &gt; companies are slavering over the potential of this and having a viable
</I>open
&gt;<i> &gt; IM network would make it much easier to do. These things are not spam,
</I>&gt;<i> &gt; they're voluntary since you have to subscribe to them. And they could
</I>scale
&gt;<i> &gt; to zillions of users. Just read this article:
</I>&gt;<i>
</I>&gt;<i> I'm very familiar with bots. I also know that the majority of bots do not
</I>&gt;<i> require presence information at all, all users do is query their services.
</I>&gt;<i>
</I>&gt;<i> &gt; So how many Radiohead fans do you think are going to subscribe to this
</I>bot?
&gt;<i> &gt; What happens when ActiveBuddy builds ones for N'Sync or Eminem? Are you
</I>&gt;<i> &gt; saying this kind of thing is inherently wrong and should not be
</I>supported?
&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Yes, as a standard client, and as any service not known to the
</I>administrator of
&gt;<i> the box. If you are running a server, do you want some user to connect,
</I>&gt;<i> advertise their client as a bot, and start taking up memory and CPU usage
</I>to
&gt;<i> the scale described below?
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; Now imagine this is a portal with a quarter of a million users, and
</I>the
&gt;<i> &gt; &gt; bot is added by default to everyone's roster. Not only would that
</I>roster
&gt;<i> &gt; &gt; be about 25MB, there would be at least a 35MB memory image for the DOM
</I>&gt;<i> &gt; &gt; tree created.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; Those numbers aren't specific to having a bot, only to the size of the
</I>&gt;<i> &gt; portal itself. It makes no difference whether all 250,000 users have the
</I>&gt;<i> &gt; same bot in their rosters, or if their rosters all have different jids
</I>in
&gt;<i> &gt; them. In other words, you're saying that for a portal of this size,
</I>there is
&gt;<i> &gt; an average 35MB memory hit per roster entry per user -- so if the
</I>average
&gt;<i> &gt; portal user has 20 people in their roster, that's 700MB just for
</I>rosters.
&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> 35 MB per roster entry per user? where does that come from?
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; (That's a scary number but on the other hand 700MB of RAM is chump
</I>change
&gt;<i> &gt; for a company big enough to run a portal this size. Something like $400?
</I>And
&gt;<i> &gt; anyway, wouldn't the load be spread across a whole farm of servers, not
</I>just
&gt;<i> &gt; one?)
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> No, because this is connected as a user. How is one user session spread
</I>out
&gt;<i> over a farm of machines? You would probably *want* a farm with a service
</I>this
&gt;<i> popular, but you can't do that if you connect as a plain user.
</I>&gt;<i>
</I>&gt;<i> &gt; If you're saying is that the present Jabber server is not scalable to
</I>this
&gt;<i> &gt; size portal, that's sort of bad news for Jabber, it sounds like, since
</I>no
&gt;<i> &gt; large scale provider would adopt it.
</I>&gt;<i>
</I>&gt;<i> I'm saying that you can't take protocol decisions made for an average
</I>roster
&gt;<i> size of 10 and scale it to a roster size of a quarter million. I'm not
</I>saying
&gt;<i> this is impossible, I'm saying that you have to approach it a different
</I>way.
&gt;<i>
</I>&gt;<i> Do you really think that normal clients should be allowed to grow to a
</I>roster
&gt;<i> of several thousand users?
</I>&gt;<i>
</I>&gt;<i> &gt; In any case, this is a bogus scenario. Everyone seems to keep forgetting
</I>&gt;<i> &gt; that Jabber is supposed to be a distributed system; while there will be
</I>&gt;<i> &gt; large portals with large numbers of users, there will be large numbers
</I>of
&gt;<i> &gt; smaller servers, as well as special purpose servers for bots. The likely
</I>&gt;<i> &gt; scenario is that a major bot would run on its own server (or perhaps
</I>there
&gt;<i> &gt; would be a small number of bots) hosted by the company that owns it.
</I>There
&gt;<i> &gt; would not be any appreciable number of actual users on this server. So
</I>&gt;<i> &gt; there's 25MB for the bot's roster; that's about $20 worth of RAM I
</I>think.
&gt;<i> &gt; The other side of the overhead is distributed among the host servers of
</I>all
&gt;<i> &gt; the subscribers, and has the same effect as of all the subscribers
</I>adding
&gt;<i> &gt; one more friend to their buddy list.
</I>&gt;<i>
</I>&gt;<i> If you are giving out a user address as the bot, it is a user; it cannot
</I>be
&gt;<i> farmed, it cannot be distributed. Again, it has to be attacked another
</I>way.
&gt;<i>
</I>&gt;<i> -David Waite
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008058.html">[JDEV] Re: Large scale Jabber bots
</A></li>
	<LI>Next message: <A HREF="008054.html">[JDEV] Re: Large scale Jabber bots
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8062">[ date ]</a>
              <a href="thread.html#8062">[ thread ]</a>
              <a href="subject.html#8062">[ subject ]</a>
              <a href="author.html#8062">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

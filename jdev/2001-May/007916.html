<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Possible bug with ask='subscribe'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Possible%20bug%20with%20ask%3D%27subscribe%27&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007996.html">
   <LINK REL="Next"  HREF="007918.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Possible bug with ask='subscribe'</H1>
    <B>Robert Temple</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Possible%20bug%20with%20ask%3D%27subscribe%27&In-Reply-To="
       TITLE="[JDEV] Possible bug with ask='subscribe'">robert.temple at dig.com
       </A><BR>
    <I>Mon May 21 17:55:59 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="007996.html">[JDEV] Transport Decisions
</A></li>
        <LI>Next message: <A HREF="007918.html">[JDEV] Server-generated conference messages are a problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7916">[ date ]</a>
              <a href="thread.html#7916">[ thread ]</a>
              <a href="subject.html#7916">[ subject ]</a>
              <a href="author.html#7916">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is one of a number of things that has been inconsistent
from one server to the next.  First one server does the right
thing, then next server forgets to always include the ask
parameter.   I've used the 1.0, 1.1, 1.2, 1.4 and now the 2.0
servers, so I cannot remember which does which.

I did report this bug in one of the servers a while back and
someone told me that they fixed it.

-Robert

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Julian Missig [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">julian at jabber.org</A>]
</I>&gt;<i> Sent: Sunday, May 20, 2001 3:40 PM
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> Subject: [JDEV] Possible bug with ask='subscribe'
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> When I do:
</I>&gt;<i> &lt;iq type='set'&gt;&lt;query xmlns='jabber:iq:roster'&gt;&lt;item
</I>&gt;<i> jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">julian at jabber.com</A>' name='julian-test'/&gt;&lt;/query&gt;&lt;/iq&gt;
</I>&gt;<i> 
</I>&gt;<i> And then I send a presence subscribe request, 
</I>&gt;<i> 
</I>&gt;<i> I get back:
</I>&gt;<i> &lt;iq type='set'&gt;&lt;query xmlns='jabber:iq:roster'&gt;&lt;item
</I>&gt;<i> jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">julian at jabber.com</A>' name='julian-test' subscription='none'
</I>&gt;<i> ask='subscribe'/&gt;&lt;/query&gt;&lt;/iq&gt;
</I>&gt;<i> 
</I>&gt;<i> Note the ask='subscribe'
</I>&gt;<i> 
</I>&gt;<i> Now, if I then do:
</I>&gt;<i> &lt;iq type='set'&gt;&lt;query xmlns='jabber:iq:roster'&gt;&lt;item
</I>&gt;<i> jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">julian at jabber.com</A>'
</I>&gt;<i> name='julian-test'&gt;&lt;group&gt;testing&lt;/group&gt;&lt;/query&gt;&lt;/iq&gt;
</I>&gt;<i> 
</I>&gt;<i> I get back:
</I>&gt;<i> &lt;iq type='set'&gt;&lt;query xmlns='jabber:iq:roster'&gt;&lt;item
</I>&gt;<i> jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">julian at jabber.com</A>' name='julian-test'
</I>&gt;<i> subscription='none'&gt;&lt;group&gt;testing&lt;/group&gt;&lt;/query&gt;&lt;/iq&gt;
</I>&gt;<i> 
</I>&gt;<i> No more ask='subscribe' ... It should not be the client's 
</I>&gt;<i> responsibility
</I>&gt;<i> to set the ask='subscribe', so the server is forgetting it. The client
</I>&gt;<i> needs ask='subscribe' to know if the user should be marked as
</I>&gt;<i> subscription pending, so this bug is a bit annoying.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Julian
</I>&gt;<i> -- 
</I>&gt;<i> email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">julian at jabber.org</A>
</I>&gt;<i> jabber:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">julian at jabber.org</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007996.html">[JDEV] Transport Decisions
</A></li>
	<LI>Next message: <A HREF="007918.html">[JDEV] Server-generated conference messages are a problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7916">[ date ]</a>
              <a href="thread.html#7916">[ thread ]</a>
              <a href="subject.html#7916">[ subject ]</a>
              <a href="author.html#7916">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] passwords
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20passwords&In-Reply-To=%3CNEBBKCKCBMGGCIJDIFFBCEKCCBAA.zadk%40mynet.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066239.html">
   <LINK REL="Next"  HREF="066235.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] passwords</H1>
    <B>zad</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20passwords&In-Reply-To=%3CNEBBKCKCBMGGCIJDIFFBCEKCCBAA.zadk%40mynet.com%3E"
       TITLE="[JDEV] passwords">zadk at mynet.com
       </A><BR>
    <I>Mon May 14 01:20:27 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="066239.html">[JDEV] passwords
</A></li>
        <LI>Next message: <A HREF="066235.html">[JDEV] EtherX vs. Transports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66257">[ date ]</a>
              <a href="thread.html#66257">[ thread ]</a>
              <a href="subject.html#66257">[ subject ]</a>
              <a href="author.html#66257">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Tony,

I think the following will lead to resolution of your case.
There is 2 rounds of I/O between client and server during authentication.
During the first round the client learns what the server is expecting.
During the second round client sends the actual values and the server
performs the actual authentication. During the first round the value of
password in NULL, which is logical and it is probably your case. As for the
solution:

You should check the value during JPACKET__SET subtype and not the
JPACKET__GET which is the first round. Use this if statement to check the
round of negotiation (which is the packet subtype).

if (jpacket_subtype(m-&gt;packet) == JPACKET__SET)

hope this helps

zad


&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-admin at jabber.org</A> [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-admin at jabber.org</A>]On
</I>&gt;<i> Behalf Of Tony Byers
</I>&gt;<i> Sent: Friday, May 11, 2001 9:43 PM
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> Subject: [JDEV] passwords
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello -
</I>&gt;<i>
</I>&gt;<i> I thought I had this figured out but I don't.  Does anyone know how to
</I>&gt;<i> obtain the password from the client in any of the mod_auth files.  I've
</I>&gt;<i> stuck the following line in many different places and password is always
</I>&gt;<i> NULL.
</I>&gt;<i>
</I>&gt;<i> password = xmlnode_get_tag_data(m-&gt;packet-&gt;iq, &quot;password&quot;);
</I>&gt;<i>
</I>&gt;<i> I've commented out mod_auth_digest and mod_auth_0k in jabber.xml so I'm
</I>&gt;<i> assuming that password verification must be done in mod_auth_plain_jane.
</I>&gt;<i>
</I>&gt;<i> Any information about the client password would be great.  I'm totally
</I>&gt;<i> lost at this point.
</I>&gt;<i>
</I>&gt;<i> Tony Byers
</I>&gt;<i>
</I>&gt;<i> ___________________________________________________________________
</I>&gt;<i> To get your own FREE ZDNet Onebox - FREE voicemail, email, and fax,
</I>&gt;<i> all in one place - sign up today at <A HREF="http://www.zdnetonebox.com">http://www.zdnetonebox.com</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066239.html">[JDEV] passwords
</A></li>
	<LI>Next message: <A HREF="066235.html">[JDEV] EtherX vs. Transports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66257">[ date ]</a>
              <a href="thread.html#66257">[ thread ]</a>
              <a href="subject.html#66257">[ subject ]</a>
              <a href="author.html#66257">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

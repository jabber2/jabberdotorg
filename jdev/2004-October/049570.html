<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Strange &quot;disconnections&quot; with PyMSNt transport
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Strange%20%22disconnections%22%20with%20PyMSNt%20transport&In-Reply-To=%3C4161D050.5050602%40migraciones.gov.ar%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049580.html">
   <LINK REL="Next"  HREF="049575.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Strange &quot;disconnections&quot; with PyMSNt transport</H1>
    <B>Javier Villavicencio</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Strange%20%22disconnections%22%20with%20PyMSNt%20transport&In-Reply-To=%3C4161D050.5050602%40migraciones.gov.ar%3E"
       TITLE="[jdev] Strange &quot;disconnections&quot; with PyMSNt transport">javierv at migraciones.gov.ar
       </A><BR>
    <I>Mon Oct  4 17:36:00 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="049580.html">[jdev] Re: XMPP RFC numbers; marketing effort?
</A></li>
        <LI>Next message: <A HREF="049575.html">[jdev] jabberd 2.0 c2s -- an issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49570">[ date ]</a>
              <a href="thread.html#49570">[ thread ]</a>
              <a href="subject.html#49570">[ subject ]</a>
              <a href="author.html#49570">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, I recently implemented a jabber server for internal messaging at 
work, using as authentication scheme the user/password from our e-mail 
database in mysql (postfix/etc, setup) this is working good, on Gentoo 
linux all pretty stable.
We started to give MSN to our users and they're using Exodus as the 
client (compiled with our local language that's the only change to the 
client) And I got implemented the old version of the msn-transport(1.3 
IIRC), but there was some bugs/strange things and the jabber process 
(1.4 at the moment, planning a move to v2) hanging (need to 
kill/restart) many times. So i tried the new PyMSNt transport, which was 
running good until now...
This only happens in ours of heavy use, (like when everyone at the 
office is going home :+), the users are getting these messages:
&quot;Disconnection from MSN servers: [Failure instance: Traceback: 
twisted.internet.error.ConnectionDone, Connection was closed cleanly.]&quot;

And the log (from the transport) when this happens:
The jabbber (error.log) logfile isn't reporting anything wrong.

10/04/04 - 19:24:41 - Session: &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>&quot; Updating 
status on legacy network &quot;Non
e&quot; &quot;None&quot;
10/04/04 - 19:24:41 - LegacyConnection: 
buildFriendly(<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>) returning &quot;camar
on brujo&quot;
10/04/04 - 19:24:48 - User: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A> - 
JabberConnection received presence packet
10/04/04 - 19:24:48 - User: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A> - 
JabberConnection parsed presence packet &quot;
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>&quot; &quot;DNM&quot; &quot;None&quot; &quot;None&quot; &quot;None&quot; &quot;&quot;
10/04/04 - 19:24:48 - Session: Presence change received 
&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>&quot;
10/04/04 - 19:24:48 - Session: &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>&quot; Updating 
status on legacy network &quot;Non
e&quot; &quot;None&quot;
10/04/04 - 19:24:48 - LegacyConnection: 
buildFriendly(<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>) returning &quot;camar
on brujo&quot;
10/04/04 - 19:25:11 - NotificationClient: &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdbm2 at hotmail.com</A>&quot; lost 
connection with MSN servers
10/04/04 - 19:25:11 - LegacyConnection: &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>&quot; - 
connectionLost(&quot;[Failure instance: Traceback: 
twisted.internet.error.ConnectionDone, Connection was closed cleanly.
]&quot;)
10/04/04 - 19:25:11 - User: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A> - 
JabberConnection sending message &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>&quot; 
&quot;msn.migraciones.gov.ar&quot; &quot;Disconnection from MSN servers: [Failure 
instance: Traceback: twisted.internet.error.ConnectionDone, Connection 
was closed cleanly.
]&quot; &quot;None&quot;
10/04/04 - 19:25:11 - jabw: Sending a Jabber message 
&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>&quot; &quot;msn.migraciones.gov.ar&quot; &quot;Disconnection 
from MSN servers: [Failure instance: Traceback: 
twisted.internet.error.ConnectionDone, Connection was closed cleanly.
]&quot; &quot;None&quot;
10/04/04 - 19:25:11 - Session: Removing &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>&quot;
10/04/04 - 19:25:11 - User: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A> - 
JabberConnection sending presence &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>&quot; 
&quot;msn.migraciones.gov.ar&quot; &quot;None&quot; &quot;&quot; &quot;None&quot; &quot;unavailable&quot;
10/04/04 - 19:25:11 - LegacyConnection: &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>&quot; - 
being deleted
10/04/04 - 19:25:11 - MSNConnection: &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdbm2 at hotmail.com</A>&quot; destroyed
10/04/04 - 19:25:11 - Session: Completed removal 
&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">pdebairos at migraciones.gov.ar</A>&quot;

Can this be caused by network outage (ie: some high-speed-allowed-boss 
downloading sh*t?) Anybody else with same problems?

Thanks in advance.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049580.html">[jdev] Re: XMPP RFC numbers; marketing effort?
</A></li>
	<LI>Next message: <A HREF="049575.html">[jdev] jabberd 2.0 c2s -- an issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49570">[ date ]</a>
              <a href="thread.html#49570">[ thread ]</a>
              <a href="subject.html#49570">[ subject ]</a>
              <a href="author.html#49570">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Authority component in xmpp: URIs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Authority%20component%20in%20xmpp%3A%20URIs&In-Reply-To=13553-53157%40sneakemail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028827.html">
   <LINK REL="Next"  HREF="028834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Authority component in xmpp: URIs</H1>
    <B>Peter Saint-Andre</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Authority%20component%20in%20xmpp%3A%20URIs&In-Reply-To=13553-53157%40sneakemail.com"
       TITLE="[jdev] Authority component in xmpp: URIs">stpeter at stpeter.im
       </A><BR>
    <I>Wed Feb 25 17:59:44 CST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="028827.html">[jdev] Authority component in xmpp: URIs
</A></li>
        <LI>Next message: <A HREF="028834.html">[jdev] Authority component in xmpp: URIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28828">[ date ]</a>
              <a href="thread.html#28828">[ thread ]</a>
              <a href="subject.html#28828">[ subject ]</a>
              <a href="author.html#28828">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Massimiliano Mirra wrote:
&gt;<i> On Thu, Feb 26, 2009 at 12:26 AM, Peter Saint-Andre
</I>&gt;<i> stpeter-at-stpeter.im |jdev2| &lt;...&gt; wrote:
</I>&gt;&gt;<i> Massimiliano Mirra wrote:
</I>&gt;&gt;&gt;<i> Are these two URIs equivalent?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>   xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at bar.org</A>
</I>&gt;&gt;&gt;<i>   <A HREF="xmpp:///foo@bar.org">xmpp:///foo@bar.org</A> (notice triple slash)
</I>&gt;&gt;<i> No, they are not. In fact, the second one is not even a valid XMPP URI
</I>&gt;&gt;<i> because an XMPP URI with an authority component is constructed as follows:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="xmpp://authcomp/node@host">xmpp://authcomp/node@host</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Where &quot;authcomp&quot; cannot be empty, because it too is of the form
</I>&gt;&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">node at host.</A>
</I>&gt;<i> 
</I>&gt;<i> That's what I feared.  I guess I'll have to pinch my nose real hard
</I>&gt;<i> here because apparently Mozilla can parse URIs in the form of foo:bar
</I>&gt;<i> but turns them into <A HREF="foo:///bar">foo:///bar</A> internally.
</I>
Ick.

&gt;&gt;<i> If I had my way, we would remove the authority component from XMPP URIs
</I>&gt;&gt;<i> entirely, because they are extremely confusing and unnecessary. Perhaps
</I>&gt;&gt;<i> we can do that with rfc5122bis. :)
</I>&gt;<i> 
</I>&gt;<i> I guess you say so because you're thinking of the scenario
</I>&gt;<i> (admittedly, the most common) where a web page points to an
</I>&gt;<i> XMPP entity.  The page would have no knowledge of the account the
</I>&gt;<i> visitor is going to use to interact with that entity.
</I>&gt;<i> 
</I>&gt;<i> On the other hand I'm thinking of the scenario where a URI is
</I>&gt;<i> generated on the client side to uniquely identify an entity.  The
</I>&gt;<i> account information in this case is available and relevant:
</I>&gt;<i> <A HREF="xmpp://joe@home/mom@home">xmpp://joe@home/mom@home</A> is very different than
</I>&gt;<i> <A HREF="xmpp://cto@bigcorp/mom@home.">xmpp://cto@bigcorp/mom@home.</A>  Imagine saving those as one-click
</I>&gt;<i> shortcuts.  Without the authority part, the client would have to ask
</I>&gt;<i> the user what account to use.  It could save the account-entity
</I>&gt;<i> association in some proprietary way, but the URI seems
</I>&gt;<i> more elegant and portable to me.
</I>
Well, so the authority component is not confusing for you and it's
necessary for your use cases. So I won't agitate for removing it. :)

&gt;<i> Anyway, thanks for clarifying. :)
</I>
Sure thing!

Peter

-- 
Peter Saint-Andre
<A HREF="https://stpeter.im/">https://stpeter.im/</A>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 6751 bytes
Desc: S/MIME Cryptographic Signature
Url : <A HREF="https://www.jabber.org/jdev/attachments/20090225/a2a8fe8c/attachment.bin">https://www.jabber.org/jdev/attachments/20090225/a2a8fe8c/attachment.bin</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028827.html">[jdev] Authority component in xmpp: URIs
</A></li>
	<LI>Next message: <A HREF="028834.html">[jdev] Authority component in xmpp: URIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28828">[ date ]</a>
              <a href="thread.html#28828">[ thread ]</a>
              <a href="subject.html#28828">[ subject ]</a>
              <a href="author.html#28828">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

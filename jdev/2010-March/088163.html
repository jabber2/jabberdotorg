<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] questions about gsoc: file transfer over jingle
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20questions%20about%20gsoc%3A%20file%20transfer%20over%20jingle&In-Reply-To=%3C646f44241003290417j3d2b9af2uf45dea5e61256b43%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="088155.html">
   <LINK REL="Next"  HREF="088158.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] questions about gsoc: file transfer over jingle</H1>
    <B>Zhenchao Li</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20questions%20about%20gsoc%3A%20file%20transfer%20over%20jingle&In-Reply-To=%3C646f44241003290417j3d2b9af2uf45dea5e61256b43%40mail.gmail.com%3E"
       TITLE="[jdev] questions about gsoc: file transfer over jingle">cockneykevin at gmail.com
       </A><BR>
    <I>Mon Mar 29 06:17:38 CDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="088155.html">[jdev] questions about gsoc: file transfer over jingle
</A></li>
        <LI>Next message: <A HREF="088158.html">[jdev] questions about gsoc: file transfer over jingle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88163">[ date ]</a>
              <a href="thread.html#88163">[ thread ]</a>
              <a href="subject.html#88163">[ subject ]</a>
              <a href="author.html#88163">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 27 March 2010 16:54, Yann Leboulanger &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">asterix at lagaule.org</A>&gt; wrote:

&gt;<i> Zhenchao Li wrote:
</I>&gt;<i> &gt; Hi, Yann,
</I>&gt;<i> &gt;    Thanks for your reply. Now I see one big advantage of jingle really
</I>&gt;<i> &gt; is it employs much more optional transport methods. To fully utilize
</I>&gt;<i> &gt; this advanntage for file transfer, we need to implement ICE-TCP . But
</I>&gt;<i> &gt; there's the problem: AFAIK there isn't an XEP defined for ICE-TCP
</I>&gt;<i> &gt; &lt;<A HREF="http://tools.ietf.org/html/draft-ietf-mmusic-ice-tcp-08">http://tools.ietf.org/html/draft-ietf-mmusic-ice-tcp-08</A>&gt;, it's a work
</I>&gt;<i> &gt; in progress. What we have is one for ICE-UDP
</I>&gt;<i> &gt; &lt;<A HREF="http://xmpp.org/extensions/xep-0176.html">http://xmpp.org/extensions/xep-0176.html</A>&gt;. But unlike voice or video
</I>&gt;<i> &gt; transmission, file transfer needs to ensure packet integrity, which
</I>&gt;<i> &gt; rules out FT using ICE-UDP only. Implementing a ICE-TCP stack requires
</I>&gt;<i> &gt; much design and careful implementation, and even sounds like another
</I>&gt;<i> &gt; gsoc project. After some search I find that the libnice library
</I>&gt;<i> &gt; implements ICE-UDP as well as a &quot;pseudo TCP implementation&quot;
</I>&gt;<i> &gt; &lt;<A HREF="http://nice.freedesktop.org/libnice/pt03.html">http://nice.freedesktop.org/libnice/pt03.html</A>&gt;. Perhaps that's one
</I>&gt;<i> &gt; viable way to transfer file?(At the risk of rewriting this transport
</I>&gt;<i> &gt; method sometime in the furture when ICE-TCP is standardized.)
</I>&gt;<i> &gt;     I've also been investigating the possibility of implementing XTLS
</I>&gt;<i> &gt; for encrypting FT streams. XTLS itself is listed as a proposal on the
</I>&gt;<i> &gt; xmpp ideas page, and we have a draft
</I>&gt;<i> &gt; &lt;<A HREF="http://tools.ietf.org/html/draft-meyer-xmpp-e2e-encryption-02">http://tools.ietf.org/html/draft-meyer-xmpp-e2e-encryption-02</A>&gt; and an
</I>&gt;<i> &gt; &quot;XEP&quot; &lt;<A HREF="http://xmpp.org/extensions/inbox/jingle-xtls.html">http://xmpp.org/extensions/inbox/jingle-xtls.html</A>&gt; for reference.
</I>&gt;<i> &gt; It's not quite complicated and there are some python libraries
</I>&gt;<i> &gt; available(python binding for gnutls, tlslite). Would it be a good idea
</I>&gt;<i> &gt; to add this additional feature?(After implementing and thoroughly
</I>&gt;<i> &gt; testing jingle FT).
</I>&gt;<i>
</I>&gt;<i> I don't know how far from latest version ICE-TCP and jingle-TLS are. I
</I>&gt;<i> don't know if it's worth implementing that or if it will change a lot
</I>&gt;<i> before standardization. Maybe some other people on the list know more
</I>&gt;<i> about those specifications.
</I>&gt;<i> One point is also to know what other clients support.
</I>&gt;<i> Another thing I don't know is what would be best: implment ICE-TCP or
</I>&gt;<i> XTLS. XTLS could be used for audio / video and FT, so yes, it's a very
</I>&gt;<i> nice feature! ICE-TCP is one of the reason to switch to jingle FT, but
</I>&gt;<i> it may be a bit too early to implement that?
</I>&gt;<i>
</I>&gt;<i> BTW another reason to switch to jingle is the ability to change the
</I>&gt;<i> transfer method. You try socks5, you don't find a host, you fallback to
</I>&gt;<i> IBB.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Yann
</I>&gt;<i> _______________________________________________
</I>&gt;<i> JDev mailing list
</I>&gt;<i> Forum: <A HREF="http://www.jabberforum.org/forumdisplay.php?f=20">http://www.jabberforum.org/forumdisplay.php?f=20</A>
</I>&gt;<i> Info: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JDev-unsubscribe at jabber.org</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i>
</I>

Then it seems we need to lower the priority of pseudo TCP over ICE-UDP for
FT, since it may cause incompatibility between gajim and other clients and
also there isn't a standard to support it. Different clients might implement
TCP stack over ICE-UDP with different details, which is bad. But still it
can be an interesting and useful feature to implement. So I guess if there's
enough time we could still implement that and let FT fall back on other
standardized transport methods when pseudo TCP is not supported by the other
side. And as Justin pointed out, pseudo TCP could even be an alternative to
ICE-TCP. Assuming this, we will 1. rewrite our code for pseudo TCP when
pseudo TCP over ICE-UDP becomes something better defined, 2. add another
transport method i.e. ICE-TCP in our code when it becomes part of XMPP
standard. With the help of libnice, for the time being it all boils down to
writing well structured and flexible code for different transport methods.
And of course XTLS has higher priority because it is slightly better
defined:-)

-- 
Homepage:   www.fantasticsid.com
EMAIL:         <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">fantasticsid at fantasticsid.com</A>, <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">cockneykevin at gmail.com</A>
IRC:             fantasticsid
Jabber:         <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">fantasticsid at jabber.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20100329/cddec506/attachment.htm">https://www.jabber.org/jdev/attachments/20100329/cddec506/attachment.htm</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="088155.html">[jdev] questions about gsoc: file transfer over jingle
</A></li>
	<LI>Next message: <A HREF="088158.html">[jdev] questions about gsoc: file transfer over jingle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88163">[ date ]</a>
              <a href="thread.html#88163">[ thread ]</a>
              <a href="subject.html#88163">[ subject ]</a>
              <a href="author.html#88163">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

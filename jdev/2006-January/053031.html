<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Stream feature negotiation ordering. Was: Re: [jdev]	S2S	questions - from attribute and version support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20Stream%20feature%20negotiation%20ordering.%20Was%3A%20Re%3A%20%5Bjdev%5D%0A%09S2S%09questions%20-%20from%20attribute%20and%20version%20support&In-Reply-To=%3C20060110141952.GA76858%40ik.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053030.html">
   <LINK REL="Next"  HREF="053032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Stream feature negotiation ordering. Was: Re: [jdev]	S2S	questions - from attribute and version support</H1>
    <B>Ralph Meijer</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20Stream%20feature%20negotiation%20ordering.%20Was%3A%20Re%3A%20%5Bjdev%5D%0A%09S2S%09questions%20-%20from%20attribute%20and%20version%20support&In-Reply-To=%3C20060110141952.GA76858%40ik.nu%3E"
       TITLE="Stream feature negotiation ordering. Was: Re: [jdev]	S2S	questions - from attribute and version support">jabber.org at ralphm.ik.nu
       </A><BR>
    <I>Tue Jan 10 08:19:52 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="053030.html">Stream feature negotiation ordering. Was: Re: [jdev] S2S	questions	- from attribute and version support
</A></li>
        <LI>Next message: <A HREF="053032.html">Stream feature negotiation ordering. Was: Re: [jdev] S2S questions	-	from attribute and version support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53031">[ date ]</a>
              <a href="thread.html#53031">[ thread ]</a>
              <a href="subject.html#53031">[ subject ]</a>
              <a href="author.html#53031">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jan 10, 2006 at 01:57:43PM +0000, Tony Finch wrote:
&gt;<i> On Tue, 10 Jan 2006, Joe Hildebrand wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; I want to note here that JEP-0138, Stream Compression, should be done
</I>&gt;<i> &gt; &gt; after TLS negotiation. The JEP does not mention that it should also go
</I>&gt;<i> &gt; &gt; before SASL but that seems fairly logical.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; why before SASL?  It seems like the restart of the stream after SASL might be
</I>&gt;<i> &gt; interpreted to supersede the compressed stream.
</I>&gt;<i> 
</I>&gt;<i> However the restart of the stream after SASL does not supersede TLS.
</I>
Right. I see it as an onion. You wrap your XML Streams in a
authenticated stream that is wrapped in an compressed stream that is
wrapped in a encrypted stream.

Surely it doesn't matter (much) if you compress before or after SASL,
but I suppose compressing as soon as possible gains you at least some
bytes. It also depends on how much traffic is in between establishing
the encryption layer and the point where you can start sending XML
Stanzas. Also note that if you use TLS compression, it is in effect
before SASL authentication.

-- 
Groetjes,

ralphm

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053030.html">Stream feature negotiation ordering. Was: Re: [jdev] S2S	questions	- from attribute and version support
</A></li>
	<LI>Next message: <A HREF="053032.html">Stream feature negotiation ordering. Was: Re: [jdev] S2S questions	-	from attribute and version support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53031">[ date ]</a>
              <a href="thread.html#53031">[ thread ]</a>
              <a href="subject.html#53031">[ subject ]</a>
              <a href="author.html#53031">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

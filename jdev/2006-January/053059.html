<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] getting the underlying socket from a Net::Jabber::Component?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20getting%20the%20underlying%20socket%20from%20a%20Net%3A%3AJabber%3A%3AComponent%3F&In-Reply-To=%3C20060112002528.1363.qmail%40web30709.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053057.html">
   <LINK REL="Next"  HREF="053060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] getting the underlying socket from a Net::Jabber::Component?</H1>
    <B>Randall W</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20getting%20the%20underlying%20socket%20from%20a%20Net%3A%3AJabber%3A%3AComponent%3F&In-Reply-To=%3C20060112002528.1363.qmail%40web30709.mail.mud.yahoo.com%3E"
       TITLE="[jdev] getting the underlying socket from a Net::Jabber::Component?">rpw101ml at yahoo.com.au
       </A><BR>
    <I>Wed Jan 11 18:25:28 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="053057.html">[jdev] looking for javascript programmer
</A></li>
        <LI>Next message: <A HREF="053060.html">[jdev] Fwd: [Psi-devel] Release of Psi-0.10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53059">[ date ]</a>
              <a href="thread.html#53059">[ thread ]</a>
              <a href="subject.html#53059">[ subject ]</a>
              <a href="author.html#53059">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ryan/
    Nice job with the Net::Jabber modules..  However I
have one small question-Is there an easier way to get
the underlying IO::Socket from a connected Component? 
I eventually arrived at the code below but it seems
inelegant to have to directly access and manually
'bless' a hash element....

   (I was looking for the underlying socket so my
component could monitor its jabber port as well as
listen for non-XML data on another socket using
IO::Select)

use Net::Jabber qw(Component);
my $Connection = new
Net::Jabber::Component(debuglevel=&gt;0,
debugfile=&gt;&quot;stdout&quot;);

my $status = $Connection-&gt;Connect(&quot;hostname&quot; =&gt;
$server, &quot;port&quot; =&gt; $port, &quot;componentname&quot; =&gt; $name);

die &quot;failed to connect&quot; unless defined $status;

my $stream=$Connection-&gt;{'STREAM'};
bless $stream,&quot;XML::Stream&quot;;

my $sock=$stream-&gt;GetSock($Connection-&gt;GetStreamID());


		
____________________________________________________ 
Do you Yahoo!? 
Take your Mail with you - get Yahoo! Mail on your mobile 
<A HREF="http://au.mobile.yahoo.com/mweb/index.html">http://au.mobile.yahoo.com/mweb/index.html</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053057.html">[jdev] looking for javascript programmer
</A></li>
	<LI>Next message: <A HREF="053060.html">[jdev] Fwd: [Psi-devel] Release of Psi-0.10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53059">[ date ]</a>
              <a href="thread.html#53059">[ thread ]</a>
              <a href="subject.html#53059">[ subject ]</a>
              <a href="author.html#53059">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

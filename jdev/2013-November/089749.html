<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] manifesto &amp; DANE does not cut it
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20manifesto%20%26%20DANE%20does%20not%20cut%20it&In-Reply-To=%3CCAKHUCzw2k2-Why6a5jrf2yBJb3pks4AeSPD80p6OSzY39K7-oQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089746.html">
   <LINK REL="Next"  HREF="089755.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] manifesto &amp; DANE does not cut it</H1>
    <B>Dave Cridland</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20manifesto%20%26%20DANE%20does%20not%20cut%20it&In-Reply-To=%3CCAKHUCzw2k2-Why6a5jrf2yBJb3pks4AeSPD80p6OSzY39K7-oQ%40mail.gmail.com%3E"
       TITLE="[jdev] manifesto &amp; DANE does not cut it">dave at cridland.net
       </A><BR>
    <I>Fri Nov 15 10:30:43 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="089746.html">[jdev] manifesto &amp; DANE does not cut it
</A></li>
        <LI>Next message: <A HREF="089755.html">[jdev] manifesto &amp; DANE does not cut it
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89749">[ date ]</a>
              <a href="thread.html#89749">[ thread ]</a>
              <a href="subject.html#89749">[ subject ]</a>
              <a href="author.html#89749">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Nov 15, 2013 at 9:30 AM, Ralf Skyper Kaiser &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">skyper at thc.org</A>&gt; wrote:

&gt;<i> No. The user has to trust ALL keys and not just the single ROOT KEY. The
</I>&gt;<i> user has to trust:
</I>&gt;<i> 1. The key was generated securely (enough bits, good primes, ...)
</I>&gt;<i> 2. A good RNG was used (hi debian! Thanks for a bad RNG).
</I>&gt;<i> 3. The key is not leaked (on purpose) by _any_ of the admins in the domain
</I>&gt;<i> chain
</I>&gt;<i> 4. The key is stored securely and not stolen
</I>&gt;<i> 5 . ...This list is incomplete...and goes on and on.
</I>&gt;<i>
</I>&gt;<i>
</I>Excellent... So we'll run through a first-time connect without DANE, and
with just pinning.


&gt;<i> Maybe this example gives a better idea:
</I>&gt;<i> User in Iran. Jabber admin sets up a jabber server at
</I>&gt;<i> myjabberserver.my-university.ir.
</I>&gt;<i>
</I>&gt;<i>
</I>OK. So no change here.


&gt;<i> The user has to trust ROOT (domain &quot;.&quot;). ROOT is ultimately geopolitically
</I>&gt;<i> aligned with the US.
</I>&gt;<i>
</I>&gt;<i>
</I>Again, no change. Still got the trust the DNS, after all. Of course, Iran
could run their own root, and frankly nobody would know without DNSSEC. So
it's really hard to tell if the root you're querying is actually the one
geopolitically aligned with the US or not.


&gt;<i> The user has to trust .IR. That's ultimately the Iranian government.
</I>&gt;<i>
</I>&gt;<i>
</I>So here's a thing - this assumes the user is also in Iran. But without
DNSSEC, you have to trust both your local authority and the domain owner.
In your scenario, though, they're the same thing, so we can skip this,
right?


&gt;<i> The user has to trust MY-UNIVERSITY.IR (which is ultimately aligned with
</I>&gt;<i> Mr. Khomeini)
</I>&gt;<i>
</I>&gt;<i>
</I>Likewise... Though I'm pretty sure Khomeini hasn't been around for a while.


&gt;<i> The user has to trust MYJABBERSERVER.my-university.ir which is the actual
</I>&gt;<i> jabber server admin.
</I>&gt;<i>
</I>&gt;<i>
</I>OK. Small note there, actually. You also have to trust any authority over
your IP connectivity at this point, plus spoofing DNS is relatively easy
without DNSSEC, so you're basically trusting *everyone*. Which just makes
you a nice guy, right? Can I borrow &#8364;1,000?


&gt;<i> &lt;SARCASM&gt;
</I>&gt;<i> That really sounds like a great idea! Unless of course
</I>&gt;<i>
</I>&gt;<i> 1. You are a gay person in Iran
</I>&gt;<i> 2. An Atheist in Saudi Arabia (or a women)
</I>&gt;<i> 3. Leonardo da Vinci and dare to suggest that the earth is round
</I>&gt;<i> 4. A black person wishing to sit in the front row of a bus
</I>&gt;<i> 5 ...
</I>&gt;<i> &lt;/SARCASM&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>Typically, sarcasm is used to posit something that is clearly the opposite
of what you intend, by the way. Aside from &quot;That really sounds like a great
idea&quot;, I'll assume that the remainder of the argument you state above is,
you believe, valid.


&gt;<i> DANE does not protect any of the above people.
</I>&gt;<i>
</I>&gt;<i>
</I>It protects them significantly better, and from a greater number of attacks
(and attackers), than self-signed certificates and pinning-only.


&gt;<i> DANE just does not cut it. Not in a Post-Prism world.
</I>&gt;<i>
</I>&gt;<i>
</I>I have *no* idea what Prism has to do with this. Really.

The only thing you need to defeat pervasive surveillance alone, which is a
fundamentally untargetted attack, is to deploy some kind of encryption. ADH
is fine for that.

We're trying to solve an authentication problem.


&gt;<i> Certificate Pinning does.
</I>&gt;<i>
</I>&gt;<i>
</I>Ah, but wait, because there's two additional steps you've skipped.

With DANE, the user's client now knows something important - assuming it
can trust the relevant delegation points, of course - it knows the address
(via DNSSEC) and it also knows what to expect from the certificate (the CA,
or certificate itself). These are good and useful things to know.

With pure pinning and self-signed certificates, it knows nothing it can
trust. It cannot trust the IP address, nor the certificate. Your argument
is that a user should then trust these anyway, and bootstrap from there.
The trouble is the attacker has much more scope to mount the initial
attack, and once done it's fairly nicely self-sustaining - in fact, if they
stop the attack, it'll appear as if the legitimate server is the attacker.
I have no clue how to extricate the user at this point.

I don't think anyone would claim that DANE is utterly proof against any
form of attack, but your argument seems to be that because it's not
perfect, we should instead use something worse.

Critically, the argument &quot;but nobody will attack the initial connect, it
works with SSH&quot; is entirely flawed, as every attack possible is magnitudes
harder with DNSSEC and/or DANE.

Also, you're welcome to use pinning *and* DANE. If you can figure out what
takes precedence in the case of a mismatch.

Dave.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20131115/1e7d6a12/attachment.html">https://www.jabber.org/jdev/attachments/20131115/1e7d6a12/attachment.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089746.html">[jdev] manifesto &amp; DANE does not cut it
</A></li>
	<LI>Next message: <A HREF="089755.html">[jdev] manifesto &amp; DANE does not cut it
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89749">[ date ]</a>
              <a href="thread.html#89749">[ thread ]</a>
              <a href="subject.html#89749">[ subject ]</a>
              <a href="author.html#89749">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

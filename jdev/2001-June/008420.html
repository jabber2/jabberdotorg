<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Impossible to change server-2-server port...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Impossible%20to%20change%20server-2-server%20port...&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008445.html">
   <LINK REL="Next"  HREF="008451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Impossible to change server-2-server port...</H1>
    <B>Riviere St&#233;phane</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Impossible%20to%20change%20server-2-server%20port...&In-Reply-To="
       TITLE="[JDEV] Impossible to change server-2-server port...">Stephane.SR.Riviere at atosorigin.com
       </A><BR>
    <I>Wed Jun 13 06:14:59 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="008445.html">[JDEV] [TRANSPORTS] Support of proxy ?
</A></li>
        <LI>Next message: <A HREF="008451.html">[JDEV] Impossible to change server-2-server port...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8420">[ date ]</a>
              <a href="thread.html#8420">[ thread ]</a>
              <a href="subject.html#8420">[ subject ]</a>
              <a href="author.html#8420">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I was looking for changing the s2s listening port and this functionality
seems, for the moment, impossible to use... :-(

You can effectively change the listening port of a server using the
jabber.xml file, and the server will effectively listen on that new
port...but there won't be any connection to that port !

The 5269 port is hard-coded in the dialback_out.c file (function
dialback_out_connect)
So, the mio_connect is always connecting to the remote server on the port
5269.

I think there should be a section in the jabber.xml file to configure
special remote servers. Why not some sort of &quot;routing&quot; table in the s2s
service section ?


&lt;service id=&quot;s2s&quot;&gt;
...
&lt;virtual id=&quot;remote.hostname&quot;&gt;
	&lt;ip port=&quot;yyyy&quot;&gt; xxx.xxx.xxx.xxx &lt;/ip&gt;
&lt;/virtual&gt;
... 
&lt;virtual id=&quot;remote.namehost&quot;&gt;
&lt;ip port=&quot;zzz&quot;/&gt;
&lt;/virtual&gt;
...
&lt;/service&gt;

Clients can be configured to use a port different from 5222, so why not
servers ;-)

Jabber's still great anyway...when it'll have a better proxy support ;-)


St&#233;phane RIVIERE



------------------------------------------
email : <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">Stephane.sr.Riviere at atosorigin.com</A>
t&#233;l : (0)3.20.60.83.01

Equipe Grands Projets
Direction Recherche &amp; D&#233;veloppement
ATOS ORIGIN Activit&#233; Multim&#233;dia
<A HREF="http://www.atosorigin.com">http://www.atosorigin.com</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008445.html">[JDEV] [TRANSPORTS] Support of proxy ?
</A></li>
	<LI>Next message: <A HREF="008451.html">[JDEV] Impossible to change server-2-server port...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8420">[ date ]</a>
              <a href="thread.html#8420">[ thread ]</a>
              <a href="subject.html#8420">[ subject ]</a>
              <a href="author.html#8420">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

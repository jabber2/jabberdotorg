<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] testing tools
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20testing%20tools&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008459.html">
   <LINK REL="Next"  HREF="008462.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] testing tools</H1>
    <B>Dustin Puryear</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20testing%20tools&In-Reply-To="
       TITLE="[JDEV] testing tools">dpuryear at usa.net
       </A><BR>
    <I>Thu Jun 14 14:33:16 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="008459.html">[JDEV] password from client
</A></li>
        <LI>Next message: <A HREF="008462.html">[JDEV] GSETSS Site
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8460">[ date ]</a>
              <a href="thread.html#8460">[ thread ]</a>
              <a href="subject.html#8460">[ subject ]</a>
              <a href="author.html#8460">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've made a few changes to the testing suite. One affects performance of
the tools on the clients. In addition, I recently added nusers2.sh,
which automates the testing of testing n clients on two hosts passing x
messages per second for t seconds. It will also invoke sar on the Jabber
server if possible. 

As always you can grab the testing suite's source code at
<A HREF="http://www.sf.net/projects/jabbertest.">http://www.sf.net/projects/jabbertest.</A> If you want the binaries then
email me. Note that I will send you binaries compiled with the expat
library, so each binary will be about 1MB.

Here is some sample data gathered using nusers2.sh using 128 users
passing 2 messages/sec (test messages &lt; 128 bytes) for 60 seconds:

$ ./nusers2.sh crack 128 2 60 test_
Start time: 14:28:58
*** Copying clients..
*** Starting sar on server..
--- Sleeping 5 * 4 seconds for idle data..
*** Starting receivers..
*** Testing start..
*** Starting senders..


$ sar -f /home/dpuryear/jabber_sar.dat 
Linux 2.2.14-6.1.1 (crack)      06/14/01

02:29:03 PM       CPU     %user     %nice   %system     %idle
02:29:08 PM       all      0.20      0.00      0.60     99.20
02:29:13 PM       all      0.00      0.00      0.40     99.60
02:29:18 PM       all      0.00      0.00      0.40     99.60
02:29:23 PM       all      0.20      0.00      0.40     99.40
02:29:28 PM       all     73.20      0.00     19.60      7.20
02:29:33 PM       all     85.40      0.00     14.60      0.00
02:29:38 PM       all     85.40      0.00     14.60      0.00
02:29:43 PM       all     86.60      0.00     13.40      0.00
02:29:48 PM       all     85.20      0.00     14.80      0.00
02:29:53 PM       all     90.40      0.00      9.60      0.00
02:29:58 PM       all     84.60      0.00     15.40      0.00
02:30:03 PM       all     85.40      0.00     14.60      0.00
02:30:08 PM       all     91.20      0.00      8.80      0.00
02:30:13 PM       all     84.00      0.00     16.00      0.00
02:30:18 PM       all     88.20      0.00     11.80      0.00
02:30:23 PM       all     84.40      0.00     15.60      0.00
02:30:28 PM       all     88.20      0.00     11.80      0.00
02:30:33 PM       all     84.60      0.00     11.40      4.00
02:30:38 PM       all     58.00      0.00      5.40     36.60
02:30:43 PM       all      8.40      0.00      3.40     88.20
02:30:48 PM       all      2.20      0.00      1.40     96.40
02:30:53 PM       all      1.80      0.00      1.80     96.40
02:31:08 PM       all      2.40      0.00      2.40     95.20
02:31:13 PM       all      0.00      0.00      0.40     99.60
02:31:18 PM       all      2.00      0.00      1.00     97.00
02:31:23 PM       all      0.00      0.00      0.40     99.60
...

Regards, Dustin

-- 
Dustin Puryear &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dpuryear at usa.net</A>&gt;
<A HREF="http://members.telocity.com/~dpuryear">http://members.telocity.com/~dpuryear</A>
In the beginning the Universe was created. 
This has been widely regarded as a bad move. - Douglas Adams

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008459.html">[JDEV] password from client
</A></li>
	<LI>Next message: <A HREF="008462.html">[JDEV] GSETSS Site
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8460">[ date ]</a>
              <a href="thread.html#8460">[ thread ]</a>
              <a href="subject.html#8460">[ subject ]</a>
              <a href="author.html#8460">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

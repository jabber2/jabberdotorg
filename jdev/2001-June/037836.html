<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Bot getting boot
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Bot%20getting%20boot&In-Reply-To=%3C01062114452200.00649%40obelix%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037835.html">
   <LINK REL="Next"  HREF="037838.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Bot getting boot</H1>
    <B>Bill Abbas</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Bot%20getting%20boot&In-Reply-To=%3C01062114452200.00649%40obelix%3E"
       TITLE="[JDEV] Bot getting boot">zsa at expertq.com
       </A><BR>
    <I>Thu Jun 21 16:45:22 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="037835.html">[JDEV] O'Reilly Open Source Convention BOF
</A></li>
        <LI>Next message: <A HREF="037838.html">[JDEV] Bot getting boot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37836">[ date ]</a>
              <a href="thread.html#37836">[ thread ]</a>
              <a href="subject.html#37836">[ subject ]</a>
              <a href="author.html#37836">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have a bot running as a client on the Jabber 1.4 server 
(with the conference.0.4.1 module installed).  The bot is a 
Java app connected to the server via 
JabberBeans-0.9.0-pre4.  

The first time the bot gets a message, it gets kicked off 
of the groupchat.  Kind of looks like the socket gets 
closed when the groupchart server tries to deliver the 
message, although the message does apparently get through.

Could this be bad jabber karma?

I'm attaching a whittled-down snippet of the jabberd debug 
output. TIA

=Bill
-------------- next part --------------

User &quot;bob&quot; has posted the message &quot;mxyzptlk&quot; to the &quot;room_10&quot; conference.  
User &quot;expertq&quot; gets the message and then seems to close the socket. 

Thu Jun 21 13:48:22 2001  deliver.c:460 DELIVER 4:c2s &lt;route from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">expertq at expertq.com</A>/8222E78' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">13 at c2s</A>/8241268'&gt;&lt;message to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">expertq at expertq.com</A>/xqBot' id='5' type='groupchat' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">room_10 at conference.expertq.com</A>/bob' cnu=''&gt;&lt;body&gt;mxyzptlk&lt;/body&gt;&lt;/message&gt;&lt;/route&gt;
Thu Jun 21 13:48:22 2001  deliver.c:649 delivering to instance 'c2s'
Thu Jun 21 13:48:22 2001  client.c:148 C2S: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">expertq at expertq.com</A>/8222E78 has an active session, delivering packet
Thu Jun 21 13:48:22 2001  client.c:202 Writing packet to MIO: &lt;message to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">expertq at expertq.com</A>/xqBot' id='5' type='groupchat' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">room_10 at conference.expertq.com</A>/bob' cnu=''&gt;&lt;body&gt;mxyzptlk&lt;/body&gt;&lt;/message&gt;
Thu Jun 21 13:48:22 2001  mio.c:908 mio_write called on x: 825DFB8 buffer: (null)
Thu Jun 21 13:48:22 2001  mtq 8166E50 queue call 8154380
Thu Jun 21 13:48:22 2001  sessions.c:288 THREAD:SESSION:TO received data from <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">room_10 at conference.expertq.com</A>/bob!
Thu Jun 21 13:48:22 2001  modules.c:124 mapi_call 0
Thu Jun 21 13:48:22 2001  modules.c:163 mapi_call returning unhandled
Thu Jun 21 13:48:22 2001  deliver.c:460 DELIVER 4:c2s &lt;route from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">bob at expertq.com</A>/8240A38' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">14 at c2s</A>/8236F60'&gt;&lt;message to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">bob at expertq.com</A>/chevy' id='5' type='groupchat' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">room_10 at conference.expertq.com</A>/bob' cnu=''&gt;&lt;body&gt;mxyzptlk&lt;/body&gt;&lt;/message&gt;&lt;/route&gt;
Thu Jun 21 13:48:22 2001  deliver.c:649 delivering to instance 'c2s'
Thu Jun 21 13:48:22 2001  client.c:148 C2S: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">bob at expertq.com</A>/8240A38 has an active session, delivering packet
Thu Jun 21 13:48:22 2001  client.c:202 Writing packet to MIO: &lt;message to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">bob at expertq.com</A>/chevy' id='5' type='groupchat' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">room_10 at conference.expertq.com</A>/bob' cnu=''&gt;&lt;body&gt;mxyzptlk&lt;/body&gt;&lt;/message&gt;
Thu Jun 21 13:48:22 2001  mio.c:908 mio_write called on x: 823F5E8 buffer: (null)
Thu Jun 21 13:48:22 2001  mtq 8166E50 leaving to pth
Thu Jun 21 13:48:22 2001  mio.c:268 write_dump writing data: &lt;message to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">expertq at expertq.com</A>/xqBot' id='5' type='groupchat' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">room_10 at conference.expertq.com</A>/bob' cnu=''&gt;&lt;body&gt;mxyzptlk&lt;/body&gt;&lt;/message&gt;
Thu Jun 21 13:48:22 2001  mio.c:268 write_dump writing data: &lt;message to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">bob at expertq.com</A>/chevy' id='5' type='groupchat' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">room_10 at conference.expertq.com</A>/bob' cnu=''&gt;&lt;body&gt;mxyzptlk&lt;/body&gt;&lt;/message&gt;
Thu Jun 21 13:48:22 2001  client.c:243 pthsock_client_read called with: m:8241268 flag:4 arg:825F038
Thu Jun 21 13:48:22 2001  client.c:248 io_select Socket 13 close notification
Thu Jun 21 13:48:22 2001  deliver.c:460 DELIVER 4:expertq.com &lt;route type='error' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">expertq at expertq.com</A>/8222E78' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">13 at c2s</A>/8241268'/&gt;
Thu Jun 21 13:48:22 2001  deliver.c:649 delivering to instance 'sessions'
Thu Jun 21 13:48:22 2001  deliver.c:83 (80D4178)incoming packet &lt;route type='error' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">expertq at expertq.com</A>/8222E78' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">13 at c2s</A>/8241268'/&gt;
Thu Jun 21 13:48:22 2001  users.c:137 js_user(<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">expertq at expertq.com</A>,81554E0)
Thu Jun 21 13:48:22 2001  sessions.c:148 end 136457848 'Disconnected'
Thu Jun 21 13:48:22 2001  mio.c:354 freed MIO socket
Thu Jun 21 13:48:22 2001  mtq 8166E50 entering from pth
Thu Jun 21 13:48:23 2001  mtq 8166E50 queue call 8222E78
Thu Jun 21 13:48:23 2001  sessions.c:318 THREAD:SESSION exiting

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037835.html">[JDEV] O'Reilly Open Source Convention BOF
</A></li>
	<LI>Next message: <A HREF="037838.html">[JDEV] Bot getting boot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37836">[ date ]</a>
              <a href="thread.html#37836">[ thread ]</a>
              <a href="subject.html#37836">[ subject ]</a>
              <a href="author.html#37836">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

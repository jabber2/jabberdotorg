<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] japanese characters in yahoo transport
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20japanese%20characters%20in%20yahoo%20transport&In-Reply-To=004901c10393%24196e0100%242b00a8c0%40tardis">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008687.html">
   <LINK REL="Next"  HREF="008765.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] japanese characters in yahoo transport</H1>
    <B>Tetsuto SHIMOMURA</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20japanese%20characters%20in%20yahoo%20transport&In-Reply-To=004901c10393%24196e0100%242b00a8c0%40tardis"
       TITLE="[JDEV] japanese characters in yahoo transport">tact at klab.org
       </A><BR>
    <I>Tue Jul  3 04:10:26 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="008687.html">[JDEV] japanese characters in yahoo transport
</A></li>
        <LI>Next message: <A HREF="008765.html">[JDEV] japanese characters in yahoo transport
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8688">[ date ]</a>
              <a href="thread.html#8688">[ thread ]</a>
              <a href="subject.html#8688">[ subject ]</a>
              <a href="author.html#8688">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Martin,

On Tue, 3 Jul 2001 16:38:05 +0900
&quot;Martin Shadbolt&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">martin at imahima.com</A>&gt; wrote:

&gt;<i> Hi Tetsuto Shimomura,
</I>&gt;<i> 
</I>&gt;<i> The modified Yahoo transport are you still looking into fixing the problem
</I>&gt;<i> to make the
</I>&gt;<i> transport operational again ?.
</I>
Yes.
I found the reason why yahoo-j trasport works wrong.

Formerly, WinJab and JIM have sent messages using SHIFT-JIS encoding
on Windows 2000 Japanese version. So, we were able to speak to
Yahoo! Japan clients.
But latest clients send messages using UTF-8 encoding.
Now we must convert SHIFT-JIS and UTF-8 in yahoo-j transport.

If you can understand Japanese, please see <A HREF="http://jabber.jp/">http://jabber.jp/</A>
(Japanese only yet, sorry)


&gt;<i> I am setting up a jabber server and would be interested to install the
</I>&gt;<i> yahoo-j transport. Is it available for general use ?
</I>
I put a quick-hacked patch at
<A HREF="http://jabber.jp/yahoo-transport-jp/yahoo-transport-jp-0.8.1-1.4.patch">http://jabber.jp/yahoo-transport-jp/yahoo-transport-jp-0.8.1-1.4.patch</A>
I hope it is userful.

This patch is for yahoo-transport-0.8.1-1.4.
The essential point is following:

diff -rc yahoo-transport-jp-0.8.1-1.4/src/yahoolib.c yahoo-transport-0.8.1-1.4/src/yahoolib.c
*** yahoo-transport-jp-0.8.1-1.4/src/yahoolib.c	Tue Jun 19 19:09:28 2001
--- yahoo-transport-0.8.1-1.4/src/yahoolib.c	Tue Jun 19 18:35:44 2001
***************
*** 82,103 ****
  void SOCKSinit(char *argv0);
  #endif
  
- #define YAHOO_JAPAN
- 
- #if defined(YAHOO_JAPAN)
- /* pager server host */
- #define YAHOO_PAGER_HOST &quot;cs.yahoo.co.jp&quot;
- #define YAHOO_PAGER_PORT	5050
- /* pager server host for http connections */
- #define YAHOO_PAGER_HTTP_HOST &quot;pager.yahoo.co.jp&quot;
- #define YAHOO_PAGER_HTTP_PORT 80
- /* authentication/login host */
- #define YAHOO_AUTH_HOST		&quot;edit.my.yahoo.co.jp&quot;
- #define YAHOO_AUTH_PORT		80
- /* buddy/identity/config host */
- #define YAHOO_DATA_HOST		YAHOO_AUTH_HOST
- #define YAHOO_DATA_PORT     80
- #else
  /* pager server host */
  #define YAHOO_PAGER_HOST &quot;cs.yahoo.com&quot;
  #define YAHOO_PAGER_PORT	5050
--- 82,87 ----
***************
*** 110,116 ****
  /* buddy/identity/config host */
  #define YAHOO_DATA_HOST		YAHOO_AUTH_HOST
  #define YAHOO_DATA_PORT     80
- #endif
  
  /* User agent to use for HTTP connections */
  /* It needs to have Mozilla/4 in it, otherwise it fails */
--- 94,99 ----

Thanks, 

-----
Tetsuto SHIMOMURA &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">tact at klab.org</A>&gt;
jabber: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">tact at jabber.jp</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008687.html">[JDEV] japanese characters in yahoo transport
</A></li>
	<LI>Next message: <A HREF="008765.html">[JDEV] japanese characters in yahoo transport
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8688">[ date ]</a>
              <a href="thread.html#8688">[ thread ]</a>
              <a href="subject.html#8688">[ subject ]</a>
              <a href="author.html#8688">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

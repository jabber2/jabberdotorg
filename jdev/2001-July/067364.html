<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Bug: Status messages truncated before quote char
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Bug%3A%20Status%20messages%20truncated%20before%20quote%20char&In-Reply-To=%3C9325241823BED3118DEA00805FF713DD05E99ABE%40casdgex1.cricketcommunications.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067376.html">
   <LINK REL="Next"  HREF="067372.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Bug: Status messages truncated before quote char</H1>
    <B>Stanley Kurdziel</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Bug%3A%20Status%20messages%20truncated%20before%20quote%20char&In-Reply-To=%3C9325241823BED3118DEA00805FF713DD05E99ABE%40casdgex1.cricketcommunications.com%3E"
       TITLE="[JDEV] Bug: Status messages truncated before quote char">skurdziel at leapwireless.com
       </A><BR>
    <I>Thu Jul 12 19:41:28 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="067376.html">[JDEV] Privacy in conferencing -- does it work?
</A></li>
        <LI>Next message: <A HREF="067372.html">[JDEV] Bug: Status messages truncated before quote char
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67364">[ date ]</a>
              <a href="thread.html#67364">[ thread ]</a>
              <a href="subject.html#67364">[ subject ]</a>
              <a href="author.html#67364">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Actually, I was composing an email regarding truncation of offline messages,
when I saw your email :-)
 
I am running jabber server 1.4.1 on Linux.
 
This problem only happens when the receiving user is offline, and is not
just restricted to status elements.   I noticed this problem during sending
regular messages.   Here's the problem's I observed:
1. Sending a message with &lt;body&gt;'message&lt;/body&gt;   will end up with only
&lt;body&gt;&amp;apos;&lt;/body&gt; in the &lt;username&gt;.xml file
2. Sending a message with &lt;body&gt;&quot;message&lt;/body&gt;   will end up with only
&lt;body&gt;&amp;quot;&lt;/body&gt; in the &lt;username&gt;.xml file
3. Sending a message with &lt;body&gt;part1&quot;part2&lt;/body&gt;   will end up with only
&lt;body&gt;part1&lt;/body&gt; in the &lt;username&gt;.xml file
4. Sending a message with &lt;body&gt;part1'part2&lt;/body&gt;   will end up with only
&lt;body&gt;part1&lt;/body&gt; in the &lt;username&gt;.xml file
 
Maybe it's a bug in xdb_file, since the messages are sent fine if both users
are online.
 
Interestingly, this does not happen on the jabber.org server...   Is
jabber.org using xdb_file?   or xdb_&lt;something else&gt;
Or has a fix been applied to jabber.org?
 
 
Thanks for any information,
 
-sek
 
 

-----Original Message-----
From: Jens Alfke [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jens at mac.com</A>]
Sent: Thursday, July 12, 2001 12:03 PM
To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
Subject: [JDEV] Bug: Status messages truncated before quote char



I have noticed that status messages (i.e. &lt;status&gt; elements in a &lt;presence&gt;
element) containing a quote character are truncated before that character &#8212;
but only when forwarded by the server upon client login, not when they're
sent in real time to an already logged in client. 


I've verified that my client sends XML metachars properly to the server, and
that the problem exists in the raw XML received by the client, not in my XML
parsing. 


This is with the 1.4.1 server running on Solaris. Anyone else seen this? 


&#8212;Jens

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20010712/96b63b1c/attachment-0002.htm">https://www.jabber.org/jdev/attachments/20010712/96b63b1c/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067376.html">[JDEV] Privacy in conferencing -- does it work?
</A></li>
	<LI>Next message: <A HREF="067372.html">[JDEV] Bug: Status messages truncated before quote char
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67364">[ date ]</a>
              <a href="thread.html#67364">[ thread ]</a>
              <a href="subject.html#67364">[ subject ]</a>
              <a href="author.html#67364">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Websockets RFC: stream: prefix required or not?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Websockets%20RFC%3A%20stream%3A%20prefix%20required%20or%20not%3F&In-Reply-To=%3CC271054E16F8474D9104E1146C767BF13A3244%40DEFTHW99EK1MSX.ww902.siemens.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="090073.html">
   <LINK REL="Next"  HREF="090075.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Websockets RFC: stream: prefix required or not?</H1>
    <B>Hund, Johannes</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Websockets%20RFC%3A%20stream%3A%20prefix%20required%20or%20not%3F&In-Reply-To=%3CC271054E16F8474D9104E1146C767BF13A3244%40DEFTHW99EK1MSX.ww902.siemens.net%3E"
       TITLE="[jdev] Websockets RFC: stream: prefix required or not?">johannes.hund at siemens.com
       </A><BR>
    <I>Tue Feb  3 15:10:12 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="090073.html">[jdev] Websockets RFC: stream: prefix required or not?
</A></li>
        <LI>Next message: <A HREF="090075.html">[jdev] Membership Application period Q2 2015
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#90074">[ date ]</a>
              <a href="thread.html#90074">[ thread ]</a>
              <a href="subject.html#90074">[ subject ]</a>
              <a href="author.html#90074">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Should not, I agree. But evidently, it kinda does. &#9786;

I do think people were confused by the prefixed example not being equivalent to unprefixed one.
e.g. show both on feature or error as Michael suggested.

Elsewise, the unfortunately growing number of people who are not very familiar with XML  (ohh, JSON, what have you done to the world!) might have wrong take-away from the example.



I agree that the example might be confusing. But the text reads ok for me. Actually the whole section boils down to:
&quot;Just make sure to produce valid XML&quot;.

For me this is self-evident and actually shouldn't require further detailed explanation and examples.

Gesendet: Dienstag, 03. Februar 2015 um 13:51 Uhr
Von: &quot;Michael Weibel&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">michael.weibel+xmpp at gmail.com</A>&lt;mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">michael.weibel+xmpp at gmail.com</A>&gt;&gt;
An: &quot;Jabber/XMPP software development list&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&lt;mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;&gt;
Betreff: Re: [jdev] Websockets RFC: stream: prefix required or not?
Because the example is confusing (IMHO)&lt;<A HREF="https://tools.ietf.org/html/rfc7395#section-3.3.3">https://tools.ietf.org/html/rfc7395#section-3.3.3</A>&gt;:


   Note that for stream features and errors, there is no parent context
   element providing the &quot;stream&quot; namespace prefix as in [RFC6120], and
   thus the stream prefix MUST be declared or use an unprefixed form:

   &lt;stream:features xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams">http://etherx.jabber.org/streams</A>&quot;&gt;
     &lt;bind xmlns=&quot;urn:ietf:params:xml:ns:xmpp-bind&quot;/&gt;
   &lt;/stream:features&gt;

   -- OR --

   &lt;error xmlns=&quot;<A HREF="http://etherx.jabber.org/streams">http://etherx.jabber.org/streams</A>&quot;&gt;
     &lt;host-unknown xmlns='urn:ietf:params:xml:ns:xmpp-streams'/&gt;
   &lt;/error&gt;

The text is could be better &quot;and thus the stream prefix MUST be declared or use an unprefixed form&quot; and also the example (using twice the features instead of once features &amp; once error). E.g. something like that:


   Note that for stream features and errors, there is no parent context
   element providing the &quot;stream&quot; namespace prefix as in [RFC6120], and
   thus the stream prefix MUST be declared or use an unprefixed form:

   &lt;stream:features xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams">http://etherx.jabber.org/streams</A>&quot;&gt;
     &lt;bind xmlns=&quot;urn:ietf:params:xml:ns:xmpp-bind&quot;/&gt;
   &lt;/stream:features&gt;

   -- OR --

   &lt;features xmlns=&quot;<A HREF="http://etherx.jabber.org/streams">http://etherx.jabber.org/streams</A>&quot;&gt;
     &lt;bind xmlns=&quot;urn:ietf:params:xml:ns:xmpp-bind&quot;/&gt;
   &lt;/features&gt;


Would help a lot already, I think.

2015-02-03 13:16 GMT+01:00 Florian Schmaus &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">flo at geekplace.eu</A>&gt;:
On 03.02.2015 12:53, Michael Weibel wrote:
&gt;<i> It looks as if you'd need to use the &quot;stream:&quot; prefix for &quot;features&quot; but
</I>&gt;<i> you shouldn't/mustn't use it for &quot;error&quot;.
</I>
What makes you think that you need to use a prefix (or String 'stream'
as prefix) when using features?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20150203/b68709fa/attachment-0001.html">https://www.jabber.org/jdev/attachments/20150203/b68709fa/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="090073.html">[jdev] Websockets RFC: stream: prefix required or not?
</A></li>
	<LI>Next message: <A HREF="090075.html">[jdev] Membership Application period Q2 2015
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#90074">[ date ]</a>
              <a href="thread.html#90074">[ thread ]</a>
              <a href="subject.html#90074">[ subject ]</a>
              <a href="author.html#90074">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Jabber server redirection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Jabber%20server%20redirection&In-Reply-To=3C7700E3.40205%40akuma.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011423.html">
   <LINK REL="Next"  HREF="011442.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Jabber server redirection</H1>
    <B>Dave Dykstra</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Jabber%20server%20redirection&In-Reply-To=3C7700E3.40205%40akuma.org"
       TITLE="[JDEV] Jabber server redirection">dwd at bell-labs.com
       </A><BR>
    <I>Mon Feb 25 15:29:16 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="011423.html">[JDEV] Jabber server redirection
</A></li>
        <LI>Next message: <A HREF="011442.html">[JDEV] Jabber server redirection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11441">[ date ]</a>
              <a href="thread.html#11441">[ thread ]</a>
              <a href="subject.html#11441">[ subject ]</a>
              <a href="author.html#11441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Feb 22, 2002 at 07:39:31PM -0700, David Waite wrote:
&gt;<i> Matthias Wimmer wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;Hi Dave!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;On Fri, Feb 22, 2002 at 03:33:49PM -0600, Dave Dykstra wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;&gt;It would be no problem to add that to gabber. The only thing is that SRV
</I>&gt;<i> &gt;&gt;&gt;records are only defined for s2s at the moment ... not for c2s.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;Ok, what would it take to define them?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;A sort of an agreement ... a standard for that.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;Also, that still doesn't completely solve the problem, as Thomas Parslow
</I>&gt;<i> &gt;&gt;pointed out; I think it would also take a couple more client changes.  The
</I>&gt;<i> &gt;&gt;c2s SRV record in the DNS could allow a client to automatically discover
</I>&gt;<i> &gt;&gt;its server name,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;No ... you don't discover the server name. That you have to know already
</I>&gt;<i> &gt;to make the SRV request. The SRV record only gives priority, host and
</I>&gt;<i> &gt;port for the connection.
</I>&gt;<i> &gt;E.g. if _jabber._tcp.company.com directs you to im.company.com the
</I>&gt;<i> &gt;server name is company.com ... only the host it runs on is
</I>&gt;<i> &gt;im.company.com.
</I>
Yes!  You're right.  The client should use company.com as the server
name.  The Microsoft client is doing the wrong thing by making the host
name visible.


&gt;<i> &gt;We just would have to define the &quot;prefix&quot;. Somethink like
</I>&gt;<i> &gt;&quot;_jabberc2s._tcp&quot;.
</I>&gt;<i> &gt;BTW: Why are the services prefixed by an underscore?
</I>&gt;<i> &gt;
</I>&gt;<i> see <A HREF="http://www.ietf.org/rfc/rfc2052.txt.">http://www.ietf.org/rfc/rfc2052.txt.</A>
</I>

Cool!  I googled &quot;SRV RR underscore&quot; and found that rfc2052 has been
superceded by rfc2782 which requires the underscore &quot;to prevent collisions
with DNS labels that occur in nature&quot;.


&gt;<i> Since we now have 
</I>&gt;<i> jabber-client and jabber-server defined by the IANA, it should be 
</I>&gt;<i> _jabber-client._tcp.example.com
</I>
What about SSL client connections on port 5223?  Should they be
_jabber-clients._tcp.example.com?


For implementation, I guess it would make sense to adapt the dnsrv code
from the open source jabber server in the clients.  It does look
complicated enough and common enough that it ought to become integrated
into a unix operating system library call; does anybody know of such a
thing in the works?  Turning to google again on &quot;rfc 2782 gnu&quot; I find
    <A HREF="http://ruli.sourceforge.net">http://ruli.sourceforge.net</A>
but it doesn't look to be quite ready to go.

- Dave Dykstra

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011423.html">[JDEV] Jabber server redirection
</A></li>
	<LI>Next message: <A HREF="011442.html">[JDEV] Jabber server redirection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11441">[ date ]</a>
              <a href="thread.html#11441">[ thread ]</a>
              <a href="subject.html#11441">[ subject ]</a>
              <a href="author.html#11441">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

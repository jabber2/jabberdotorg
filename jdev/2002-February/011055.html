<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> 1.4.2 - Test 2 (Was: Re: Re: [JDEV] reproducible crash)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=1.4.2%20-%20Test%202%20%28Was%3A%20Re%3A%20Re%3A%20%5BJDEV%5D%20reproducible%20crash%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011054.html">
   <LINK REL="Next"  HREF="011058.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>1.4.2 - Test 2 (Was: Re: Re: [JDEV] reproducible crash)</H1>
    <B>Michael F. March</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=1.4.2%20-%20Test%202%20%28Was%3A%20Re%3A%20Re%3A%20%5BJDEV%5D%20reproducible%20crash%29&In-Reply-To="
       TITLE="1.4.2 - Test 2 (Was: Re: Re: [JDEV] reproducible crash)">march at indirect.com
       </A><BR>
    <I>Mon Feb  4 11:58:34 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="011054.html">1.4.2 - Test 2 (Was: Re: Re: [JDEV] reproducible crash)
</A></li>
        <LI>Next message: <A HREF="011058.html">1.4.2 - Test 2 (Was: Re: Re: [JDEV] reproducible crash)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11055">[ date ]</a>
              <a href="thread.html#11055">[ thread ]</a>
              <a href="subject.html#11055">[ subject ]</a>
              <a href="author.html#11055">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Approximately how many concurrent users do you have logged on
when the load is that high?

&gt;<i> Does CVS also include fixes for jabberd eating CPU like a hog?
</I>&gt;<i>
</I>&gt;<i> I've been running 1.4.2-test2 without any transports and after less than
</I>48hrs this is my top output;
&gt;<i>
</I>&gt;<i>  17:28:31 up 103 days, 21:04,  7 users,  load average: 0.99, 1.18, 1.32
</I>&gt;<i> 245 processes: 237 sleeping, 2 running, 5 zombie, 1 stopped
</I>&gt;<i> CPU states:  37.3% user,   8.1% system,   0.0% nice,  54.6% idle
</I>&gt;<i> Mem:    647252K total,   643404K used,     3848K free,    17064K buffers
</I>&gt;<i> Swap:   996020K total,   449696K used,   546324K free,   124376K cached
</I>&gt;<i>
</I>&gt;<i>   PID USER     PRI  NI  SIZE  RSS SHARE STAT %CPU %MEM   TIME COMMAND
</I>&gt;<i> 31864 alsutton  14   0  1748 1748   620 S    26.3  0.2  46:58 jabberd
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> :(.
</I>&gt;<i>
</I>&gt;<i> Al.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Original Message from &quot;Thomas Muldowney&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">temas at box5.net</A>&gt; on Mon, 4 Feb
</I>2002 11:09:52 -0600 &lt;&lt;
&gt;<i>
</I>&gt;<i> Definately upgrade your server.  There have been a ton of changes in CVS
</I>&gt;<i> since that time.
</I>&gt;<i>
</I>&gt;<i> --temas
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">tom_waters at mac.com</A>
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> Sent: Saturday, February 02, 2002 9:43 PM
</I>&gt;<i> Subject: [JDEV] reproducible crash
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> My client wants to be able to create new user accounts after the user has
</I>&gt;<i> logged in...
</I>&gt;<i> I'm not sure if this is supposed to be allowed, but when I have the
</I>&gt;<i> following exchange with the server (build from CVS on 1/8/02)
</I>&gt;<i>
</I>&gt;<i> &lt;?xml version='1.0'?&gt;&lt;stream:stream
</I>&gt;<i> xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> id='3C5CAF04'
</I>&gt;<i> xmlns='jabber:client' from='myservername'&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;iq type=&quot;set&quot; id=&quot;1001&quot;&gt;&lt;query
</I>&gt;<i>
</I>xmlns=&quot;jabber:iq:auth&quot;&gt;&lt;username&gt;waters&lt;/username&gt;&lt;password&gt;jabber&lt;/password
&gt;<i> &gt;&lt;resource&gt;InstantPictures&lt;/resource&gt;&lt;/query&gt;&lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;iq type='result' id='1001'/&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;iq type=&quot;get&quot; id=&quot;1002&quot;&gt;&lt;query xmlns=&quot;jabber:iq:register&quot;/&gt;&lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i> I get a segfault with the following jabberd -D output
</I>&gt;<i>
</I>&gt;<i> Sat Feb 2 19:39:54 2002 mio.c:608 mio while loop, working
</I>&gt;<i> Sat Feb 2 19:39:54 2002 mio.c:746 MIO read from socket 10: &lt;iq type=&quot;get&quot;
</I>&gt;<i> id=&quot;1002&quot;&gt;&lt;query xmlns=&quot;jabber:iq:register&quot;/&gt;&lt;/iq&gt;
</I>&gt;<i> Sat Feb 2 19:39:54 2002 c2s [client.c:266] pthsock_client_read called
</I>with:
&gt;<i> m:1A21D0 flag:3 arg:1A22F0
</I>&gt;<i> Sat Feb 2 19:39:54 2002 deliver.c:460 DELIVER 4:myservername &lt;route
</I>&gt;<i> to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">waters at myservername</A>/1AAB90' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">10 at c2s</A>/1A21D0'&gt;&lt;iq type='get'
</I>&gt;<i> id='1002'&gt;&lt;query xmlns='jabber:iq:register'/&gt;&lt;/iq&gt;&lt;/route&gt;
</I>&gt;<i> Sat Feb 2 19:39:54 2002 deliver.c:664 delivering to instance 'sessions'
</I>&gt;<i> Sat Feb 2 19:39:54 2002 deliver.c:83 (17CB50)incoming packet &lt;route
</I>&gt;<i> to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">waters at myservername</A>/1AAB90' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">10 at c2s</A>/1A21D0'&gt;&lt;iq type='get'
</I>&gt;<i> id='1002'&gt;&lt;query xmlns='jabber:iq:register'/&gt;&lt;/iq&gt;&lt;/route&gt;
</I>&gt;<i> Sat Feb 2 19:39:54 2002 users.c:132 js_user(<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">waters at myservername</A>,205000)
</I>&gt;<i> Sat Feb 2 19:39:54 2002 mtq 1A5620 entering from pth
</I>&gt;<i> Sat Feb 2 19:39:54 2002 mtq 1A5620 queue call 1A87D0
</I>&gt;<i> Sat Feb 2 19:39:54 2002 sessions.c:235 THREAD:SESSION:FROM received a
</I>&gt;<i> packet!
</I>&gt;<i> Sat Feb 2 19:39:54 2002 modules.c:124 mapi_call 1
</I>&gt;<i> Sat Feb 2 19:39:54 2002 modules.c:147 MAPI 1AAE40
</I>&gt;<i> Sat Feb 2 19:39:54 2002 modules.c:147 MAPI 1AAE50
</I>&gt;<i> Sat Feb 2 19:39:54 2002 modules.c:147 MAPI 1AAE80
</I>&gt;<i> Sat Feb 2 19:39:54 2002 modules.c:147 MAPI 1AAE90
</I>&gt;<i> Sat Feb 2 19:39:54 2002 modules.c:147 MAPI 1AAEA0
</I>&gt;<i> Sat Feb 2 19:39:54 2002 mod_filter.c:791
</I>&gt;<i> packet out from mod_filter
</I>&gt;<i>
</I>&gt;<i> Sat Feb 2 19:39:54 2002 modules.c:147 MAPI 1AAEB0
</I>&gt;<i> Sat Feb 2 19:39:54 2002 modules.c:147 MAPI 1AAF90
</I>&gt;<i> Sat Feb 2 19:39:54 2002 modules.c:147 MAPI 1AAFA0
</I>&gt;<i> Sat Feb 2 19:39:54 2002 modules.c:147 MAPI 1AAFD0
</I>&gt;<i> Sat Feb 2 19:39:54 2002 modules.c:164 mapi_call returning unhandled
</I>&gt;<i> Sat Feb 2 19:39:54 2002 dnsrv.c:144 dnsrv: Read error on coprocess(1): 1
</I>&gt;<i> Operation not permitted
</I>&gt;<i> Sat Feb 2 19:39:54 2002 dnsrv.c:158 DNSRV CHILD: out of loop.. exiting
</I>&gt;<i> normal
</I>&gt;<i> Segmentation fault
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Al Sutton
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">al at alsutton.com</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011054.html">1.4.2 - Test 2 (Was: Re: Re: [JDEV] reproducible crash)
</A></li>
	<LI>Next message: <A HREF="011058.html">1.4.2 - Test 2 (Was: Re: Re: [JDEV] reproducible crash)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11055">[ date ]</a>
              <a href="thread.html#11055">[ thread ]</a>
              <a href="subject.html#11055">[ subject ]</a>
              <a href="author.html#11055">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

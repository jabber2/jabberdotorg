<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] roster out of sync w/ reality
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20roster%20out%20of%20sync%20w/%20reality&In-Reply-To=%3C3C632447.9000100%40akuma.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040387.html">
   <LINK REL="Next"  HREF="040373.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] roster out of sync w/ reality</H1>
    <B>David Waite</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20roster%20out%20of%20sync%20w/%20reality&In-Reply-To=%3C3C632447.9000100%40akuma.org%3E"
       TITLE="[JDEV] roster out of sync w/ reality">mass at akuma.org
       </A><BR>
    <I>Thu Feb  7 19:05:11 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="040387.html">[JDEV] roster out of sync w/ reality
</A></li>
        <LI>Next message: <A HREF="040373.html">[JDEV] S2S documentation ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40389">[ date ]</a>
              <a href="thread.html#40389">[ thread ]</a>
              <a href="subject.html#40389">[ subject ]</a>
              <a href="author.html#40389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I believe this is a TCP issue when there is no concept of keepalive 
going. The socket does not verify the remote connection is still up, and 
will happily sit there as long as there is no traffic present.
Also, there is a retry period of (I believe) a maximum of 11 minutes 
before the socket is identified as failed. Sometimes the network can be 
broken and reestablished minutes later, but the socket hasn't been broken.

-David Waite

Peter Saint-Andre wrote:

&gt;<i>I'm not sure which client multiplexer we're using right now on jabber.org
</I>&gt;<i>but I know that I've seen this problem with jpolld. It seems to actually
</I>&gt;<i>be a problem with freeing up file descriptors at the OS level but I don't
</I>&gt;<i>know enough to say more than that. :)
</I>&gt;<i>
</I>&gt;<i>Peter
</I>&gt;<i>
</I>&gt;<i>--
</I>&gt;<i>Peter Saint-Andre
</I>&gt;<i>email+jabber: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">stpeter at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i>On Wed, 6 Feb 2002, Pat Mahoney wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>(please cc: me, not subscribed)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>(using gabber 0.8.5 and jabber.org)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Numerous times my roster claims a contact is available when in fact he
</I>&gt;&gt;<i>is not.  It seems to happen when he (a dialup user) kills pppd without
</I>&gt;&gt;<i>explicitly logging out of jabber.  He can remain in this state of limbo
</I>&gt;&gt;<i>indefinitely (I've witnessed a 6 hour stretch).  It seems that he only
</I>&gt;&gt;<i>remains in limbo as long as no one attempts to contact him in any way
</I>&gt;&gt;<i>(either chatting or trying to extract client info, etc).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Even after someone (me) tries to chat with him while he is in limbo, it
</I>&gt;&gt;<i>takes a few (5, 10?  I'm not really sure, and it varies) minutes for
</I>&gt;&gt;<i>the roster to report him as offline.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I'm sorry I don't have a good reproducible case.  I consider this a bug
</I>&gt;&gt;<i>though, as it is extremely annoying.  For what it's worth, I never saw
</I>&gt;&gt;<i>this back when I used AIM, though I don't believe I ever had a buddy
</I>&gt;&gt;<i>who had no other buddies aside from me (as is the case with this
</I>&gt;&gt;<i>particluar jabber user).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>-- 
</I>&gt;&gt;<i>Pat Mahoney	&lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">patmahoney at gmx.net</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>jdev mailing list
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i><A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040387.html">[JDEV] roster out of sync w/ reality
</A></li>
	<LI>Next message: <A HREF="040373.html">[JDEV] S2S documentation ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40389">[ date ]</a>
              <a href="thread.html#40389">[ thread ]</a>
              <a href="subject.html#40389">[ subject ]</a>
              <a href="author.html#40389">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] jabber.py problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20jabber.py%20problems&In-Reply-To=%3C20020207161053.GA19968%40nic.bnet.pl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040371.html">
   <LINK REL="Next"  HREF="040370.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] jabber.py problems</H1>
    <B>Jacek Konieczny</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20jabber.py%20problems&In-Reply-To=%3C20020207161053.GA19968%40nic.bnet.pl%3E"
       TITLE="[JDEV] jabber.py problems">jajcus at bnet.pl
       </A><BR>
    <I>Thu Feb  7 10:10:53 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="040371.html">[JDEV] jabber.py problems
</A></li>
        <LI>Next message: <A HREF="040370.html">[JDEV] jabber.py problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40378">[ date ]</a>
              <a href="thread.html#40378">[ thread ]</a>
              <a href="subject.html#40378">[ subject ]</a>
              <a href="author.html#40378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Feb 07, 2002 at 01:15:45AM +0000, mallum wrote:
&gt;<i> Hmm, thanks for the work on the patch, I'll take a look at it later.
</I>&gt;<i> 
</I>&gt;<i> But Im a little dubious as apart from yuo saying it poor quality and
</I>&gt;<i> the fact that the dreaded &quot;ordinal not in range&quot; *may still* occur
</I>That's because I dind't check everything. I am not able to do it now.
But fix for any such error is just to user proper unicode() or
string.encode().

&gt;<i> I cant really see it as a proper fix. 
</I>The problem is I don't have time to hack it properly. But I would like 
to see jabber.py work as I think it should work. I will need it probably
in near future.

&gt;<i> Id really like to understand what the problem is with changing
</I>&gt;<i> site.encoding which seems to me the most logical and easiest way to
</I>&gt;<i> fix things 100% . 
</I>But &quot;ascii&quot; is the default system encoding in python. And the need to
change it to something else for some module or application doesn't seem
wise to me.
When I wrote one of my python programs I thought the only logical value
for site.encoding is the default locale encoding. And this was the
requirement for my program to work. Then someone convinced me, that this
is bad. And jabber.py problem is very similar to this.

1. What if some other application requires this set to &quot;uft-16&quot; or
&quot;iso-8859-2&quot;, or to locale charset (as my program did). If one module
may have some requirements on it, why other should not?

2. System encoding is the encoding used for various output, AFAIK also
for exceptions etc. When it is set to utf-8 some unprintable or even
control character may be sent to the terminal. It would be very bad.

3. XML content is Unicode. UTF-8 is just encoding for starage and
transfer. In applications it should be treated as Unicode, not ascii
string.

&gt;<i> It seems however you fix things in jabberpy the python expat bindings
</I>&gt;<i> will still barf unless you change site.encoding .
</I>

&gt;<i> Its probably best to discuss this further ( if you want ) on the
</I>&gt;<i> jabber.py list.
</I>OK, this one goes there too. And this is EOT here.

Greets,
        Jacek

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040371.html">[JDEV] jabber.py problems
</A></li>
	<LI>Next message: <A HREF="040370.html">[JDEV] jabber.py problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40378">[ date ]</a>
              <a href="thread.html#40378">[ thread ]</a>
              <a href="subject.html#40378">[ subject ]</a>
              <a href="author.html#40378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

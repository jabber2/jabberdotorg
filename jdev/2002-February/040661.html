<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Jabber server redirection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabber%20server%20redirection&In-Reply-To=%3C010F8CDED7A86646BDD42C2B94960311332920%40PATAN.ferengi.com.ar%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040659.html">
   <LINK REL="Next"  HREF="040662.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Jabber server redirection</H1>
    <B>Rodrigo Roman</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabber%20server%20redirection&In-Reply-To=%3C010F8CDED7A86646BDD42C2B94960311332920%40PATAN.ferengi.com.ar%3E"
       TITLE="[JDEV] Jabber server redirection">dedalo at ferengi.com.ar
       </A><BR>
    <I>Thu Feb 21 05:24:42 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="040659.html">[JDEV] xml and passwords
</A></li>
        <LI>Next message: <A HREF="040662.html">[JDEV] Jabber server redirection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40661">[ date ]</a>
              <a href="thread.html#40661">[ thread ]</a>
              <a href="subject.html#40661">[ subject ]</a>
              <a href="author.html#40661">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You have tos et up an mx record of company.com pointing to
jabber.su.company.com

-----Mensaje original-----
De: Thomas Parslow (PatRat) [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">tom at almostobsolete.net</A>] 
Enviado el: Mi&#233;rcoles, 20 de Febrero de 2002 12:10 p.m.
Para: Dave Dykstra
Asunto: Re: [JDEV] Jabber server redirection

&gt;<i> I would like to be able to set up jabber in my company so that people can
</I>&gt;<i> have a jabber ID of <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">id at company.com</A>, rather than <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">id at jabber.sub.company.com</A>
</I>&gt;<i> when we run a server on jabber.sub.company.com.  Is there a way to do
</I>that,
&gt;<i> or a plan to be able to do that at some point?  It's conceivable that I'd
</I>&gt;<i> be able to run a small redirection server on the machine called
</I>company.com,
&gt;<i> but it has to use very little resources because the primary purpose of
</I>that
&gt;<i> machine is web service.  In fact, I'm thinking I might want to set up
</I>&gt;<i> the redirection server to lookup up IDs in a database and redirect people
</I>&gt;<i> to different servers for load balancing.  Any suggestions?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> - Dave Dykstra
</I>
Hi,

How about using SRV record for the domain? The Jabber server should
recognize the SRV record (it's supported it since 1.2 afaik) and
connect to wherever it points to for S2S. You'd need to add something
like this to the DNS zone for company.com:

_jabber._tcp    IN SRV  30 30 5269 jabber.sub.company.com

The problem with this is getting the clients to connect to the correct
server, if you just set them to connect to &quot;jabber.sub.company.com&quot; then
they will send &quot;jabber.sub.company.com&quot; as the to attribute of the
opening &lt;stream:stream&gt; tag which makes the server look for
&quot;jabber.sub.company.com&quot; in the spool directory.

The only solution I can see to this is for clients to support
connecting to an address which is different from the server name. In
the client I am developing I allow the user to specify the name of the
server in the username field by entering it in the form:
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server.com.</A>

Does anyone have any other ideas on how to do this?

Thomas Parslow (PatRat) ICQ #:26359483
Rat Software
<A HREF="http://www.rat-software.com/">http://www.rat-software.com/</A>
Please leave quoted text in place when replying

_______________________________________________
jdev mailing list
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
<A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>

---
Incoming mail is certified Virus Free.
Checked by AVG anti-virus system (<A HREF="http://www.grisoft.com">http://www.grisoft.com</A>).
Version: 6.0.325 / Virus Database: 182 - Release Date: 19/02/2002
 

---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (<A HREF="http://www.grisoft.com">http://www.grisoft.com</A>).
Version: 6.0.325 / Virus Database: 182 - Release Date: 19/02/2002
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20020221/15c75ece/attachment-0001.htm">https://www.jabber.org/jdev/attachments/20020221/15c75ece/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040659.html">[JDEV] xml and passwords
</A></li>
	<LI>Next message: <A HREF="040662.html">[JDEV] Jabber server redirection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40661">[ date ]</a>
              <a href="thread.html#40661">[ thread ]</a>
              <a href="subject.html#40661">[ subject ]</a>
              <a href="author.html#40661">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

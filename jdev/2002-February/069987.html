<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Jabber server redirection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabber%20server%20redirection&In-Reply-To=%3C20020222213349.GB11092%40lucent.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069961.html">
   <LINK REL="Next"  HREF="069996.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Jabber server redirection</H1>
    <B>Dave Dykstra</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabber%20server%20redirection&In-Reply-To=%3C20020222213349.GB11092%40lucent.com%3E"
       TITLE="[JDEV] Jabber server redirection">dwd at bell-labs.com
       </A><BR>
    <I>Fri Feb 22 15:33:49 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="069961.html">[JDEV] Jabber server redirection
</A></li>
        <LI>Next message: <A HREF="069996.html">[JDEV] Jabber server redirection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69987">[ date ]</a>
              <a href="thread.html#69987">[ thread ]</a>
              <a href="subject.html#69987">[ subject ]</a>
              <a href="author.html#69987">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Feb 21, 2002 at 08:26:00PM +0100, Matthias Wimmer wrote:
&gt;<i> Hi Dave!
</I>&gt;<i> 
</I>&gt;<i> Dave Dykstra schrieb am 2002-02-21 12:49:02:
</I>&gt;<i> &gt; That sounds very promising.   Yesterday I happened to be looking at an
</I>&gt;<i> &gt; ethereal trace of the messages between the Microsoft Exchange Instant
</I>&gt;<i> &gt; Messenger server that's been set up in my company and one of its clients,
</I>&gt;<i> &gt; and I saw the client doing a DNS SRV query and thought jabber needed
</I>&gt;<i> &gt; something like that.  I had searched for something like that in the
</I>&gt;<i> &gt; gabber source code and in the jabberd directory in the jabber server
</I>&gt;<i> &gt; source code but didn't think to check other directories; I found it now
</I>&gt;<i> &gt; under dnsrv.
</I>&gt;<i> 
</I>&gt;<i> It would be no problem to add that to gabber. The only thing is that SRV
</I>&gt;<i> records are only defined for s2s at the moment ... not for c2s.
</I>
Ok, what would it take to define them?

Also, that still doesn't completely solve the problem, as Thomas Parslow
pointed out; I think it would also take a couple more client changes.  The
c2s SRV record in the DNS could allow a client to automatically discover
its server name, but there still needs to be a way to tell the client that
that server is an alias for company.com.  Exchange Instant Messenger
appears to have the same problem, because the way it is set up here an
nslookup on _rvp._tcp.company.com returns &quot;host = im.company.com&quot;, and the
client lists all the IDs as <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">id at im.company.com.</A>  It's a little easier to use
an ID other than <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">id at company.com</A> in the EIM/MSN client because if you just
refer to an id without any '@' it defaults to @im.company.com, but with
gabber as far as I can tell you always have to give a full server name.
Also, it looks like EIM goes through one more level of indirection for load
balancing because it contacts im.company.com briefly first and then does
everything else through another, local server; that redirection seems very
useful, although I wonder if something similar could be accomplished by
having _jabber._tcp.company.com return different answers depending on which
DNS server is queried (can a DNS server even do that?).

One thing that may help and wouldn't require a change in the client/server
protocol is to have gabber have an option on the &quot;Add Contact&quot; screen to
add a contact by email address rather than jabberID and have it look that
up in the Jabber Users' Directory.  There's already a way to look somebody
up in the JUD but you have to wade through 3 extra screens and it isn't
very intuitive.

- Dave Dykstra

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069961.html">[JDEV] Jabber server redirection
</A></li>
	<LI>Next message: <A HREF="069996.html">[JDEV] Jabber server redirection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69987">[ date ]</a>
              <a href="thread.html#69987">[ thread ]</a>
              <a href="subject.html#69987">[ subject ]</a>
              <a href="author.html#69987">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] iq:auth question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20iq%3Aauth%20question&In-Reply-To=DJEPINMCPGHKLIDLDHGICECKCEAA.zadk%40mynet.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011334.html">
   <LINK REL="Next"  HREF="011350.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] iq:auth question</H1>
    <B>Iain Shigeoka</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20iq%3Aauth%20question&In-Reply-To=DJEPINMCPGHKLIDLDHGICECKCEAA.zadk%40mynet.com"
       TITLE="[JDEV] iq:auth question">iainshigeoka at yahoo.com
       </A><BR>
    <I>Wed Feb 20 17:44:49 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="011334.html">[JDEV] iq:auth question
</A></li>
        <LI>Next message: <A HREF="011350.html">[JDEV] JSF meeting reminder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11362">[ date ]</a>
              <a href="thread.html#11362">[ thread ]</a>
              <a href="subject.html#11362">[ subject ]</a>
              <a href="author.html#11362">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2/20/02 6:05 AM, &quot;- zad -&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">zadk at mynet.com</A>&gt; wrote:

&gt;<i> Could someone tell me why we are sending username in iq:auth If we are
</I>&gt;<i> querying host as to what information is required ?
</I>&gt;<i> 
</I>&gt;<i> &lt;iq type=&quot;get&quot; id=&quot;i_auth_001&quot;&gt;
</I>&gt;<i> &lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
</I>&gt;<i>   &lt;username&gt;juser&lt;/username&gt;
</I>&gt;<i> &lt;/query&gt;
</I>&gt;<i> &lt;/iq&gt;
</I>
For zero-knowledge (0k) authentication the client must know what the current
sequence and token values are for the account in order to generate the
proper hash value.   In addition, the server may allow/require different
authentication protocols depending on the account you're using...  So:

&lt;iq type=&quot;get&quot; id=&quot;i_auth_001&quot;&gt;
  &lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
    &lt;username&gt;joe_user&lt;/username&gt;
  &lt;/query&gt;
&lt;/iq&gt;
&lt;iq type=&quot;result&quot; id=&quot;i_auth_001&quot;&gt;
  &lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
    &lt;username&gt;joe_user&lt;/username&gt;
    &lt;password/&gt;
    &lt;digest/&gt;
  &lt;/query&gt;
&lt;/iq&gt;
&lt;iq type=&quot;set&quot; id=&quot;i_auth_002&quot;&gt;
  &lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
    &lt;username&gt;joe_user&lt;/username&gt;
    &lt;password&gt;mypass&lt;/password&gt;
    &lt;resource&gt;mobile_phone&lt;/resource&gt;
  &lt;/query&gt;
&lt;/iq&gt;
&lt;iq type=&quot;result&quot; id=&quot;i_auth_002&quot;/&gt;

Joe_user may authenticate using plain (&lt;password&gt;) or digest (&lt;digest&gt;)
authentication.  However we're stricter with the administrator account.

&lt;iq type=&quot;get&quot; id=&quot;i_auth_001&quot;&gt;
  &lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
    &lt;username&gt;admin&lt;/username&gt;
  &lt;/query&gt;
&lt;/iq&gt;
&lt;iq type=&quot;result&quot; id=&quot;i_auth_001&quot;&gt;
  &lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;sequence&gt;69&lt;/sequence&gt;
    &lt;token&gt;24ab423c323d323ac&lt;/token&gt;
  &lt;/query&gt;
&lt;/iq&gt;
&lt;iq type=&quot;set&quot; id=&quot;i_auth_002&quot;&gt;
  &lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;hash&gt;03923ad323fa13231424d&lt;/hash&gt;
    &lt;resource&gt;solaris_pop&lt;/resource&gt;
  &lt;/query&gt;
&lt;/iq&gt;
&lt;iq type=&quot;result&quot; id=&quot;i_auth_002&quot;/&gt;

-iain


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at <A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011334.html">[JDEV] iq:auth question
</A></li>
	<LI>Next message: <A HREF="011350.html">[JDEV] JSF meeting reminder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11362">[ date ]</a>
              <a href="thread.html#11362">[ thread ]</a>
              <a href="subject.html#11362">[ subject ]</a>
              <a href="author.html#11362">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

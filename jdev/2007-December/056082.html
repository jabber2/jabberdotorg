<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] XEP-0100 and roster/legacy contact list sync
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20XEP-0100%20and%20roster/legacy%20contact%20list%20sync&In-Reply-To=%3Cda8319f20712010544ncb52814s6b9a05cfad32b689%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="056083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] XEP-0100 and roster/legacy contact list sync</H1>
    <B>Massimiliano Mirra</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20XEP-0100%20and%20roster/legacy%20contact%20list%20sync&In-Reply-To=%3Cda8319f20712010544ncb52814s6b9a05cfad32b689%40mail.gmail.com%3E"
       TITLE="[jdev] XEP-0100 and roster/legacy contact list sync">iolgzc102 at sneakemail.com
       </A><BR>
    <I>Sat Dec  1 07:44:08 CST 2007</I>
    <P><UL>
        
        <LI>Next message: <A HREF="056083.html">[jdev] XEP-0100 and roster/legacy contact list sync
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56082">[ date ]</a>
              <a href="thread.html#56082">[ thread ]</a>
              <a href="subject.html#56082">[ subject ]</a>
              <a href="author.html#56082">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, list!

I'm reading XEP-0100: Gateway Interaction and trying to understand the
options with regard to legacy contact list/roster synchronization from
the point of view of the gateway author.

If I understand correctly, the gateway may or may not push legacy
contacts to the user's client for them to be added to the user's
roster:

&quot;The gateway MAY initiate adding of the legacy contact list items to
the user's Jabber roster.&quot;

In practice, though, user may later add legacy contacts via &lt;presence
to={<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">contact at gateway</A>} type=&quot;subscribe&quot;/&gt;, and that will have the
side-effect of changing his roster.  So, to avoid having only part of
one's legacy contact list in the roster, it's best for the gateway to
always &quot;initiate adding of the legacy contact list items to the user's
Jabber roster&quot;.

(XEP-0100 also says that this shouldn't be done by 'sending a presence
stanza of type &quot;subscribed&quot; from legacy contact's JID' but by roster
item exchange.  From what I see, it's usually done by sending presence
stanzas of type &quot;subscribe&quot;, which again when accepted will cause
roster changes as a side effect.)

Now, assuming that user and gateway want to do their best to keep the
Jabber roster and legacy contact list in sync, what happens if user
adds a legacy contact through a legacy client (thus without the
gateway's knowledge)?  When user connects again via Jabber, is the
gateway supposed to notice that a new legacy contact is available, and
push it to the user (using one of above methods)?

Alternately, assuming neither the gateway nor the user are interested
in synchronization, is it acceptable for the gateway to send no
&lt;presence type=&quot;subscribe&quot; from={<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">contact at gateway</A>}/&gt; from legacy
contacts nor roster item exchange packets, but just ordinary &lt;presence
from={<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">contact at gateway</A>}/&gt;, and not affect user's roster at all?



-- 
Massimiliano Mirra
<A HREF="http://sameplace.cc">http://sameplace.cc</A>
<A HREF="http://hyperstruct.net">http://hyperstruct.net</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="056083.html">[jdev] XEP-0100 and roster/legacy contact list sync
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56082">[ date ]</a>
              <a href="thread.html#56082">[ thread ]</a>
              <a href="subject.html#56082">[ subject ]</a>
              <a href="author.html#56082">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

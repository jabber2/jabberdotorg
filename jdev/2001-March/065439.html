<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] xdb + new namespace
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20xdb%20%2B%20new%20namespace&In-Reply-To=%3C3AC263AF.4468E87C%40jabber.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065436.html">
   <LINK REL="Next"  HREF="065438.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] xdb + new namespace</H1>
    <B>David Waite</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20xdb%20%2B%20new%20namespace&In-Reply-To=%3C3AC263AF.4468E87C%40jabber.com%3E"
       TITLE="[JDEV] xdb + new namespace">dwaite at jabber.com
       </A><BR>
    <I>Wed Mar 28 16:20:31 CST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="065436.html">[JDEV] xdb + new namespace
</A></li>
        <LI>Next message: <A HREF="065438.html">[JDEV] Jabber DevZone News - AOL Blockage Continues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65439">[ date ]</a>
              <a href="thread.html#65439">[ thread ]</a>
              <a href="subject.html#65439">[ subject ]</a>
              <a href="author.html#65439">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Two things:
1. jabber:* namespaces are reserved for officially supported namespaces. JSM
actually is supposed to block any jabber:* namespaces which it does not understand
as of 1.4.

2. you will need to write a JSM component in order to transfer your iq request to
an xdb request, specifically if you have any security requirements (such as, other
users cannot access this data from you, or can only access it if they are on your
roster). If it is to have no access restrictions, you may want to look at the xml
storage draft @ <A HREF="http://docs.jabber.org/draft-proto/html/xml.html">http://docs.jabber.org/draft-proto/html/xml.html</A> , and the code (I
believe jsm/modules/mod_xml.c) to see if you could just tack into that.

-David Waite

Maciek Borowka wrote:

&gt;<i> Hello,
</I>&gt;<i> We have developped our version of xdb module that fits our particular needs.
</I>&gt;<i> We have our own jabber client also (OK, we are going to have ;+).
</I>&gt;<i>
</I>&gt;<i> Now, we would like to ask the jabber server for some informations and
</I>&gt;<i> we would like it to pass our query to our xdb module. I was thinking about
</I>&gt;<i> definition of the new namespace, but I don't know how to say the server
</I>&gt;<i> not to interpret it on its own, but to leave xdb take care about it. I suppose,
</I>&gt;<i> I will need to put something in jabber.xml file.
</I>&gt;<i>
</I>&gt;<i> So, what I would like is to be able to ask the server:
</I>&gt;<i> &lt;iq type='get'&gt;
</I>&gt;<i>   &lt;query xmlns=&quot;jabber:iq:maciek&quot;/&gt; //perhaps, I should call it: jabber:x:maciek
</I>&gt;<i> &lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i> And have the server that pass it to xdb and then pass its reply back to client:
</I>&gt;<i> &lt;iq type='result' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">me at foo.com</A>'&gt;
</I>&gt;<i>   &lt;item&gt;my item1&lt;/item&gt;
</I>&gt;<i>   &lt;item&gt;my item2&lt;/item&gt;
</I>&gt;<i> &lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i> How can I do it? Do I need actually to modify anything in jabber.xml or perhaps
</I>&gt;<i> the query will be passed to to xdb automaticaly?
</I>&gt;<i>
</I>&gt;<i> Maciek
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065436.html">[JDEV] xdb + new namespace
</A></li>
	<LI>Next message: <A HREF="065438.html">[JDEV] Jabber DevZone News - AOL Blockage Continues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65439">[ date ]</a>
              <a href="thread.html#65439">[ thread ]</a>
              <a href="subject.html#65439">[ subject ]</a>
              <a href="author.html#65439">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] kill -9 wipes out contents of user.xml file for those 	logged in at the time
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20kill%20-9%20wipes%20out%20contents%20of%20user.xml%20file%20for%20those%20%0A%09logged%20in%20at%20the%20time&In-Reply-To=%3C8D96EDA0AC04D31197B400A0C96C148002822DC5%40ossex1.webb.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035768.html">
   <LINK REL="Next"  HREF="035771.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] kill -9 wipes out contents of user.xml file for those 	logged in at the time</H1>
    <B>Jason Meyering</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20kill%20-9%20wipes%20out%20contents%20of%20user.xml%20file%20for%20those%20%0A%09logged%20in%20at%20the%20time&In-Reply-To=%3C8D96EDA0AC04D31197B400A0C96C148002822DC5%40ossex1.webb.net%3E"
       TITLE="[JDEV] kill -9 wipes out contents of user.xml file for those 	logged in at the time">JMeyering at jabber.com
       </A><BR>
    <I>Tue Mar  6 17:36:01 CST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="035768.html">[JDEV] Jabber Clients: sending a single message to more than 	one person
</A></li>
        <LI>Next message: <A HREF="035771.html">[JDEV] Jabber Clients: sending a single message to more than 	one  person
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35769">[ date ]</a>
              <a href="thread.html#35769">[ thread ]</a>
              <a href="subject.html#35769">[ subject ]</a>
              <a href="author.html#35769">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I was the one who posted the problem about xml files getting corrupted, but
I don't necessarily agree that a -9 is the cause.  I've seen the same user
file work at one point, be unable to log in later, and then find that it's
corrupted all within one life-cycle of a server (no kills issued during that
time period--also, FWIW, I usually issue SIGTERMs to the server instead of
SIGKILLs).    It seems like our server starts to choke on user files when
usage gets very high (like when a `netstat -an |grep 5222 |wc -l` shows
around 1000 connections).  I've noticed that when usage gets that high,
clients have trouble logging on, and that's when .xml files start getting
trashed.  I still don't know a lot of details about what's happening--it's
usually a very low percentage of users that get trashed, but it happens
nearly every time we get that high of traffic.  What kind of usage are you
seeing on your server?  Anyone else have any insights? 

J

-----Original Message-----
From: Tim Ferguson [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">tim.ferguson at cw.com</A>]
Sent: Tuesday, March 06, 2001 2:32 PM
To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
Subject: [JDEV] kill -9 wipes out contents of user.xml file for those logged
in at the time


Hello,
 
I remember seeing a post about someone seeing this problem, but I don't ever
remember seeing any resolution.  Our server was just killed by someone with
a kill -9, which blew away the contents of the users files of people that
were logged in at the time.  The files are still there but they are empty,
could this be an avoidable outcome of kill -9?
 
Tim Ferguson
 
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035768.html">[JDEV] Jabber Clients: sending a single message to more than 	one person
</A></li>
	<LI>Next message: <A HREF="035771.html">[JDEV] Jabber Clients: sending a single message to more than 	one  person
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35769">[ date ]</a>
              <a href="thread.html#35769">[ thread ]</a>
              <a href="subject.html#35769">[ subject ]</a>
              <a href="author.html#35769">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

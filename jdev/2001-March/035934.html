<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Problem with accentuation...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Problem%20with%20accentuation...&In-Reply-To=%3C20010315175947.F11000%40imag.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035926.html">
   <LINK REL="Next"  HREF="035928.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Problem with accentuation...</H1>
    <B>Daniel Veillard</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Problem%20with%20accentuation...&In-Reply-To=%3C20010315175947.F11000%40imag.fr%3E"
       TITLE="[JDEV] Problem with accentuation...">veillard at redhat.com
       </A><BR>
    <I>Thu Mar 15 16:59:47 CST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="035926.html">[JDEV] Problem with accentuation...
</A></li>
        <LI>Next message: <A HREF="035928.html">[JDEV] Announcing New Windows Jabber Client from IBM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35934">[ date ]</a>
              <a href="thread.html#35934">[ thread ]</a>
              <a href="subject.html#35934">[ subject ]</a>
              <a href="author.html#35934">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Mar 15, 2001 at 06:13:12PM +0000, Michael Wilson wrote:
&gt;<i> Daniel Veillard wrote:
</I>&gt;<i> &gt; On Thu, Mar 15, 2001 at 01:24:44PM +0000, Michael Wilson wrote:
</I>&gt;<i> &gt;&gt; I still don't know why Jabber insists on unescaping all character
</I>&gt;<i> &gt;&gt; entities though.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Unless I misunderstood, there is a set of good reasons:
</I>&gt;<i> &gt;     - you don't want to have to load and use a DTD to check those
</I>&gt;<i> &gt;       entities (yes it's a major pain on top of SAX and would definitely
</I>&gt;<i> &gt;       be too costly on the servers !).
</I>&gt;<i> 
</I>&gt;<i> If entities aren't specified, why are they being parsed at all? Something
</I>&gt;<i> like &amp;blah; should just look like any other piece of text shouldn't it?
</I>
  No !  Because this is XML, and they fell under the production 
[68] EntityRef of the spec 
  <A HREF="http://www.w3.org/TR/REC-xml#NT-EntityRef">http://www.w3.org/TR/REC-xml#NT-EntityRef</A>
and not
[14] CharData
  <A HREF="http://www.w3.org/TR/REC-xml#NT-CharData">http://www.w3.org/TR/REC-xml#NT-CharData</A>

  Since this is XML, this is not like any other piece of text !
That entity could refernce a 200pages document, the parser just don't know !

&gt;<i> I definitely agree that there's no call for them at the program level,
</I>&gt;<i> but I see no reason why I shouldn't be able to send HTML snippets
</I>&gt;<i> containing entities in my messages without them mysteriously mutating.
</I>
  Because the parser see an entity reference, ask the value
for it, which can't be found (there is no DTD !) and the processing
goes on but it was definitely not character data which were found !
What the server does if there is an undefined character reference
is application dependant, seems in this case it simply drops it, the
simplest solution.

Daniel

-- 
Daniel Veillard      | Red Hat Network <A HREF="http://redhat.com/products/network/">http://redhat.com/products/network/</A>
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">veillard at redhat.com</A>  | libxml Gnome XML XSLT toolkit  <A HREF="http://xmlsoft.org/">http://xmlsoft.org/</A>
<A HREF="http://veillard.com/">http://veillard.com/</A> | Rpmfind RPM search engine <A HREF="http://rpmfind.net/">http://rpmfind.net/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035926.html">[JDEV] Problem with accentuation...
</A></li>
	<LI>Next message: <A HREF="035928.html">[JDEV] Announcing New Windows Jabber Client from IBM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35934">[ date ]</a>
              <a href="thread.html#35934">[ thread ]</a>
              <a href="subject.html#35934">[ subject ]</a>
              <a href="author.html#35934">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Follow-up: 1.4 BUG REPORT: 'ask' attribute missing in roster item
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Follow-up%3A%201.4%20BUG%20REPORT%3A%20%27ask%27%20attribute%20missing%20in%20roster%20item&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006565.html">
   <LINK REL="Next"  HREF="006568.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Follow-up: 1.4 BUG REPORT: 'ask' attribute missing in roster item</H1>
    <B>Robert Temple</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Follow-up%3A%201.4%20BUG%20REPORT%3A%20%27ask%27%20attribute%20missing%20in%20roster%20item&In-Reply-To="
       TITLE="[JDEV] Follow-up: 1.4 BUG REPORT: 'ask' attribute missing in roster item">robert.temple at dig.com
       </A><BR>
    <I>Sun Mar 11 20:47:54 CST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="006565.html">[JDEV] In case people are looking for richer (animated) content for messages
</A></li>
        <LI>Next message: <A HREF="006568.html">[JDEV] Follow-up: 1.4 BUG REPORT: 'ask' attribute missing in roster item
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6566">[ date ]</a>
              <a href="thread.html#6566">[ thread ]</a>
              <a href="subject.html#6566">[ subject ]</a>
              <a href="author.html#6566">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Last month I posted a report of a bug in 1.4 and never heard anything 
back.  I'm wondering if anyone on the server team read about this bug 
and fixed or plans to fix it.  I'll repost it below:

In the 1.2 server, I could count on the ask attribute of roster 
items being returned from the server.  But now in 1.4, the ask 
attribute only reliably comes back in the roster item when 
I send a presence subscription message to someone.

For example, say I have a item on my roster, &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at org</A>&quot;, and I
am currently in the ask=&quot;subscribe&quot; state to that user.

If I send a message to change groups around like this:
&lt;iq type=&quot;set&quot;&gt;
 &lt;query xmlns=&quot;jabber:iq:roster&quot;&gt;
  &lt;item jid=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at org</A>&quot;&gt;
    &lt;group&gt;FooGroup&lt;/group&gt;
  &lt;/item&gt;
 &lt;/query&gt;
&lt;/iq&gt;

In 1.2 I would get back something like:
&lt;iq type=&quot;set&quot;&gt;
 &lt;query xmlns=&quot;jabber:iq:roster&quot; subscription=&quot;none&quot; ask=&quot;subscribe&quot;&gt;
  &lt;item jid=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at org</A>&quot;&gt;
    &lt;group&gt;FooGroup&lt;/group&gt;
  &lt;/item&gt;
 &lt;/query&gt;
&lt;/iq&gt;

But now in 1.4, I get back something like:
&lt;iq type=&quot;set&quot;&gt;
 &lt;query xmlns=&quot;jabber:iq:roster&quot;&gt;
  &lt;item jid=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at org</A>&quot; subscription=&quot;none&quot;&gt;
    &lt;group&gt;FooGroup&lt;/group&gt;
  &lt;/item&gt;
 &lt;/query&gt;
&lt;/iq&gt;

I am counting on that &quot;ask&quot; attribute coming back consistently.
-Robert



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006565.html">[JDEV] In case people are looking for richer (animated) content for messages
</A></li>
	<LI>Next message: <A HREF="006568.html">[JDEV] Follow-up: 1.4 BUG REPORT: 'ask' attribute missing in roster item
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6566">[ date ]</a>
              <a href="thread.html#6566">[ thread ]</a>
              <a href="subject.html#6566">[ subject ]</a>
              <a href="author.html#6566">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

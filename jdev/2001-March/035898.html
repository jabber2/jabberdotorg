<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] adding xml tag to message
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20adding%20xml%20tag%20to%20message&In-Reply-To=%3C3AAFC82D.2CB0971A%40jabber.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035897.html">
   <LINK REL="Next"  HREF="035899.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] adding xml tag to message</H1>
    <B>David Waite</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20adding%20xml%20tag%20to%20message&In-Reply-To=%3C3AAFC82D.2CB0971A%40jabber.com%3E"
       TITLE="[JDEV] adding xml tag to message">dwaite at jabber.com
       </A><BR>
    <I>Wed Mar 14 13:36:13 CST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="035897.html">[JDEV] adding xml tag to message
</A></li>
        <LI>Next message: <A HREF="035899.html">[JDEV] Jabber server memory hungry?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35898">[ date ]</a>
              <a href="thread.html#35898">[ thread ]</a>
              <a href="subject.html#35898">[ subject ]</a>
              <a href="author.html#35898">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Answer - all currently servers do not perform validation against a DTD or
XML Schema. Only if there is an error in the protocol as defined (required
attributes or elements missing) would any of the servers currently out throw an
error.  So with the current servers,

&lt;message to='someone'&gt;
&lt;special&gt;hey, look at me!&lt;/special&gt;
&lt;/message&gt;

would pass right through.

The reason I stressed 'currently' three times is that these only allow the data
through because it is a router and there is an efficiency hit in trying to
enforce a schema. The Jabber protocol only states that the server 'may' let
additional data outside the protocol through, and that a client which receives
this 'should' ignore it. Exploiting a misfeature in current server
implementations means that your client in the future may only work on some
networks. You will also be creating a client which goes against the Jabber
protocol.

Use XML namespaces instead. This is a standard mechanism which all clients
support, and which Jabber already uses extensively. As long as the URI you
specify in the 'xmlns' attribute does not begin with &quot;jabber:&quot;, the server will
let it right through.

-David Waite

Keith Emnett wrote:

&gt;<i> If a client adds an extra xml tag to a message (such as a new tag in the
</I>&gt;<i> &lt;presence&gt; message), will the server forward the message (keeping the extra
</I>&gt;<i> tag) to subscribed clients, or does it validate the message against a schema
</I>&gt;<i> and return an error of some sort?
</I>&gt;<i>
</I>&gt;<i> Basically, is there a way for a client to encode additional information that
</I>&gt;<i> clients of the same type can recognize?
</I>&gt;<i>
</I>&gt;<i> Thanks - Keith
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035897.html">[JDEV] adding xml tag to message
</A></li>
	<LI>Next message: <A HREF="035899.html">[JDEV] Jabber server memory hungry?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35898">[ date ]</a>
              <a href="thread.html#35898">[ thread ]</a>
              <a href="subject.html#35898">[ subject ]</a>
              <a href="author.html#35898">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] roster managment and the server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20roster%20managment%20and%20the%20server&In-Reply-To=7243418.968917393502.JavaMail.RWTEMPLE%40gomailjtp01">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] roster managment and the server</H1>
    <B>Keith Minkler</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20roster%20managment%20and%20the%20server&In-Reply-To=7243418.968917393502.JavaMail.RWTEMPLE%40gomailjtp01"
       TITLE="[JDEV] roster managment and the server">keith at Flint.digix.dyndns.org.jeremie.com
       </A><BR>
    <I>Wed Sep 13 22:56:58 CDT 2000</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3953">[ date ]</a>
              <a href="thread.html#3953">[ thread ]</a>
              <a href="subject.html#3953">[ subject ]</a>
              <a href="author.html#3953">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert..

This is the correct behavior..

Because you did not request your roster, (with the iq get), you will not recieve any part of your roster, even the roster pushes (the iq sets from the server).

however, an iq MUST return *something*, which is why you get the result only.

if you don't request the server, you are telling it that you don't want to see any roster items or roster pushes.. so this is what it should be doing, in this case.

Keith Minkler


On Thu, Sep 14, 2000 at 12:43:13AM -0700, Robert Temple wrote:
&gt;<i> The server responds inconsistenly to roster management and 
</I>&gt;<i> presence subscription messages if a client has not ever 
</I>&gt;<i> sent an iq to get the whole roster.  This isn't documented 
</I>&gt;<i> anywhere and it cost me a lot of time trying to figure it 
</I>&gt;<i> out.
</I>&gt;<i> 
</I>&gt;<i> Try it out, telnet to a server, login, but don't send a 
</I>&gt;<i> &lt;iq type=&quot;get&quot;&gt;&lt;query xmlns=&quot;jabber:iq:roster&quot;...
</I>&gt;<i> 
</I>&gt;<i> Sending a:
</I>&gt;<i> &lt;iq type=&quot;set&quot;&gt;&lt;query xmlns=&quot;jabber:iq:roster&quot;&gt;&lt;item...
</I>&gt;<i> makes the server responds with only a
</I>&gt;<i> &lt;iq type=&quot;result&quot;...
</I>&gt;<i> 
</I>&gt;<i> But if a the whole roster was requested already, the server would have responded with a
</I>&gt;<i> &lt;iq type=&quot;set&quot;&gt;&lt;query xmlns=&quot;jabber:iq:roster&quot;&gt;
</I>&gt;<i> followed by a
</I>&gt;<i> &lt;iq type=&quot;result&quot;...
</I>&gt;<i> 
</I>&gt;<i> If this is by design it really ought to be documented somewhere.
</I>&gt;<i> 
</I>&gt;<i> -Robert
</I>&gt;<i> 
</I>&gt;<i> ___________________________________________________
</I>&gt;<i> GO.com Mail                                    
</I>&gt;<i> Get Your Free, Private E-mail at <A HREF="http://mail.go.com">http://mail.go.com</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3953">[ date ]</a>
              <a href="thread.html#3953">[ thread ]</a>
              <a href="subject.html#3953">[ subject ]</a>
              <a href="author.html#3953">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] im unified
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20im%20unified&In-Reply-To=%3C959C31D5DB12D311903C0090277B0C7E2CB3E9%40mercury.inhouse.broadjump.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="062402.html">
   <LINK REL="Next"  HREF="062407.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] im unified</H1>
    <B>Marty Saxton</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20im%20unified&In-Reply-To=%3C959C31D5DB12D311903C0090277B0C7E2CB3E9%40mercury.inhouse.broadjump.com%3E"
       TITLE="[JDEV] im unified">msaxton at broadjump.com
       </A><BR>
    <I>Fri Sep  1 17:47:31 CDT 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="062402.html">[JDEV] IMUnified - New press release
</A></li>
        <LI>Next message: <A HREF="062407.html">[JDEV] IETF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62404">[ date ]</a>
              <a href="thread.html#62404">[ thread ]</a>
              <a href="subject.html#62404">[ subject ]</a>
              <a href="author.html#62404">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The TCP / UDP debate raged on for quite a while on the IMPP mailing list.
The proponents of UDP in that debate were those interested in supporting
IMPP on WAP devices, but the conclusion completely applies to jabber.
Long-lived TCP connections for client&lt;-&gt;server won.  The two major arguments
that won it were 1) congestion control and 2) the needed error correction is
built in.  It was best summed up by John Strake:


&gt;<i> Congestion control is not a per-protocol requirement, it's a per-Internet
</I>&gt;<i> requirement.  If any large amount of traffic is not using congestion
</I>control,
&gt;<i> the entire Internet suffers.  Read RFC-896 for a description of what
</I>happens
&gt;<i> in a network with no congestion control.
</I>
[snip]

&gt;<i> Any IP-based reliable protocol which behaves as well as TCP [for error
</I>correction] will necessarily
&gt;<i> be as complex as TCP.
</I>







&gt;<i> -----Original Message-----
</I>&gt;<i> From: Thomas Charron [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">tcharron at ductape.net</A>]
</I>&gt;<i> Sent: Friday, September 01, 2000 9:58 AM
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>; Thomas Muldowney
</I>&gt;<i> Subject: Re: [JDEV] im unified
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Quoting Thomas Muldowney &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">temas at box5.net</A>&gt;:
</I>&gt;<i> &gt; This disbelief in TCP/IP just doesn't make sense.  I'm very 
</I>&gt;<i> aware of the
</I>&gt;<i> &gt; scaling issues surrounding TCP, but moving to UDP is almost 
</I>&gt;<i> a fundamental
</I>&gt;<i> &gt; flaw
</I>&gt;<i> &gt; for an IM system.  IM needs the ability to gurantee 
</I>&gt;<i> delivery, and keep it
</I>&gt;<i> &gt; real
</I>&gt;<i> &gt; time.  UDP can't intrinsically give this, and therefore, in 
</I>&gt;<i> my opinion, is
</I>&gt;<i> &gt; flawed.
</I>&gt;<i> 
</I>&gt;<i>   Technically, TCP doesn't provide this either.  It *LOOKS* 
</I>&gt;<i> and *FEELS* like it 
</I>&gt;<i> is, but it doesn't.  It merely serves as a buffer to put the 
</I>&gt;<i> data back in the 
</I>&gt;<i> right order, and rerequest packets when needed, and after a 
</I>&gt;<i> given timeout, 
</I>&gt;<i> closing the socket for one of several reasons.  This is an IP 
</I>&gt;<i> limitation, *NOT* 
</I>&gt;<i> a TCP vs UDP limitation.  ATM provides these capabilities.  
</I>&gt;<i> TCP looks and 
</I>&gt;<i> feels, but isn't.  That's the basic counter.  Basically, if 
</I>&gt;<i> you implement code 
</I>&gt;<i> the keep track of packets and delivery, or the TCP stack does 
</I>&gt;<i> it, the end 
</I>&gt;<i> result is the same.  The catch is, if you can manage to 
</I>&gt;<i> handle the UDP packets 
</I>&gt;<i> better (with faster speed, and less memory) then the TCP 
</I>&gt;<i> stack can.  In some 
</I>&gt;<i> cases, yes, you can, in others, well, let's not talk about 
</I>&gt;<i> them, they're 
</I>&gt;<i> scary.  ;-P  Doing so in an efficient manner also pretty much 
</I>&gt;<i> requires that you 
</I>&gt;<i> also have the capabilities of an SMP based machine.  No 
</I>&gt;<i> arguments that on a 
</I>&gt;<i> single processor machine, TCP is a better way to go, becouse 
</I>&gt;<i> you *WILL* run out 
</I>&gt;<i> of resources before TCP connections.  But on a Sun Enterprise 
</I>&gt;<i> 6500, the inverse 
</I>&gt;<i> is true.
</I>&gt;<i> 
</I>&gt;<i> &gt;  Wehn you start writing this ability on to UDP your just creating
</I>&gt;<i> &gt; a slower system, and then start to mess with that real time 
</I>&gt;<i> nature.  The
</I>&gt;<i> &gt; other
</I>&gt;<i> &gt; major item of interest is that we're not even limited by 
</I>&gt;<i> the socket count,
</I>&gt;<i> &gt; in general your going to find RAM and CPU issues before you 
</I>&gt;<i> find conn limits.
</I>&gt;<i> &gt; I'd be happy to discuss scaling further, as I'm working on 
</I>&gt;<i> scaling the
</I>&gt;<i> &gt; server to 10million users.
</I>&gt;<i> 
</I>&gt;<i>   See above.  To serve up 10 million users, you'd have to 
</I>&gt;<i> anticipate in the 
</I>&gt;<i> internet world that perhaps 5-10% of your users will be on 
</I>&gt;<i> concurrently.  This 
</I>&gt;<i> brings you between 500,000 - 1,000,000 simo connections.  On 
</I>&gt;<i> a TCP, non SMP 
</I>&gt;<i> based platform, this would require 42-84 farmed machines, 
</I>&gt;<i> without even taking 
</I>&gt;<i> into consideration reduncy, and having 12,000 users per machine.
</I>&gt;<i> 
</I>&gt;<i>   Now, with a UDP based implementation, you could easily 
</I>&gt;<i> scale this to 3 
</I>&gt;<i> Enterprise 6500's.  Base cost wise, more money will be spent 
</I>&gt;<i> on the E 6500's, 
</I>&gt;<i> hands down.  Based equiped, that's gonna run 300,000 - 
</I>&gt;<i> 400,000 $$, which could 
</I>&gt;<i> easily buy you 150 Intel Linux boxes.  The issue then becouse 
</I>&gt;<i> support costs, 
</I>&gt;<i> administration, repair, cool, electrical consuption, etc.  
</I>&gt;<i> Overall, the same 
</I>&gt;<i> cost is used for either solution.  The only issue is, 150 
</I>&gt;<i> machines takes up 
</I>&gt;<i> alot more space then 3 E6500's.
</I>&gt;<i> 
</I>&gt;<i>   Basically, both sides are right.  It just depends on the 
</I>&gt;<i> approach you take.  
</I>&gt;<i> Big boxes = UDP can handle more.  Many small boxes = TCP.
</I>&gt;<i> 
</I>&gt;<i> --- 
</I>&gt;<i> Thomas Charron
</I>&gt;<i> &lt;&lt; Wanted: One decent sig &gt;&gt;
</I>&gt;<i> &lt;&lt; Preferably litle used  &gt;&gt;
</I>&gt;<i> &lt;&lt; and stored in garage.  ?&gt;&gt;
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20000901/fd70a2b4/attachment-0002.htm">https://www.jabber.org/jdev/attachments/20000901/fd70a2b4/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="062402.html">[JDEV] IMUnified - New press release
</A></li>
	<LI>Next message: <A HREF="062407.html">[JDEV] IETF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62404">[ date ]</a>
              <a href="thread.html#62404">[ thread ]</a>
              <a href="subject.html#62404">[ subject ]</a>
              <a href="author.html#62404">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] core dump with 1.0.1 on redhat 6.2 -- back trace with 	new config steps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20core%20dump%20with%201.0.1%20on%20redhat%206.2%20--%20back%20trace%20with%20%0A%09new%20config%20steps&In-Reply-To=%3C3963516CA53AD411B89F00D0B748B11410BB78%40owa.hq.gluecode.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033158.html">
   <LINK REL="Next"  HREF="033160.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] core dump with 1.0.1 on redhat 6.2 -- back trace with 	new config steps</H1>
    <B>Cheng-Wei Cheng</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20core%20dump%20with%201.0.1%20on%20redhat%206.2%20--%20back%20trace%20with%20%0A%09new%20config%20steps&In-Reply-To=%3C3963516CA53AD411B89F00D0B748B11410BB78%40owa.hq.gluecode.com%3E"
       TITLE="[JDEV] core dump with 1.0.1 on redhat 6.2 -- back trace with 	new config steps">CCheng at gluecode.com
       </A><BR>
    <I>Wed Sep  6 15:53:17 CDT 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="033158.html">[JDEV] what pth configure parameter would you guys recommand
</A></li>
        <LI>Next message: <A HREF="033160.html">[JDEV] Oracle Proc with Jabber Server - core dump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33159">[ date ]</a>
              <a href="thread.html#33159">[ thread ]</a>
              <a href="subject.html#33159">[ subject ]</a>
              <a href="author.html#33159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>GNU gdb 19991004
Copyright 1998 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain
conditions.
Type &quot;show copying&quot; to see the conditions.
There is absolutely no warranty for GDB.  Type &quot;show warranty&quot; for details.
This GDB was configured as &quot;i386-redhat-linux&quot;...
(gdb) handle SIGUSR1 nostop noprint
Signal        Stop      Print   Pass to program Description
SIGUSR1       No        No      Yes             User defined signal 1
(gdb) run -D
Starting program: /usr/local/jabber/bin/jserver -D
Wed Sep  6 13:44:43 2000  debug/config.c:112 config query log/error
Wed Sep  6 13:44:43 2000  debug/log.c:70 log_init
Wed Sep  6 13:44:43 2000  warn/jserver Initializing Services
Wed Sep  6 13:44:43 2000  debug/unknown.c:39 THREAD:UNKNOWN starting
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 1
Wed Sep  6 13:44:43 2000  debug/offline.c:44 THREAD:OFFLINE starting
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 2
Wed Sep  6 13:44:43 2000  debug/server.c:40 THREAD:SERVER starting
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 3
Wed Sep  6 13:44:43 2000  debug/users.c:93 THREAD:USERS starting
Wed Sep  6 13:44:43 2000  debug/config.c:150 name 4 for (null)
Wed Sep  6 13:44:43 2000  debug/config.c:112 config query names/default
Wed Sep  6 13:44:43 2000  debug/config.c:112 config query names
Wed Sep  6 13:44:43 2000  debug/config.c:150 name 0 for
epoxy.hq.gluecode.com
Wed Sep  6 13:44:43 2000  debug/config.c:150 name 3 for
epoxy.hq.gluecode.com
Wed Sep  6 13:44:43 2000  debug/config.c:112 config query listen
Wed Sep  6 13:44:43 2000  debug/tlisten.c:32 tlisten_start: (null)
Wed Sep  6 13:44:43 2000  debug/services.c:176 listening on (null):5222
Wed Sep  6 13:44:43 2000  debug/svc_hell.c:193 svc_hell: init()

Wed Sep  6 13:44:43 2000  debug/svc_irc.c:260 svc_irc startup
Wed Sep  6 13:44:43 2000  debug/config.c:112 config query listen
Wed Sep  6 13:44:43 2000  error/jserver Failed to listen for service irc
Wed Sep  6 13:44:43 2000  debug/svc_telnet.c:243 svc_telnet startup
Wed Sep  6 13:44:43 2000  debug/config.c:112 config query listen
Wed Sep  6 13:44:43 2000  error/jserver Failed to listen for service telnet
Wed Sep  6 13:44:43 2000  debug/modules.c:83 mapi_register 3
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 3
Wed Sep  6 13:44:43 2000  debug/modules.c:83 mapi_register 3
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 3
Wed Sep  6 13:44:43 2000  debug/modules.c:83 mapi_register 3
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 3
Wed Sep  6 13:44:43 2000  debug/mod_filter.c:442 FILTER init
Wed Sep  6 13:44:43 2000  debug/modules.c:83 mapi_register 4
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 4
Wed Sep  6 13:44:43 2000  debug/modules.c:83 mapi_register 2
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 2
Wed Sep  6 13:44:43 2000  debug/modules.c:83 mapi_register 0
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 0
Wed Sep  6 13:44:43 2000  debug/svc_irc.c:260 svc_irc startup
Wed Sep  6 13:44:43 2000  debug/config.c:112 config query listen
Wed Sep  6 13:44:43 2000  error/jserver Failed to listen for service irc
Wed Sep  6 13:44:43 2000  debug/svc_telnet.c:243 svc_telnet startup
Wed Sep  6 13:44:43 2000  debug/config.c:112 config query listen
Wed Sep  6 13:44:43 2000  error/jserver Failed to listen for service telnet
Wed Sep  6 13:44:43 2000  debug/svc_client.c:293 svc_client: init()
Wed Sep  6 13:44:43 2000  debug/svc_hell.c:193 svc_hell: init()

Wed Sep  6 13:44:43 2000  debug/mod_dso.c:82 mod_dso
Wed Sep  6 13:44:43 2000  debug/config.c:112 config query dso
Wed Sep  6 13:44:43 2000  debug/mod_dso.c:43 mod_dso_load
/usr/local/jabber/lib/jabber/mod_time.so
Wed Sep  6 13:44:43 2000  debug/modules.c:83 mapi_register 3
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 3
Wed Sep  6 13:44:43 2000  debug/mod_dso.c:43 mod_dso_load
/usr/local/jabber/lib/jabber/mod_version.so
Wed Sep  6 13:44:43 2000  debug/modules.c:83 mapi_register 3
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 3
Wed Sep  6 13:44:43 2000  debug/mod_dso.c:43 mod_dso_load
/usr/local/jabber/lib/jabber/mod_echo.so
Wed Sep  6 13:44:43 2000  debug/modules.c:83 mapi_register 3
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 3
Wed Sep  6 13:44:43 2000  debug/main.c:100 Main loop waiting
Wed Sep  6 13:44:43 2000  debug/tlisten.c:87 tlisten_main: startup
Wed Sep  6 13:44:43 2000  debug/config.c:112 config query names/default
Wed Sep  6 13:44:43 2000  debug/svc_hell.c:57 releasing demon 0
Wed Sep  6 13:44:43 2000  debug/modules.c:43 mapi_master 2
Wed Sep  6 13:44:43 2000  debug/services.c:121 registration request
Wed Sep  6 13:44:43 2000  debug/modules.c:192 mapi_call 2
Wed Sep  6 13:44:43 2000  debug/sessions.c:202 session_create
Wed Sep  6 13:44:43 2000  debug/users.c:150 js_user(d0)
Wed Sep  6 13:44:43 2000  debug/users.c:162 js_user not current
Wed Sep  6 13:44:43 2000  debug/xdb.c:121 GET jabber:iq:auth

Program received signal SIGSEGV, Segmentation fault.
0x804d2dc in js_session_new (owner=0x8dab5f0, send=0x8053c40
&lt;svc_hell_onSend&gt;, arg=0x0) at sessions.c:236
236         s-&gt;next = s-&gt;u-&gt;sessions;
(gdb) bt
#0  0x804d2dc in js_session_new (owner=0x8dab5f0, send=0x8053c40
&lt;svc_hell_onSend&gt;, arg=0x0) at sessions.c:236
#1  0x8053ed9 in svc_hell_start (demon=0) at svc_hell.c:71
#2  0x8053f98 in svc_hell_main (arg=0x0) at svc_hell.c:99
#3  0x40063853 in pth_spawn_trampoline () from /usr/local/lib/libpth.so.13
#4  0xbffff798 in ?? ()
#5  0x8d74e3c in ?? ()
#6  0x9 in ?? ()
#7  0x40014440 in ?? ()

jabber(latest ver 1.0.1)
    NOTE: Installation in the order of the dependency

    install (libxode)
    - CC=&quot;gcc -O6 &quot; ./configure
    - make
    - make install

    install (libjabber)
    - CC=&quot;gcc -O6 &quot; ./configure \
      --with-libxode-includes=/usr/local/include \
      --with-libxode-libs=/usr/local/lib \
      --with-libxode
    - make
    - make install

    install (GNU-pth)
    - CC=&quot;gcc -O6 &quot; LIBS=-lposix ./configure \
    --enable-optimize \
    --enable-pthread \
    --enable-syscall-soft \
    - make
    - make test
    - make install

    install (GNU-adns)
    - CC=&quot;gcc -O6 &quot; ./configure --enable-dynamic=elf
    - make
    - make install

    install (libetherx)
    change ./src/log.c
      - ! unsigned int etherx_stack_default = 64*1024;
    - CC=&quot;gcc -O6 &quot;  ./configure \
      --with-libxode-includes=/usr/local/include \
      --with-libxode-libs=/usr/local/lib \
      --with-libxode \
    - make
    - make install

    install (jabber-transport)
    - CC=&quot;gcc -O6 -L/usr/local/lib -I/usr/local/include -L/usr/lib
-I/usr/local/include -I. -L. &quot; LIBS=-lposix ./configure \
    --mandir=/usr/man \
    --prefix=/usr/local/jabber \
    --with-libxode-includes=/usr/local/include \
    --with-libxode-libs=/usr/local/lib \
    --with-libxode \
    --with-jabber-includes=/usr/local/include \
    --with-jabber-libs=/usr/local/lib \
    --with-jabber \
    --with-etherx-includes=/usr/local/include \
    --with-etherx-libs=/usr/local/lib \
    --with-etherx \
    --with-svc-client \
    --with-xdb-file \
    --without-svc-hell \
    --without-svc-irc \
    --without-svc-telnet \
    --enable-dso-modules='echo log private vcard time version auth auth_sha1
agents register offline presence roster etherx' \
    make
    make install


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033158.html">[JDEV] what pth configure parameter would you guys recommand
</A></li>
	<LI>Next message: <A HREF="033160.html">[JDEV] Oracle Proc with Jabber Server - core dump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33159">[ date ]</a>
              <a href="thread.html#33159">[ thread ]</a>
              <a href="subject.html#33159">[ subject ]</a>
              <a href="author.html#33159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

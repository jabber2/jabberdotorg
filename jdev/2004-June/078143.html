<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] _c2s_client_sx_callback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20_c2s_client_sx_callback&In-Reply-To=%3C20040610115501.GA3466%40hermes.muc.charente.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078142.html">
   <LINK REL="Next"  HREF="078144.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] _c2s_client_sx_callback</H1>
    <B>Matthias Wimmer</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20_c2s_client_sx_callback&In-Reply-To=%3C20040610115501.GA3466%40hermes.muc.charente.de%3E"
       TITLE="[jdev] _c2s_client_sx_callback">m at tthias.net
       </A><BR>
    <I>Thu Jun 10 06:55:02 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="078142.html">[jdev] _c2s_client_sx_callback
</A></li>
        <LI>Next message: <A HREF="078144.html">[jdev] _c2s_client_sx_callback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78143">[ date ]</a>
              <a href="thread.html#78143">[ thread ]</a>
              <a href="subject.html#78143">[ subject ]</a>
              <a href="author.html#78143">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Remy!

Remy HAREL schrieb am 2004-06-10 12:20:45:
&gt;<i>   I'm working in c2s component. Now, I'm able to know the recipient of 
</I>&gt;<i> a packet now ( thanks to Mathias Wimmer ;) ) but sometimes, when the 
</I>&gt;<i> recipient is me, I'd like to know the full jabber id  which has sent it 
</I>&gt;<i> to me . So I use the same method for the two functions calls :
</I>&gt;<i> 
</I>&gt;<i>                attr1 = nad_find_attr(nad, 0, -1, &quot;from&quot;, NULL);
</I>&gt;<i>                attr = nad_find_attr(nad, 0, -1, &quot;to&quot;, NULL);
</I>&gt;<i> 
</I>&gt;<i> The second works fine, but the first one returns -1, so it failed. Why 
</I>&gt;<i> I can't do that please ?
</I>
Because you should not do this in c2s ... I already warned you some time
ago.

Jabber clients normally don't sent a from attribute (and if they do, the
to attribute is overwritten by the server anyway). The incoming stanzas
where you are looking for the from attribute just don't have such an
attribute.

(The attribute is added by the session manager (sm) ... they never get a
from attribute in c2s.)


Tot kijk
    Matthias
-- 
Fon: +49-(0)70 0770 07770       <A HREF="http://matthias.wimmer.name/">http://matthias.wimmer.name/</A>
HAM: DB1MW                      xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mawis at amessage.info</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20040610/2f199442/attachment-0002.pgp">https://www.jabber.org/jdev/attachments/20040610/2f199442/attachment-0002.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078142.html">[jdev] _c2s_client_sx_callback
</A></li>
	<LI>Next message: <A HREF="078144.html">[jdev] _c2s_client_sx_callback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78143">[ date ]</a>
              <a href="thread.html#78143">[ thread ]</a>
              <a href="subject.html#78143">[ subject ]</a>
              <a href="author.html#78143">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

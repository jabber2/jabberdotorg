<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] handling subscription...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20handling%20subscription...&In-Reply-To=%3C82777bea040628181653fe2b72%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078267.html">
   <LINK REL="Next"  HREF="078270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] handling subscription...</H1>
    <B>Joe Hildebrand</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20handling%20subscription...&In-Reply-To=%3C82777bea040628181653fe2b72%40mail.gmail.com%3E"
       TITLE="[jdev] handling subscription...">hildjj at gmail.com
       </A><BR>
    <I>Mon Jun 28 20:16:05 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="078267.html">[jdev] handling subscription...
</A></li>
        <LI>Next message: <A HREF="078270.html">[jdev] New Concept? (central roster database)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78268">[ date ]</a>
              <a href="thread.html#78268">[ thread ]</a>
              <a href="subject.html#78268">[ subject ]</a>
              <a href="author.html#78268">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Will subscriptions/unsubscriptions always come in the form of sub/unsub requests? Or is it also necessary to scan the roster to see what has changed there?
</I>
You'll always get subscription requests.  But you'll always also get a
roster push.  See
<A HREF="http://www.jabber.org/ietf/draft-ietf-xmpp-im-22.html#roster">http://www.jabber.org/ietf/draft-ietf-xmpp-im-22.html#roster</A> as well
as section 8.

&gt;<i> 
</I>&gt;<i> What does it mean to deny an unsub request? i.e. what if you dont reply with 'unsubscribed'?
</I>
See section 9 from the above doc.  If you don't reply with
unsubscribed, your server should just keep bugging you about the
unsubscription, I think.

&gt;<i> 
</I>&gt;<i> In my application I want to allow everyone to subscribe to me, and when they do I want to subscribe in turn.
</I>&gt;<i> And when they unsubscribe, I want to unsubscribe in turn. So Im doing something like this:
</I>&gt;<i> 
</I>&gt;<i> onrequest(){
</I>&gt;<i> 
</I>&gt;<i>     if ( subrequest )
</I>&gt;<i>         send(subscribed)
</I>&gt;<i>         send(subrequest)
</I>&gt;<i> 
</I>&gt;<i>     else if ( unsubrequest )
</I>&gt;<i>         send(unsubscribed)
</I>&gt;<i>         send(unsubrequest)
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> Is this ok? If two of my clients do this to each other, it wont setup a constant flood will it?
</I>
It breaks one of the things that people seem to really like about
jabber, namely that you have to give access before someone can see
your presence.  But other than that, it should work.

-- 
Joe Hildebrand

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078267.html">[jdev] handling subscription...
</A></li>
	<LI>Next message: <A HREF="078270.html">[jdev] New Concept? (central roster database)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78268">[ date ]</a>
              <a href="thread.html#78268">[ thread ]</a>
              <a href="subject.html#78268">[ subject ]</a>
              <a href="author.html#78268">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

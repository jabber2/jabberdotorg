<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Error%20in%20draft-ietf-xmpp-im-22.txt%20Section%207.4&In-Reply-To=%3Copr81gspi0qj7son%40smtp.chello.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078070.html">
   <LINK REL="Next"  HREF="078095.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4</H1>
    <B>Tijl Houtbeckers</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Error%20in%20draft-ietf-xmpp-im-22.txt%20Section%207.4&In-Reply-To=%3Copr81gspi0qj7son%40smtp.chello.nl%3E"
       TITLE="[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4">thoutbeckers at splendo.com
       </A><BR>
    <I>Thu Jun  3 17:01:27 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="078070.html">[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4
</A></li>
        <LI>Next message: <A HREF="078095.html">[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78072">[ date ]</a>
              <a href="thread.html#78072">[ thread ]</a>
              <a href="subject.html#78072">[ subject ]</a>
              <a href="author.html#78072">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 3 Jun 2004 23:25:03 +0200, Geir Ove Skj&#230;rvik &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">geiroves at online.no</A>&gt;  
wrote:

&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> Below is an excerpt from draft-ietf-xmpp-im-22.txt Section 7.4.
</I>&gt;<i>
</I>&gt;<i> (Seen from the Client Side:)
</I>&gt;<i> It states the following described in a scenario:
</I>&gt;<i>
</I>&gt;<i> a) User Adds Item to Roster
</I>&gt;<i> b) Server Sends Roster via IQ-Set (and provides an id=&quot;someid&quot;)
</I>&gt;<i> c) Server send IQ-Result
</I>&gt;<i>
</I>&gt;<i> NOW to the problem: IT states:
</I>&gt;<i>
</I>&gt;<i> d) All receicing Users should send IQ-Result with the ID from the IQ-Set
</I>&gt;<i>
</I>&gt;<i> Problem is: Neither Jabber 1.4.2 NOR Tipiq' Timp 1.1 sends ANY ID in the
</I>&gt;<i> IQ-Set.
</I>&gt;<i>
</I>&gt;<i> I have tried sending an IQ-Result back, but that only results in error
</I>&gt;<i> messages from the Server. Not sending ANY response back at all works fine
</I>&gt;<i> for both servers, and looks like the logical thing to do.
</I>
You're absolutly right that this behaviour is incorrect. The problems goes  
even deeper though, according to the XMPP spec you're not even allowed to  
send an &lt;IQ&gt; stanza without an ID (see XMPP-Core). So in your  
implementation you could assume for backwards compatibility reasons,  
whenever you get an &lt;IQ&gt; stanza with no id you do not have to reply to it  
(since it's really malformed), but it's best to still parse it.

Note however that the XMPP spec states that changes to roster are already  
made final, before receiving the IQ result stanzas from the clients or  
even sending out the IQ set stanzas. Wether or not the server receives the  
IQ results is only important for knowing what the roster looks like on the  
client side (or what it theoretically should look like anyway), I don't  
know of any server that maintains or uses this information for anything  
yet.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078070.html">[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4
</A></li>
	<LI>Next message: <A HREF="078095.html">[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78072">[ date ]</a>
              <a href="thread.html#78072">[ thread ]</a>
              <a href="subject.html#78072">[ subject ]</a>
              <a href="author.html#78072">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

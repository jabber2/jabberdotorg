<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Error%20in%20draft-ietf-xmpp-im-22.txt%20Section%207.4&In-Reply-To=AHEFLOJPHABBBDNGHLPJCEIKCKAA.geiroves%40online.no">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019497.html">
   <LINK REL="Next"  HREF="019498.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4</H1>
    <B>Peter Saint-Andre</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Error%20in%20draft-ietf-xmpp-im-22.txt%20Section%207.4&In-Reply-To=AHEFLOJPHABBBDNGHLPJCEIKCKAA.geiroves%40online.no"
       TITLE="[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4">stpeter at jabber.org
       </A><BR>
    <I>Fri Jun  4 12:35:39 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="019497.html">[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4
</A></li>
        <LI>Next message: <A HREF="019498.html">[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19520">[ date ]</a>
              <a href="thread.html#19520">[ thread ]</a>
              <a href="subject.html#19520">[ subject ]</a>
              <a href="author.html#19520">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>And just for the record, this is not an error in the specs. :-)

/psa

On Thu, Jun 03, 2004 at 11:25:03PM +0200, Geir Ove Skj?rvik wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> Below is an excerpt from draft-ietf-xmpp-im-22.txt Section 7.4.
</I>&gt;<i> 
</I>&gt;<i> (Seen from the Client Side:)
</I>&gt;<i> It states the following described in a scenario:
</I>&gt;<i> 
</I>&gt;<i> a) User Adds Item to Roster
</I>&gt;<i> b) Server Sends Roster via IQ-Set (and provides an id=&quot;someid&quot;)
</I>&gt;<i> c) Server send IQ-Result
</I>&gt;<i> 
</I>&gt;<i> NOW to the problem: IT states:
</I>&gt;<i> 
</I>&gt;<i> d) All receicing Users should send IQ-Result with the ID from the IQ-Set
</I>&gt;<i> 
</I>&gt;<i> Problem is: Neither Jabber 1.4.2 NOR Tipiq' Timp 1.1 sends ANY ID in the
</I>&gt;<i> IQ-Set.
</I>&gt;<i> 
</I>&gt;<i> I have tried sending an IQ-Result back, but that only results in error
</I>&gt;<i> messages from the Server. Not sending ANY response back at all works fine
</I>&gt;<i> for both servers, and looks like the logical thing to do.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Error message from server when sending IQ-Result as specified:
</I>&gt;<i> &lt;iq id=4 to=<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">gos at rexii</A>/daisy type=error from=rexii &gt;
</I>&gt;<i>   &lt;error code=404 &gt;Not Found&lt;/error&gt;&lt;/iq&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Excerpt from draft-ietf-xmpp-im-22.txt Section 7.4:
</I>&gt;<i> 
</I>&gt;<i> 7.4 Adding a Roster Item
</I>&gt;<i> 
</I>&gt;<i>    At any time, a user MAY add an item to his or her roster.
</I>&gt;<i> 
</I>&gt;<i>    Example: Client adds a new item:
</I>&gt;<i> 
</I>&gt;<i>    &lt;iq from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">juliet at example.com</A>/balcony' type='set' id='roster_2'&gt;
</I>&gt;<i>      &lt;query xmlns='jabber:iq:roster'&gt;
</I>&gt;<i>        &lt;item jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">nurse at example.com</A>'
</I>&gt;<i>              name='Nurse'&gt;
</I>&gt;<i>          &lt;group&gt;Servants&lt;/group&gt;
</I>&gt;<i>        &lt;/item&gt;
</I>&gt;<i>      &lt;/query&gt;
</I>&gt;<i>    &lt;/iq&gt;
</I>&gt;<i> 
</I>&gt;<i>    The server MUST update the roster information in persistent storage,
</I>&gt;<i>    and also push the change out to all of the user's available resources
</I>&gt;<i>    that have requested the roster.  This &quot;roster push&quot; consists of an IQ
</I>&gt;<i>    stanza of type &quot;set&quot; from the server to the client and enables all
</I>&gt;<i>    available resources to remain in sync with the server-based roster
</I>&gt;<i>    information.
</I>&gt;<i> 
</I>&gt;<i>    Example: Server (1) pushes the updated roster information to all
</I>&gt;<i>    available resources that have requested the roster and (2) replies
</I>&gt;<i>    with an IQ result to the sending resource:
</I>&gt;<i> 
</I>&gt;<i>    &lt;iq to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">juliet at example.com</A>/balcony'
</I>&gt;<i>        type='set'
</I>&gt;<i>        id='a78b4q6ha463'&gt;
</I>&gt;<i>      &lt;query xmlns='jabber:iq:roster'&gt;
</I>&gt;<i>        &lt;item jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">nurse at example.com</A>'
</I>&gt;<i>              name='Nurse'
</I>&gt;<i>              subscription='none'&gt;
</I>&gt;<i>          &lt;group&gt;Servants&lt;/group&gt;
</I>&gt;<i>        &lt;/item&gt;
</I>&gt;<i>      &lt;/query&gt;
</I>&gt;<i>    &lt;/iq&gt;
</I>&gt;<i> 
</I>&gt;<i>    &lt;iq to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">juliet at example.com</A>/chamber'
</I>&gt;<i>        type='set'
</I>&gt;<i>        id='a78b4q6ha464'&gt;
</I>&gt;<i>      &lt;query xmlns='jabber:iq:roster'&gt;
</I>&gt;<i>        &lt;item jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">nurse at example.com</A>'
</I>&gt;<i>              name='Nurse'
</I>&gt;<i>              subscription='none'&gt;
</I>&gt;<i>          &lt;group&gt;Servants&lt;/group&gt;
</I>&gt;<i>        &lt;/item&gt;
</I>&gt;<i>      &lt;/query&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Saint-Andre             Expires October 11, 2004               [Page 31]
</I>&gt;<i> 
</I>&gt;<i> Internet-Draft                  XMPP IM                       April 2004
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>    &lt;/iq&gt;
</I>&gt;<i> 
</I>&gt;<i>    &lt;iq to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">juliet at example.com</A>/balcony' type='result' id='roster_2'/&gt;
</I>&gt;<i> 
</I>&gt;<i>    As required by the semantics of the IQ stanza kind as defined in
</I>&gt;<i>    [XMPP-CORE], each resource that received the roster push MUST reply
</I>&gt;<i>    with an IQ stanza of type &quot;result&quot; (or &quot;error&quot;).
</I>&gt;<i> 
</I>&gt;<i>    Example: Resources reply with an IQ result to the server:
</I>&gt;<i> 
</I>&gt;<i>    &lt;iq from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">juliet at example.com</A>/balcony'
</I>&gt;<i>        to='example.com'
</I>&gt;<i>        type='result'
</I>&gt;<i>        id='a78b4q6ha463'/&gt;
</I>&gt;<i>    &lt;iq from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">juliet at example.com</A>/chamber'
</I>&gt;<i>        to='example.com'
</I>&gt;<i>        type='result'
</I>&gt;<i>        id='a78b4q6ha464'/&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> regards
</I>&gt;<i> Geir Ove Skjaervik
</I>&gt;<i> 
</I>&gt;<i> Norway
</I>&gt;<i> 
</I>&gt;<i> Phone: Int+907-48-869
</I>&gt;<i> Fax: Int+47-6988-5947
</I>&gt;<i> E-mail: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">objective.software at online.no</A>
</I>&gt;<i> WEB: <A HREF="http://objective.bitfikler.com">http://objective.bitfikler.com</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="https://jabberstudio.org/mailman/listinfo/jdev">https://jabberstudio.org/mailman/listinfo/jdev</A>
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019497.html">[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4
</A></li>
	<LI>Next message: <A HREF="019498.html">[jdev] Error in draft-ietf-xmpp-im-22.txt Section 7.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19520">[ date ]</a>
              <a href="thread.html#19520">[ thread ]</a>
              <a href="subject.html#19520">[ subject ]</a>
              <a href="author.html#19520">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

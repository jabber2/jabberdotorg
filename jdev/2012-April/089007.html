<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Minimising number of MUC rooms
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Minimising%20number%20of%20MUC%20rooms&In-Reply-To=%3C5998A034-9A45-44C6-8EEA-C0377A20696A%40jivatechnology.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089006.html">
   <LINK REL="Next"  HREF="089008.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Minimising number of MUC rooms</H1>
    <B>Theo Cushion</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Minimising%20number%20of%20MUC%20rooms&In-Reply-To=%3C5998A034-9A45-44C6-8EEA-C0377A20696A%40jivatechnology.com%3E"
       TITLE="[jdev] Minimising number of MUC rooms">theo at jivatechnology.com
       </A><BR>
    <I>Mon Apr 30 15:17:12 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="089006.html">[jdev]  Archive or save chat messages
</A></li>
        <LI>Next message: <A HREF="089008.html">[jdev] current state of &quot;invisibility&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89007">[ date ]</a>
              <a href="thread.html#89007">[ thread ]</a>
              <a href="subject.html#89007">[ subject ]</a>
              <a href="author.html#89007">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We use MUC rooms extensively within our site. They offer us a number of neat features that make them very useful. It gives us a central way to manage who talks to who, can accommodate groups of people chatting and gives us a neat way to deal with keeping a history of everything.

However we've started to see performance issues with using so many MUC rooms (we knew we would get stung by this eventually). Users who have had large quantities of chats need to log into a room for every conversation. We do this so that if a message is posted in one of these rooms, it gets pushed out to all of the recipients and we can then in realtime show &quot;missed messages&quot; (rooms they are not viewing, but are interested in). However, most rooms sit there totally unused.

Each use has a PEP node of rooms they are interested in, and when they log in to the site they get this list of rooms and join it.

The only solution I can think of is to have this PEP list updated so that only rooms which have more than one person in them are shown. The downside is I'm going to end up with a lot more logic hooked on for when people log in and out of the system.

How would you solve this?
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089006.html">[jdev]  Archive or save chat messages
</A></li>
	<LI>Next message: <A HREF="089008.html">[jdev] current state of &quot;invisibility&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89007">[ date ]</a>
              <a href="thread.html#89007">[ thread ]</a>
              <a href="subject.html#89007">[ subject ]</a>
              <a href="author.html#89007">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

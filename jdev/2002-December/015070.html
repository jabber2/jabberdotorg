<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Discovering node resources - (was RE: [JDEV] Component failing to push new roster information to client)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Discovering%20node%20resources%20-%20%28was%20RE%3A%20%5BJDEV%5D%20Component%20failing%20to%20push%20new%20roster%20information%20to%20client%29&In-Reply-To=000d01c298a9%24c08ce7b0%24ac01a8c0%40vegas">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="015071.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Discovering node resources - (was RE: [JDEV] Component failing to push new roster information to client)</H1>
    <B>Robert Norris</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Discovering%20node%20resources%20-%20%28was%20RE%3A%20%5BJDEV%5D%20Component%20failing%20to%20push%20new%20roster%20information%20to%20client%29&In-Reply-To=000d01c298a9%24c08ce7b0%24ac01a8c0%40vegas"
       TITLE="Discovering node resources - (was RE: [JDEV] Component failing to push new roster information to client)">rob at cataclysm.cx
       </A><BR>
    <I>Sun Dec  1 16:53:47 CST 2002</I>
    <P><UL>
        
        <LI>Next message: <A HREF="015071.html">[JDEV] presence tag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15070">[ date ]</a>
              <a href="thread.html#15070">[ thread ]</a>
              <a href="subject.html#15070">[ subject ]</a>
              <a href="author.html#15070">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I dug into the roster.c code from Jabber 1.4.2 and it appears to use
</I>&gt;<i> internal data structures (mapi-&gt;user-&gt;sessions) to enumerate through the
</I>&gt;<i> connected resources.
</I>&gt;<i> 
</I>&gt;<i> Is there a way for my out of process component to discover a nodes
</I>&gt;<i> connected resources? 
</I>
Not through any standard mechanism, as its internal session manager
data. The best you could do is to write a new JSM module that extends
the protocol to expose the information, and then have your component
issue requests for this information. You have an obvious race condition
in this case, though.

Also, take a look at mod_browse.c - I'm not completely familiar with it,
but it has some hooks for returning lists of users currently online,
which may be of some use.

Rob.

-- 
Robert Norris                                       GPG: 1024D/FC18E6C2
Email+Jabber: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rob at cataclysm.cx</A>                Web: <A HREF="http://cataclysm.cx/">http://cataclysm.cx/</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="https://www.jabber.org/jdev/attachments/20021202/2023259b/attachment.pgp">https://www.jabber.org/jdev/attachments/20021202/2023259b/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="015071.html">[JDEV] presence tag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15070">[ date ]</a>
              <a href="thread.html#15070">[ thread ]</a>
              <a href="subject.html#15070">[ subject ]</a>
              <a href="author.html#15070">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

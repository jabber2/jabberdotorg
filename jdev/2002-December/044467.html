<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] jabber:iq:search question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20jabber%3Aiq%3Asearch%20question&In-Reply-To=%3C9F698D3E-0C50-11D7-8980-00039359EF9C%40akuma.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044465.html">
   <LINK REL="Next"  HREF="044468.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] jabber:iq:search question</H1>
    <B>David Waite</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20jabber%3Aiq%3Asearch%20question&In-Reply-To=%3C9F698D3E-0C50-11D7-8980-00039359EF9C%40akuma.org%3E"
       TITLE="[JDEV] jabber:iq:search question">mass at akuma.org
       </A><BR>
    <I>Tue Dec 10 09:04:04 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="044465.html">[JDEV] jabber:iq:search question
</A></li>
        <LI>Next message: <A HREF="044468.html">[JDEV] jabber:iq:search question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44467">[ date ]</a>
              <a href="thread.html#44467">[ thread ]</a>
              <a href="subject.html#44467">[ subject ]</a>
              <a href="author.html#44467">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday, December 9, 2002, at 05:51  PM, Peter Saint-Andre wrote:

&gt;<i> Hmm, does this technique rely on sending multiple IQ results with the 
</I>&gt;<i> same
</I>&gt;<i> 'id' attribute? If so, that's in violation of the XMPP core doc, which
</I>&gt;<i> specifies that the value of an ID must be unique within a stream (this 
</I>&gt;<i> is
</I>&gt;<i> consistent with the XML spec).
</I>&gt;<i>
</I>This is not correct - there is no way that you can enforce ID 
uniqueness since the IDs are determined by multiple schemes by multiple 
endpoints. I cannot determine if two parties will send me a message 
stamped with the same 'id' attribute. I also cannot prevent two 
info-query requests against my client from different parties (which 
will require me to respond with the same 'id' attribute twice for 
correctness, once to each party).

  When it comes down to it, the ID is just a transactional cue for the 
benefit of clients, since all communication is asynchronous.

Or in other words, this requirement in draft-ietf-xmpp-core is 
incorrect; we do not meet it now and it is impossible to meet in either 
direction of the XML stream. Traffic originating from an endpoint 
SHOULD have unique id attributes, but there is nothing else in the 
system which will fail if they don't.

-David Waite


&gt;<i> Peter
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Peter Saint-Andre
</I>&gt;<i> Jabber Software Foundation
</I>&gt;<i> <A HREF="http://www.jabber.org/people/stpeter.php">http://www.jabber.org/people/stpeter.php</A>
</I>&gt;<i>
</I>&gt;<i> On Sun, 8 Dec 2002, Sebastiaan 'CBAS' Deckers wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Is there any implementation of a public service using this technique?
</I>&gt;&gt;<i> My client supports these sequential results however I could never test
</I>&gt;&gt;<i> this in the real world.
</I>&gt;&gt;<i> This is an interesting protocol design choice, but it raises security
</I>&gt;&gt;<i> concerns.  When all you have to rely on is the &quot;id&quot; attribute, how 
</I>&gt;&gt;<i> much
</I>&gt;&gt;<i> chance is there that someone can spoof results?  Or even by accident, 
</I>&gt;&gt;<i> as
</I>&gt;&gt;<i> most libraries don't generate random id's.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Sebastiaan
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Peter Saint-Andre wrote:
</I>&gt;&gt;&gt;<i> If you have implemented jabber:iq:search in your software AND you are
</I>&gt;&gt;&gt;<i> using the feature that enabled you so receive multiple IQs for large
</I>&gt;&gt;&gt;<i> result sets, I would appreciate it if you could let me know. When I
</I>&gt;&gt;&gt;<i> documented jabber:iq:search in JEP-0055, I left this out because I 
</I>&gt;&gt;&gt;<i> have
</I>&gt;&gt;&gt;<i> not been able to find implementations. But if there are 
</I>&gt;&gt;&gt;<i> implementations, I
</I>&gt;&gt;&gt;<i> may add it in.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Peter
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Peter Saint-Andre
</I>&gt;&gt;&gt;<i> Jabber Software Foundation
</I>&gt;&gt;&gt;<i> <A HREF="http://www.jabber.org/people/stpeter.php">http://www.jabber.org/people/stpeter.php</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> jdev mailing list
</I>&gt;&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044465.html">[JDEV] jabber:iq:search question
</A></li>
	<LI>Next message: <A HREF="044468.html">[JDEV] jabber:iq:search question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44467">[ date ]</a>
              <a href="thread.html#44467">[ thread ]</a>
              <a href="subject.html#44467">[ subject ]</a>
              <a href="author.html#44467">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

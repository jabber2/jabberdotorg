<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] XEP-0070 in PHP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20XEP-0070%20in%20PHP&In-Reply-To=%3C87odrw2l46.fsf%40freemail.hu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083996.html">
   <LINK REL="Next"  HREF="084004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] XEP-0070 in PHP</H1>
    <B>Magnus Henoch</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20XEP-0070%20in%20PHP&In-Reply-To=%3C87odrw2l46.fsf%40freemail.hu%3E"
       TITLE="[jdev] XEP-0070 in PHP">mange at freemail.hu
       </A><BR>
    <I>Sat Oct 28 16:20:25 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="083996.html">[jdev] MUC Across Unreliable S2S
</A></li>
        <LI>Next message: <A HREF="084004.html">[jdev] XEP-0070 in PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84003">[ date ]</a>
              <a href="thread.html#84003">[ thread ]</a>
              <a href="subject.html#84003">[ subject ]</a>
              <a href="author.html#84003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I got bored and tried to implement the server side of XEP-0070
(verifying HTTP requests via XMPP) in PHP.

Try it here: <A HREF="http://www.dtek.chalmers.se/~henoch/jabberauth/index.php4">http://www.dtek.chalmers.se/~henoch/jabberauth/index.php4</A>
Source:      <A HREF="http://www.dtek.chalmers.se/~henoch/jabberauth/index.txt">http://www.dtek.chalmers.se/~henoch/jabberauth/index.txt</A>

Enter your Jabber ID as username, and any random text as password.

It seemed to be overkill to have a separate component for this, so my
PHP script acts as a client (using class.jabber.php).  It sends a
&lt;message/&gt; to the given JID, as described in the XEP, with both
&lt;body/&gt; and &lt;confirm/&gt; elements.

In theory, acting as a client should mean that responses are
automagically sent to the correct web server thread, as the user would
reply to the same full JID which sent the original stanza.  In
practice, some clients (e.g. Gajim) reply to the bare JID.  As my
script doesn't send any presence, it won't get such messages...

Testing and comments are welcome.

-- 
Magnus
JID: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">legoscia at jabber.cd.chalmers.se</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083996.html">[jdev] MUC Across Unreliable S2S
</A></li>
	<LI>Next message: <A HREF="084004.html">[jdev] XEP-0070 in PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84003">[ date ]</a>
              <a href="thread.html#84003">[ thread ]</a>
              <a href="subject.html#84003">[ subject ]</a>
              <a href="author.html#84003">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

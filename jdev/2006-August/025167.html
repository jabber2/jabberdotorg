<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Jabber message Maximum length
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Jabber%20message%20Maximum%20length&In-Reply-To=403ea5790608220718w6d761f22s4952a2e5ef39dc81%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025166.html">
   <LINK REL="Next"  HREF="025171.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Jabber message Maximum length</H1>
    <B>Michal vorner Vaner</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Jabber%20message%20Maximum%20length&In-Reply-To=403ea5790608220718w6d761f22s4952a2e5ef39dc81%40mail.gmail.com"
       TITLE="[jdev] Jabber message Maximum length">michal.vaner at kdemail.net
       </A><BR>
    <I>Tue Aug 22 09:27:30 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="025166.html">[jdev] Jabber message Maximum length
</A></li>
        <LI>Next message: <A HREF="025171.html">[jdev] Jabber message Maximum length
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25167">[ date ]</a>
              <a href="thread.html#25167">[ thread ]</a>
              <a href="subject.html#25167">[ subject ]</a>
              <a href="author.html#25167">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Aug 22, 2006 at 05:18:11PM +0300, Joonas Govenius wrote:
&gt;<i> On 8/22/06, Michal vorner Vaner &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">michal.vaner at kdemail.net</A>&gt; wrote:
</I>&gt;<i> &gt;The protocol itself does not limit the size, but allows servers to have
</I>&gt;<i> &gt;their own limits for protection reasons. It however says the protocol is
</I>&gt;<i> &gt;optimized for small stanzas. Recommended size is &lt;4k for instant
</I>&gt;<i> &gt;messaging.
</I>&gt;<i> 
</I>&gt;<i> Has anyone actually tested this? Also, what's not &quot;instant messaging&quot;?
</I>&gt;<i> 
</I>&gt;<i> I had to resort to transfering images in a very similar way to IBB
</I>&gt;<i> (JEP-0047) in my whiteboard solution. I'm encoding the image in base64
</I>&gt;<i> and splitting the data over several messages if necessary. What
</I>&gt;<i> fragment size would you recommend in this case? I could imagine
</I>&gt;<i> sending a smallish, say 200KB, image in 4KB fragments causing much
</I>&gt;<i> more load on the server than sending it in 50KB fragments for example.
</I>&gt;<i> That's just my guess though. Does anyone know better?
</I>&gt;<i> 
</I>If you read the XMPP-CORE, you will see it is possible to use to many
other things like distributed computing, gaming, whatever. It is not the
jabber as is known by user and usually is not used by people directly
and in that case you use different server, probably your own, where you
have different policies for stanza sizes.

Your whiteboarding is IM, since it uses the same servers.

About sending the image, I would recommend using something like stream
initiation (jep-0095), since you can open outbound stream which is much
less data consuming, and use inbound only when necessary. Because, if
you send that 200kB image, you will probably exceed not only the message
size (which you can solve by splitting it), but as well will get a karma
limit and you will be blocked for a while before the rest will be sent
out. Transfer of such image will take several seconds on most servers
out there. For example, default setup of ejabberd allows something like
7kB/s for a single user.

-- 
Hello, this is an extension to the famous signature virus, called spymail.
Could you please copy me into your signature and send back what you were 
doing last night between 10pm and 3am?

Michal &quot;vorner&quot; Vaner
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="https://www.jabber.org/jdev/attachments/20060822/a7a9300a/attachment.pgp">https://www.jabber.org/jdev/attachments/20060822/a7a9300a/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025166.html">[jdev] Jabber message Maximum length
</A></li>
	<LI>Next message: <A HREF="025171.html">[jdev] Jabber message Maximum length
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25167">[ date ]</a>
              <a href="thread.html#25167">[ thread ]</a>
              <a href="subject.html#25167">[ subject ]</a>
              <a href="author.html#25167">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

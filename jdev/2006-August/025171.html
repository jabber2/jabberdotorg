<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Jabber message Maximum length
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Jabber%20message%20Maximum%20length&In-Reply-To=20060822142730.GA14811%40tarantula">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025167.html">
   <LINK REL="Next"  HREF="025175.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Jabber message Maximum length</H1>
    <B>Joonas Govenius</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Jabber%20message%20Maximum%20length&In-Reply-To=20060822142730.GA14811%40tarantula"
       TITLE="[jdev] Jabber message Maximum length">joonas.govenius at gmail.com
       </A><BR>
    <I>Tue Aug 22 16:28:44 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="025167.html">[jdev] Jabber message Maximum length
</A></li>
        <LI>Next message: <A HREF="025175.html">[jdev] Jabber message Maximum length
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25171">[ date ]</a>
              <a href="thread.html#25171">[ thread ]</a>
              <a href="subject.html#25171">[ subject ]</a>
              <a href="author.html#25171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> About sending the image, I would recommend using something like stream
</I>&gt;<i> initiation (jep-0095), since you can open outbound stream which is much
</I>&gt;<i> less data consuming, and use inbound only when necessary.
</I>
Stream Initiation provides a way to negotiatie streams &quot;between any
two entities&quot;. That leaves two options for a multiuser case:

1. The sender negotiates a stream with each of the other participants
in the sessions and sends the image to each seperately.

2. Serverside support: the sender negotiates a stream with the server
and the server negotiates a stream with each of the other
participants.

Option 1 doesn't seem feasible and option 2, well, requires serverside
support...

Additionally, a central idea in the whiteboard protocol I'm using is
that each participant has an equivalent copy of the whiteboard's
contents. That would break if the stream negotiation fails with one of
the participants.

&gt;<i> Because, if
</I>&gt;<i> you send that 200kB image, you will probably exceed not only the message
</I>&gt;<i> size (which you can solve by splitting it), but as well will get a karma
</I>&gt;<i> limit and you will be blocked for a while before the rest will be sent
</I>&gt;<i> out. Transfer of such image will take several seconds on most servers
</I>&gt;<i> out there. For example, default setup of ejabberd allows something like
</I>&gt;<i> 7kB/s for a single user.
</I>
That's too bad, but if the messages do eventually get delivered, it's
tolerable. I haven't figured out better way to do it without
serverside support.

Like Peter said, it would be interesting if server developers could
propose some recommended sizes.

Joonas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025167.html">[jdev] Jabber message Maximum length
</A></li>
	<LI>Next message: <A HREF="025175.html">[jdev] Jabber message Maximum length
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25171">[ date ]</a>
              <a href="thread.html#25171">[ thread ]</a>
              <a href="subject.html#25171">[ subject ]</a>
              <a href="author.html#25171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

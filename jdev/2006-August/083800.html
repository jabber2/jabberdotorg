<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Muc clustering
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Muc%20clustering&In-Reply-To=%3C5b698f5a0608290432i43b0f04bj3161988184748a6f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083803.html">
   <LINK REL="Next"  HREF="083802.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Muc clustering</H1>
    <B>Norman Rasmussen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Muc%20clustering&In-Reply-To=%3C5b698f5a0608290432i43b0f04bj3161988184748a6f%40mail.gmail.com%3E"
       TITLE="[jdev] Muc clustering">norman at rasmussen.co.za
       </A><BR>
    <I>Tue Aug 29 06:32:17 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="083803.html">[jdev] Announcement: jabberworld.org webchat
</A></li>
        <LI>Next message: <A HREF="083802.html">[jdev] Transport Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83800">[ date ]</a>
              <a href="thread.html#83800">[ thread ]</a>
              <a href="subject.html#83800">[ subject ]</a>
              <a href="author.html#83800">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Due to the recent palver release, I've been thinking more about how we
can do muc clustering.

Why: Well IRC's _ONLY_ existing selling point is that it can do
'clusters' of servers that offer a common set of channels, and
contacts.

What do we have atm:  The closest muc cluster opportunity I can think
of is probably ejabberd's muc component.  It doesn't support erlang's
clustering, but with some work it probably could.  This still doesn't
leave us with a 'standardised' solution.

---

If we wrote something from the ground up, and add the requirement that
no existing muc implementations need change - how do we do this:

Create a component that you give it a list of muc rooms to 'link'
together.  The component could join each room individually and mirror
all joins/parts/messages to all the other rooms as required.  This is
more intelligent than an IRC bot, because each user's presence in the
rooms can be mirrored, at a bandwidth cost.

I think the problem with this is that the amount of traffic the
component handles increases with the number of people in the rooms.
This can partially be 'fixed' by implementing JEP-0033 in each muc
server.

Alternatively we can add a stanza on the muc join that tells the
server: this jid is a mirroring jid, send a copy of all public chats
to it, and private messages for users that it's joined to the room.

---

This still doesn't leave us with a fully clustered solution like IRC
has.  Perhaps not having netsplits is a *good* thing!

Thoughts?

-- 
- Norman Rasmussen
 - Email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at rasmussen.co.za</A>
 - Home page: <A HREF="http://norman.rasmussen.co.za/">http://norman.rasmussen.co.za/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083803.html">[jdev] Announcement: jabberworld.org webchat
</A></li>
	<LI>Next message: <A HREF="083802.html">[jdev] Transport Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83800">[ date ]</a>
              <a href="thread.html#83800">[ thread ]</a>
              <a href="subject.html#83800">[ subject ]</a>
              <a href="author.html#83800">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

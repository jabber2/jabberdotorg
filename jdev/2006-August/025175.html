<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Jabber message Maximum length
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Jabber%20message%20Maximum%20length&In-Reply-To=403ea5790608221428l5d353eb1u97e2bae005b30fce%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025171.html">
   <LINK REL="Next"  HREF="025169.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Jabber message Maximum length</H1>
    <B>Michal vorner Vaner</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Jabber%20message%20Maximum%20length&In-Reply-To=403ea5790608221428l5d353eb1u97e2bae005b30fce%40mail.gmail.com"
       TITLE="[jdev] Jabber message Maximum length">michal.vaner at kdemail.net
       </A><BR>
    <I>Wed Aug 23 09:15:13 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="025171.html">[jdev] Jabber message Maximum length
</A></li>
        <LI>Next message: <A HREF="025169.html">[jdev] Jabber message Maximum length
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25175">[ date ]</a>
              <a href="thread.html#25175">[ thread ]</a>
              <a href="subject.html#25175">[ subject ]</a>
              <a href="author.html#25175">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Aug 23, 2006 at 12:28:44AM +0300, Joonas Govenius wrote:
&gt;<i> &gt;About sending the image, I would recommend using something like stream
</I>&gt;<i> &gt;initiation (jep-0095), since you can open outbound stream which is much
</I>&gt;<i> &gt;less data consuming, and use inbound only when necessary.
</I>&gt;<i> 
</I>&gt;<i> Stream Initiation provides a way to negotiatie streams &quot;between any
</I>&gt;<i> two entities&quot;. That leaves two options for a multiuser case:
</I>&gt;<i> 
</I>&gt;<i> 1. The sender negotiates a stream with each of the other participants
</I>&gt;<i> in the sessions and sends the image to each seperately.
</I>
And you do not send the messages with data to all of them? I know, there
is multicast component, but it is not much used in the wild. I did not
met a server that had said component.

&gt;<i> 2. Serverside support: the sender negotiates a stream with the server
</I>&gt;<i> and the server negotiates a stream with each of the other
</I>&gt;<i> participants.
</I>&gt;<i> 
</I>&gt;<i> Option 1 doesn't seem feasible and option 2, well, requires serverside
</I>&gt;<i> support...
</I>&gt;<i> 
</I>&gt;<i> Additionally, a central idea in the whiteboard protocol I'm using is
</I>&gt;<i> that each participant has an equivalent copy of the whiteboard's
</I>&gt;<i> contents. That would break if the stream negotiation fails with one of
</I>&gt;<i> the participants.
</I>&gt;<i> 
</I>&gt;<i> &gt;Because, if
</I>&gt;<i> &gt;you send that 200kB image, you will probably exceed not only the message
</I>&gt;<i> &gt;size (which you can solve by splitting it), but as well will get a karma
</I>&gt;<i> &gt;limit and you will be blocked for a while before the rest will be sent
</I>&gt;<i> &gt;out. Transfer of such image will take several seconds on most servers
</I>&gt;<i> &gt;out there. For example, default setup of ejabberd allows something like
</I>&gt;<i> &gt;7kB/s for a single user.
</I>&gt;<i> 
</I>&gt;<i> That's too bad, but if the messages do eventually get delivered, it's
</I>&gt;<i> tolerable. I haven't figured out better way to do it without
</I>&gt;<i> serverside support.
</I>
Hm, you could send something like &quot;Place a picture here, it will be this
large and I will send it out of bound&quot; using jabber and then transfer
the image itself somehow outside, like the SI, or, we have jingle
already, right? Google talk uses it to file transfers, so it could be
used somehow for these images as well (they said they will have some
example of tcp-like over jingle in next version of libjingle).

The client would draw something like an empty frame before the image is
available to show there is something, like a web browser.

&gt;<i> Like Peter said, it would be interesting if server developers could
</I>&gt;<i> propose some recommended sizes.
</I>&gt;<i> 
</I>&gt;<i> Joonas
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
One semi-random fortune: 

Einstein argued that there must be simplified explanations of nature, because
God is not capricious or arbitrary.  No such faith comforts the software
engineer.
                -- Fred Brooks

Michal &quot;vorner&quot; Vaner
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="https://www.jabber.org/jdev/attachments/20060823/2b5fa1f2/attachment.pgp">https://www.jabber.org/jdev/attachments/20060823/2b5fa1f2/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025171.html">[jdev] Jabber message Maximum length
</A></li>
	<LI>Next message: <A HREF="025169.html">[jdev] Jabber message Maximum length
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25175">[ date ]</a>
              <a href="thread.html#25175">[ thread ]</a>
              <a href="subject.html#25175">[ subject ]</a>
              <a href="author.html#25175">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

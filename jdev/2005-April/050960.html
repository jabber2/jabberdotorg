<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Idavoll 2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Idavoll%202&In-Reply-To=%3C20050413085329.GA90799%40ik.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050952.html">
   <LINK REL="Next"  HREF="050936.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Idavoll 2</H1>
    <B>Ralph Meijer</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Idavoll%202&In-Reply-To=%3C20050413085329.GA90799%40ik.nu%3E"
       TITLE="[jdev] Idavoll 2">jabber.org at ralphm.ik.nu
       </A><BR>
    <I>Wed Apr 13 03:53:29 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="050952.html">[jdev] Idavoll 2
</A></li>
        <LI>Next message: <A HREF="050936.html">[jdev] SMS transport - more precisions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50960">[ date ]</a>
              <a href="thread.html#50960">[ thread ]</a>
              <a href="subject.html#50960">[ subject ]</a>
              <a href="author.html#50960">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>NOTE!
=====

Cross posting to standards-jig. Let's continue the discussion there.

See below for my comments.

On Tue, Apr 12, 2005 at 11:25:24AM -0500, Peter Saint-Andre wrote:
&gt;<i> On Tue, Apr 12, 2005 at 09:26:56AM +0200, Ralph Meijer wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; While working on Idavoll last week, I discovered that when another resource of
</I>&gt;<i> &gt; the same JID that was subscribed requests the items, you get a not-authorized.
</I>&gt;<i> &gt; Maybe it would be better to check against the bare JID (without resource)?
</I>&gt;<i> 
</I>&gt;<i> So the subscriber is &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">node at host</A>/resource&gt;? If so, then it seems correct
</I>&gt;<i> for Idavoll to refuse access. If the subscriber is <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">node at host</A>, then it is
</I>&gt;<i> probably right to allow access from any resource. (It's always a bit
</I>&gt;<i> dangerous to make assumptions about what an entity is based on the JID,
</I>&gt;<i> e.g., <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">node at host</A> could be <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at conference.jabber.org</A>, I suppose.)
</I>&gt;<i> 
</I>&gt;<i> &gt; Being an owner does not automatically allow you to get items. That's probably
</I>&gt;<i> &gt; not desirable, but it isn't really clear from the spec. 
</I>&gt;<i> 
</I>&gt;<i> Well, let's clarify that, then! :-)
</I>
Ok. As I see it, a node's owner should be able to request items. It is silly
that he first has to subscribe (possibly confirming himself in the process,
when subscriptions have to be authenticated), to get items of a node he owns.

&gt;<i> &gt; Also, should publishers
</I>&gt;<i> &gt; that are not subscribed be allowed to get items?
</I>&gt;<i> 
</I>&gt;<i> Hmm. Is that kind of special-casing a problem in the code?
</I>
Well, yes, currently, my code only checks if the requestor is a subscriber.
If we do allow owners to request items (without subscription) I have to find
out the requestor's affiliation with the node anyway, so this is not an issue.

That reminds me: I should probably also deny outcasts here. What happens to
(existing) subscriptions of entities that are marked outcast? Do they still
receive notifications?

&gt;<i> It does seem reasonable that owners and publishers would be allowed to
</I>&gt;<i> get items, but of course they could simply subscribe, too.
</I>
I'm not sure about publishers, here. I can imagine nodes that have (multiple)
publishers and a clear distinction between them and the list of subscribers,
and it not being desirable for a publisher to view the items published by
others. I suppose we could honour the same checking as for removing items in
that you can only view your own published items.

If the subscription policy is open, anyone should be able to retrieve items, as
proposed elsewhere. See the pubsub#subscription_model node configuration
option.

-- 
Groetjes,

ralphm

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050952.html">[jdev] Idavoll 2
</A></li>
	<LI>Next message: <A HREF="050936.html">[jdev] SMS transport - more precisions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50960">[ date ]</a>
              <a href="thread.html#50960">[ thread ]</a>
              <a href="subject.html#50960">[ subject ]</a>
              <a href="author.html#50960">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

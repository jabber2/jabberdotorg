<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] JEP-0106 - Jid Escaping
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20JEP-0106%20-%20Jid%20Escaping&In-Reply-To=%3C20050428181553.GH26159%40jabber.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080391.html">
   <LINK REL="Next"  HREF="080394.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] JEP-0106 - Jid Escaping</H1>
    <B>Peter Saint-Andre</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20JEP-0106%20-%20Jid%20Escaping&In-Reply-To=%3C20050428181553.GH26159%40jabber.org%3E"
       TITLE="[jdev] JEP-0106 - Jid Escaping">stpeter at jabber.org
       </A><BR>
    <I>Thu Apr 28 13:15:53 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="080391.html">[jdev] JEP-0106 - Jid Escaping
</A></li>
        <LI>Next message: <A HREF="080394.html">[jdev] JEP-0106 - Jid Escaping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80392">[ date ]</a>
              <a href="thread.html#80392">[ thread ]</a>
              <a href="subject.html#80392">[ subject ]</a>
              <a href="author.html#80392">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Apr 28, 2005 at 02:55:47PM -0300, Hernan Tylim wrote:

&gt;<i> For the sametime transport that I am developing I thought on 
</I>&gt;<i> implementing JEP-0106 but I found it insufficient so I would like to ask 
</I>&gt;<i> the list if my understanding of the JEP was correct.
</I>&gt;<i> 
</I>&gt;<i> Is it correct that JEP-106 only escapes 10 characters? (&lt;space&gt;, &quot;, #, 
</I>&gt;<i> &amp;, ', /, :, &lt;, &gt; and @) If I understood correctly they are the only ten 
</I>&gt;<i> characters not allowed by NODEPREP but allowed by STRINGPREP. 
</I>
Nine characters -- # is allowed in an XMPP node identifier.

&gt;<i> But what 
</I>&gt;<i> if we need to escape a character that is not allowed by STRINGPREP ?
</I>
What character? The stringprep profiles used by XMPP are pretty liberal
in the characters they allow.

&gt;<i> Moreover, I noticed that my Jabber Server automatically lowercase the 
</I>&gt;<i> JIDs 
</I>
Yes, US-ASCII characters in JIDs are &quot;lowercased&quot; (actually case-folded,
in accordance with stringprep). 

&gt;<i> and given that Sametime usernames are case sensitive I needed to 
</I>&gt;<i> escape also all uppercase letters. 
</I>
Ick. 

&gt;<i> Does JEP-106 cover this case ? If not, why not ?
</I>
Not yet, probably because we didn't think about the need to handle
foreign addresses that are case-sensitive for US-ASCII characters.
Obviously the intent of JEP-0106 was to handle characters that are not
allowed by nodeprep, not to provide a mechanism for getting around the
nodeprep/stringprep rules themselves.

It seems that we may need to work on this some more. One possibility 
is to change MUST NOT to SHOULD NOT regarding which characters can be
transformed using JEP-0106, but I am not sure that's a good idea.
Further thought required....

Peter


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080391.html">[jdev] JEP-0106 - Jid Escaping
</A></li>
	<LI>Next message: <A HREF="080394.html">[jdev] JEP-0106 - Jid Escaping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80392">[ date ]</a>
              <a href="thread.html#80392">[ thread ]</a>
              <a href="subject.html#80392">[ subject ]</a>
              <a href="author.html#80392">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

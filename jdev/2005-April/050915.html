<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: Serverless (peer2peer) jabber sessions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20Serverless%20%28peer2peer%29%20jabber%20sessions&In-Reply-To=%3C3eb0429d050411075731d84aa%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050908.html">
   <LINK REL="Next"  HREF="050909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: Serverless (peer2peer) jabber sessions</H1>
    <B>David Waite</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20Serverless%20%28peer2peer%29%20jabber%20sessions&In-Reply-To=%3C3eb0429d050411075731d84aa%40mail.gmail.com%3E"
       TITLE="[jdev] Re: Serverless (peer2peer) jabber sessions">dwaite at gmail.com
       </A><BR>
    <I>Mon Apr 11 09:57:15 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="050908.html">[jdev] Re: Serverless (peer2peer) jabber sessions
</A></li>
        <LI>Next message: <A HREF="050909.html">[jdev] Re: jdev Digest, Vol 15, Issue 17
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50915">[ date ]</a>
              <a href="thread.html#50915">[ thread ]</a>
              <a href="subject.html#50915">[ subject ]</a>
              <a href="author.html#50915">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oh, I'm just pointing out the difficulty in using a server for true
zeroconf. I know how it works with iChat.

On Apr 11, 2005 1:59 AM, Gareth Simpson &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">g.simpson at zoo-tech.com</A>&gt; wrote:
&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: David Waite [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dwaite at gmail.com</A>]
</I>&gt;<i> &gt; Sent: 10 April 2005 20:39
</I>&gt;<i> &gt; To: Jabber software development list
</I>&gt;<i> &gt; Subject: Re: [jdev] Re: Serverless (peer2peer) jabber sessions
</I>&gt;<i> 
</I>&gt;<i> &gt; Yes, zero config in my book would require also:
</I>&gt;<i> &gt; 1. A server, if needed, is bundled with a chat client
</I>&gt;<i> &gt; 2. Chat clients can automatically negotiate setting up a
</I>&gt;<i> &gt; server/servers (including race conditions with many clients starting
</I>&gt;<i> &gt; at the same time)
</I>&gt;<i> &gt; 3 ....
</I>&gt;<i> 
</I>&gt;<i> [Snip]
</I>&gt;<i> 
</I>&gt;<i> I can't believe how much you guys are complicating this issue, when Apple
</I>&gt;<i> have it all figured out.
</I>&gt;<i> 
</I>&gt;<i> iChat's rendezvous mode works like this.
</I>&gt;<i> 
</I>&gt;<i> Presence data is all stored in Rendezvous records.
</I>&gt;<i> 
</I>&gt;<i> Every client publishes their avail/dnd/away status and their name in
</I>&gt;<i> Rendezvous.
</I>&gt;<i> 
</I>&gt;<i> Clients scan the network for these records and build up their roster from
</I>&gt;<i> that, a task which Rendezvous makes trivial.
</I>&gt;<i> 
</I>&gt;<i> Chatting is done peer to peer.
</I>&gt;<i> 
</I>&gt;<i> My client sits there listening on a port (the number of which is in my
</I>&gt;<i> rendezvous record). If someone wants to talk to me, they just connect to
</I>&gt;<i> that port and send the &lt;stream&gt; header just like they would to a  jabber
</I>&gt;<i> server.  My client accepts the connection and sends the header back.
</I>&gt;<i> 
</I>&gt;<i> Messages are then sent back and forth.  They are just standard &lt;message&gt;
</I>&gt;<i> packets.  They omit the &quot;from&quot; attribute, since you have a socket per person
</I>&gt;<i> and know where the message came from.
</I>&gt;<i> 
</I>&gt;<i> The conversation ends when one or other side closes the connection.
</I>&gt;<i> 
</I>&gt;<i> And that's it.
</I>&gt;<i> 
</I>&gt;<i> So yes, every client has to be a server, but because the roster stuff is
</I>&gt;<i> handled elsewhere, it's completely trivial - just messages back and forth.
</I>&gt;<i> Once the actual connection is established, neither side even cares which
</I>&gt;<i> side is the server and which is the client.
</I>&gt;<i> 
</I>&gt;<i> There's other stuff like group chat and video and file transfer, but at it's
</I>&gt;<i> most basic it's just
</I>&gt;<i> 
</I>&gt;<i>         Rendezvous for roster/presence
</I>&gt;<i>         Peer to Peer XMPP for messages
</I>&gt;<i> 
</I>&gt;<i> I've hacked Miranda's jabber library to support this stuff and it's taken a
</I>&gt;<i> few hours at most.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050908.html">[jdev] Re: Serverless (peer2peer) jabber sessions
</A></li>
	<LI>Next message: <A HREF="050909.html">[jdev] Re: jdev Digest, Vol 15, Issue 17
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50915">[ date ]</a>
              <a href="thread.html#50915">[ thread ]</a>
              <a href="subject.html#50915">[ subject ]</a>
              <a href="author.html#50915">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

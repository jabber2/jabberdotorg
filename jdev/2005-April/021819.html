<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] JEP-0106 - Jid Escaping
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20JEP-0106%20-%20Jid%20Escaping&In-Reply-To=20050428181553.GH26159%40jabber.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021817.html">
   <LINK REL="Next"  HREF="021823.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] JEP-0106 - Jid Escaping</H1>
    <B>Hernan Tylim</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20JEP-0106%20-%20Jid%20Escaping&In-Reply-To=20050428181553.GH26159%40jabber.org"
       TITLE="[jdev] JEP-0106 - Jid Escaping">htylim at novamens.com
       </A><BR>
    <I>Thu Apr 28 13:51:23 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="021817.html">[jdev] JEP-0106 - Jid Escaping
</A></li>
        <LI>Next message: <A HREF="021823.html">[jdev] JEP-0106 - Jid Escaping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21819">[ date ]</a>
              <a href="thread.html#21819">[ thread ]</a>
              <a href="subject.html#21819">[ subject ]</a>
              <a href="author.html#21819">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Peter Saint-Andre wrote:
[...]
&gt;&gt;<i>But what 
</I>&gt;&gt;<i>if we need to escape a character that is not allowed by STRINGPREP ?
</I>&gt;<i> 
</I>&gt;<i> What character? The stringprep profiles used by XMPP are pretty liberal
</I>&gt;<i> in the characters they allow.
</I>

Well, I don&#180;t really know. I didn&#180;t read carefully the STRINGPREP rfc so 
I just assumed that it might exist some character allowed on some IM 
network which might not be allowed by STRINGPREP.


[...]
&gt;&gt;<i>and given that Sametime usernames are case sensitive I needed to 
</I>&gt;&gt;<i>escape also all uppercase letters. 
</I>&gt;<i> 
</I>&gt;<i> Ick. 
</I>

And thats not all. For example my sametime server reports my username as 
  &quot;CN=Hern&#225;n Tylim/O=Novamens&quot;. Imagine now how it looks when escaped...

I implemented jabber:iq:gateway so I hope that an end user will never 
need to enter (or see) one of these jids.


&gt;&gt;<i>Does JEP-106 cover this case ? If not, why not ?
</I>&gt;<i> 
</I>&gt;<i> Not yet, probably because we didn't think about the need to handle
</I>&gt;<i> foreign addresses that are case-sensitive for US-ASCII characters.
</I>&gt;<i> Obviously the intent of JEP-0106 was to handle characters that are not
</I>&gt;<i> allowed by nodeprep, not to provide a mechanism for getting around the
</I>&gt;<i> nodeprep/stringprep rules themselves.
</I>&gt;<i> 
</I>&gt;<i> It seems that we may need to work on this some more. One possibility 
</I>&gt;<i> is to change MUST NOT to SHOULD NOT regarding which characters can be
</I>&gt;<i> transformed using JEP-0106, but I am not sure that's a good idea.
</I>&gt;<i> Further thought required....
</I>

I hope that this new scenario will serve then as food for thought. In 
the meanwhile I am using the URL escape mechanism but I would really 
prefer to use a recognized JEP.

Thanks for the feedback!


Regards,
Hern&#225;n


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021817.html">[jdev] JEP-0106 - Jid Escaping
</A></li>
	<LI>Next message: <A HREF="021823.html">[jdev] JEP-0106 - Jid Escaping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21819">[ date ]</a>
              <a href="thread.html#21819">[ thread ]</a>
              <a href="subject.html#21819">[ subject ]</a>
              <a href="author.html#21819">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

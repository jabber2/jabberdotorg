<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Detecting multiple resource connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Detecting%20multiple%20resource%20connections&In-Reply-To=200504261443.00486.justin-keyword-jabber.093179%40affinix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021801.html">
   <LINK REL="Next"  HREF="021803.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Detecting multiple resource connections</H1>
    <B>Peter Saint-Andre</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Detecting%20multiple%20resource%20connections&In-Reply-To=200504261443.00486.justin-keyword-jabber.093179%40affinix.com"
       TITLE="[jdev] Detecting multiple resource connections">stpeter at jabber.org
       </A><BR>
    <I>Tue Apr 26 16:51:56 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="021801.html">[jdev] Detecting multiple resource connections
</A></li>
        <LI>Next message: <A HREF="021803.html">[jdev] Detecting multiple resource connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21802">[ date ]</a>
              <a href="thread.html#21802">[ thread ]</a>
              <a href="subject.html#21802">[ subject ]</a>
              <a href="author.html#21802">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Apr 26, 2005 at 02:43:00PM -0700, Justin Karneges wrote:
&gt;<i> On Tuesday 26 April 2005 02:09 pm, Peter Saint-Andre wrote:
</I>&gt;<i> &gt; On Tue, Apr 26, 2005 at 05:35:54PM -0300, Carolina Ardohain wrote:
</I>&gt;<i> &gt; &gt; Is there a way to detect multiple resource connections? I want to run
</I>&gt;<i> &gt; &gt; a bot that connect to the server but it need to detect if connected
</I>&gt;<i> &gt; &gt; with same resource and try to connect again with other.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If you try to log in as a resource and that resource already is logged
</I>&gt;<i> &gt; in, most servers will boot the old resource and connect the new one.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It's rather hard to discover if a resource is being used if you're not
</I>&gt;<i> &gt; connected. You would need to connect (and thus provide a resource)
</I>&gt;<i> &gt; before you could query anything via XMPP. And at that point it is too
</I>&gt;<i> &gt; late, no?
</I>&gt;<i> 
</I>&gt;<i> Conceivably we could create a query-protocol for this, now that authentication 
</I>&gt;<i> and resource binding are separate steps.
</I>
Sure, once a server implementation supports resource binding, it 
could provide a way for an authenticated entity to find out what 
other resources already exist. We already have a way to do that
using service discovery -- just send a disco#items request to the
bare JID (which in this case will be the bare JID for your own 
account). Whether an implementation allows you to disco your own
bare JID before you bind a resource is an open question. Currently
RFC 3920 says:

   If, before completing the resource binding step, the client attempts
   to send an XML stanza other than an IQ stanza with a &lt;bind/&gt; child
   qualified by the 'urn:ietf:params:xml:ns:xmpp-bind' namespace, the
   server MUST NOT process the stanza and SHOULD return a
   &lt;not-authorized/&gt; stanza error to the client.

Possibly the meaning of &quot;send&quot; is ambiguous here -- if it means &quot;set
a 'to' address other than your own JID with the intent that it will
be delivered to some other entity&quot;, then sending an IQ to your own 
bare JID would be OK. Perhaps this is something to clarify when we
get around to rfc3920bis.

/psa


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021801.html">[jdev] Detecting multiple resource connections
</A></li>
	<LI>Next message: <A HREF="021803.html">[jdev] Detecting multiple resource connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21802">[ date ]</a>
              <a href="thread.html#21802">[ thread ]</a>
              <a href="subject.html#21802">[ subject ]</a>
              <a href="author.html#21802">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

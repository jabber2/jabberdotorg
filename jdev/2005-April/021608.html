<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] PubSub Subscription Question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20PubSub%20Subscription%20Question&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021693.html">
   <LINK REL="Next"  HREF="021610.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] PubSub Subscription Question</H1>
    <B>Chris Mullins</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20PubSub%20Subscription%20Question&In-Reply-To="
       TITLE="[jdev] PubSub Subscription Question">chris.mullins at coversant.net
       </A><BR>
    <I>Sat Apr  9 13:28:14 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="021693.html">[jdev] Gossip and gnomemeeting
</A></li>
        <LI>Next message: <A HREF="021610.html">[jdev] LLI: PubSub Component
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21608">[ date ]</a>
              <a href="thread.html#21608">[ thread ]</a>
              <a href="subject.html#21608">[ subject ]</a>
              <a href="author.html#21608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
JEP 60 (PubSub) lays out the ability for an entity to subscribe to a
Node (Section 8.1.5)

Node Affiliations however are defined for a particular JID regardless of
the JID's form (server, <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>, <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>/resource). 

Suppose that <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at jabber.org</A> has an affiliation of &quot;Outcast&quot; to Node 1.
The way the spec is written <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at jabber.org</A>/test would be allowed to
subscribe to the node. 

The converse case is also true - if <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at jabber.org</A>/test has an
affiliation of Outcast, <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at jabber.org</A> would be allowed to subscribe to
the node. 

Other than removing the &quot;a jid in the form of <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>/resoruce can
subscribe to a node&quot; feature (which I think would be a positive step
forward), there aren't too many clean soutions. 

We could define an affiliation heirarchy:
1 - An affiliation at the server level (server) is tested first, so that
affiliations can be defined based soely on domain. If such an
affiliation is found, no further affiliation checks are made. 

2 - An affiliation at the <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A> level is tested next, so that
affiliations can be defined at the user level. If such an affiliation is
found, no further affiliation checks are made.

3 - An affiliation at the <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>/resource level is tested last.

This would break existing implementations, so is obviously not a great
solution.  

How have the other implementations solved this problem? 

-- 
Chris Mullins

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021693.html">[jdev] Gossip and gnomemeeting
</A></li>
	<LI>Next message: <A HREF="021610.html">[jdev] LLI: PubSub Component
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21608">[ date ]</a>
              <a href="thread.html#21608">[ thread ]</a>
              <a href="subject.html#21608">[ subject ]</a>
              <a href="author.html#21608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

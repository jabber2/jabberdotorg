<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Net::Jabber and SSL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Net%3A%3AJabber%20and%20SSL&In-Reply-To=%3C0IEN00MJ2CQW70%40mailhost.uark.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050886.html">
   <LINK REL="Next"  HREF="050891.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Net::Jabber and SSL</H1>
    <B>Les Seigneur</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Net%3A%3AJabber%20and%20SSL&In-Reply-To=%3C0IEN00MJ2CQW70%40mailhost.uark.edu%3E"
       TITLE="[jdev] Net::Jabber and SSL">les at uark.edu
       </A><BR>
    <I>Fri Apr  8 16:23:23 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="050886.html">[jdev] Small windows incompatibility in jabberd2 resolver\dns.c
</A></li>
        <LI>Next message: <A HREF="050891.html">[jdev] Need Help (urgent)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50888">[ date ]</a>
              <a href="thread.html#50888">[ thread ]</a>
              <a href="subject.html#50888">[ subject ]</a>
              <a href="author.html#50888">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Is there a problem with Net::Jabber and SSL?  I am trying to use a script to
connect to my Jabber server using Net::Jabber but I cannot seem to connect
to port 5223 using SSL.  I will admit that I don't know much about Perl or
Net::Jabber so any help with this is appreciated.  See the connect line
below.  

$Connection-&gt;Connect(hostname=&gt;&quot;jabber2.uark.edu&quot;,port=&gt;5223,ssl=&gt;1);

I have the debug level set to 2 and the debug output looks like this:

[<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jabber at jabber2</A> scripts]$ ./connect.test.pl
XML::Stream: new: hostname = (jabber2.uark.edu)
XML::Stream: SetCallBacks: tag(node) func(CODE(0x8f61698))
XMPP::Conn: SetCallBacks: tag(message) func(CODE(0x8f67ae4))
XMPP::Conn: SetCallBacks: tag(presence) func(CODE(0x8f617f4))
XMPP::Conn: SetCallBacks: tag(iq) func(CODE(0x8f61794))
XMPP::Conn: SetDirectXPathCallBacks:
xpath(/[@xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;]) func(CODE(0x8f67df0))
XMPP::Conn: SetDirectXPathCallBacks:
xpath(/[@xmlns=&quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;]) func(CODE(0x8f69ed0))
XMPP::Conn: Connect: host(jabber2.uark.edu:5223) namespace(jabber:client)
XMPP::Conn: Connect: timeout(10)
XML::Stream: Connect: type(tcpip)
XML::Stream: Connect: Convert normal socket to SSL
XML::Stream: Connect: sock(IO::Socket::INET=GLOB(0x8f6a14c))
XML::Stream: LoadSSL: Load the IO::Socket::SSL module
step1  step2[<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jabber at jabber2</A> scripts]$

If I change the port to 5222 and set ssl=&gt;0 it connects just fine. 

$Connection-&gt;Connect(hostname=&gt;&quot;jabber2.uark.edu&quot;,port=&gt;5222,ssl=&gt;0);

As you can see the last line of the debug references the IO::Socket::SSL
module.  Is there a problem with the IO::Socket::SSL module?  At first I
suspected my SSL configuration on my jabber server but it fails the same way
on two other jabber servers that I have tried to connect to.  Still, I am
not ruling out my SSL setup on my server. Any help will be very much
appreciated.  This is about to kill my Jabber deployment for good.  


Les Seigneur



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050886.html">[jdev] Small windows incompatibility in jabberd2 resolver\dns.c
</A></li>
	<LI>Next message: <A HREF="050891.html">[jdev] Need Help (urgent)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50888">[ date ]</a>
              <a href="thread.html#50888">[ thread ]</a>
              <a href="subject.html#50888">[ subject ]</a>
              <a href="author.html#50888">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

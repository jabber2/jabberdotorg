<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Second-guessing dns for s2s
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Second-guessing%20dns%20for%20s2s&In-Reply-To=%3Cop.sxmp7xx1qj7son%40smtp.chello.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081536.html">
   <LINK REL="Next"  HREF="081538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Second-guessing dns for s2s</H1>
    <B>Tijl Houtbeckers</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Second-guessing%20dns%20for%20s2s&In-Reply-To=%3Cop.sxmp7xx1qj7son%40smtp.chello.nl%3E"
       TITLE="[jdev] Second-guessing dns for s2s">thoutbeckers at splendo.com
       </A><BR>
    <I>Sat Sep 24 18:00:59 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="081536.html">[jdev] Second-guessing dns for s2s
</A></li>
        <LI>Next message: <A HREF="081538.html">[jdev] Second-guessing dns for s2s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81537">[ date ]</a>
              <a href="thread.html#81537">[ thread ]</a>
              <a href="subject.html#81537">[ subject ]</a>
              <a href="author.html#81537">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 25 Sep 2005 00:33:11 +0200, Matt Tucker &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">matt at jivesoftware.com</A>&gt;  
wrote:

&gt;<i> Assume your server is down so some Jive Messenger instance tries to make
</I>&gt;<i> the connection to dyndns.org. If an evil XMPP server truly lives at that
</I>&gt;<i> address, how could you possibly trust that your dynamic DNS entry is
</I>&gt;<i> also valid? Can anyone come up with a real example of this DNS attack
</I>&gt;<i> being a greater vulnerability than standard dialback?
</I>
I did that in my first reply, the other problem I pointed out was in my  
last reply; Instead of having to steal the DNS record you can &quot;steal&quot; one  
that's hardly used or doesn't even exist. This gives attacks a lot more  
&quot;stealth&quot;.

&gt;<i> So, dialback itself. I think it provides good security for most users.
</I>&gt;<i> However, dialback + TLS doesn't seem to be implemented by any servers
</I>&gt;<i> yet. We're going to create an implementation for Jive Messenger because
</I>&gt;<i> we think it offers a great mix of security and ease of use. The most
</I>&gt;<i> common secure s2s mechanism we've found so far is dialback + SASL
</I>&gt;<i> external. For security, it's pretty much critical that the certificate
</I>&gt;<i> presented through SASL external be signed by a CA. We're just completing
</I>&gt;<i> our TLS + SASL external implementation now and will likely support all
</I>&gt;<i> the major CA's by default. Based on many threads on this mailing list
</I>&gt;<i> I'd also like to support certs signed by CACert.org by default. Anyway,
</I>&gt;<i> assuming that servers are using TLS + SASL external, even a DNS attack
</I>&gt;<i> wouldn't compromise the security of the Jive Messenger algorithm -- they
</I>&gt;<i> would also need to subvert the CA cert signing process.
</I>
While requiring a signed certificate is a step up, it is only a small step  
it. It are still unknown servers you are talking to, thus unknown  
certificates. Certificates can and have been stolen in the past, they are  
only very trustworthy if you *know* who you're talking to, and then,  
likely, you wouldn't even do dailback. You might do some caching of  
certificates, but what *if* the server you were talking to suddenly has a  
different certificate? Is that a good reason to reject the s2s connection?  
(what if their last cert expired? what if they changed CA's? etc.)

So unfortunatly, even with TLS this method still introduces a security  
flaw. Wether it's a minor one not, we can debate about it all day, but any  
security flaw like this is SERIOUS. No matter how bad you want a feature,  
compromising security is not the right answer.

If we're talking about &quot;dyndns&quot; type services anyway, why don't users get  
a bunch of accounts for the different entries? (in fact, most service  
providers would probably support a wildcard). If you don't own the domain  
you use for your server anyway, you might as well use something like that  
for conferencing or transports.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081536.html">[jdev] Second-guessing dns for s2s
</A></li>
	<LI>Next message: <A HREF="081538.html">[jdev] Second-guessing dns for s2s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81537">[ date ]</a>
              <a href="thread.html#81537">[ thread ]</a>
              <a href="subject.html#81537">[ subject ]</a>
              <a href="author.html#81537">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Second-guessing dns for s2s
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Second-guessing%20dns%20for%20s2s&In-Reply-To=%3CE1F190DAC247C64FAA46B38316FA151D02202FDF%40EX-101.mail.navisite.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081545.html">
   <LINK REL="Next"  HREF="081547.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Second-guessing dns for s2s</H1>
    <B>Matt Tucker</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Second-guessing%20dns%20for%20s2s&In-Reply-To=%3CE1F190DAC247C64FAA46B38316FA151D02202FDF%40EX-101.mail.navisite.com%3E"
       TITLE="[jdev] Second-guessing dns for s2s">matt at jivesoftware.com
       </A><BR>
    <I>Sat Sep 24 18:58:35 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="081545.html">[jdev] Single host,	multi service. -was [ANN] Google Talk engineering manager live chat
</A></li>
        <LI>Next message: <A HREF="081547.html">[jdev] Second-guessing dns for s2s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81544">[ date ]</a>
              <a href="thread.html#81544">[ thread ]</a>
              <a href="subject.html#81544">[ subject ]</a>
              <a href="author.html#81544">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tjil,

&gt;<i> I did that in my first reply, the other problem I pointed out 
</I>&gt;<i> was in my last reply; Instead of having to steal the DNS 
</I>&gt;<i> record you can &quot;steal&quot; one that's hardly used or doesn't even 
</I>&gt;<i> exist. This gives attacks a lot more &quot;stealth&quot;.
</I>
Are you playing devil's advocate or are you serious? If I had to guess,
I'd say that 99.9% of public XMPP servers are deployed at [domain].com
or [sub].[domain].com. They're not deployed at
[sub].[sub].[sub].[domain].com. This means that there are generally
never &quot;unused&quot; or &quot;hardly used&quot; domains up the tree from any particular
XMPP server that somebody could stealthily take over.

What I'd love to see is that people generally agree that this algorithm:

 * Is a miniscule security risk beyond standard dial-back. If you can't
trust your DNS tree, you can't trust dial-back.
 * Is a reasonable workaround given today's environment.
 * Is a hack that it would be great to get rid of if a better
alternative can be thought of.

If it's not the general community consensus that the above is true,
we'll disable the algorithm by default.

&gt;<i> While requiring a signed certificate is a step up, it is only 
</I>&gt;<i> a small step it. It are still unknown servers you are talking 
</I>&gt;<i> to, thus unknown certificates.
</I>
That's the point of a CA. If a CA signs a cert, that means you should
trust it. No security is perfect, but the CA system is the bedrock of
internet security. I don't particularly like how the CA system works,
but that's another issue.

&gt;<i> No matter how bad you want a feature, compromising security 
</I>&gt;<i> is not the right answer.
</I>
I disagree. Nothing is a black and white issue -- features always have
to be weighed against security. Many people won't go sky diving, but
most feel reasonably safe driving a car despite the fact that tens of
thousands die each year in car wrecks. For ultimate safety, s2s should
just be disabled. :) In our opinion, our DNS algorithm isn't a
significant risk beyond what you get with standard dial-back and is a
virtually non-existent risk if you do decide to require CA certs for s2s
connections.

If people generally agree with all of the above, then hopefully we can
move on to discussing alternatives to sub-domains further.

Regards,
Matt

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081545.html">[jdev] Single host,	multi service. -was [ANN] Google Talk engineering manager live chat
</A></li>
	<LI>Next message: <A HREF="081547.html">[jdev] Second-guessing dns for s2s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81544">[ date ]</a>
              <a href="thread.html#81544">[ thread ]</a>
              <a href="subject.html#81544">[ subject ]</a>
              <a href="author.html#81544">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

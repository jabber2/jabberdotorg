<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Trouble sending greek characters (and I guess other languages) in Jabber messages (with Perl's Net::Jabber)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Trouble%20sending%20greek%20characters%20%28and%20I%20guess%20other%0A%20languages%29%20in%20Jabber%20messages%20%28with%20Perl%27s%20Net%3A%3AJabber%29&In-Reply-To=%3C433BEFBA.1040007%40proionta.gr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="052309.html">
   <LINK REL="Next"  HREF="052317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Trouble sending greek characters (and I guess other languages) in Jabber messages (with Perl's Net::Jabber)</H1>
    <B>John Talbot</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Trouble%20sending%20greek%20characters%20%28and%20I%20guess%20other%0A%20languages%29%20in%20Jabber%20messages%20%28with%20Perl%27s%20Net%3A%3AJabber%29&In-Reply-To=%3C433BEFBA.1040007%40proionta.gr%3E"
       TITLE="[jdev] Trouble sending greek characters (and I guess other languages) in Jabber messages (with Perl's Net::Jabber)">jtalbot at proionta.gr
       </A><BR>
    <I>Thu Sep 29 08:44:26 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="052309.html">[jdev] MU-Conference returning &quot;Not Found&quot;
</A></li>
        <LI>Next message: <A HREF="052317.html">[jdev] Trouble sending greek characters (and I guess other	languages) in Jabber messages (with Perl's Net::Jabber)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52316">[ date ]</a>
              <a href="thread.html#52316">[ thread ]</a>
              <a href="subject.html#52316">[ subject ]</a>
              <a href="author.html#52316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>How is it that Jabber clients can send greek characters to other Jabber 
clients and they display nicely? They do, somehow.

But when I try to get my perl script to send a greek character to a 
Jabber server (and I believe I've tried everything everything under the 
sun - details below), all I get on my Jabber client is weird accented 
characters from the upper 8859-1 charset.

Here's what I tried, and you'll see the paradox:

Using a windows jabber client's raw XML entry (from an admin account), I 
wrote:

SENT: &lt;message to=&quot;192.168.1.100/announce/motd&quot;&gt;&lt;body&gt;Ya sou (but in 
greek letters)&lt;/body&gt;&lt;/message&gt;

This makes the client show an announcement in perfectly readable Greek 
characters.

However when I asked my Perl script to send the exact same command (with 
&quot;Ya sou&quot; written both in ISO-GREEK and in UTF-8, two cases), then only 
accented western european vowels appeared in the notification. In the 
ISO-GREEK case, I got the same number of western accented letters as the 
number of greek letters in Ya sou, in the UTF-8 case, I got double the 
western letters.

This seems rather strange... because if during Pandion's raw XML entry, 
the letters of &quot;Ya sou&quot; were sent neither in ISO-GREEK nor in UTF-8, 
then how WERE they sent?

[Pause]

I just read a bit of the core XMPP protocol, it says an 
xml:lang='language-code' attribute should be used right after connection...

I'm using the Net::Jabber library for my Perl scripts. Could it be that 
the library doesn't use xml:lang? (I have no way to check) Even if so, I 
tried including an xml:lang='el' (that's the symbol for greek) attribute 
in the &lt;message&gt; tag that Perl sends, and that didn't change a thing 
(even though according to the core XMPP protocol it should have worked, 
if that were the problem) neither with the UTF-8 version of the string 
nor the ISO-GREEK one.

What do you think might be going on?

I could send you a trimmed version of the script if you need.

Many thanks,
John

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="052309.html">[jdev] MU-Conference returning &quot;Not Found&quot;
</A></li>
	<LI>Next message: <A HREF="052317.html">[jdev] Trouble sending greek characters (and I guess other	languages) in Jabber messages (with Perl's Net::Jabber)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52316">[ date ]</a>
              <a href="thread.html#52316">[ thread ]</a>
              <a href="subject.html#52316">[ subject ]</a>
              <a href="author.html#52316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

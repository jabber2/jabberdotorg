<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Hosting issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Hosting%20issues&In-Reply-To=%3C200509151015.51289.snake%40penza-gsm.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081442.html">
   <LINK REL="Next"  HREF="081444.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Hosting issues</H1>
    <B>Alexey Nezhdanov</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Hosting%20issues&In-Reply-To=%3C200509151015.51289.snake%40penza-gsm.ru%3E"
       TITLE="[jdev] Hosting issues">snake at penza-gsm.ru
       </A><BR>
    <I>Thu Sep 15 01:15:51 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="081442.html">[jdev] Hosting issues
</A></li>
        <LI>Next message: <A HREF="081444.html">[jdev] Hosting issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81443">[ date ]</a>
              <a href="thread.html#81443">[ thread ]</a>
              <a href="subject.html#81443">[ subject ]</a>
              <a href="author.html#81443">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&#1042; &#1089;&#1086;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1080; &#1086;&#1090; &#1063;&#1077;&#1090;&#1074;&#1077;&#1088;&#1075; 15 &#1057;&#1077;&#1085;&#1090;&#1103;&#1073;&#1088;&#1100; 2005 10:02 Steven Peterson &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1083;(a):
&gt;<i> I am considering building a Jabber hosting service where users can
</I>&gt;<i> have accounts under their own domain names. It's kind of like
</I>&gt;<i> Dreamhost's Jabber service, except that my service will not have web
</I>&gt;<i> hosting or email :-).
</I>&gt;<i>
</I>&gt;<i> The XMPP spec does not accommodate some of the things that I'd like to
</I>&gt;<i> do. At least I don't think that it does.  I've listed the issues below
</I>&gt;<i> and would like to get feedback.
</I>&gt;<i>
</I>&gt;<i> 1) DNS and s2s
</I>&gt;<i>
</I>&gt;<i> My users' domain name will most likely resolve to a web host and not
</I>&gt;<i> to my service.
</I>&gt;<i> The authors of the XMPP spec anticipated this scenario by specifying
</I>&gt;<i> the use of SRV records to find the XMPP server for a domain. That's
</I>&gt;<i> all fine and dandy, except that I have not seen a DNS host that allows
</I>&gt;<i> a user to specify an SRV record.
</I>&gt;<i>
</I>&gt;<i> Do any popular DNS hosts support SRV records? If so, I can direct my
</I>&gt;<i> users to these hosts.
</I>&gt;<i>
</I>&gt;<i> Some web browsers try &quot;www.domain&quot; if they browser cannot find a web
</I>&gt;<i> server at &quot;domain&quot;.  Do Jabber severs do something similar? This will
</I>&gt;<i> help me out because most DNS hosts allow users to specify sub domains.
</I>&gt;<i>
</I>&gt;<i> 2) TLS and s2s
</I>&gt;<i>
</I>&gt;<i> My users will not have certs for their domains, and even if they did,
</I>&gt;<i> I wouldn't want to be responsible for keeping their private keys
</I>&gt;<i> secret.  TLS is not an option for my service.
</I>&gt;<i>
</I>&gt;<i> Server dialback will work for my service, but the XMPP spec says that
</I>&gt;<i> dialback is documented for backward-compatiblity only. Is dialback
</I>&gt;<i> disappearing, or is it still in active use? I know the open source
</I>&gt;<i> servers support dialback.
</I>Probably you'll be better off to provide a single key for all hosts than to 
not provide any key at all. That will give your users additional feature of 
being sure that their communications is protected.
You can make using your key a requirement for use TLS with your service, if 
you like. I think this applyies both for s2s and c2s.

&gt;<i> 3) TLS and c2s
</I>&gt;<i>
</I>&gt;<i> Even if I cannot use TLS for s2s, I would still like to use TLS for
</I>&gt;<i> c2s. This will hide rosters and other sensitive data from snooping
</I>&gt;<i> neighbors at wireless hotspots.
</I>&gt;<i>
</I>&gt;<i> The XMPP specification says that the name in the cert should match
</I>&gt;<i> domain part of the user's id. This is a problem because I will not
</I>&gt;<i> have the cert for my users' domains as mentioned above.
</I>&gt;<i>
</I>&gt;<i> Most client applications allow the user to specify the server
</I>&gt;<i> separately from their user id. The ideal thing for my service is for
</I>&gt;<i> client applications to verify the cert using the server name instead
</I>&gt;<i> of the domain part of the user's id. That way, I only need my own cert
</I>&gt;<i> and private key.
</I>&gt;<i>
</I>&gt;<i> I've done some experimentation and found that client applications do
</I>&gt;<i> what the spec suggests if the client application does any verification
</I>&gt;<i> at all. Fortunately, the applications let the user through after a
</I>&gt;<i> warning.
</I>&gt;<i>
</I>&gt;<i> I'd like to avoid the warning. Any thoughts on how to proceed?
</I>I do not know - may be key may be assigned to several host names?


&gt;<i> Thank you for any help that you can give me. Also, if there are other
</I>&gt;<i> Jabber hosting services out there, I'd appreciate any pointers. I'd
</I>&gt;<i> like to learn from examples.
</I>
-- 
Respectfully
Alexey Nezhdanov


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081442.html">[jdev] Hosting issues
</A></li>
	<LI>Next message: <A HREF="081444.html">[jdev] Hosting issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81443">[ date ]</a>
              <a href="thread.html#81443">[ thread ]</a>
              <a href="subject.html#81443">[ subject ]</a>
              <a href="author.html#81443">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

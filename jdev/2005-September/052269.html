<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Second-guessing dns for s2s
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Second-guessing%20dns%20for%20s2s&In-Reply-To=%3CE1F190DAC247C64FAA46B38316FA151D02202FEA%40EX-101.mail.navisite.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="052261.html">
   <LINK REL="Next"  HREF="052270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Second-guessing dns for s2s</H1>
    <B>Matt Tucker</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Second-guessing%20dns%20for%20s2s&In-Reply-To=%3CE1F190DAC247C64FAA46B38316FA151D02202FEA%40EX-101.mail.navisite.com%3E"
       TITLE="[jdev] Second-guessing dns for s2s">matt at jivesoftware.com
       </A><BR>
    <I>Sat Sep 24 23:00:09 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="052261.html">[jdev] Single host,	multi service. -was [ANN] Google Talk engineering manager live chat
</A></li>
        <LI>Next message: <A HREF="052270.html">[jdev] Second-guessing dns for s2s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52269">[ date ]</a>
              <a href="thread.html#52269">[ thread ]</a>
              <a href="subject.html#52269">[ subject ]</a>
              <a href="author.html#52269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> We run our conference server on 
</I>&gt;<i> conference.jabber.meta.net.nz.  This is a 
</I>&gt;<i> sub.sub.sub.domain.nz, and is probably very common for 
</I>&gt;<i> companies using jabber outside the US where their domain is 
</I>&gt;<i> in a CC TLD.
</I>
Thanks, that's a good point. The algorithm should be refined to account
for international domains. The fix for the IE vulnerability you
mentioned was to stop looking up the DNS tree past 3rd level domains in
the international case (described at
<A HREF="http://www.microsoft.com/technet/security/bulletin/fq99-054.mspx">http://www.microsoft.com/technet/security/bulletin/fq99-054.mspx</A>). The
fix was *not* to remove the tree walking algorithm completely.

I've filed this as a new issue in our tracker:

<A HREF="http://www.jivesoftware.org/issues/browse/JM-419">http://www.jivesoftware.org/issues/browse/JM-419</A> 
 
&gt;<i> If you can't afford to go buy a domain name that you fully 
</I>&gt;<i> control to run your jabber server under, then what kind of 
</I>&gt;<i> quality to end users are you going to be able to provide?  
</I>&gt;<i> This may be useful in a test environment, but not on the 
</I>&gt;<i> production Internet.
</I>
Again, the issue is that in large organizations managing DNS entries can
be a big PITA. :) Just because we're all engineers/admins that are
experts at manipulating DNS on our own networks doesn't mean that most
users are as well.
 
&gt;<i> now the message gets delivered 
</I>&gt;<i> to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at jabber.org</A>, <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at jabber.org</A> isn't anyone at all related 
</I>&gt;<i> to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at nifty.jabber.org.</A>
</I>
No, the packet is addressed to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at nifty.jabber.org</A> and not
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at jabber.org.</A> It definitely won't get delivered to the wrong place
unless the server is &quot;evil&quot;. See my previous arguments as to why you
should trust the whole domain tree if you trust dial-back
(not-withstanding the international domain bug that you reported).

Regards,
Matt

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="052261.html">[jdev] Single host,	multi service. -was [ANN] Google Talk engineering manager live chat
</A></li>
	<LI>Next message: <A HREF="052270.html">[jdev] Second-guessing dns for s2s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52269">[ date ]</a>
              <a href="thread.html#52269">[ thread ]</a>
              <a href="subject.html#52269">[ subject ]</a>
              <a href="author.html#52269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

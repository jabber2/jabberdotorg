<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] iq packet routing error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20iq%20packet%20routing%20error&In-Reply-To=%3C5b698f5a0509231537558043d5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="052271.html">
   <LINK REL="Next"  HREF="052242.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] iq packet routing error</H1>
    <B>Norman Rasmussen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20iq%20packet%20routing%20error&In-Reply-To=%3C5b698f5a0509231537558043d5%40mail.gmail.com%3E"
       TITLE="[jdev] iq packet routing error">normanr at gmail.com
       </A><BR>
    <I>Fri Sep 23 17:37:02 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="052271.html">[jdev] Single host,	multi service. -was [ANN] Google Talk engineering manager live chat
</A></li>
        <LI>Next message: <A HREF="052242.html">[jdev] iq packet routing error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52241">[ date ]</a>
              <a href="thread.html#52241">[ thread ]</a>
              <a href="subject.html#52241">[ subject ]</a>
              <a href="author.html#52241">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>re: <A HREF="http://j2.openaether.org/bugzilla/show_bug.cgi?id=93">http://j2.openaether.org/bugzilla/show_bug.cgi?id=93</A>

I think I may have found another case that breaks 11.1.4.2:
           For presence stanzas other than those of type &quot;probe&quot;, the
           server MUST deliver the stanza to all available resources;
           for presence probes, the server SHOULD reply based on the
           rules defined in Presence Probes (Section 5.1.3).  In
           addition, the server MUST NOT rewrite the 'to' attribute
           (i.e., it MUST leave it as &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at domain</A>&gt; rather than change
           it to &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at domain</A>/resource&gt;).

I'm busy testing my irc component, and when I send an unsubscribe from
the component to my user it only goes to the highest resource.

componet:
&lt;presence xmlns=&quot;jabber:client&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at darkskies.za.net</A>&quot;
from=&quot;ircdev.jabber.darkskies.za.net&quot; id=&quot;12&quot; type=&quot;unsubscribed&quot; /&gt;

on highest resource (6):
&lt;presence from=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">irc.zanet.net at ircdev.jabber.darkskies.za.net</A>&quot;
type=&quot;unsubscribed&quot; id=&quot;12&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at darkskies.za.net</A>&quot; /&gt;

nothing appears on lowest resource (2) - can't confirm middle resource
because it's at another location.

It seems like the code is only catering for 11.1.5.1, where the
presence stanza would be sent when the user next creates an available
resource (which would of course be the highest).

--
- Norman Rasmussen
 - Email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at rasmussen.co.za</A>
 - Home page: <A HREF="http://norman.rasmussen.co.za/">http://norman.rasmussen.co.za/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="052271.html">[jdev] Single host,	multi service. -was [ANN] Google Talk engineering manager live chat
</A></li>
	<LI>Next message: <A HREF="052242.html">[jdev] iq packet routing error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52241">[ date ]</a>
              <a href="thread.html#52241">[ thread ]</a>
              <a href="subject.html#52241">[ subject ]</a>
              <a href="author.html#52241">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Single host, multi service.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Single%20host%2C%20multi%20service.&In-Reply-To=%3C20050927153258.GA72010%40ik.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081561.html">
   <LINK REL="Next"  HREF="081568.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Single host, multi service.</H1>
    <B>Ralph Meijer</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Single%20host%2C%20multi%20service.&In-Reply-To=%3C20050927153258.GA72010%40ik.nu%3E"
       TITLE="[jdev] Single host, multi service.">jabber.org at ralphm.ik.nu
       </A><BR>
    <I>Tue Sep 27 10:32:58 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="081561.html">[jdev] Single host, multi service.
</A></li>
        <LI>Next message: <A HREF="081568.html">[jdev] Single host, multi service.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81566">[ date ]</a>
              <a href="thread.html#81566">[ thread ]</a>
              <a href="subject.html#81566">[ subject ]</a>
              <a href="author.html#81566">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Sep 25, 2005 at 04:43:55PM +1000, Trejkaz wrote:
&gt;<i> On Sun, 25 Sep 2005 09:47, Tijl Houtbeckers wrote:
</I>&gt;<i> &gt; The problem I can see is that if you &quot;disco&quot; to a server, it will list all
</I>&gt;<i> &gt; the MUC channels. Though I think this can be solved by using resources.
</I>&gt;<i> &gt; Instead of pointing from example.org to conf.example.org, you can point to
</I>&gt;<i> &gt; example.org/conf, which can than give a list AFAIK of rooms @example.org
</I>&gt;<i> &gt; with no problem.
</I>&gt;<i> 
</I>&gt;<i> Easier yet.  It could return a node of the very same JID, without using up a 
</I>&gt;<i> resource. :-)
</I>&gt;<i> 
</I>&gt;<i> Sometimes I think it would have been neat if nodes were part of JIDs in the 
</I>&gt;<i> first place... then each service could have been a node off the server's own 
</I>&gt;<i> JID, and everything would be happy.  Well, maybe.
</I>
For pubsub, JEP-0060 section 4 (Addressing), mentions how you can do
this by putting the node identifier in the resource part of the service's
JID. Any pubsub node identified by NodeID at pubsub service example.com
would be addressable using the JID example.com/NodeId. If you have a
personal pubsub services (virtual?) for <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at example.com</A>, then you could
have <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at example.com</A>/NodeID point to the NodeID node for this user.

The idea of running multiple service off of one domain does not sound too
bad to me. As mentioned before this is done in other application
domains, too. Mailing lists often share the same namespace as 'end
users' (<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A> vs. <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ralphm at jabber.org</A>), and websites URL
hierarchies almost never represent the directory structure of the actual
files/scripts/etc. that are served. Also think mod_rewrite in apache.

One may argue if we should really distinguish between different types of
Jabber entities with regard to grouping them in different domains. We
have MUC rooms, IM users (and by extension their client instances using
a particular resource), bots (which now usually share the same namespace
as IM users), pubsub services, gateways, etc, etc.

For gateways it makes sense to use another domain since you are
importing the gatewayed service's namespace. For most other services,
the distinction is really an implementation detail and/or namespace policy.

If I ever get to implement a 'Jabber Server' I might just integrate
services under one domain, basically multiplexing the namespace across
those services. Note the a 'Jabber Server' is really just some entity
that provides a s2s service. For example, a pubsub service could just as
well be an application that implements s2s.

-- 
Groetjes,

ralphm

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081561.html">[jdev] Single host, multi service.
</A></li>
	<LI>Next message: <A HREF="081568.html">[jdev] Single host, multi service.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81566">[ date ]</a>
              <a href="thread.html#81566">[ thread ]</a>
              <a href="subject.html#81566">[ subject ]</a>
              <a href="author.html#81566">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

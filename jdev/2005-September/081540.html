<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Single host, multi service.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Single%20host%2C%20multi%20service.&In-Reply-To=%3C518D30D5-BC74-4E84-9F0F-17ABC4C99BEC%40kismith.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081535.html">
   <LINK REL="Next"  HREF="081542.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Single host, multi service.</H1>
    <B>Kevin Smith</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Single%20host%2C%20multi%20service.&In-Reply-To=%3C518D30D5-BC74-4E84-9F0F-17ABC4C99BEC%40kismith.co.uk%3E"
       TITLE="[jdev] Single host, multi service.">kevin at kismith.co.uk
       </A><BR>
    <I>Sat Sep 24 18:14:45 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="081535.html">[jdev] Single host,	multi service. -was [ANN] Google Talk engineering manager live chat
</A></li>
        <LI>Next message: <A HREF="081542.html">[jdev] Single host, multi service.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81540">[ date ]</a>
              <a href="thread.html#81540">[ thread ]</a>
              <a href="subject.html#81540">[ subject ]</a>
              <a href="author.html#81540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 24 Sep 2005, at 23:47, Matt Tucker wrote:
&gt;&gt;<i> Let's please quickly agree that it's something to address,
</I>&gt;&gt;<i> and that second-guessing dns entries isn't the way to do it.
</I>&gt;<i>
</I>&gt;<i> I disagree that our algorithm is a serious security issue (see my last
</I>&gt;<i> email), but would still love to get rid of it. It's a hack that's only
</I>&gt;<i> there because there's not another better solution we could think of.
</I>Well, serious or minor is all open to debate, and whichever the  
outcome is irrelevant. I'm not attacking you here by saying &quot;serious  
security hole&quot;. You tried to fix a problem that I want fixed. It's  
trying to find the better solution that you speak of that I want this  
thread to now focus on. We've got some damn smart people hanging  
around,  someone smarter than me will undoubtedly have the answers I  
don't. I do not want your hack removed and the old functionality  
restored. I just want the hack replaced ;)


&gt;&gt;<i> 2) Name collisions. As has previously been noted, this is
</I>&gt;&gt;<i> easily avoided through prefixes and there's probably much
</I>&gt;&gt;<i> nicer methods.
</I>&gt;<i>
</I>&gt;<i> If this was an easy problem to solve, why didn't everybody just go  
</I>&gt;<i> this
</I>&gt;<i> route rather than building out the subdomain system?
</I>
Well, given the choice I still think the multiple subdomain thing is  
a prettier system and (as previously proven in this list) it is a  
reasonable suprise to some people that it would be difficult for  
anyone with one entry to get several. I know for both of the servers  
I'm part-admin of it wasn't a problem, I can only imagine it being a  
problem in enterprises because of brief dealings with the computing  
policies I've brushed against once or twice.

&gt;<i> Jive Messenger and several other servers implement MUC natively  
</I>&gt;<i> (without
</I>&gt;<i> an external component). However, we use an artifical sub-domain for  
</I>&gt;<i> two
</I>&gt;<i> reasons:
</I>&gt;<i>
</I>&gt;<i>  1) To avoid name collisions.
</I>
If this is the main sticking point, lets discuss if (or people  
smarter than me discuss it ;))

&gt;<i>  2) Because every other server uses sub-domains and we try to  
</I>&gt;<i> follow the
</I>&gt;<i> community practices as much as possible.
</I>
I think that's a very reasonable approach but (as you also seem to  
have thought) I think the community practises in this case aren't ideal.

&gt;<i> It's a bummer that JID's weren't constructed to deal with this
</I>&gt;<i> sub-domain issue from the beginning.
</I>
Yes, it quite possibly is.

&gt;<i> I don't think pre-fixes are a reasonable general approach, though.  
</I>&gt;<i> Let's
</I>&gt;<i> say that a new service is invented as a JEP called &quot;foobar&quot;. You could
</I>&gt;<i> then mandate that any JID pre-pended with &quot;foobar-&quot; belongs to that
</I>&gt;<i> service on your example.com server. But, what if there's some
</I>&gt;<i> unfortunate person on your server named Foobar Smith that already has
</I>&gt;<i> the JID <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foobar-smith at example.com</A>? It's just not possible to anticipate
</I>&gt;<i> all name conflicts unless we agreed on some format to restrict nodes
</I>&gt;<i> using some specific format. I don't see how that would be possible
</I>&gt;<i> without adding in some restrictions that aren't part of the XMPP  
</I>&gt;<i> RFC's,
</I>&gt;<i> but I'm open to ideas.
</I>
Well, lets start with the two things that occur to me.
1) #-prefixes for room names, like IRC. Remember that this isn't a  
retrospective change, we're not asking for people who currently have  
multiple DNS entries to give them up, we're providing a method for  
new servers to be set up.

2) On-the-fly collision checking. If there's a user jid existing,  
don't allow a muc jid there, just as you wouldn't if there was an  
existing muc room there. Similarly don't allow users to register with  
room names.

Not perfect but I don't want you to implement my ideas, I'd just like  
some discussion from everyone with an interest :)


/K

--
Kevin Smith
Psi Jabber client maintainer (<A HREF="http://psi.affinix.com/">http://psi.affinix.com/</A>)
Taekwon-do club captain (outgoing), University of Exeter
Postgraduate Research Student, Computer Science, University Of Exeter



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081535.html">[jdev] Single host,	multi service. -was [ANN] Google Talk engineering manager live chat
</A></li>
	<LI>Next message: <A HREF="081542.html">[jdev] Single host, multi service.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81540">[ date ]</a>
              <a href="thread.html#81540">[ thread ]</a>
              <a href="subject.html#81540">[ subject ]</a>
              <a href="author.html#81540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Returning a different response code for non-existent users
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Returning%20a%20different%20response%20code%20for%20non-existent%0A%20users&In-Reply-To=%3CPine.LNX.4.10.10110091059570.22276-100000%40lor.jeremie.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068390.html">
   <LINK REL="Next"  HREF="068406.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Returning a different response code for non-existent users</H1>
    <B>Peter Saint-Andre</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Returning%20a%20different%20response%20code%20for%20non-existent%0A%20users&In-Reply-To=%3CPine.LNX.4.10.10110091059570.22276-100000%40lor.jeremie.com%3E"
       TITLE="[JDEV] Returning a different response code for non-existent users">stpeter at jabber.org
       </A><BR>
    <I>Tue Oct  9 11:07:32 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="068390.html">[JDEV] Re: Returning a different response code for non-existent users
</A></li>
        <LI>Next message: <A HREF="068406.html">[JDEV] Returning a different response code for non-existent users
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68391">[ date ]</a>
              <a href="thread.html#68391">[ thread ]</a>
              <a href="subject.html#68391">[ subject ]</a>
              <a href="author.html#68391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>From the perspective of the server, in both cases (unknown username,
</I>incorrect password) you have provided incorrect authentication
information, so you are unauthorized. Within the server (i.e., authreg.c
vs. mod_auth_*.c), these errors could generate some different text but
right now they don't. You'd need to modify those files and then modify the
client you're using to show those errors according, because right now both
types of error return &lt;error code='401'&gt;Unauthorized&lt;/error&gt;.

Peter

On Tue, 9 Oct 2001, Miguel A.L. Paraz wrote:

&gt;<i> Hi,
</I>&gt;<i> Sorry for the cross-post between jadmin and jdev - I'm not sure if this is 
</I>&gt;<i> an admin thing that can be fixed using configuration, or if it needs coding,
</I>&gt;<i> which I'm willing to do.
</I>&gt;<i> 
</I>&gt;<i> Right now, a 401/unauthorized error is returned if a user does not exist.
</I>&gt;<i> This is the same as if the password is incorrect.
</I>&gt;<i> I would like to know how can it be setup that a different 4xx error is 
</I>&gt;<i> returned for nonexistent users.
</I>&gt;<i> 
</I>&gt;<i> The reason why:
</I>&gt;<i> I already have pre-existing dialup users in a RADIUS database.
</I>&gt;<i> I already have the contributed mod_auth_radius running.
</I>&gt;<i> I want the client to try logging in automatically using the 
</I>&gt;<i> dialup username/password.  If the server gives an error that the user is not
</I>&gt;<i> yet defined, then the client will register automatically.
</I>&gt;<i> 
</I>&gt;<i> With the current setup, the client cannot tell if the 401 is due to
</I>&gt;<i> the user not existing, or an incorrect password.
</I>&gt;<i> 
</I>&gt;<i> I was trying to trace through the code, and found that it is not the mod_auth_*
</I>&gt;<i> module that returns the 401 if the user does not exist.  From the debug
</I>&gt;<i> output, I could not easily tell which does the 401.  I'd like to change the
</I>&gt;<i> error to the &quot;Not Registered&quot; error or something relevant.
</I>&gt;<i> 
</I>&gt;<i> Hints please?  Thanks.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068390.html">[JDEV] Re: Returning a different response code for non-existent users
</A></li>
	<LI>Next message: <A HREF="068406.html">[JDEV] Returning a different response code for non-existent users
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68391">[ date ]</a>
              <a href="thread.html#68391">[ thread ]</a>
              <a href="subject.html#68391">[ subject ]</a>
              <a href="author.html#68391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

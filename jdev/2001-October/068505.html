<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] About IRC Transport
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20About%20IRC%20Transport&In-Reply-To=%3CBF4F1A210D9FD111B8170060089CD7AF0113E2F6%40mshydpub1.hyd.deshaw.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068503.html">
   <LINK REL="Next"  HREF="068507.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] About IRC Transport</H1>
    <B>Malli, Siva_Kumar</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20About%20IRC%20Transport&In-Reply-To=%3CBF4F1A210D9FD111B8170060089CD7AF0113E2F6%40mshydpub1.hyd.deshaw.com%3E"
       TITLE="[JDEV] About IRC Transport">Siva-Kumar-Malli at deshaw.com
       </A><BR>
    <I>Thu Oct 18 05:32:35 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="068503.html">[JDEV] About Irc Transport
</A></li>
        <LI>Next message: <A HREF="068507.html">[JDEV] About IRC Transport
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68505">[ date ]</a>
              <a href="thread.html#68505">[ thread ]</a>
              <a href="subject.html#68505">[ subject ]</a>
              <a href="author.html#68505">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>	I didn't look into the code, but i am trying to help. When you issue
a /join command from the client and its succesful or when you issue a /names
command you will get a reply from the server with numeric code 353 which has
the channel name and all the names in that channel. The channel name can be
prefixed by &quot;=&quot;/&quot;*&quot;/&quot;@&quot;. '=' is to represent that the channel is a public
channel, @ for secret channels and * for private channels. So you must also
look for '*' from your code apart from'=' and '@'.
Thanks,
Siva.

----- Original Message ----- 
From: &quot;David Sutton&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dsutton at legend.co.uk</A> &lt;mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dsutton at legend.co.uk</A>&gt;&gt; 
To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A> &lt;mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;&gt; 
Sent: Thursday, October 18, 2001 5:08 PM 
Subject: [JDEV] About IRC Transport 

&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I've also been looking at the transport, and found a different bug or
</I>&gt;<i> two, although its mainly a problem with the implementation. On line 744,
</I>&gt;<i> where we are trying to get a hash of users for a channel, the character
</I>&gt;<i> '=' is used to find the part of the line which has the channel name in
</I>&gt;<i> it. The problem is that i've seen that it can also be a '@' &lt;mailto:'@'&gt;,
</I>which will
&gt;<i> cause it to fail. The fix I implemented works as follows:
</I>&gt;<i> 
</I>&gt;<i> /* :me 353 mynick = #channel :@me +you them */
</I>&gt;<i> char *ptr;
</I>&gt;<i> +char *delimit = &quot;@ &quot;;
</I>&gt;<i> chans channel;
</I>&gt;<i> 
</I>&gt;<i> ptr = strchr(icpr-&gt;next, '=');
</I>&gt;<i> if(ptr == NULL)
</I>&gt;<i> +{
</I>&gt;<i> + ptr = strstr(icpr-&gt;next, delimit);
</I>&gt;<i> + if(ptr == NULL)
</I>&gt;<i> + {
</I>&gt;<i> + continue;
</I>&gt;<i> + }
</I>&gt;<i> +}
</I>&gt;<i> 
</I>&gt;<i> I had to use &quot;@ &quot; as using the @ by itself would mean it could match
</I>&gt;<i> op'ed users.
</I>&gt;<i> 
</I>&gt;<i> I know that Benoit has done some excellent work on the transport so far
</I>&gt;<i> and I would like to offer my help and services.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> David
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A> &lt;mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>&gt;
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068503.html">[JDEV] About Irc Transport
</A></li>
	<LI>Next message: <A HREF="068507.html">[JDEV] About IRC Transport
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68505">[ date ]</a>
              <a href="thread.html#68505">[ thread ]</a>
              <a href="subject.html#68505">[ subject ]</a>
              <a href="author.html#68505">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

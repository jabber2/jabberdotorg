<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] A report and a dumb question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20A%20report%20and%20a%20dumb%20question&In-Reply-To=%3C1002412813.20003.3.camel%40zariok.toythieves.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039071.html">
   <LINK REL="Next"  HREF="039065.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] A report and a dumb question</H1>
    <B>John Draughn</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20A%20report%20and%20a%20dumb%20question&In-Reply-To=%3C1002412813.20003.3.camel%40zariok.toythieves.com%3E"
       TITLE="[JDEV] A report and a dumb question">jdraughn at kiorisoft.com
       </A><BR>
    <I>Sat Oct  6 19:00:12 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="039071.html">[JDEV] A report and a dumb question
</A></li>
        <LI>Next message: <A HREF="039065.html">[JDEV] Re: jdev digest, Vol 1 #1054 - 13 msgs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39072">[ date ]</a>
              <a href="thread.html#39072">[ thread ]</a>
              <a href="subject.html#39072">[ subject ]</a>
              <a href="author.html#39072">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You can't use the URLConnection to connect to port 5222.  That's
expecting XML streams (see JPG), and http headers would be sent.

-John

On Sat, 2001-10-06 at 18:22, John Bell wrote:
&gt;<i> I think it must be something to do with the URLConnection object in java.net
</I>&gt;<i> and that it is sending some strange header info or something like that
</I>&gt;<i> before I try to write to the connection. I get the error sent back to me
</I>&gt;<i> from jabber.org immediately after connecting, even if I don't send anything.
</I>&gt;<i> Has anyone tried to write a client in Java using the URLConnection object?
</I>&gt;<i> I tried downloading Windump which is a Windows implementation of tcpdump to
</I>&gt;<i> see if I could monitor the information being passed but I can't figure out
</I>&gt;<i> how to use, if anyone has used Windump, I'd appreciate anyhelp.
</I>&gt;<i> 
</I>&gt;<i> John.
</I>&gt;<i> 
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;John Bell&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">johnbell at telus.net</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> Sent: Saturday, October 06, 2001 11:24 AM
</I>&gt;<i> Subject: Re: [JDEV] A report and a dumb question
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; The above was via a &quot;telnet jabber.org 5222&quot; and sending the xml
</I>&gt;<i> &gt; &gt; manually with a \n after the &lt;stream/&gt; tag sent to the server.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm using an http protocol for the connection. Is it ok to use http? If
</I>&gt;<i> so,
</I>&gt;<i> &gt; do you know the request properties I need to set for the connection? Like
</I>&gt;<i> &gt; the content, or accept properties? I'm using the POST request method.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks
</I>&gt;<i> &gt; John.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ----- Original Message -----
</I>&gt;<i> &gt; From: &quot;John Draughn&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdraughn at kiorisoft.com</A>&gt;
</I>&gt;<i> &gt; To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> &gt; Sent: Friday, October 05, 2001 10:55 PM
</I>&gt;<i> &gt; Subject: Re: [JDEV] A report and a dumb question
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; That appears right, are you sending a '\n' at the end of the &lt;stream/&gt;
</I>&gt;<i> &gt; &gt; tag?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I sent and received the following to jabber.org:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;stream:stream to=&quot;jabber.org&quot;
</I>&gt;<i> &gt; &gt; xmlns=&quot;jabber:client&quot; xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams&quot;">http://etherx.jabber.org/streams&quot;</A>&gt;
</I>&gt;<i> &gt; &gt; &lt;stream:stream from='jabber.org' id='818329832' xmlns='jabber:client'
</I>&gt;<i> &gt; &gt; xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; The above was via a &quot;telnet jabber.org 5222&quot; and sending the xml
</I>&gt;<i> &gt; &gt; manually with a \n after the &lt;stream/&gt; tag sent to the server.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; -zariok-
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On Sat, 2001-10-06 at 00:15, John Bell wrote:
</I>&gt;<i> &gt; &gt; &gt; New to jabber,
</I>&gt;<i> &gt; &gt; &gt; I just tried to post a question on the &quot;client development&quot; forum on
</I>&gt;<i> &gt; jabber.org since it's a real novice question and that's the right place
</I>&gt;<i> for
</I>&gt;<i> &gt; that. In the message I posted some xml that was giving me a bit of a
</I>&gt;<i> &gt; problem, but it seems the server isn't encoding the messages, converting
</I>&gt;<i> &quot;&lt;&quot;
</I>&gt;<i> &gt; with &quot;&amp;lt&quot; so all my code samples got eaten up by the server and
</I>&gt;<i> dissapeared
</I>&gt;<i> &gt; from the message text. I think it would be a good enhancement to the
</I>&gt;<i> server,
</I>&gt;<i> &gt; to encode the message text.
</I>&gt;<i> &gt; &gt; &gt; So I've come this far, I may as well ask my dumb question here, I know
</I>&gt;<i> &gt; this is not the right place but I hope you'll excuse me:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; I'm writing a client in Java on Win2000, and I can't seem to be able
</I>&gt;<i> the
</I>&gt;<i> &gt; initialize the connection to jabber.org. Using the Java URLConnection
</I>&gt;<i> object
</I>&gt;<i> &gt; and JAXP 1.1 DefaultHandler for the parser. I send the following
</I>&gt;<i> &gt; initialization on the output stream:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;stream:stream to=&quot;jabber.org&quot;
</I>&gt;<i> &gt; xmlns=&quot;jabber:client&quot; xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams&quot;">http://etherx.jabber.org/streams&quot;</A>&gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; I get the following error set back from the server in the
</I>&gt;<i> &lt;stream:error&gt;
</I>&gt;<i> &gt; tag:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Invalid XML received; connection closed.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Is the &quot;to:&quot; line correct for the jabber.org server? Any other ideas?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Thanks
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; jdev mailing list
</I>&gt;<i> &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039071.html">[JDEV] A report and a dumb question
</A></li>
	<LI>Next message: <A HREF="039065.html">[JDEV] Re: jdev digest, Vol 1 #1054 - 13 msgs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39072">[ date ]</a>
              <a href="thread.html#39072">[ thread ]</a>
              <a href="subject.html#39072">[ subject ]</a>
              <a href="author.html#39072">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

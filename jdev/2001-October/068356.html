<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] A report and a dumb question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20A%20report%20and%20a%20dumb%20question&In-Reply-To=%3C000501c14ebd%24c7b3f650%241b03e8d8%40johnapwg4vzlx9%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068355.html">
   <LINK REL="Next"  HREF="068357.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] A report and a dumb question</H1>
    <B>John Bell</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20A%20report%20and%20a%20dumb%20question&In-Reply-To=%3C000501c14ebd%24c7b3f650%241b03e8d8%40johnapwg4vzlx9%3E"
       TITLE="[JDEV] A report and a dumb question">johnbell at telus.net
       </A><BR>
    <I>Sat Oct  6 18:22:34 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="068355.html">[JDEV] A report and a dumb question
</A></li>
        <LI>Next message: <A HREF="068357.html">[JDEV] A report and a dumb question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68356">[ date ]</a>
              <a href="thread.html#68356">[ thread ]</a>
              <a href="subject.html#68356">[ subject ]</a>
              <a href="author.html#68356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think it must be something to do with the URLConnection object in java.net
and that it is sending some strange header info or something like that
before I try to write to the connection. I get the error sent back to me
from jabber.org immediately after connecting, even if I don't send anything.
Has anyone tried to write a client in Java using the URLConnection object?
I tried downloading Windump which is a Windows implementation of tcpdump to
see if I could monitor the information being passed but I can't figure out
how to use, if anyone has used Windump, I'd appreciate anyhelp.

John.

----- Original Message -----
From: &quot;John Bell&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">johnbell at telus.net</A>&gt;
To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
Sent: Saturday, October 06, 2001 11:24 AM
Subject: Re: [JDEV] A report and a dumb question


&gt;<i> &gt; The above was via a &quot;telnet jabber.org 5222&quot; and sending the xml
</I>&gt;<i> &gt; manually with a \n after the &lt;stream/&gt; tag sent to the server.
</I>&gt;<i>
</I>&gt;<i> I'm using an http protocol for the connection. Is it ok to use http? If
</I>so,
&gt;<i> do you know the request properties I need to set for the connection? Like
</I>&gt;<i> the content, or accept properties? I'm using the POST request method.
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> John.
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;John Draughn&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdraughn at kiorisoft.com</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> Sent: Friday, October 05, 2001 10:55 PM
</I>&gt;<i> Subject: Re: [JDEV] A report and a dumb question
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; That appears right, are you sending a '\n' at the end of the &lt;stream/&gt;
</I>&gt;<i> &gt; tag?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I sent and received the following to jabber.org:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;stream:stream to=&quot;jabber.org&quot;
</I>&gt;<i> &gt; xmlns=&quot;jabber:client&quot; xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams&quot;">http://etherx.jabber.org/streams&quot;</A>&gt;
</I>&gt;<i> &gt; &lt;stream:stream from='jabber.org' id='818329832' xmlns='jabber:client'
</I>&gt;<i> &gt; xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The above was via a &quot;telnet jabber.org 5222&quot; and sending the xml
</I>&gt;<i> &gt; manually with a \n after the &lt;stream/&gt; tag sent to the server.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -zariok-
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Sat, 2001-10-06 at 00:15, John Bell wrote:
</I>&gt;<i> &gt; &gt; New to jabber,
</I>&gt;<i> &gt; &gt; I just tried to post a question on the &quot;client development&quot; forum on
</I>&gt;<i> jabber.org since it's a real novice question and that's the right place
</I>for
&gt;<i> that. In the message I posted some xml that was giving me a bit of a
</I>&gt;<i> problem, but it seems the server isn't encoding the messages, converting
</I>&quot;&lt;&quot;
&gt;<i> with &quot;&amp;lt&quot; so all my code samples got eaten up by the server and
</I>dissapeared
&gt;<i> from the message text. I think it would be a good enhancement to the
</I>server,
&gt;<i> to encode the message text.
</I>&gt;<i> &gt; &gt; So I've come this far, I may as well ask my dumb question here, I know
</I>&gt;<i> this is not the right place but I hope you'll excuse me:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I'm writing a client in Java on Win2000, and I can't seem to be able
</I>the
&gt;<i> initialize the connection to jabber.org. Using the Java URLConnection
</I>object
&gt;<i> and JAXP 1.1 DefaultHandler for the parser. I send the following
</I>&gt;<i> initialization on the output stream:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;stream:stream to=&quot;jabber.org&quot;
</I>&gt;<i> xmlns=&quot;jabber:client&quot; xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams&quot;">http://etherx.jabber.org/streams&quot;</A>&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I get the following error set back from the server in the
</I>&lt;stream:error&gt;
&gt;<i> tag:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Invalid XML received; connection closed.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Is the &quot;to:&quot; line correct for the jabber.org server? Any other ideas?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Thanks
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; jdev mailing list
</I>&gt;<i> &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068355.html">[JDEV] A report and a dumb question
</A></li>
	<LI>Next message: <A HREF="068357.html">[JDEV] A report and a dumb question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68356">[ date ]</a>
              <a href="thread.html#68356">[ thread ]</a>
              <a href="subject.html#68356">[ subject ]</a>
              <a href="author.html#68356">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

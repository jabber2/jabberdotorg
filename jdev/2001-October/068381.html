<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Using Java Socket and JAXP1.1 DefaultHandler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Using%20Java%20Socket%20and%20JAXP1.1%20DefaultHandler&In-Reply-To=%3C5.1.0.14.2.20011009002400.03117288%40mail.echomine.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068379.html">
   <LINK REL="Next"  HREF="068380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Using Java Socket and JAXP1.1 DefaultHandler</H1>
    <B>Chris Chen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Using%20Java%20Socket%20and%20JAXP1.1%20DefaultHandler&In-Reply-To=%3C5.1.0.14.2.20011009002400.03117288%40mail.echomine.com%3E"
       TITLE="[JDEV] Using Java Socket and JAXP1.1 DefaultHandler">ckchris at idream.net
       </A><BR>
    <I>Tue Oct  9 02:29:00 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="068379.html">[JDEV] Using Java Socket and JAXP1.1 DefaultHandler
</A></li>
        <LI>Next message: <A HREF="068380.html">[JDEV] RE: SSL Yet Again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68381">[ date ]</a>
              <a href="thread.html#68381">[ thread ]</a>
              <a href="subject.html#68381">[ subject ]</a>
              <a href="author.html#68381">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yea, I encountered this problem myself as well when I was developing the 
Jabber API.

Essentially, the XML Parser doesn't know exactly how to parse the data 
based on the encoding.. The way I got it to work is to wrap the output and 
input streams of the socket inside BufferedReader and BufferedWriter (with 
encoding UTF8 since Jabber by default uses UTF8).

This apparently worked for me.. If you would like to see what's up, you can 
look at my Jabber API source code (look at the class 
com.echomine.jabber.JabberProtocol).

<A HREF="http://www.echomine.org/projects/muse/">http://www.echomine.org/projects/muse/</A>

You can download the source and take a look

Thanks,
Chris

At 11:16 PM 10/8/2001, you wrote:
&gt;<i>Hi,
</I>&gt;<i>I'm having a problem using the Java Socket object and the JAXP1.1 
</I>&gt;<i>SAXParser DefaultHandler. To post all the code would make for a really 
</I>&gt;<i>long post so I'm hoping an explaination will be sufficient. I connect ok 
</I>&gt;<i>to jabber.org but it seems that my handler for the &lt;stream:stream&gt; element 
</I>&gt;<i>doesn't get processed by the parser until the end element is captured, 
</I>&gt;<i>i.e. by sending &quot;&lt;/stream:stream&gt;&quot; to the server, making it impossible to 
</I>&gt;<i>capture the initialization success event (by processing the 
</I>&gt;<i>&lt;stream:stream&gt; starting element) and thus making it impossible to process 
</I>&gt;<i>an xml conversation. Has anyone one seen this or I am I doing something 
</I>&gt;<i>wrong along the way somewhere.
</I>&gt;<i>
</I>&gt;<i>Thanks, John
</I>&gt;<i>
</I>
PGP at <A HREF="ldap://certserver.pgp.com/">ldap://certserver.pgp.com/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068379.html">[JDEV] Using Java Socket and JAXP1.1 DefaultHandler
</A></li>
	<LI>Next message: <A HREF="068380.html">[JDEV] RE: SSL Yet Again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68381">[ date ]</a>
              <a href="thread.html#68381">[ thread ]</a>
              <a href="subject.html#68381">[ subject ]</a>
              <a href="author.html#68381">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] firewall config for ssl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20firewall%20config%20for%20ssl&In-Reply-To=%3C20011012180823.94869.qmail%40web9904.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039156.html">
   <LINK REL="Next"  HREF="039155.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] firewall config for ssl</H1>
    <B>Bruce Duncan</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20firewall%20config%20for%20ssl&In-Reply-To=%3C20011012180823.94869.qmail%40web9904.mail.yahoo.com%3E"
       TITLE="[JDEV] firewall config for ssl">brucedduncan at yahoo.com
       </A><BR>
    <I>Fri Oct 12 13:08:23 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="039156.html">[JDEV] firewall config for ssl
</A></li>
        <LI>Next message: <A HREF="039155.html">[JDEV] Conference speaker filled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39162">[ date ]</a>
              <a href="thread.html#39162">[ thread ]</a>
              <a href="subject.html#39162">[ subject ]</a>
              <a href="author.html#39162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>yup..that was the issue....i did a cname
in my external dns that made the firewall
machine look ilke the same name as used internally..
worked right away with only the ssl port open.

thanks..

bruce
--- John Draughn &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdraughn at kiorisoft.com</A>&gt; wrote:
&gt;<i> Do you have the &lt;name/&gt; field in the jabber.xml
</I>&gt;<i> (jabberd config file) to
</I>&gt;<i> the name of the nat box?  If I remember correctly,
</I>&gt;<i> server will reject
</I>&gt;<i> logon attempts due to &quot;invalid server specified&quot; or
</I>&gt;<i> similar if the name
</I>&gt;<i> isn't listed.
</I>&gt;<i> 
</I>&gt;<i> Might want to check up on that.
</I>&gt;<i> 
</I>&gt;<i> -John 'zariok' Draughn
</I>&gt;<i> 
</I>&gt;<i> On Fri, 2001-10-12 at 00:33, Bruce Duncan wrote:
</I>&gt;<i> &gt; here's part of my iptables script.  i can telnet
</I>&gt;<i> to
</I>&gt;<i> &gt; the firewall machine from outside on port 5223 and
</I>&gt;<i> get
</I>&gt;<i> &gt; connected.  This looks just like the bits i have
</I>&gt;<i> for 
</I>&gt;<i> &gt; forwarding sendmail and pop3 requests in thru the
</I>&gt;<i> &gt; firewall to an internal machine...don't know why
</I>&gt;<i> this
</I>&gt;<i> &gt; doesn't seem to work right.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; #
</I>&gt;<i> &gt; #   IM forwarding
</I>&gt;<i> &gt; #
</I>&gt;<i> &gt; #
</I>&gt;<i> &gt; iptables -t nat -A PREROUTING -i
</I>&gt;<i> $EXTERNAL_INTERFACE
</I>&gt;<i> &gt; -j DNAT -p tcp -d $FIREWALL
</I>&gt;<i> &gt; _MACHINE --dport 5223 --to $IM_MACHINE:5223
</I>&gt;<i> &gt; #
</I>&gt;<i> &gt; #    IM allowances
</I>&gt;<i> &gt; #
</I>&gt;<i> &gt; # Allow SSL'd IM traffic to come in throught the
</I>&gt;<i> &gt; external interface and get
</I>&gt;<i> &gt; # forwarded to the internal interface if its bound
</I>&gt;<i> for
</I>&gt;<i> &gt; the im machine
</I>&gt;<i> &gt; #
</I>&gt;<i> &gt; iptables -N IM
</I>&gt;<i> &gt; iptables -A IM -j ACCEPT
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; iptables -A FORWARD -p tcp  -m state --state NEW 
</I>&gt;<i> -s  
</I>&gt;<i> &gt; 0/0  -d   $IM_MACHINE --d
</I>&gt;<i> &gt; estination-port 5223  -j IM
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; __________________________________________________
</I>&gt;<i> &gt; Do You Yahoo!?
</I>&gt;<i> &gt; Make a great connection at Yahoo! Personals.
</I>&gt;<i> &gt; <A HREF="http://personals.yahoo.com">http://personals.yahoo.com</A>
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; jdev mailing list
</I>&gt;<i> &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>

__________________________________________________
Do You Yahoo!?
Make a great connection at Yahoo! Personals.
<A HREF="http://personals.yahoo.com">http://personals.yahoo.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039156.html">[JDEV] firewall config for ssl
</A></li>
	<LI>Next message: <A HREF="039155.html">[JDEV] Conference speaker filled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39162">[ date ]</a>
              <a href="thread.html#39162">[ thread ]</a>
              <a href="subject.html#39162">[ subject ]</a>
              <a href="author.html#39162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

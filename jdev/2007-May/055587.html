<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] sending presence to specific transport
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20sending%20presence%20to%20specific%20transport&In-Reply-To=%3C856a7d310705211913g325ae206u2a40b9a85cea94f7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="055585.html">
   <LINK REL="Next"  HREF="055588.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] sending presence to specific transport</H1>
    <B>Srikrishna Das</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20sending%20presence%20to%20specific%20transport&In-Reply-To=%3C856a7d310705211913g325ae206u2a40b9a85cea94f7%40mail.gmail.com%3E"
       TITLE="[jdev] sending presence to specific transport">srikrishna.innovations at gmail.com
       </A><BR>
    <I>Mon May 21 21:13:32 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="055585.html">[jdev] sending presence to specific transport
</A></li>
        <LI>Next message: <A HREF="055588.html">[jdev] sending presence to specific transport
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55587">[ date ]</a>
              <a href="thread.html#55587">[ thread ]</a>
              <a href="subject.html#55587">[ subject ]</a>
              <a href="author.html#55587">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Chris,

Can it be that the ICQ transport component did understand the query and has
also sent the replies but..
the icq client is not able to catch it or understand the presence
notification?

I am not sure, its just a guess. :P

On 5/21/07, Chris Chen &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ckchris at echomine.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Eugeny,
</I>&gt;<i>
</I>&gt;<i> See below for comments:
</I>&gt;<i>
</I>&gt;<i> &gt; Then I request registration information
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;iq to=&quot;icq.my.domain.com&quot; from=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ds at my.domain.com</A>/Feridian&quot;
</I>&gt;<i> &gt; id=&quot;icq1&quot; type=&quot;get&quot;&gt;&lt;query xmlns=&quot;jabber:iq:register&quot;/&gt;&lt;/iq&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;iq from='icq.my.domain.com' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ds at my.domain.com</A>/Feridian'
</I>&gt;<i> &gt; id='icq1' type='result'&gt;&lt;query
</I>&gt;<i> &gt; xmlns='jabber:iq:register'&gt;&lt;instructions&gt;Please
</I>&gt;<i> &gt; type your ICQ user id number into the username field and your
</I>&gt;<i> &gt; password.&lt;/instructions&gt;&lt;username&gt;123456789&lt;/username&gt;&lt;password/
</I>&gt;<i> &gt; &gt;&lt;registered/&gt;&lt;/query&gt;&lt;/iq&gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> This shows that your transport account has the necessary registration
</I>&gt;<i> information.  Double check to make sure that the account username and
</I>&gt;<i> password that you stored is correct.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; And finally I'm trying to send presence (login into) transport:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;presence to=&quot;icq.my.domain.com&quot; from=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ds at my.domain.com</A>/Feridian&quot;
</I>&gt;<i> &gt; id=&quot;icq1&quot;&gt;&lt;status&gt;Online&lt;/status&gt;&lt;/presence&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; but I don't get any response!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In case if I send broadcast presence packet, transport responds
</I>&gt;<i> &gt; with online
</I>&gt;<i> &gt; status.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What do I miss here?
</I>&gt;<i>
</I>&gt;<i> This is how I think XMPP transports work:
</I>&gt;<i>
</I>&gt;<i> XMPP Presence                         Transport Presence
</I>&gt;<i> -------------------------
</I>&gt;<i> ---------------------------------
</I>&gt;<i> Online                                           Online
</I>&gt;<i> Offline                                           Offline
</I>&gt;<i> Away                                             Away
</I>&gt;<i> ......                                                 ........
</I>&gt;<i>
</I>&gt;<i> When you set your global presence (ie. sending &quot;available&quot; presence
</I>&gt;<i> for your xmpp account), xmpp server will normally log you into all
</I>&gt;<i> the registered transports.  From what I remember, the gateways'
</I>&gt;<i> presence statuses are in sync with your xmpp account.  I don't
</I>&gt;<i> believe that gateway transports can have statuses that are different
</I>&gt;<i> from your XMPP account status.  However, I am not quite so sure about
</I>&gt;<i> this.
</I>&gt;<i>
</I>&gt;<i> It's quite possible that gateway components might add support to
</I>&gt;<i> respond to direct queries such as the one you sent above.  But given
</I>&gt;<i> that you didn't get any acknowledgements, I take it that the ICQ
</I>&gt;<i> transport component didn't understand your query and silently ignored
</I>&gt;<i> it.  If you want, maybe you can take a look at the transport's source
</I>&gt;<i> code to see if status change queries are supported.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Chris
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Stay Hungry, Stay Foolish!
Kri$h
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20070522/b646fe1d/attachment-0001.htm">https://www.jabber.org/jdev/attachments/20070522/b646fe1d/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="055585.html">[jdev] sending presence to specific transport
</A></li>
	<LI>Next message: <A HREF="055588.html">[jdev] sending presence to specific transport
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55587">[ date ]</a>
              <a href="thread.html#55587">[ thread ]</a>
              <a href="subject.html#55587">[ subject ]</a>
              <a href="author.html#55587">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

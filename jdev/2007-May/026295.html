<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] sending presence to specific transport
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20sending%20presence%20to%20specific%20transport&In-Reply-To=20070521121010.GA4653%40office.redwerk.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026293.html">
   <LINK REL="Next"  HREF="026297.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] sending presence to specific transport</H1>
    <B>Chris Chen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20sending%20presence%20to%20specific%20transport&In-Reply-To=20070521121010.GA4653%40office.redwerk.com"
       TITLE="[jdev] sending presence to specific transport">ckchris at echomine.com
       </A><BR>
    <I>Mon May 21 11:37:10 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="026293.html">[jdev] sending presence to specific transport
</A></li>
        <LI>Next message: <A HREF="026297.html">[jdev] sending presence to specific transport
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26295">[ date ]</a>
              <a href="thread.html#26295">[ thread ]</a>
              <a href="subject.html#26295">[ subject ]</a>
              <a href="author.html#26295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Eugeny,

See below for comments:

&gt;<i> Then I request registration information
</I>&gt;<i>
</I>&gt;<i> &lt;iq to=&quot;icq.my.domain.com&quot; from=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ds at my.domain.com</A>/Feridian&quot;
</I>&gt;<i> id=&quot;icq1&quot; type=&quot;get&quot;&gt;&lt;query xmlns=&quot;jabber:iq:register&quot;/&gt;&lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;iq from='icq.my.domain.com' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ds at my.domain.com</A>/Feridian'
</I>&gt;<i> id='icq1' type='result'&gt;&lt;query  
</I>&gt;<i> xmlns='jabber:iq:register'&gt;&lt;instructions&gt;Please
</I>&gt;<i> type your ICQ user id number into the username field and your
</I>&gt;<i> password.&lt;/instructions&gt;&lt;username&gt;123456789&lt;/username&gt;&lt;password/ 
</I>&gt;<i> &gt;&lt;registered/&gt;&lt;/query&gt;&lt;/iq&gt;
</I>&gt;<i>
</I>
This shows that your transport account has the necessary registration  
information.  Double check to make sure that the account username and  
password that you stored is correct.


&gt;<i> And finally I'm trying to send presence (login into) transport:
</I>&gt;<i>
</I>&gt;<i> &lt;presence to=&quot;icq.my.domain.com&quot; from=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ds at my.domain.com</A>/Feridian&quot;
</I>&gt;<i> id=&quot;icq1&quot;&gt;&lt;status&gt;Online&lt;/status&gt;&lt;/presence&gt;
</I>&gt;<i>
</I>&gt;<i> but I don't get any response!
</I>&gt;<i>
</I>&gt;<i> In case if I send broadcast presence packet, transport responds  
</I>&gt;<i> with online
</I>&gt;<i> status.
</I>&gt;<i>
</I>&gt;<i> What do I miss here?
</I>
This is how I think XMPP transports work:

XMPP Presence                         Transport Presence
-------------------------                      
---------------------------------
Online                                           Online
Offline                                           Offline
Away                                             Away
......                                                 ........

When you set your global presence (ie. sending &quot;available&quot; presence  
for your xmpp account), xmpp server will normally log you into all  
the registered transports.  From what I remember, the gateways'  
presence statuses are in sync with your xmpp account.  I don't  
believe that gateway transports can have statuses that are different  
from your XMPP account status.  However, I am not quite so sure about  
this.

It's quite possible that gateway components might add support to  
respond to direct queries such as the one you sent above.  But given  
that you didn't get any acknowledgements, I take it that the ICQ  
transport component didn't understand your query and silently ignored  
it.  If you want, maybe you can take a look at the transport's source  
code to see if status change queries are supported.

Thanks,
Chris




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026293.html">[jdev] sending presence to specific transport
</A></li>
	<LI>Next message: <A HREF="026297.html">[jdev] sending presence to specific transport
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26295">[ date ]</a>
              <a href="thread.html#26295">[ thread ]</a>
              <a href="subject.html#26295">[ subject ]</a>
              <a href="author.html#26295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Buddy Icon (Avatar) Proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Buddy%20Icon%20%28Avatar%29%20Proposal&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009241.html">
   <LINK REL="Next"  HREF="009227.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Buddy Icon (Avatar) Proposal</H1>
    <B>temas</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Buddy%20Icon%20%28Avatar%29%20Proposal&In-Reply-To="
       TITLE="[JDEV] Buddy Icon (Avatar) Proposal">temas at box5.net
       </A><BR>
    <I>Thu Aug 30 19:59:35 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="009241.html">[JDEV] Buddy Icon (Avatar) Proposal
</A></li>
        <LI>Next message: <A HREF="009227.html">[JDEV] Buddy Icon (Avatar) Proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9229">[ date ]</a>
              <a href="thread.html#9229">[ thread ]</a>
              <a href="subject.html#9229">[ subject ]</a>
              <a href="author.html#9229">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Julian Missig wrote:

&gt;<i>Replies within.
</I>&gt;<i>
</I>&gt;<i>----- Original Message -----
</I>&gt;<i>From: &quot;Jens Alfke&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jens at mac.com</A>&gt;
</I>&gt;<i>To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i>Sent: Thursday, 30 August, 2001 19:37
</I>&gt;<i>Subject: Re: [JDEV] Buddy Icon (Avatar) Proposal
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>On Thursday, August 30, 2001, at 03:52 PM, Julian Missig wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>First, the requirements on the image.  The image should be a 50 x 50
</I>&gt;&gt;&gt;<i>image in either GIF, PNG, or MNG format, as well as under 8k of data.
</I>&gt;&gt;&gt;<i>MNG support is optional.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>(1) 50x50 seems an unusual choice. Mac and Windows use 32x32 heavily
</I>&gt;&gt;<i>(what do kde / GNOME use?), NeXT used 48x48, and Mac OS X also supports
</I>&gt;&gt;<i>64x64 and 128x128. (Apple's OS X Mail client displays a 64x64 icon of
</I>&gt;&gt;<i>the sender of an email message, and my Jabber client uses 32x32.) It
</I>&gt;&gt;<i>would be better to have a size that was a power of two so that it would
</I>&gt;&gt;<i>scale more smoothly to 32x32. OS X has built in bicubic scaling so it
</I>&gt;&gt;<i>won't look too bad, but without this the icon will look really jaggy at
</I>&gt;&gt;<i>32x32 or 64x64.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>50x50 is what AIM uses. The point of this was to easily support AIM's Buddy
</I>&gt;<i>Icons as well.
</I>&gt;<i>
</I>&gt;&gt;<i>(2) Why disallow JPEG? It has by far the best compression. (A 64x64 face
</I>&gt;&gt;<i>image usually compresses to under 2k.) It's only drawback is the lack of
</I>&gt;&gt;<i>alpha channel.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>It didn't seem worth it to support JPEG. When images are that small, most
</I>&gt;<i>people don't want them lossy to begin with.
</I>&gt;<i>
</I>&gt;&gt;<i>(3) What is MNG? I've never heard of this before.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Animated PNG.
</I>&gt;<i>
</I>&gt;&gt;&gt;<i>The actual icon request is in a new IQ namespace:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>Why not use the server-side generic storage facility instead? The get
</I>&gt;&gt;<i>sequence would be just as you described, except the namespace would be
</I>&gt;&gt;<i>something that didn't start with &quot;jabber&quot;. The owner of the image would
</I>&gt;&gt;<i>use a &quot;set&quot; on his/her JID with the same namespace. This way the server
</I>&gt;&gt;<i>would automatically store the image.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>This way icons can easily be changed when presence changes. I could very
</I>&gt;<i>easily have one icon for available, one for away, one for dnd, etc.
</I>&gt;<i>
</I>&gt;&gt;<i>This would reduce network traffic for the owner of the icon (imagine the
</I>&gt;&gt;<i>poor guy on a 28.8 modem with 100 buddies who all request his new icon
</I>&gt;&gt;<i>at once) and allows an offline user's icon to be retrieved.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;&gt;<i>        &lt;data type='gif|png|mng'&gt;
</I>&gt;&gt;&gt;<i>          Base64 Encoded Data Here
</I>&gt;&gt;&gt;<i>        &lt;/data&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>It's not really necessary to declare the type of the data, as the
</I>&gt;&gt;<i>standard graphics formats are all self-describing. But if you do provide
</I>&gt;&gt;<i>it, please use a real MIME type instead of making up a name.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>--Jens
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Yeah, it would make more sense to use the MIME type... the data is base64'd,
</I>&gt;<i>in some cases it may be easier if the type is known ahead of time.
</I>&gt;<i>
</I>&gt;<i>Julian
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>jdev mailing list
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i><A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>Alrighty Julian and I talked some more.. here is our new proposal (hope 
he isn't sending this at the same time I am).  48x48 icons... I'll just 
scale down aim's no biggy.  We'll drop MNG for now, since barely anyone 
implements it and add JPEG.  Finally the type attribute is nuked, it's 
wasteful and probably pointless like you said.  So last issue is the 
public XML.  We had considered this early on (at least I had) but the 
problem was it wasn't widely implemented (read, only jabberd does it). 
 I'm not overly opposed to just saying that's the way it'll be done, 
because it does have large performance gains, but I want to discuss it 
first.

--temas





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009241.html">[JDEV] Buddy Icon (Avatar) Proposal
</A></li>
	<LI>Next message: <A HREF="009227.html">[JDEV] Buddy Icon (Avatar) Proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9229">[ date ]</a>
              <a href="thread.html#9229">[ thread ]</a>
              <a href="subject.html#9229">[ subject ]</a>
              <a href="author.html#9229">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

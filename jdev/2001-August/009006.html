<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] OOB filetransfer negotiation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20OOB%20filetransfer%20negotiation&In-Reply-To=004f01c1223c%24b5f06fa0%241400a8c0%40cbas">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009005.html">
   <LINK REL="Next"  HREF="009007.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] OOB filetransfer negotiation</H1>
    <B>Jens Alfke</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20OOB%20filetransfer%20negotiation&In-Reply-To=004f01c1223c%24b5f06fa0%241400a8c0%40cbas"
       TITLE="[JDEV] OOB filetransfer negotiation">jens at mac.com
       </A><BR>
    <I>Sat Aug 11 11:57:46 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="009005.html">[JDEV] OOB filetransfer negotiation
</A></li>
        <LI>Next message: <A HREF="009007.html">[JDEV] OOB filetransfer negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9006">[ date ]</a>
              <a href="thread.html#9006">[ thread ]</a>
              <a href="subject.html#9006">[ subject ]</a>
              <a href="author.html#9006">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Saturday, August 11, 2001, at 01:06 AM, Sebastiaan 'CBAS' Deckers 
wrote:

&gt;<i> I'm trying to figure out how exactly file-transfers get negotiated.
</I>&gt;<i> WinJab seems to use an &lt;iq&gt; with namespace &quot;jabber:iq:oob&quot; containing 
</I>&gt;<i> the
</I>&gt;<i> URL of the file.
</I>
Oh boy, that's a new one to me! I keep finding more and more of these 
secret protocol extensions. The &quot;standard&quot; way to transfer files, which 
I've implemented, is to send a &lt;message&gt; containing a jabber:x:oob 
extension element -- this is documented in the JPO and JPG.

I just took at look at the jabber:iq:oob &quot;spec&quot;. I don't really see why 
someone decided to re-invent this in a different form. Surely the 
accept/refuse feedback could have been implemented just as well using 
reply &lt;message&gt;s?

One drawback to using an &lt;iq&gt; to send files is that you can't send it 
through a conference/chatroom, which I've implemented in my client. 
(BTW, sending to a chatroom is a case that breaks the 'relay server' 
thing that has recently been implemented to bypass firewalls, because 
it's not one-to-one.)

I've actually implemented a significant number of extensions to the 
defined jabber:x:oob in my client, mostly to help the receiver display 
meaningful information about the file transfer before it begins. I've 
added attributes to the &lt;url&gt; element that identify various metadata 
about the transfer (is it a file vs. a directory? What is its size? What 
POSIX or HFS metadata does it have?) Of course this isn't known to be 
accurate, but it lets the receiver display various info to the user 
(including an icon) and it can be re-verified after the actual file is 
downloaded.

--Jens


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009005.html">[JDEV] OOB filetransfer negotiation
</A></li>
	<LI>Next message: <A HREF="009007.html">[JDEV] OOB filetransfer negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9006">[ date ]</a>
              <a href="thread.html#9006">[ thread ]</a>
              <a href="subject.html#9006">[ subject ]</a>
              <a href="author.html#9006">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

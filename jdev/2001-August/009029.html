<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Re: OOB filetransfer negotiation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20OOB%20filetransfer%20negotiation&In-Reply-To=3B795FE4.331C715%40elegant.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009028.html">
   <LINK REL="Next"  HREF="009032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Re: OOB filetransfer negotiation</H1>
    <B>Jens Alfke</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20OOB%20filetransfer%20negotiation&In-Reply-To=3B795FE4.331C715%40elegant.ca"
       TITLE="[JDEV] Re: OOB filetransfer negotiation">jens at mac.com
       </A><BR>
    <I>Tue Aug 14 13:03:21 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="009028.html">[JDEV] Re: OOB filetransfer negotiation
</A></li>
        <LI>Next message: <A HREF="009032.html">[JDEV] Re: OOB filetransfer negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9029">[ date ]</a>
              <a href="thread.html#9029">[ thread ]</a>
              <a href="subject.html#9029">[ subject ]</a>
              <a href="author.html#9029">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday, August 14, 2001, at 10:29 AM, Julie wrote:

&gt;<i> Jens, thanks a lot for your message.  It does solve the problem.  
</I>&gt;<i> However, is there
</I>&gt;<i> any other way that a file transfer can be done?  Perhaps sending the 
</I>&gt;<i> whole file
</I>&gt;<i> directly to the other client?
</I>
There is no mechanism in the protocol for sending a file inline in a 
Jabber session. It would require breaking up the file into lots of 
pieces and sending each piece as encoded CDATA in an &lt;iq&gt; or &lt;message&gt; 
element (to avoid the 500k limit on XML elements, and so the user's 
connection can continue to receive other Jabber messages during the 
transfer). There was also strong resistance by people on this list to 
shoveling that much data through the poor Jabber server -- you can 
imagine what would happen if thousands of people were sending MP3s to 
each other this way.

&gt;<i> Is there a way to send a file to the client,
</I>&gt;<i> bypassing a firewall, since we can now find out the IP address of the 
</I>&gt;<i> other client?
</I>
As far as I know you cannot find out the IP address of the receiver 
unless it explicitly tells you. As a privacy measure, Jabber doesn't 
directly expose IP addresses. Besides, this would be a poor model since 
it doesn't give the receiver much control over whether to download the 
file. And it wouldn't bypass firewalls -- it just reverses the issue; 
now you're in trouble if the _receiver_ is the one behind the firewall.

There are two workarounds that I know of to the firewall problem:
(1) Sender uploads the file to a public server someplace, i.e. your 
storage area on your ISP account. Works best with FTP or WebDAV access. 
Then you send the receiver a URL to where the file got uploaded. I hear 
that some Jabber clients already support this.
(2) Someone runs a public &quot;relay server&quot; that accepts connections from 
two machines that want to communicate, then relays socket traffic in 
both directions from one to the other. There is a prototype protocol and 
implementation at jabber.org (but I've lost the email that announced it.)

--Jens


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009028.html">[JDEV] Re: OOB filetransfer negotiation
</A></li>
	<LI>Next message: <A HREF="009032.html">[JDEV] Re: OOB filetransfer negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9029">[ date ]</a>
              <a href="thread.html#9029">[ thread ]</a>
              <a href="subject.html#9029">[ subject ]</a>
              <a href="author.html#9029">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Buddy Icon (Avatar) Proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Buddy%20Icon%20%28Avatar%29%20Proposal&In-Reply-To=004c01c131b7%24e5054ab0%247900a8c0%40genesis.adtech.internet.ibm.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009247.html">
   <LINK REL="Next"  HREF="009229.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Buddy Icon (Avatar) Proposal</H1>
    <B>Jens Alfke</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Buddy%20Icon%20%28Avatar%29%20Proposal&In-Reply-To=004c01c131b7%24e5054ab0%247900a8c0%40genesis.adtech.internet.ibm.com"
       TITLE="[JDEV] Buddy Icon (Avatar) Proposal">jens at mac.com
       </A><BR>
    <I>Fri Aug 31 11:46:48 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="009247.html">[JDEV] Buddy Icon (Avatar) Proposal
</A></li>
        <LI>Next message: <A HREF="009229.html">[JDEV] Buddy Icon (Avatar) Proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9241">[ date ]</a>
              <a href="thread.html#9241">[ thread ]</a>
              <a href="subject.html#9241">[ subject ]</a>
              <a href="author.html#9241">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday, August 30, 2001, at 05:57 PM, Julian Missig wrote:

&gt;<i> As for public XML storage, temas confirmed... there are still certain 
</I>&gt;<i> very
</I>&gt;<i> important servers which don't support public XML... these being the same
</I>&gt;<i> servers which don't support jabber:iq:browse.
</I>
How about we support both, in a backwards-compatible manner:

The client who provides the icon:
(1) Tries to store it on the server using public-XML with a namespace 
like e.g. 'jaber:iq:avatar' &lt;sic&gt;*.
(2) Also responds to 'jaber:iq:avatar' &lt;sic&gt; requests from other clients 
by sending the same data, in case the server didn't handle the public 
XML.

The client who wants to receive the icon simply makes an IQ 'get' query 
with the public-XML namespace, e.g. 'jaber:iq:avatar' &lt;sic&gt;.

This works because, as I understand it, if the server supports public 
XML it will return the data stored by the provider, else it will route 
the IQ query directly to the provider, who will handle it as described 
in (2) above.

This adds minimal complexity to the implementation and improves 
performance if the server supports public XML, while still working with 
older servers that don't.

--Jens

*the reason for the misspelled 'jaber' is of course because public-XML 
namespaces cannot begin with 'jabber' (a questionable design, but one we 
have to live with.)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009247.html">[JDEV] Buddy Icon (Avatar) Proposal
</A></li>
	<LI>Next message: <A HREF="009229.html">[JDEV] Buddy Icon (Avatar) Proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9241">[ date ]</a>
              <a href="thread.html#9241">[ thread ]</a>
              <a href="subject.html#9241">[ subject ]</a>
              <a href="author.html#9241">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

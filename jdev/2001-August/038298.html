<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] OOB filetransfer negotiation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20OOB%20filetransfer%20negotiation&In-Reply-To=%3C997567039.3b75aa3fa29fb%40www.ductape.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038297.html">
   <LINK REL="Next"  HREF="038300.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] OOB filetransfer negotiation</H1>
    <B>Thomas Charron</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20OOB%20filetransfer%20negotiation&In-Reply-To=%3C997567039.3b75aa3fa29fb%40www.ductape.net%3E"
       TITLE="[JDEV] OOB filetransfer negotiation">tcharron at ductape.net
       </A><BR>
    <I>Sat Aug 11 16:57:19 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="038297.html">[JDEV] OOB filetransfer negotiation
</A></li>
        <LI>Next message: <A HREF="038300.html">[JDEV] Roster vs. Presence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38298">[ date ]</a>
              <a href="thread.html#38298">[ thread ]</a>
              <a href="subject.html#38298">[ subject ]</a>
              <a href="author.html#38298">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Quoting Jens Alfke &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jens at mac.com</A>&gt;:
&gt;<i> On Saturday, August 11, 2001, at 01:06 AM, Sebastiaan 'CBAS' Deckers 
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; I'm trying to figure out how exactly file-transfers get negotiated.
</I>&gt;<i> &gt; WinJab seems to use an &lt;iq&gt; with namespace &quot;jabber:iq:oob&quot; containing
</I>&gt;<i> &gt; the
</I>&gt;<i> &gt; URL of the file.
</I>&gt;<i> Oh boy, that's a new one to me! I keep finding more and more of these 
</I>&gt;<i> secret protocol extensions. The &quot;standard&quot; way to transfer files, which
</I>&gt;<i> I've implemented, is to send a &lt;message&gt; containing a jabber:x:oob 
</I>&gt;<i> extension element -- this is documented in the JPO and JPG.
</I>
  Err, the mechansim is the same either way.  IQ messages contain namespace, 
message X tags contains messages.  Client developers can ise either extention.  
Hopefully, client developers will agree on a common way of 'doing it', but 
either way is 'acceptable' via the protocol.

&gt;<i> I just took at look at the jabber:iq:oob &quot;spec&quot;. I don't really see why
</I>&gt;<i> someone decided to re-invent this in a different form. Surely the 
</I>&gt;<i> accept/refuse feedback could have been implemented just as well using 
</I>&gt;<i> reply &lt;message&gt;s?
</I>
  Well, yes, but not enforced by the protocol.  On the other hand, an IQ should 
ALWAYS have a 'result'.

&gt;<i> I've actually implemented a significant number of extensions to the 
</I>&gt;<i> defined jabber:x:oob in my client, mostly to help the receiver display
</I>&gt;<i> meaningful information about the file transfer before it begins. I've 
</I>&gt;<i> added attributes to the &lt;url&gt; element that identify various metadata 
</I>&gt;<i> about the transfer (is it a file vs. a directory? What is its size? What
</I>&gt;<i> POSIX or HFS metadata does it have?) Of course this isn't known to be 
</I>&gt;<i> accurate, but it lets the receiver display various info to the user 
</I>&gt;<i> (including an icon) and it can be re-verified after the actual file is
</I>&gt;<i> downloaded.
</I>
  So long as your not just addhock adding things to the tags, you're all set.  
If you DO, then you end 'exbracing and extending' the protocol, without working 
with other client developers, then you end up with many clients having 
imcompatible extentions, etc..

  The reason why *BOTH* way of doing oob messages is listed under 'standards' 
is to allow clients to choose either way to handle it.  Using iq also allows 
for server involvement, allows things such as PASS componenets to be used to 
assist in file transfers..

--- 
Thomas Charron
&lt;&lt; Wanted: One decent sig &gt;&gt;
&lt;&lt; Preferably litle used  &gt;&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038297.html">[JDEV] OOB filetransfer negotiation
</A></li>
	<LI>Next message: <A HREF="038300.html">[JDEV] Roster vs. Presence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38298">[ date ]</a>
              <a href="thread.html#38298">[ thread ]</a>
              <a href="subject.html#38298">[ subject ]</a>
              <a href="author.html#38298">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

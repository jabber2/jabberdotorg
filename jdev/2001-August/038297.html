<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] OOB filetransfer negotiation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20OOB%20filetransfer%20negotiation&In-Reply-To=%3C000e01c1229a%24de2a32e0%241400a8c0%40cbas%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038296.html">
   <LINK REL="Next"  HREF="038298.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] OOB filetransfer negotiation</H1>
    <B>Sebastiaan 'CBAS' Deckers</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20OOB%20filetransfer%20negotiation&In-Reply-To=%3C000e01c1229a%24de2a32e0%241400a8c0%40cbas%3E"
       TITLE="[JDEV] OOB filetransfer negotiation">cbas at screaming3d.com
       </A><BR>
    <I>Sat Aug 11 14:20:31 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="038296.html">[JDEV] OOB filetransfer negotiation
</A></li>
        <LI>Next message: <A HREF="038298.html">[JDEV] OOB filetransfer negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38297">[ date ]</a>
              <a href="thread.html#38297">[ thread ]</a>
              <a href="subject.html#38297">[ subject ]</a>
              <a href="author.html#38297">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Oh boy, that's a new one to me! I keep finding more and more of these
</I>&gt;<i> secret protocol extensions. The &quot;standard&quot; way to transfer files, which
</I>&gt;<i> I've implemented, is to send a &lt;message&gt; containing a jabber:x:oob
</I>&gt;<i> extension element -- this is documented in the JPO and JPG.
</I>&gt;<i>
</I>&gt;<i> I just took at look at the jabber:iq:oob &quot;spec&quot;. I don't really see why
</I>&gt;<i> someone decided to re-invent this in a different form. Surely the
</I>&gt;<i> accept/refuse feedback could have been implemented just as well using
</I>&gt;<i> reply &lt;message&gt;s?
</I>
As a longtime ICQ-user, I think the &lt;message&gt; element should be used for
(web) URL's and the &lt;IQ&gt; for P2P transfers.
Actually the link Cris Chen posted (<A HREF="http://docs.jabber.org/proto/">http://docs.jabber.org/proto/</A>) clearly
states this (well, as clear as Jabber docs can be ;-) ).

&gt;<i> One drawback to using an &lt;iq&gt; to send files is that you can't send it
</I>&gt;<i> through a conference/chatroom, which I've implemented in my client.
</I>&gt;<i> (BTW, sending to a chatroom is a case that breaks the 'relay server'
</I>&gt;<i> thing that has recently been implemented to bypass firewalls, because
</I>&gt;<i> it's not one-to-one.)
</I>
What relay-server thing? Any docs about this?

&gt;<i> I've actually implemented a significant number of extensions to the
</I>&gt;<i> defined jabber:x:oob in my client, mostly to help the receiver display
</I>&gt;<i> meaningful information about the file transfer before it begins. I've
</I>&gt;<i> added attributes to the &lt;url&gt; element that identify various metadata
</I>&gt;<i> about the transfer (is it a file vs. a directory? What is its size? What
</I>&gt;<i> POSIX or HFS metadata does it have?) Of course this isn't known to be
</I>&gt;<i> accurate, but it lets the receiver display various info to the user
</I>&gt;<i> (including an icon) and it can be re-verified after the actual file is
</I>&gt;<i> downloaded.
</I>
Woohoo, I'm glad to hear that, but what client are you talking about? Did
you document the extensions so my own, and other, client can support them?
It'd be great to have a little more info about the transfer than a url with
some vague filedescription.
The icon you speak of, is it also sent inside the IQ? (seems odd, but
possible)

I haven't looked at many clients (only Jabber IM and WinJab) but are there
any that don't support P2P transfer over HTTP?
And those that support HTTP, do they also support resuming or other fancy
HTTP-stuff? (like security, cookies, directory listing, searching, ...)

Thanks for the help so far,
Sebastiaan


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038296.html">[JDEV] OOB filetransfer negotiation
</A></li>
	<LI>Next message: <A HREF="038298.html">[JDEV] OOB filetransfer negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38297">[ date ]</a>
              <a href="thread.html#38297">[ thread ]</a>
              <a href="subject.html#38297">[ subject ]</a>
              <a href="author.html#38297">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

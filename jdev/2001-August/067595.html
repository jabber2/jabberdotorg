<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Re: jdev digest, Vol 1 #963 - 4 msgs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Re%3A%20jdev%20digest%2C%20Vol%201%20%23963%20-%204%20msgs&In-Reply-To=%3C3B786B65.56DA1E7C%40elegant.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067589.html">
   <LINK REL="Next"  HREF="067600.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Re: jdev digest, Vol 1 #963 - 4 msgs</H1>
    <B>Julie</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Re%3A%20jdev%20digest%2C%20Vol%201%20%23963%20-%204%20msgs&In-Reply-To=%3C3B786B65.56DA1E7C%40elegant.ca%3E"
       TITLE="[JDEV] Re: jdev digest, Vol 1 #963 - 4 msgs">jmok at elegant.ca
       </A><BR>
    <I>Mon Aug 13 19:05:57 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="067589.html">[JDEV] O'Reilly P2P Conference
</A></li>
        <LI>Next message: <A HREF="067600.html">[JDEV] Re: OOB filetransfer negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67595">[ date ]</a>
              <a href="thread.html#67595">[ thread ]</a>
              <a href="subject.html#67595">[ subject ]</a>
              <a href="author.html#67595">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

  From my understanding of the descriptions of the two iq tags, they are used only
to send the URL to the client.  The client then goes to the URL to retrieve the
file.  Am I right?  Is there anyway to do a direct client-to-client file transfer?
Any help would be appreciated.

Thanks,
Julie

<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-request at jabber.org</A> wrote:

&gt;<i> Send jdev mailing list submissions to
</I>&gt;<i>         <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>         <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>         <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-request at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>         <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-admin at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of jdev digest...&quot;
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>    1. Re: OOB filetransfer negotiation (Jens Alfke)
</I>&gt;<i>    2. Re: OOB filetransfer negotiation (Sebastiaan 'CBAS' Deckers)
</I>&gt;<i>    3. Re: OOB filetransfer negotiation (Thomas Charron)
</I>&gt;<i>    4. Re: Security Jig Meeting (Robert Norris)
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Sat, 11 Aug 2001 09:57:46 -0700
</I>&gt;<i> Subject: Re: [JDEV] OOB filetransfer negotiation
</I>&gt;<i> From: Jens Alfke &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jens at mac.com</A>&gt;
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> Reply-To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i> On Saturday, August 11, 2001, at 01:06 AM, Sebastiaan 'CBAS' Deckers
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I'm trying to figure out how exactly file-transfers get negotiated.
</I>&gt;<i> &gt; WinJab seems to use an &lt;iq&gt; with namespace &quot;jabber:iq:oob&quot; containing
</I>&gt;<i> &gt; the
</I>&gt;<i> &gt; URL of the file.
</I>&gt;<i>
</I>&gt;<i> Oh boy, that's a new one to me! I keep finding more and more of these
</I>&gt;<i> secret protocol extensions. The &quot;standard&quot; way to transfer files, which
</I>&gt;<i> I've implemented, is to send a &lt;message&gt; containing a jabber:x:oob
</I>&gt;<i> extension element -- this is documented in the JPO and JPG.
</I>&gt;<i>
</I>&gt;<i> I just took at look at the jabber:iq:oob &quot;spec&quot;. I don't really see why
</I>&gt;<i> someone decided to re-invent this in a different form. Surely the
</I>&gt;<i> accept/refuse feedback could have been implemented just as well using
</I>&gt;<i> reply &lt;message&gt;s?
</I>&gt;<i>
</I>&gt;<i> One drawback to using an &lt;iq&gt; to send files is that you can't send it
</I>&gt;<i> through a conference/chatroom, which I've implemented in my client.
</I>&gt;<i> (BTW, sending to a chatroom is a case that breaks the 'relay server'
</I>&gt;<i> thing that has recently been implemented to bypass firewalls, because
</I>&gt;<i> it's not one-to-one.)
</I>&gt;<i>
</I>&gt;<i> I've actually implemented a significant number of extensions to the
</I>&gt;<i> defined jabber:x:oob in my client, mostly to help the receiver display
</I>&gt;<i> meaningful information about the file transfer before it begins. I've
</I>&gt;<i> added attributes to the &lt;url&gt; element that identify various metadata
</I>&gt;<i> about the transfer (is it a file vs. a directory? What is its size? What
</I>&gt;<i> POSIX or HFS metadata does it have?) Of course this isn't known to be
</I>&gt;<i> accurate, but it lets the receiver display various info to the user
</I>&gt;<i> (including an icon) and it can be re-verified after the actual file is
</I>&gt;<i> downloaded.
</I>&gt;<i>
</I>&gt;<i> --Jens
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 2
</I>&gt;<i> From: &quot;Sebastiaan 'CBAS' Deckers&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">cbas at screaming3d.com</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> Subject: Re: [JDEV] OOB filetransfer negotiation
</I>&gt;<i> Date: Sat, 11 Aug 2001 21:20:31 +0200
</I>&gt;<i> Reply-To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i> &gt; Oh boy, that's a new one to me! I keep finding more and more of these
</I>&gt;<i> &gt; secret protocol extensions. The &quot;standard&quot; way to transfer files, which
</I>&gt;<i> &gt; I've implemented, is to send a &lt;message&gt; containing a jabber:x:oob
</I>&gt;<i> &gt; extension element -- this is documented in the JPO and JPG.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I just took at look at the jabber:iq:oob &quot;spec&quot;. I don't really see why
</I>&gt;<i> &gt; someone decided to re-invent this in a different form. Surely the
</I>&gt;<i> &gt; accept/refuse feedback could have been implemented just as well using
</I>&gt;<i> &gt; reply &lt;message&gt;s?
</I>&gt;<i>
</I>&gt;<i> As a longtime ICQ-user, I think the &lt;message&gt; element should be used for
</I>&gt;<i> (web) URL's and the &lt;IQ&gt; for P2P transfers.
</I>&gt;<i> Actually the link Cris Chen posted (<A HREF="http://docs.jabber.org/proto/">http://docs.jabber.org/proto/</A>) clearly
</I>&gt;<i> states this (well, as clear as Jabber docs can be ;-) ).
</I>&gt;<i>
</I>&gt;<i> &gt; One drawback to using an &lt;iq&gt; to send files is that you can't send it
</I>&gt;<i> &gt; through a conference/chatroom, which I've implemented in my client.
</I>&gt;<i> &gt; (BTW, sending to a chatroom is a case that breaks the 'relay server'
</I>&gt;<i> &gt; thing that has recently been implemented to bypass firewalls, because
</I>&gt;<i> &gt; it's not one-to-one.)
</I>&gt;<i>
</I>&gt;<i> What relay-server thing? Any docs about this?
</I>&gt;<i>
</I>&gt;<i> &gt; I've actually implemented a significant number of extensions to the
</I>&gt;<i> &gt; defined jabber:x:oob in my client, mostly to help the receiver display
</I>&gt;<i> &gt; meaningful information about the file transfer before it begins. I've
</I>&gt;<i> &gt; added attributes to the &lt;url&gt; element that identify various metadata
</I>&gt;<i> &gt; about the transfer (is it a file vs. a directory? What is its size? What
</I>&gt;<i> &gt; POSIX or HFS metadata does it have?) Of course this isn't known to be
</I>&gt;<i> &gt; accurate, but it lets the receiver display various info to the user
</I>&gt;<i> &gt; (including an icon) and it can be re-verified after the actual file is
</I>&gt;<i> &gt; downloaded.
</I>&gt;<i>
</I>&gt;<i> Woohoo, I'm glad to hear that, but what client are you talking about? Did
</I>&gt;<i> you document the extensions so my own, and other, client can support them?
</I>&gt;<i> It'd be great to have a little more info about the transfer than a url with
</I>&gt;<i> some vague filedescription.
</I>&gt;<i> The icon you speak of, is it also sent inside the IQ? (seems odd, but
</I>&gt;<i> possible)
</I>&gt;<i>
</I>&gt;<i> I haven't looked at many clients (only Jabber IM and WinJab) but are there
</I>&gt;<i> any that don't support P2P transfer over HTTP?
</I>&gt;<i> And those that support HTTP, do they also support resuming or other fancy
</I>&gt;<i> HTTP-stuff? (like security, cookies, directory listing, searching, ...)
</I>&gt;<i>
</I>&gt;<i> Thanks for the help so far,
</I>&gt;<i> Sebastiaan
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 3
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>, Jens Alfke &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jens at mac.com</A>&gt;
</I>&gt;<i> Subject: Re: [JDEV] OOB filetransfer negotiation
</I>&gt;<i> Date: Sat, 11 Aug 2001 16:57:19 -0500 (CDT)
</I>&gt;<i> From: Thomas Charron &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">tcharron at ductape.net</A>&gt;
</I>&gt;<i> Reply-To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i> Quoting Jens Alfke &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jens at mac.com</A>&gt;:
</I>&gt;<i> &gt; On Saturday, August 11, 2001, at 01:06 AM, Sebastiaan 'CBAS' Deckers
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt; &gt; I'm trying to figure out how exactly file-transfers get negotiated.
</I>&gt;<i> &gt; &gt; WinJab seems to use an &lt;iq&gt; with namespace &quot;jabber:iq:oob&quot; containing
</I>&gt;<i> &gt; &gt; the
</I>&gt;<i> &gt; &gt; URL of the file.
</I>&gt;<i> &gt; Oh boy, that's a new one to me! I keep finding more and more of these
</I>&gt;<i> &gt; secret protocol extensions. The &quot;standard&quot; way to transfer files, which
</I>&gt;<i> &gt; I've implemented, is to send a &lt;message&gt; containing a jabber:x:oob
</I>&gt;<i> &gt; extension element -- this is documented in the JPO and JPG.
</I>&gt;<i>
</I>&gt;<i>   Err, the mechansim is the same either way.  IQ messages contain namespace,
</I>&gt;<i> message X tags contains messages.  Client developers can ise either extention.
</I>&gt;<i> Hopefully, client developers will agree on a common way of 'doing it', but
</I>&gt;<i> either way is 'acceptable' via the protocol.
</I>&gt;<i>
</I>&gt;<i> &gt; I just took at look at the jabber:iq:oob &quot;spec&quot;. I don't really see why
</I>&gt;<i> &gt; someone decided to re-invent this in a different form. Surely the
</I>&gt;<i> &gt; accept/refuse feedback could have been implemented just as well using
</I>&gt;<i> &gt; reply &lt;message&gt;s?
</I>&gt;<i>
</I>&gt;<i>   Well, yes, but not enforced by the protocol.  On the other hand, an IQ should
</I>&gt;<i> ALWAYS have a 'result'.
</I>&gt;<i>
</I>&gt;<i> &gt; I've actually implemented a significant number of extensions to the
</I>&gt;<i> &gt; defined jabber:x:oob in my client, mostly to help the receiver display
</I>&gt;<i> &gt; meaningful information about the file transfer before it begins. I've
</I>&gt;<i> &gt; added attributes to the &lt;url&gt; element that identify various metadata
</I>&gt;<i> &gt; about the transfer (is it a file vs. a directory? What is its size? What
</I>&gt;<i> &gt; POSIX or HFS metadata does it have?) Of course this isn't known to be
</I>&gt;<i> &gt; accurate, but it lets the receiver display various info to the user
</I>&gt;<i> &gt; (including an icon) and it can be re-verified after the actual file is
</I>&gt;<i> &gt; downloaded.
</I>&gt;<i>
</I>&gt;<i>   So long as your not just addhock adding things to the tags, you're all set.
</I>&gt;<i> If you DO, then you end 'exbracing and extending' the protocol, without working
</I>&gt;<i> with other client developers, then you end up with many clients having
</I>&gt;<i> imcompatible extentions, etc..
</I>&gt;<i>
</I>&gt;<i>   The reason why *BOTH* way of doing oob messages is listed under 'standards'
</I>&gt;<i> is to allow clients to choose either way to handle it.  Using iq also allows
</I>&gt;<i> for server involvement, allows things such as PASS componenets to be used to
</I>&gt;<i> assist in file transfers..
</I>&gt;<i>
</I>&gt;<i> ---
</I>&gt;<i> Thomas Charron
</I>&gt;<i> &lt;&lt; Wanted: One decent sig &gt;&gt;
</I>&gt;<i> &lt;&lt; Preferably litle used  &gt;&gt;
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 4
</I>&gt;<i> Date: Sun, 12 Aug 2001 20:26:56 +1000
</I>&gt;<i> From: Robert Norris &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rob at nauseum.org</A>&gt;
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> Subject: Re: [JDEV] Security Jig Meeting
</I>&gt;<i> Reply-To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i> --tThc/1wpZn/ma/RB
</I>&gt;<i> Content-Type: text/plain; charset=us-ascii
</I>&gt;<i> Content-Disposition: inline
</I>&gt;<i> Content-Transfer-Encoding: quoted-printable
</I>&gt;<i>
</I>&gt;<i> &gt; ideas we already have.  If you wish to be a part of the security work=20
</I>&gt;<i> &gt; but can not make the meeting please email me.
</I>&gt;<i>
</I>&gt;<i> That'd be me. I'm on leave this week, but I suspect that that time will
</I>&gt;<i> always be bad for me (UTC+10).
</I>&gt;<i>
</I>&gt;<i> Rob.
</I>&gt;<i>
</I>&gt;<i> --=20
</I>&gt;<i> Robert Norris                                          &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rob at nauseum.org</A>&gt;
</I>&gt;<i> 1024D/FC18E6C2        6FBF 098A A3F2 A728 490F  7743 59BD 7767 FC18 E6C2
</I>&gt;<i>
</I>&gt;<i> --tThc/1wpZn/ma/RB
</I>&gt;<i> Content-Type: application/pgp-signature
</I>&gt;<i> Content-Disposition: inline
</I>&gt;<i>
</I>&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;<i> Version: GnuPG v1.0.6 (GNU/Linux)
</I>&gt;<i> Comment: For info see <A HREF="http://www.gnupg.org">http://www.gnupg.org</A>
</I>&gt;<i>
</I>&gt;<i> iD8DBQE7dlnvWb13Z/wY5sIRAWAwAKCR9wIMYxgplSYBfVf/cq05wOlu7gCeK9d8
</I>&gt;<i> 2g61v868u7djwudcJR5caiI=
</I>&gt;<i> =YeEO
</I>&gt;<i> -----END PGP SIGNATURE-----
</I>&gt;<i>
</I>&gt;<i> --tThc/1wpZn/ma/RB--
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>&gt;<i> End of jdev Digest
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067589.html">[JDEV] O'Reilly P2P Conference
</A></li>
	<LI>Next message: <A HREF="067600.html">[JDEV] Re: OOB filetransfer negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67595">[ date ]</a>
              <a href="thread.html#67595">[ thread ]</a>
              <a href="subject.html#67595">[ subject ]</a>
              <a href="author.html#67595">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

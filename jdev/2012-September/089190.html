<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] saslprep and nodeprep
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20saslprep%20and%20nodeprep&In-Reply-To=%3C5063216D.703%40stpeter.im%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089189.html">
   <LINK REL="Next"  HREF="089191.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] saslprep and nodeprep</H1>
    <B>Peter Saint-Andre</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20saslprep%20and%20nodeprep&In-Reply-To=%3C5063216D.703%40stpeter.im%3E"
       TITLE="[jdev] saslprep and nodeprep">stpeter at stpeter.im
       </A><BR>
    <I>Wed Sep 26 15:38:21 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="089189.html">[jdev] saslprep and nodeprep
</A></li>
        <LI>Next message: <A HREF="089191.html">[jdev] saslprep and nodeprep
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89190">[ date ]</a>
              <a href="thread.html#89190">[ thread ]</a>
              <a href="subject.html#89190">[ subject ]</a>
              <a href="author.html#89190">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 9/26/12 9:29 AM, Waqas Hussain wrote:
&gt;<i> On Tue, Sep 25, 2012 at 11:50 PM, Peter Saint-Andre
</I>&gt;<i> &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">stpeter at stpeter.im</A>&gt; wrote:
</I>&gt;&gt;<i> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Just FYI, I compared SASLprep (RFC 4013) and Nodeprep (RFC 3920) 
</I>&gt;&gt;<i> recently and it seems that any XMPP localpart that conforms to 
</I>&gt;&gt;<i> Nodeprep also conforms to SASLprep
</I>&gt;<i> 
</I>&gt;<i> Correct. A localpart conforming to nodeprep also conforms to
</I>&gt;<i> saslprep.
</I>&gt;<i> 
</I>&gt;&gt;<i> , so there is no need to perform separate SASLprep processing in
</I>&gt;&gt;<i> XMPP client and server code. If you disagree with my conclusions,
</I>&gt;&gt;<i> please let me know. :)
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Peter
</I>&gt;<i> 
</I>&gt;<i> Not true. SASLprep maps non-ASCII space characters [StringPrep,
</I>&gt;<i> C.1.2] to SPACE (U+0020). Nodeprep forbids C.1.2 characters.
</I>
Right, so a string that passes Nodeprep will not include non-ASCII
space characters. Thus there's no need to map those characters to
U+0020 as in SASLprep, since they won't be in the string.

&gt;<i> A string with non-ASCII space characters needs to be saslprepped
</I>&gt;<i> before it can pass nodeprep.
</I>
Why would you saslprep a string before nodeprepping it? It seems more
natural to nodeprep a string before saslprepping it (since this is
XMPP and you'll need to nodeprep it anyway at some point), in which
case you can just do nodeprepping and not worry about saslprepping.

&gt;<i> Of course, we can get away with just replacing spaces rather than
</I>&gt;<i> full saslprep.
</I>&gt;<i> 
</I>&gt;<i> Also, all this only applies if the SASL authentication string is
</I>&gt;<i> an XMPP localpart :)
</I>
Yes, true, and that depends on the SASL mechanism being used, etc.

&gt;<i> Aside: I've been analyzing our various old stringprep profiles
</I>&gt;<i> (their overlap, etc), and will soon be comparing them the new
</I>&gt;<i> stringprep.
</I>
Great, because I'm going to push for a working group last call soonish
on draft-ietf-xmpp-6122bis. :)

Peter

- -- 
Peter Saint-Andre
<A HREF="https://stpeter.im/">https://stpeter.im/</A>


-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: Using GnuPG with Mozilla - <A HREF="http://www.enigmail.net/">http://www.enigmail.net/</A>

iEYEARECAAYFAlBjIW0ACgkQNL8k5A2w/vxckwCguYvn8vaeKNTjCg2tNv0XR3Z7
dZwAoJswhFD4j1IdvWEcIFDvGHOs8BWk
=ZV5e
-----END PGP SIGNATURE-----
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089189.html">[jdev] saslprep and nodeprep
</A></li>
	<LI>Next message: <A HREF="089191.html">[jdev] saslprep and nodeprep
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89190">[ date ]</a>
              <a href="thread.html#89190">[ thread ]</a>
              <a href="subject.html#89190">[ subject ]</a>
              <a href="author.html#89190">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

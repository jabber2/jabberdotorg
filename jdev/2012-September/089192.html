<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] saslprep and nodeprep
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20saslprep%20and%20nodeprep&In-Reply-To=%3CCC88ABF3.3EAD6%25hildjj%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089191.html">
   <LINK REL="Next"  HREF="089181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] saslprep and nodeprep</H1>
    <B>Joe Hildebrand</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20saslprep%20and%20nodeprep&In-Reply-To=%3CCC88ABF3.3EAD6%25hildjj%40gmail.com%3E"
       TITLE="[jdev] saslprep and nodeprep">hildjj at gmail.com
       </A><BR>
    <I>Wed Sep 26 19:04:30 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="089191.html">[jdev] saslprep and nodeprep
</A></li>
        <LI>Next message: <A HREF="089181.html">[jdev] does unsubscribe invoke remove?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89192">[ date ]</a>
              <a href="thread.html#89192">[ thread ]</a>
              <a href="subject.html#89192">[ subject ]</a>
              <a href="author.html#89192">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/26/12 10:15 AM, &quot;Waqas Hussain&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">waqas20 at gmail.com</A>&gt; wrote:

&gt;<i>This does bring up an interesting side issue: Passwords used in XMPP
</I>&gt;<i>should get SASLprep applied on SASL auth (and SASL PLAIN also forbids
</I>&gt;<i>a zero character password) . However, IBR and ad-hoc based service
</I>&gt;<i>administration allow creating and setting passwords which wouldn't
</I>&gt;<i>allow SASL based login.
</I>
We might add a rule to XEP-77 that passwords received in this manner
SHOULD be canonicalized before storage or computation in such a way that
the user can log into the account created using all of the SASL mechanisms
offered by the server.

For example, if you're doing SCRAM and storing only the SaltedPassword,
you MUST SASLprep the password before computing that SaltedPassword for
storage.

However, in this case:

SaltedPassword  := Hi(Normalize(password), salt, i)

&lt;blockquote&gt;
Normalize(str): Apply the SASLprep profile of the &quot;stringprep&quot;
algorithm [RFC3454] as the normalization algorithm to a UTF-8
encoded &quot;str&quot;.  The resulting string is also in UTF-8.  When applying
SASLprep, &quot;str&quot; is treated as a &quot;stored strings&quot;, which means that
unassigned Unicode codepoints are prohibited (see Section 7 of
[RFC3454]).  Note that implementations MUST either implement
SASLprep or disallow use of non US-ASCII Unicode codepoints in &quot;str&quot;.

&lt;/blockquote&gt;



So I'm not sure how you'd do this computation *without* SASLprep'ing
first, if you allow non-US-ASCII code points in passwords at all.

-- 
Joe Hildebrand




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089191.html">[jdev] saslprep and nodeprep
</A></li>
	<LI>Next message: <A HREF="089181.html">[jdev] does unsubscribe invoke remove?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89192">[ date ]</a>
              <a href="thread.html#89192">[ thread ]</a>
              <a href="subject.html#89192">[ subject ]</a>
              <a href="author.html#89192">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

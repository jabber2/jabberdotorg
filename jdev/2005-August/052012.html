<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] external contact subscription: s2s problem?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20external%20contact%20subscription%3A%20s2s%20problem%3F&In-Reply-To=%3C20050831083934.GA8699%40morgue%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="052018.html">
   <LINK REL="Next"  HREF="052017.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] external contact subscription: s2s problem?</H1>
    <B>Konstantin Klyagin</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20external%20contact%20subscription%3A%20s2s%20problem%3F&In-Reply-To=%3C20050831083934.GA8699%40morgue%3E"
       TITLE="[jdev] external contact subscription: s2s problem?">k at thekonst.net
       </A><BR>
    <I>Wed Aug 31 03:39:34 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="052018.html">[jdev] JabberPalm License
</A></li>
        <LI>Next message: <A HREF="052017.html">[jdev] external contact subscription: s2s problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52012">[ date ]</a>
              <a href="thread.html#52012">[ thread ]</a>
              <a href="subject.html#52012">[ subject ]</a>
              <a href="author.html#52012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I've got a strange problem with a component I am developing. When
it tries to subscribe to someone's presence and the person is
registered on the same Jabber server the component connects to,
everything is fine. Let's say, the component is called
component.myhost.com and the person is <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">konst at myhost.com.</A> No problem
with subscription.

However, when I try to subscribe to someone's presence, and he is
logged in via an external server, I receive the 502 error. This is
how it looks like:

[OUT]&lt;presence from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">account1 at component.myhost.com</A>' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">thekonst at jabber.com</A>' type='subscribe'/&gt;

[IN]&lt;presence from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">thekonst at jabber.com</A>' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">account1 at component.myhost.com</A>' type='error'&gt;&lt;error code='502'&gt;Server Connect Failed&lt;/error&gt;&lt;/presence&gt;

Also, when I log in under some user at myhost.com (the hostname is
replaced, but the one I use can be resolved, as well as
component.myhost.com), I can add my jabber.com contact to the
roster and talk to it. Only the component cannot. What I am doing
wrong?

Thank you for answers in advance.

-- 
konst at <A HREF="http://thekonst.net/">http://thekonst.net/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="052018.html">[jdev] JabberPalm License
</A></li>
	<LI>Next message: <A HREF="052017.html">[jdev] external contact subscription: s2s problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52012">[ date ]</a>
              <a href="thread.html#52012">[ thread ]</a>
              <a href="subject.html#52012">[ subject ]</a>
              <a href="author.html#52012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

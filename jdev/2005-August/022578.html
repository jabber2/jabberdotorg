<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: Auto-configured external gateways
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20Auto-configured%20external%20gateways&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022552.html">
   <LINK REL="Next"  HREF="022579.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: Auto-configured external gateways</H1>
    <B>Gaston Dombiak</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20Auto-configured%20external%20gateways&In-Reply-To="
       TITLE="[jdev] Re: Auto-configured external gateways">gaston at jivesoftware.com
       </A><BR>
    <I>Thu Aug 25 11:32:37 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="022552.html">[jdev] Auto-configured external gateways
</A></li>
        <LI>Next message: <A HREF="022579.html">[jdev] Re: Auto-configured external gateways
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22578">[ date ]</a>
              <a href="thread.html#22578">[ thread ]</a>
              <a href="subject.html#22578">[ subject ]</a>
              <a href="author.html#22578">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Daniel,

The disco packet that Jive Messenger is sending to the newly connected 
external component is meant for discovering if a new item should be added to 
the disco#items packet that the server sends back when someone tries to 
discover the server's items. So that disco info is not being used for 
binding domains to the new component.

Jive Messenger is implementing JEP-114 where the TO attribute of the opening 
stream indicates the domain of the new service provided by the component. 
AFAIK, jabberd2 elaborated another component JEP 
(<A HREF="http://jabberd.jabberstudio.org/dev/docs/component.shtml#sect-id2593096">http://jabberd.jabberstudio.org/dev/docs/component.shtml#sect-id2593096</A>) 
that allows to bind one or more domains for one component but JM does not 
support that &quot;proto&quot;-JEP.

In summary, JM will require different socket connections for each domain 
that is being provided by each component.

Regards,

  -- Gato


&quot;Daniel Henninger&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jadestorm at nc.rr.com</A>&gt; wrote in message 
news:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">56549.152.1.4.40.1124915285.squirrel at www.vorpalcloud.org...</A>
Hi folk!

I'm trying to get a feel for exactly how a feature of jabberd2 and jive
messenger works and am trying to figure out how to accomplish a specific
task.  This is all regarding PyAIMt, so bear with me as I use aim as an
example this whole time.

So jabberd1 and ejabberd both require me to pre-configure a transport that
will be connecting to them.  For example, I would have to put in an entry
for aim.jabber.foo.org, indicate which port they'll be talking to the
transport through, and that sort of thing.

Jabberd2 and jive messenger, on the other hand, support &quot;something&quot; that
enables the transport to connect and get auto-configured for lack of a
better term.  I have since discovered with some help from the jdev
conference room and my own sniffing that, upon connection, a service
discovery request is sent to the transport and that's effectively how it
figures out &quot;what just connected to me?&quot;... or at least that's my
understanding.

So here's the issue.  PyAIM wants to be both aim.jabber.foo.org and
chatrooms.aim.jabber.foo.org.  I'm hoping I don't have to make two
entirely different connections to the serve to accomplish this.  Is it
possible to indicate that I am both hosts?  I could certainly respond to
the initial disco request with two different jid's worth of information,
but my gut feeling is that the server will then ignore the jid that it
wasn't asking about in the first place.  (ie: if it asks for aim.jabber
and i respond with both aim.jabber and chatrooms.aim.jabber, it will only
care about aim.jabber)  That may not be true.

So what's the proper way to do this and is there any documentation out
there  that I could read that goes over this connect and service discovery
mechanism?  Am I stuck with telling people they will need to configure the
component manually?  I'm hoping not.  =)

Thanks for any help you all can provide!

Daniel

-- 
&quot;The most addictive drug in the world is music.&quot;
     - The Lost Boyz 




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022552.html">[jdev] Auto-configured external gateways
</A></li>
	<LI>Next message: <A HREF="022579.html">[jdev] Re: Auto-configured external gateways
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22578">[ date ]</a>
              <a href="thread.html#22578">[ thread ]</a>
              <a href="subject.html#22578">[ subject ]</a>
              <a href="author.html#22578">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

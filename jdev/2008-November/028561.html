<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Formal Component Protocol
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Formal%20Component%20Protocol&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028560.html">
   <LINK REL="Next"  HREF="028563.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Formal Component Protocol</H1>
    <B>Jonathan Dickinson</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Formal%20Component%20Protocol&In-Reply-To="
       TITLE="[jdev] Formal Component Protocol">jonathan.dickinson at k2.com
       </A><BR>
    <I>Wed Nov 12 05:14:49 CST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028560.html">[jdev] How to Do Groupchat in Jabber
</A></li>
        <LI>Next message: <A HREF="028563.html">[jdev] Formal Component Protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28561">[ date ]</a>
              <a href="thread.html#28561">[ thread ]</a>
              <a href="subject.html#28561">[ subject ]</a>
              <a href="author.html#28561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All (esp. PSA :)),

One thing that I have seen with my experiences so far is that there is practically no formal component protocol. &lt;<A HREF="http://xmpp.org/extensions/xep-0114.html">http://xmpp.org/extensions/xep-0114.html</A>&gt; only shows us how to establish a stream. Things that nag me (which I still have to figure out, so if you have answers...):


*         No indication on newer authentication protocols, just handshakes (don't need answers here, I can take example from other server docs, FYI Tigase has really good docs in regard to this)...

*         Binding which is mainstream in, from what I can tell, all current XMPP servers. This is not in the XEP.

*         Routing stanzas, again, are not in the XEP.

Here comes the big one: given that binding is for all intents and purposes 'official', how do I handle these scenarios:


*         I want to send a message directly to &quot;router15&quot; (one of the components) and not have it leave the network.

*         I want to send a message to all components of a specific type (related to the above).

*         I want to send a message to a user.

My current best guess is (these are embedded in the body of stream:stream):

&lt;!-- send message to specific component --&gt;
&lt;route from=&quot;sm&quot; to=&quot;sqlAuth&quot;&gt;
  &lt;client:iq type=&quot;get&quot; from=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jim at foo.com</A>&quot; to=&quot;foo.com&quot;&gt;
   &lt;!-- SASL stuff --&gt;
 &lt;/client:iq&gt;
&lt;/route&gt;

&lt;!-- send message to all components of a specific type --&gt;
&lt;route from=&quot;router2&quot; to=&quot;router*&quot;&gt;
  &lt;presence type=&quot;unavailable&quot;/&gt; &lt;!-- router going down --&gt;
&lt;/route&gt;

&lt;!-- send message from component to user --&gt;
&lt;client:iq type=&quot;result&quot; from=&quot;foo.com&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jim at foo.com</A>&quot;&gt;
  &lt;!-- SASL stuff --&gt;
&lt;/client:iq&gt;

Thanks again.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://www.jabber.org/jdev/attachments/20081112/64739764/attachment-0001.htm">https://www.jabber.org/jdev/attachments/20081112/64739764/attachment-0001.htm</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028560.html">[jdev] How to Do Groupchat in Jabber
</A></li>
	<LI>Next message: <A HREF="028563.html">[jdev] Formal Component Protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28561">[ date ]</a>
              <a href="thread.html#28561">[ thread ]</a>
              <a href="subject.html#28561">[ subject ]</a>
              <a href="author.html#28561">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] s2s implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20s2s%20implementation&In-Reply-To=%3CAANLkTim%3DOMU90z766ne%3DGgA--XbN-RzoF-m%3DDNOTaSST%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="088502.html">
   <LINK REL="Next"  HREF="088504.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] s2s implementation</H1>
    <B>pablo platt</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20s2s%20implementation&In-Reply-To=%3CAANLkTim%3DOMU90z766ne%3DGgA--XbN-RzoF-m%3DDNOTaSST%40mail.gmail.com%3E"
       TITLE="[jdev] s2s implementation">pablo.platt at gmail.com
       </A><BR>
    <I>Sat Oct 30 07:00:33 CST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="088502.html">[jdev] XMPP on Android, Round #2
</A></li>
        <LI>Next message: <A HREF="088504.html">[jdev] s2s implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88503">[ date ]</a>
              <a href="thread.html#88503">[ thread ]</a>
              <a href="subject.html#88503">[ subject ]</a>
              <a href="author.html#88503">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I understand that xmpp federation is similar to mail servers.
There is some kind of verification and stanzas are sent in a fire and forget
way.
A server doesn't need to keep track of the presence of users from other
servers
or other kind of distributed state except for the actual connection.

I couldn't find info about how to handle failures.
Let's say host1.com on server1 has <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user1 at host1.com</A> and host2.com on server2
has <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user2 at host2.com</A>
user1 and user2 has each other on their rosters.
user1 is already logged in and now user2 is logging in and sending a
presence stanza.
host2 pass the presence stanza to host1 with the to attribute and a presence
probe.
host1 pass the presence to user1 and respond with user1's presence.
host1 doesn't remember that user2 is online and the opposite.

1.server2 has a power failure and it is back up in few minutes.
Does host2 need to send offline presence for all its users to hsot1?

2. server2 is running but the connection to server1 is lost for few minutes.
When the connection is back, the online users are not in sync.
How do I handle this situation?

3. When host1 sends a stanza to a user on host2 that is offline,
does host2 respond with an error?

Is there a doc explaining s2s implementation?

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20101030/2f6b0772/attachment.htm">https://www.jabber.org/jdev/attachments/20101030/2f6b0772/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="088502.html">[jdev] XMPP on Android, Round #2
</A></li>
	<LI>Next message: <A HREF="088504.html">[jdev] s2s implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88503">[ date ]</a>
              <a href="thread.html#88503">[ thread ]</a>
              <a href="subject.html#88503">[ subject ]</a>
              <a href="author.html#88503">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] File transfer and Jabber
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20File%20transfer%20and%20Jabber&In-Reply-To=%3C0GCA000C67FP7M%40mail.coserv.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065900.html">
   <LINK REL="Next"  HREF="065971.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] File transfer and Jabber</H1>
    <B>mark at mjwilcox.com</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20File%20transfer%20and%20Jabber&In-Reply-To=%3C0GCA000C67FP7M%40mail.coserv.net%3E"
       TITLE="[JDEV] File transfer and Jabber">mark at mjwilcox.com
       </A><BR>
    <I>Tue Apr 24 00:36:55 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="065900.html">[JDEV] File transfer and Jabber
</A></li>
        <LI>Next message: <A HREF="065971.html">[JDEV] File transfer and Jabber (summary)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65905">[ date ]</a>
              <a href="thread.html#65905">[ thread ]</a>
              <a href="subject.html#65905">[ subject ]</a>
              <a href="author.html#65905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23 Apr 01, at 16:11, Jens Alfke wrote:

&gt;<i> 
</I>&gt;<i> On Monday, April 23, 2001, at 09:52 AM, <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mark at mjwilcox.com</A> wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; I think using Jabber to send files is a waste of bandwith and time.
</I>&gt;<i> &gt; Look, email attachments were a bad thing.
</I>&gt;<i> 
</I>&gt;<i> Wow, I work on email in my day job and that's an unusual opinion I've
</I>&gt;<i> never heard before, even from people who generally hate MIME.
</I>I spend most of life on the road with a sales force who loves to 
send attachments. 

I believe in URLs and Web servers. The ability to centrally store 
,replicate and manage that data is much more mature than in any 
other technology we currently have. 


&gt;<i> 
</I>&gt;<i> &gt; Attachments waste bandwith, disk space and you force every user who
</I>&gt;<i> &gt; you send the message to, to consume network resources *even* if they
</I>&gt;<i> &gt; don't want to.
</I>&gt;<i> 
</I>&gt;<i> First off, even with regard to email this is not true. Most mail
</I>&gt;<i> clients nowadays let the recipient choose whether to download large
</I>&gt;<i> attachments, either by limiting the size of a POP download or by using
</I>&gt;<i> IMAP's more sophisticated mechanism to retrieve individual MIME bodies
</I>&gt;<i> on demand.
</I>But that transport still has to go through SMTP, which just isn't 
efficient in my mind. 

I'm a &quot;the right tool for the job&quot; kind of man. Though I also see a 
day in the not-to-distant future where email and IM will be one &amp; 
the same. 

And even with IMAP in place most IMAP clients still suck at this.

And I don't think there should be a reason to limit attachment size 
if I use my own quota (see below).

&gt;<i> 
</I>&gt;<i> Secondly, I definitely agree with you that in-band Jabber file
</I>&gt;<i> transfer should never be driven by the sender. I said this very
</I>&gt;<i> clearly and emphatically yesterday. The receiver should send &lt;iq&gt;
</I>&gt;<i> queries to retrieve chunks of the attachment.
</I>&gt;<i> 
</I>Well at least we agree on something :).

&gt;<i> &gt; Instead of sending actual data around
</I>&gt;<i> &gt; the jabber network, send URLs to files on a Web server. If I want to
</I>&gt;<i> &gt; read your file, I'll download it.
</I>&gt;<i> 
</I>&gt;<i> This is simply an accounting trick that wastes someone else's disk
</I>&gt;<i> space and network bandwidth, namely the owner of the Web server. It's
</I>&gt;<i> everything you said you hate about email enclosures except that you
</I>&gt;<i> replace the word &quot;SMTP&quot; with &quot;HTTP&quot; (or &quot;WebDAV&quot;). They have to host
</I>&gt;<i> the file for you, regardless of whether the recipient wants it, and if
</I>No, I'm assuming that people have access to a web-aware, 
networked file server as part of their ISP access. Instead of having 
to use FTP to publish, we use DAV which is built into more 
products (ie Office 2000), easier to secure than FTP (ssl over FTP 
never caught on) and with native access built into Windows &amp; OS 
10, it's the file transfer protocol of the future.

I should have been clearer, the Web server would be mine. The 
space I consume, my own. You only have to consume yours if you 
want the file. 

I don't see forcing anyone to have another account. It does require 
some forward thinking by some people but it *could* happen. 

For example take a MyDocsOnline. They're one of the remaining 
free diskspace hosting services. Now imagine if they offered a 
Jabber service or they partnered with a Jabber service with shared 
accounts. 

You have a jabber client who understands this type of arrangement:

User clicks send file. 
GUI prompt for file
File is transfered via DAV to client's account on MyDocsOnline to 
public space (though there could be provisions to make this private)
URL is transmitted to recipients.

This way the resources consumed are the sender's not the 
recipients. If the sender hits a quota, the provider can have 
provisions to add more. Or the sender can delete older files.

Now the biggest gotcha in the arrangement is the fact that if the 
sender deletes a file before a recipient got it. 

But you could come up with a system that keeps a list of who was 
supposed to get the file and who has actually retrieved it. Then 
when the sender attempts to delete the file, they could be notified 
that not everyone has seen it yet. Or the service provider could offer 
an archival service. 

The one situation I haven't really thought too much through is the 
firewall situation, but then sending files via jabber to get through a 
firewall, is really a security hack anyway, in the same way all of 
the current Web services (ie RMI over HTTP, XML-RPC) are using 
HTTP to tunnel through a firewall (kind of makes you wonder why 
you spent the $$ on them in the first place :). Which is an entirely 
different discussion.

I know I'm out on a limb. I'm just tired of people penalizing my 
INBOX quota (and don't want this to continue when more people 
start moving to IM) for sending me files I haven't requested when we 
have viable alternatives.

Mark


&gt;<i> the recipient doesn't request the file immediately, the server has to
</I>&gt;<i> hang onto it for some unknown period of time before getting rid of it,
</I>&gt;<i> which incurs extra administrative overhead (they have to have some
</I>&gt;<i> kind of daemon nuking expired files.)
</I>&gt;<i> 
</I>&gt;<i> Then we also have issues of preventing abuse by imposing quotas on
</I>&gt;<i> users, which implies the Web server has to require you to log in to
</I>&gt;<i> upload, which means you have to have Yet Another Damn Account
</I>&gt;<i> somewhere. It also means that if you fill up your quota, you can't
</I>&gt;<i> send any more files to anyone until the recipient of the last one
</I>&gt;<i> hurries up and downloads the file ... and maybe she's watching TV
</I>&gt;<i> instead, or downloading over a 14.4 modem, and you'll just have to
</I>&gt;<i> wait the full half hour or whatever until the server expires the file
</I>&gt;<i> and restores your quota.
</I>&gt;<i> 
</I>&gt;<i> It also doubles the time to send a file since the sender has to finish
</I>&gt;<i> uploading it before the receiver can download it.
</I>&gt;<i> 
</I>&gt;<i> It also makes Jabber more confusing to set up and use. &quot;I know you
</I>&gt;<i> already have a Jabber account, but you can't send me a file until you
</I>&gt;<i> also get an account on a WebDAV server and go through a preference
</I>&gt;<i> panel in your client to tell Jabber about it...&quot;
</I>&gt;<i> 
</I>&gt;<i> Have I rattled off enough reasons why this is a bad idea that doesn't
</I>&gt;<i> actually help anything? Or should I take five minutes to come up with
</I>&gt;<i> some more?
</I>&gt;<i> 
</I>&gt;<i> If people really, really insist on using an out-of-band mechanism to
</I>&gt;<i> send files, please at least use one that isn't store-and-forward. As I
</I>&gt;<i> said earlier, the sender and receiver can open a socket to a relay
</I>&gt;<i> server and have the server stream the data across.  This imposes
</I>&gt;<i> virtually no disk or CPU overhead on the relay server, and allows the
</I>&gt;<i> file to be sent immediately without any forwarding delays.
</I>&gt;<i> 
</I>&gt;<i> &#151;Jens
</I>&gt;<i> 
</I>

Mark Wilcox
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mark at mjwilcox.com</A>
Got LDAP?


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065900.html">[JDEV] File transfer and Jabber
</A></li>
	<LI>Next message: <A HREF="065971.html">[JDEV] File transfer and Jabber (summary)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65905">[ date ]</a>
              <a href="thread.html#65905">[ thread ]</a>
              <a href="subject.html#65905">[ subject ]</a>
              <a href="author.html#65905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

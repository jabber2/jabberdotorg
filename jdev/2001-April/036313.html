<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Non english messages problem (solution)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Non%20english%20messages%20problem%20%28solution%29&In-Reply-To=%3C002401c0c052%24d6bebe90%240100a8c0%40dready.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036306.html">
   <LINK REL="Next"  HREF="036314.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Non english messages problem (solution)</H1>
    <B>wil at home</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Non%20english%20messages%20problem%20%28solution%29&In-Reply-To=%3C002401c0c052%24d6bebe90%240100a8c0%40dready.org%3E"
       TITLE="[JDEV] Non english messages problem (solution)">wil at dready.org
       </A><BR>
    <I>Sun Apr  8 12:39:07 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="036306.html">[JDEV] Non english messages problem (solution)
</A></li>
        <LI>Next message: <A HREF="036314.html">[JDEV] Non english messages problem (solution)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36313">[ date ]</a>
              <a href="thread.html#36313">[ thread ]</a>
              <a href="subject.html#36313">[ subject ]</a>
              <a href="author.html#36313">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We have encountered similar problems with non i18n aware applications, esp.
interoperability between applications who use different encodings.

I don't know much about the ICQ protocol, maybe someone could point out if
it does send encoding information.  Working on the assumption that ICQ does
not support it, then messages would of course be treated as iso8859-1 (or
rather most apps will not even care, these days we're luckier because
programmers don't strip the 8th bit of a characters).

Hackee brought out an interesting workaround, which is to do allow the users
to select the encoding at the application level, since you can't do it at
the protocol level due to missing encoding information.  However, I disagree
with him to &quot;right click on the ICQ agent, and set preferred encoding&quot;.  It
should be done at individual message level, that is when viewing / composing
a message, you select the encoding that this message should be viewed in /
converted to for sending.

This is similar to the browsers / email clients.  When a html page does not
contain the encoding tag, IE would use the default encoding, but user can
override the encoding using the &quot;View-&gt;Encoding&quot; menu.

wil

----- Original Message -----
From: &quot;Eugene Tyurkin&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">john at if-site.com</A>&gt;
To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">protocol at jabber.org</A>&gt;
Cc: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">server-dev at jabber.org</A>&gt;; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">icq-dev at jabber.org</A>&gt;
Sent: Sunday, April 08, 2001 4:39 PM
Subject: [JDEV] Non english messages problem (solution)


&gt;<i> Hello, everybody. Here's log of my conversation about subject in
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at conference.jabber.org</A> I want to know what do YOU think about that.
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i> 08 Apr 2001 14:39:53 Hackee Hmm... Maybe someone know who can help me
</I>&gt;<i> (actually not only me but everyone who doesn't use english as primary
</I>&gt;<i> language)
</I>&gt;<i> 08 Apr 2001 14:40:09 uberjay what's the question?
</I>&gt;<i> 08 Apr 2001 14:42:10 Hackee The question is: when you encode something to
</I>&gt;<i> unicode you must say what charset do you use for correct decoding, am I
</I>&gt;<i> right?
</I>&gt;<i> 08 Apr 2001 14:43:24 uberjay I don't think so
</I>&gt;<i> 08 Apr 2001 14:44:28 uberjay The nice thing about unicode is you can mix
</I>&gt;<i> languages in a single file
</I>&gt;<i> 08 Apr 2001 14:45:16 Hackee Well, I use koi8-r charset, my friend using
</I>&gt;<i> cp1251. Jabber use unicode. What should I do?
</I>&gt;<i> 08 Apr 2001 14:46:29 uberjay well, with jabber I would think it would
</I>&gt;<i> encode everything in unicode, and decode everything in unicode so it
</I>&gt;<i> wouldn't be as much of a problem...but maybe I'm missing something
</I>&gt;<i> 08 Apr 2001 14:46:43 uberjay I guess you'd need some client support...
</I>&gt;<i> 08 Apr 2001 14:47:18 uberjay are you running linux?
</I>&gt;<i> 08 Apr 2001 14:47:39 Hackee The beauty of unicode is that when I correctly
</I>&gt;<i> encode message in cp1251 to unicode, I can easily decode it to koi8-r from
</I>&gt;<i> unicode and see what the message was about in my native charset
</I>&gt;<i> 08 Apr 2001 14:47:46 Hackee Yes I'm using linux
</I>&gt;<i> 08 Apr 2001 14:48:20 uberjay right...ok, I'm not familiar with
</I>&gt;<i> cp1251...what is it?
</I>&gt;<i> 08 Apr 2001 14:48:46 Hackee It's a windows russian charset
</I>&gt;<i> 08 Apr 2001 14:49:01 Hackee And koi8-r is a linux russian charset
</I>&gt;<i> 08 Apr 2001 14:49:51 uberjay ok
</I>&gt;<i> 08 Apr 2001 14:50:23 uberjay and you want to be able to use jabber linux
</I>&gt;<i> &lt;-&gt; windows while speaking in russian?
</I>&gt;<i> 08 Apr 2001 14:50:32 Hackee I use gabber to communicate with my friends
</I>&gt;<i> who use ICQ
</I>&gt;<i> 08 Apr 2001 14:50:50 Hackee Sure I want :)
</I>&gt;<i> 08 Apr 2001 14:51:08 uberjay heh, ok. maybe I'm in over my head. :) Does
</I>&gt;<i> ICQ encode in Unicode?
</I>&gt;<i> 08 Apr 2001 14:51:40 Hackee Nope. But icq agent from jabber project does
</I>&gt;<i> 08 Apr 2001 14:51:59 uberjay ah, that's cool
</I>&gt;<i> 08 Apr 2001 14:52:04 Hackee 8)
</I>&gt;<i> 08 Apr 2001 14:52:31 Hackee But it doesn't care what charset is coming to
</I>&gt;<i> it
</I>&gt;<i> 08 Apr 2001 14:52:57 Hackee It's just using latin1, which doesn't support
</I>&gt;<i> russian
</I>&gt;<i> 08 Apr 2001 14:53:09 uberjay ick
</I>&gt;<i> 08 Apr 2001 14:53:19 uberjay so there's a couple problems
</I>&gt;<i> 08 Apr 2001 14:53:50 Hackee That's what I'm talking about
</I>&gt;<i> 08 Apr 2001 14:54:19 uberjay one of them might be that It's hard to tell
</I>&gt;<i> what charset an ICQ message is coming in with, so the transport doesn't
</I>&gt;<i> know how to translate it to unicode
</I>&gt;<i> 08 Apr 2001 14:54:57 Hackee Yes!
</I>&gt;<i> 08 Apr 2001 14:55:08 uberjay the other is, when your outgoing message
</I>&gt;<i> (encoded in unicode) goes from gabber to the icq transport, how does it
</I>&gt;<i> know to translate it from unicode to cp1251?
</I>&gt;<i> 08 Apr 2001 14:55:29 uberjay this sounds difficult...perhaps you should
</I>&gt;<i> get him to run jabber :)
</I>&gt;<i> 08 Apr 2001 14:55:57 Hackee No how. Other side can't read anything from me
</I>&gt;<i> in russian
</I>&gt;<i> 08 Apr 2001 14:56:09 Hackee Aha, and speak only english
</I>&gt;<i> 08 Apr 2001 14:56:27 Hackee It's not a solution...
</I>&gt;<i> 08 Apr 2001 14:56:31 uberjay hmm
</I>&gt;<i> 08 Apr 2001 14:57:04 uberjay unless ICQ has some way to tell eachother
</I>&gt;<i> what character encoding the user is using, I don't see an easy way to fix
</I>&gt;<i> that...
</I>&gt;<i> 08 Apr 2001 14:57:44 Hackee The easiest way is to tell an agent preferable
</I>&gt;<i> encoding, for example I know that messages coming to me from ICQ are
</I>&gt;<i> always be in cp1251
</I>&gt;<i> 08 Apr 2001 14:57:56 uberjay ok, that works
</I>&gt;<i> 08 Apr 2001 14:58:15 Hackee So messages can be coded and decoded correctly
</I>&gt;<i> 08 Apr 2001 14:58:24 uberjay is that possible with gabber though?
</I>&gt;<i> (currently)
</I>&gt;<i> 08 Apr 2001 14:58:50 Hackee Nope. Just because it's a server side problem
</I>&gt;<i> 08 Apr 2001 14:59:07 uberjay right, so you'd have to run a modified
</I>&gt;<i> version of icq-t
</I>&gt;<i> 08 Apr 2001 14:59:45 Hackee Sure, but I can't use my own server for
</I>&gt;<i> communicating with other
</I>&gt;<i> 08 Apr 2001 15:00:25 uberjay you can run your own jabberd...
</I>&gt;<i> 08 Apr 2001 15:01:21 Hackee no, I can't. I just can use client, not
</I>&gt;<i> server. Anyway it must be done for everybody not just for me, am I right?
</I>&gt;<i> ;)
</I>&gt;<i> 08 Apr 2001 15:01:41 uberjay right :)
</I>&gt;<i> 08 Apr 2001 15:02:51 uberjay what would be nice is if you could
</I>&gt;<i> right-click on the ICQ agent in gabber and select a default coding system,
</I>&gt;<i> and have that preference control what the icq transport did server side
</I>&gt;<i> 08 Apr 2001 15:03:21 Hackee Yes! But this must be done in protocol layer
</I>&gt;<i> so jabber will be used by everyone, not only by english speaking people
</I>&gt;<i> 08 Apr 2001 15:03:58 uberjay I don't know enough (well, anything) about
</I>&gt;<i> the jabber protocol to say if this is supported, but it needs to be. of
</I>&gt;<i> course, if everyone just uses jabber, than everything can be unicode, then
</I>&gt;<i> we have no problems :)
</I>&gt;<i> 08 Apr 2001 15:05:02 Hackee Sure, the only problem is to tell the same
</I>&gt;<i> what we speaking about to jabber server developers
</I>&gt;<i> 08 Apr 2001 15:05:12 Hackee 8)
</I>&gt;<i> 08 Apr 2001 15:05:23 uberjay heh, yeah
</I>&gt;<i> 08 Apr 2001 15:05:33 uberjay btw, in case you haven't seen this:
</I>&gt;<i> <A HREF="ftp://ftp.ilog.fr/pub/Users/haible/utf8/Unicode-HOWTO.html">ftp://ftp.ilog.fr/pub/Users/haible/utf8/Unicode-HOWTO.html</A>
</I>&gt;<i> 08 Apr 2001 15:05:38 uberjay linux unicode howto
</I>&gt;<i> 08 Apr 2001 15:05:46 uberjay it has some useful information
</I>&gt;<i> 08 Apr 2001 15:06:47 uberjay UTF-8 seems to be the most used right now
</I>&gt;<i> 08 Apr 2001 15:07:02 Hackee I know a little about unicode, 8) I use it to
</I>&gt;<i> write crossplatform applications that supports russian interface in both
</I>&gt;<i> sides - linux and windows
</I>&gt;<i> 08 Apr 2001 15:07:17 uberjay well then
</I>&gt;<i> 08 Apr 2001 15:07:35 uberjay that's cool
</I>&gt;<i> 08 Apr 2001 15:07:52 Hackee Thanks ;)
</I>&gt;<i> 08 Apr 2001 15:08:20 uberjay I really need to sleep...good luck. maybe you
</I>&gt;<i> should send an email to the jabber development list?
</I>&gt;<i> 08 Apr 2001 15:08:31 uberjay they might have some more insight into the
</I>&gt;<i> problem
</I>&gt;<i> 08 Apr 2001 15:08:57 Hackee I'll try. Thanks for conversation. Good night
</I>&gt;<i> (here is 15:08 already ;)
</I>&gt;<i> 08 Apr 2001 15:09:54 uberjay hehe, I'm at 03:08 right now
</I>&gt;<i> 08 Apr 2001 15:10:09 Hackee You're late ;)
</I>&gt;<i> 08 Apr 2001 15:10:15 uberjay yes :)
</I>&gt;<i> 08 Apr 2001 15:11:02 uberjay has left
</I>&gt;<i> --------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> That's it. Sorry for long letter but I guess it's easier to understand the
</I>&gt;<i> subject.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036306.html">[JDEV] Non english messages problem (solution)
</A></li>
	<LI>Next message: <A HREF="036314.html">[JDEV] Non english messages problem (solution)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36313">[ date ]</a>
              <a href="thread.html#36313">[ thread ]</a>
              <a href="subject.html#36313">[ subject ]</a>
              <a href="author.html#36313">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

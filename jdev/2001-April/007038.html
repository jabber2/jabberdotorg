<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Detecting client/server disconnect?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Detecting%20client/server%20disconnect%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007164.html">
   <LINK REL="Next"  HREF="007041.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Detecting client/server disconnect?</H1>
    <B>Todd Bradley</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Detecting%20client/server%20disconnect%3F&In-Reply-To="
       TITLE="[JDEV] Detecting client/server disconnect?">TBradley at jabber.com
       </A><BR>
    <I>Mon Apr  9 12:56:14 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="007164.html">[JDEV] Users-Agent Problem
</A></li>
        <LI>Next message: <A HREF="007041.html">[JDEV] Detecting client/server disconnect?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7038">[ date ]</a>
              <a href="thread.html#7038">[ thread ]</a>
              <a href="subject.html#7038">[ subject ]</a>
              <a href="author.html#7038">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There's nothing special about that sequence.  My JabberBot, for instance,
sends a single \r every 30 seconds to keep its connection with the server
alive.  You could probably only send the &quot;stay awake&quot; reminder every few
minutes and still get away with it.  I agree the TCP keepalive on the server
might be more elegant, but this is easier.
 
 
Todd.
 

-----Original Message-----
From: Jens Alfke [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jens at mac.com</A>]
Sent: Monday, April 09, 2001 11:45 AM
To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
Subject: Re: [JDEV] Detecting client/server disconnect?




On Friday, April 6, 2001, at 03:40 PM, Oliver Jones wrote: 


Winjab works around this problem. It sends, once a minute, the five byte
no-op message 

space space tab space space 

to the server. This keeps the flow open. In xml terms, this message is
formally a noop; very cool. 


This is a clever hack! Is there something magic about &quot;space space tab space
space&quot; or would any whitespace sequence work? 


On the other hand, using TCP keepalive seems more efficient, since
responding to pings would involve only the TCP stack on the server and not
the Jabber server process itself. If you imagine a server with 10,000
simultaneous connections, there are going to be 167 of these pings a second,
so efficiency becomes important... 


&#8212;Jens

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://www.jabber.org/jdev/attachments/20010409/01613390/attachment.htm">https://www.jabber.org/jdev/attachments/20010409/01613390/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007164.html">[JDEV] Users-Agent Problem
</A></li>
	<LI>Next message: <A HREF="007041.html">[JDEV] Detecting client/server disconnect?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7038">[ date ]</a>
              <a href="thread.html#7038">[ thread ]</a>
              <a href="subject.html#7038">[ subject ]</a>
              <a href="author.html#7038">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

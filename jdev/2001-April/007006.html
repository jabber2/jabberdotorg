<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Buddy icons &amp; File Transfer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Buddy%20icons%20%26%20File%20Transfer&In-Reply-To=FF2AF4D762A0D3119E86009027C39A06078AF2CF%40sea-ex0.starwave.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007004.html">
   <LINK REL="Next"  HREF="007005.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Buddy icons &amp; File Transfer</H1>
    <B>Thomas Parslow (PatRat)</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Buddy%20icons%20%26%20File%20Transfer&In-Reply-To=FF2AF4D762A0D3119E86009027C39A06078AF2CF%40sea-ex0.starwave.com"
       TITLE="[JDEV] Buddy icons &amp; File Transfer">patrat at rat-software.com
       </A><BR>
    <I>Sat Apr  7 05:10:10 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="007004.html">[JDEV] Buddy icons &amp; File Transfer
</A></li>
        <LI>Next message: <A HREF="007005.html">[JDEV] Detecting client/server disconnect?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7006">[ date ]</a>
              <a href="thread.html#7006">[ thread ]</a>
              <a href="subject.html#7006">[ subject ]</a>
              <a href="author.html#7006">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I think the iq:oob is the right place for this.  I've devised a fairly
</I>&gt;<i> simple way to ensure that the person making the connection is the 
</I>&gt;<i> appropriate person.  I've explained it a few times on this mailing list,
</I>&gt;<i> I can explain it again if necessary.
</I>&gt;<i>
</I>&gt;<i> About the firewall issue.  I haven't spent any time on this issue yet, 
</I>&gt;<i> if there is a firewall between the sending and the recipient, then I 
</I>&gt;<i> just show an error message. I know that some people and some other IM
</I>&gt;<i> clients use temporary disk web server to store stuff.  Something about
</I>&gt;<i> WebDav.  When I do get around to solving this, I don't think this is
</I>&gt;<i> how I'll solve the firewall problem.  I'm thinking that managing the
</I>&gt;<i> lifetime of others files and making sure their secure will be too
</I>&gt;<i> difficult.
</I>&gt;<i>
</I>&gt;<i> Instead, I think I'll just build another mini-web server or maybe an
</I>&gt;<i> NSAPI or ISAPI DLL that both senders and recipients will connect to
</I>&gt;<i> simultaneously to send a file.  When the sender decides to send a file,
</I>&gt;<i> the client will first connect to this server and do a post that tells
</I>&gt;<i> this web server that it wants to send a file.  This web server will 
</I>&gt;<i> respond with a unique URL that the client will use to give to the
</I>&gt;<i> recipient.   The client will remain connected to this web server, and
</I>&gt;<i> then send a iq:oob to the recipient, with the corresponding URL.  The
</I>&gt;<i> recipient client will then connect to that web server and do a GET
</I>&gt;<i> on that URI.  Once the recipient is connected, then he will send an
</I>&gt;<i> iq:oob result back to the sending client.  When the sending client gets
</I>&gt;<i> this, it will start pushing the file to the web server.  Once its done,
</I>&gt;<i> it will close up the connection.   The web server will pipe the data
</I>&gt;<i> it gets from the post back to the recipient's connection.  The recipient
</I>&gt;<i> will GET the file and everyone is happy.
</I>&gt;<i>
</I>&gt;<i> How does this sound?
</I>&gt;<i>
</I>&gt;<i> -Robert
</I>
But that would be incompatible with the current systems...
Wouldn't it be easier to send the senders ip as part of an url then as
soon as the other client connects to this and requests the file (an
http get) the sender stops listening on that port. So while it would
be possible for a third party to get the file by eavesdropping on the
conversation and grabbing it before the other client does it would be
quite unlikely :)
That way would remain compatible with the other way being used in
clients like JabberIM and WinJab, the receiver does not need to know
whether he/she is downloading directly from the sender or via a third
party.

Thomas Parslow (PatRat) ICQ #:26359483
Rat Software
<A HREF="http://www.rat-software.com/">http://www.rat-software.com/</A>
Please leave quoted text in place when replying




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007004.html">[JDEV] Buddy icons &amp; File Transfer
</A></li>
	<LI>Next message: <A HREF="007005.html">[JDEV] Detecting client/server disconnect?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7006">[ date ]</a>
              <a href="thread.html#7006">[ thread ]</a>
              <a href="subject.html#7006">[ subject ]</a>
              <a href="author.html#7006">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

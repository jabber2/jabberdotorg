<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Detecting client/server disconnect?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Detecting%20client/server%20disconnect%3F&In-Reply-To=%3C200104061658.JAA05512%40smtpout.mac.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065665.html">
   <LINK REL="Next"  HREF="065558.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Detecting client/server disconnect?</H1>
    <B>Jens Alfke</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Detecting%20client/server%20disconnect%3F&In-Reply-To=%3C200104061658.JAA05512%40smtpout.mac.com%3E"
       TITLE="[JDEV] Detecting client/server disconnect?">jens at mac.com
       </A><BR>
    <I>Fri Apr  6 11:58:25 CDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="065665.html">[JDEV] turning OFF karma
</A></li>
        <LI>Next message: <A HREF="065558.html">[JDEV] Detecting client/server disconnect?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65556">[ date ]</a>
              <a href="thread.html#65556">[ thread ]</a>
              <a href="subject.html#65556">[ subject ]</a>
              <a href="author.html#65556">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>How does the Jabber protocol deal with the unexpected disconnection of a 
client or server? I'm referring not to a process crash, but to unlikely 
situations like kernel panic or power failure, as well as more likely 
ones like network failure (modem hangs up, PacBell's DSL network horks, 
laptop moves out of 802.11 range, baby yanks out Ethernet plug, etc.)

According to R. Stevens' Unix Network Programming, vol. 1 (pp.185-186), 
this situation is not detectable unless the SO_KEEPALIVE socket option 
is set. (But libjabber doesn't set this option.) And even keepalive only 
detects it after two hours, which is rather too long for a real-time 
presence protocol.

Some other presence protocols solve this by requiring the client to send 
a &quot;noop&quot; or &quot;ping&quot; command every few minutes, which the server must 
respond to. Jabber doesn't seem to have anything equivalent. Am I 
missing or misunderstanding something, or is this an issue with the 
current Jabber protocol?

&#8212;Jens
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1146 bytes
Desc: not available
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20010406/64b500f2/attachment-0002.bin">https://www.jabber.org/jdev/attachments/20010406/64b500f2/attachment-0002.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065665.html">[JDEV] turning OFF karma
</A></li>
	<LI>Next message: <A HREF="065558.html">[JDEV] Detecting client/server disconnect?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65556">[ date ]</a>
              <a href="thread.html#65556">[ thread ]</a>
              <a href="subject.html#65556">[ subject ]</a>
              <a href="author.html#65556">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

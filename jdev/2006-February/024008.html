<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Presence probe question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Presence%20probe%20question&In-Reply-To=a8f18ca30602100423u4b52db94u57faaba7c8317beb%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024007.html">
   <LINK REL="Next"  HREF="024016.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Presence probe question</H1>
    <B>Michal Vaner (Vorner)</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Presence%20probe%20question&In-Reply-To=a8f18ca30602100423u4b52db94u57faaba7c8317beb%40mail.gmail.com"
       TITLE="[jdev] Presence probe question">michal.vaner at kdemail.net
       </A><BR>
    <I>Fri Feb 10 10:56:42 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="024007.html">[jdev] Presence probe question
</A></li>
        <LI>Next message: <A HREF="024016.html">[jdev] Presence probe question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24008">[ date ]</a>
              <a href="thread.html#24008">[ thread ]</a>
              <a href="subject.html#24008">[ subject ]</a>
              <a href="author.html#24008">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dne p&#225;tek 10 &#250;nor 2006 13:23 Vinod Panicker napsal(a):
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> According to RFC 3921, section 5.1.3, point 4 -
</I>&gt;<i>
</I>&gt;<i> &quot;Else, if the contact has at least one available resource, the
</I>&gt;<i> server MUST reply to the presence probe by sending to the user
</I>&gt;<i> the full XML of the last presence stanza with no 'to' attribute
</I>&gt;<i> received by the server from each of the contact's available
</I>&gt;<i> resources (again, subject to privacy lists in force for each
</I>&gt;<i> session).&quot;
</I>&gt;<i>
</I>&gt;<i> Taking this into consideration, lets look at the following scenario -
</I>&gt;<i>
</I>&gt;<i> - contact and user are in each other's rosters, with a subscription type of
</I>&gt;<i> both - contact sets presence as busy
</I>&gt;<i> - contact sends a directed presence to user, type away
</I>&gt;<i> - user's server sends a presence probe to contact
</I>&gt;<i> - contact's server returns the last presence stanza received with no
</I>&gt;<i> 'to' attribute - busy
</I>&gt;<i>
</I>&gt;<i> I think that the contact's server should send the last directed
</I>&gt;<i> presence received for the user, if applicable.
</I>&gt;<i>
</I>&gt;<i> WDYAT?
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Vinod.
</I>
Hello,
if I got it right, the probe should be sent by the server only in the ocassion 
that the user just connected and the server does not yet know the foreign 
user's state. If the foreign user sent a direct presence, the user was not 
connected ad it got dropped. Therefore I think the situation you describe 
will not happen.But I can be easilly mistaken.

-- 

Windows are like..
windows. Shiny but fragile and expensive.

Michal Vaner (Vorner)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="https://www.jabber.org/jdev/attachments/20060210/dcb7e05f/attachment.pgp">https://www.jabber.org/jdev/attachments/20060210/dcb7e05f/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024007.html">[jdev] Presence probe question
</A></li>
	<LI>Next message: <A HREF="024016.html">[jdev] Presence probe question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24008">[ date ]</a>
              <a href="thread.html#24008">[ thread ]</a>
              <a href="subject.html#24008">[ subject ]</a>
              <a href="author.html#24008">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

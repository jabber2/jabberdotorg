<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: server TLS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20server%20TLS&In-Reply-To=d1afa8930602091516i7152b64ekf983bd9157f5f5dc%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024000.html">
   <LINK REL="Next"  HREF="024001.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: server TLS</H1>
    <B>Eric Will</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20server%20TLS&In-Reply-To=d1afa8930602091516i7152b64ekf983bd9157f5f5dc%40mail.gmail.com"
       TITLE="[jdev] Re: server TLS">rakaur at malkier.net
       </A><BR>
    <I>Tue Feb 14 12:21:25 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="024000.html">[jdev] server TLS
</A></li>
        <LI>Next message: <A HREF="024001.html">[jdev] [ANN] Spark 1.1 release
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24031">[ date ]</a>
              <a href="thread.html#24031">[ thread ]</a>
              <a href="subject.html#24031">[ subject ]</a>
              <a href="author.html#24031">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>After about a week or so of trying to get this sorted, I finally have.

It seems my main problem was that there's no SSLSocket#recv, and I was
treating SSLSocket#read as if it were recv, which
is not the case. SSLSocket#readpartial is what I was looking for, it just
took a really long time to find due to lack of documentation.

After figuring out readpartial, the rest wasn't hard to implement. I wrote a
simple TLS-enabled echo server here: <A HREF="http://www.ericw.org/ruby/echo/.">http://www.ericw.org/ruby/echo/.</A>
There's no comments or anything, I just used to to figure out what I was
doing wrong. It acts as a normal echo server until you send &quot;+STARTTLS,&quot; in
which case it replies &quot;+STARTTLS&quot; and expects a TLS handshake to begin.

On 2/9/06, Eric Will &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rakaur at malkier.net</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> I've figured out easily enough how to do client-to-server TLS.
</I>&gt;<i> Unfortunately, I'm writing a server.
</I>&gt;<i>
</I>&gt;<i> I can't find any examples of using Ruby's OpenSSL library from a server
</I>&gt;<i> point of view.
</I>&gt;<i> I know how to create the socket, I know how to make an
</I>&gt;<i> OpenSSL::X509::Certificate,
</I>&gt;<i> but I don't know how to use them together to enable clients to connect.
</I>&gt;<i>
</I>&gt;<i> I just don't have any experience with OpenSSL, and I can't find any
</I>&gt;<i> examples.
</I>&gt;<i> Any help would be appreciated.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Eric Will -- <A HREF="http://www.ericw.org/">http://www.ericw.org/</A>
</I>&gt;<i> xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rakaur at malkier.net</A>
</I>&gt;<i> mailto: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rakaur at malkier.net</A>
</I>



--
Eric Will -- <A HREF="http://www.ericw.org/">http://www.ericw.org/</A>
xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rakaur at malkier.net</A>
mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rakaur at malkier.net</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://www.jabber.org/jdev/attachments/20060214/c009bdea/attachment.htm">https://www.jabber.org/jdev/attachments/20060214/c009bdea/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024000.html">[jdev] server TLS
</A></li>
	<LI>Next message: <A HREF="024001.html">[jdev] [ANN] Spark 1.1 release
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24031">[ date ]</a>
              <a href="thread.html#24031">[ thread ]</a>
              <a href="subject.html#24031">[ subject ]</a>
              <a href="author.html#24031">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

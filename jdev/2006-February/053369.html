<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] SPPS and external components
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20SPPS%20and%20external%20components&In-Reply-To=%3C20060218190245.GA73309%40ik.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053368.html">
   <LINK REL="Next"  HREF="053371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] SPPS and external components</H1>
    <B>Ralph Meijer</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20SPPS%20and%20external%20components&In-Reply-To=%3C20060218190245.GA73309%40ik.nu%3E"
       TITLE="[jdev] SPPS and external components">jabber.org at ralphm.ik.nu
       </A><BR>
    <I>Sat Feb 18 13:02:46 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="053368.html">[jdev] SPPS and external components
</A></li>
        <LI>Next message: <A HREF="053371.html">[jdev] SPPS and external components
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53369">[ date ]</a>
              <a href="thread.html#53369">[ thread ]</a>
              <a href="subject.html#53369">[ subject ]</a>
              <a href="author.html#53369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Feb 18, 2006 at 07:01:05PM +0200, Norman Rasmussen wrote:
&gt;<i> On 2/18/06, Ralph Meijer &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jabber.org at ralphm.ik.nu</A>&gt; wrote:
</I>&gt;<i> &gt; On Tue, Jan 24, 2006 at 04:04:40PM +0200, Norman Rasmussen wrote:
</I>&gt;<i> &gt; &gt; On 1/24/06, Jacek Konieczny &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jajcus at jajcus.net</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; Things that need to be solved:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; 1. redirecting SPPS queries addressed to users to the external
</I>&gt;<i> &gt; &gt; &gt; component.
</I>&gt;<i> &gt; &gt; &gt; 2. providing the external component with roster information.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; The way I see it, by the time you've written code (for each server) to
</I>&gt;<i> &gt; &gt; 'filter' out those pubsub packets and send them to the pubsub
</I>&gt;<i> &gt; &gt; component, you might as well have added spps directly to the server.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; It saves having to write the roster sharing code too.  The only other
</I>&gt;<i> &gt; &gt; reason I can think of why you'd want to 'share your roster' is if you
</I>&gt;<i> &gt; &gt; want multiple identity jids under a single account.  (i.e.
</I>&gt;<i> &gt; &gt; meta-accounts).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think that jabberd 2 has another component protocol that would allow
</I>&gt;<i> &gt; this. You can route stanzas according to the namespace of the child of
</I>&gt;<i> &gt; iqs. I haven't had the time to try that out, though.
</I>&gt;<i> 
</I>&gt;<i> It doesn't help with disco items though, as those are in the disco
</I>&gt;<i> namespace which used for other things as well - I think.  You'd have
</I>&gt;<i> to make the PEP component handle _all_ disco registrations and
</I>&gt;<i> requests - which isn't terrible I guess.
</I>
Looking again, the sm.xml file defines chains of modules to be called
when a packet arrives at a certain entry point. Each module then
inspects the packet to see if it can handle it. If not, it is given to
the next module in the chain. Making sure that the PEP module
is put before the disco module in the chain, you can selectively hijack
the PEP specific packets.

&gt;<i> The only jabberd2 component spec that I know of is [1], and it doesn't
</I>&gt;<i> seem to indicate that it can handle binding to xml subdomains.  Of
</I>&gt;<i> course, the spec doesn't have to match the code currently implemented.
</I>&gt;<i> 
</I>&gt;<i> [1] <A HREF="http://jabberd.jabberstudio.org/dev/docs/component.shtml">http://jabberd.jabberstudio.org/dev/docs/component.shtml</A>
</I>
Yes, I meant this protocol. But I'm not sure if you can create said
modules using this. A jabberd2 expert would be helpful here.

That said, it would be pretty server implementation specific. From what
I can tell, hooking idavoll up to a server to provide PEP will not work
with existing external component protocols, unfortunately.

-- 
Groetjes,

ralphm

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053368.html">[jdev] SPPS and external components
</A></li>
	<LI>Next message: <A HREF="053371.html">[jdev] SPPS and external components
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53369">[ date ]</a>
              <a href="thread.html#53369">[ thread ]</a>
              <a href="subject.html#53369">[ subject ]</a>
              <a href="author.html#53369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

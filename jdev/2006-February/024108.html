<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] jabber2d's roster.xml deficiencies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20jabber2d%27s%20roster.xml%20deficiencies&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024109.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] jabber2d's roster.xml deficiencies</H1>
    <B>Robert Temple</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20jabber2d%27s%20roster.xml%20deficiencies&In-Reply-To="
       TITLE="[jdev] jabber2d's roster.xml deficiencies">robert_w_temple at hotmail.com
       </A><BR>
    <I>Mon Feb 27 17:27:21 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="024109.html">[jdev] Re: Stream compression with jzlib?
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24108">[ date ]</a>
              <a href="thread.html#24108">[ thread ]</a>
              <a href="subject.html#24108">[ subject ]</a>
              <a href="author.html#24108">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Recently I discovered what many looks like many other before me have already 
figured out.  The code to give new users a default roster only works one 
way.  It doesn't add roster entries for those who are listed in the 
roster.xml file like one would expect.

For example, this item appears in the roster.xml distribution file file:
&lt;item name='Helpdesk' jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">helpdesk at localhost</A>' subscription='both'&gt;
  &lt;group&gt;Support&lt;/group&gt;
&lt;/item&gt;

If I was to use that file, then new users get this <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">helpdesk at localhost</A> added 
to their
roster, but <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">helpdesk at localhost</A> doesn't get a corresponding item for the new 
user in
their roster.

That makes the roster.xml almost useless, because even though the new user 
thinks they
are subscribed to Helpdesk, when Helpdesk's presence changes, the new user 
never gets
updates because it appears that jabber2d looks at helpdesks roster entries 
to determine who to
send presence to.  Furthermore, when Helpdesk gets presence updates about 
the new user, it
often doesn't know what to do with them, since the new user isn't in 
helpdesks roster.

Perhaps someone can tell me why this functionality was left out?  Maybe I'm 
missing some information?

I've read that others have used scripts to get around the problem, but I've 
looked at the mod_template_roster.c code and it doesn't look like it will be 
too hard to fix the problem there.
If I fix the problem can I contribute the code to the project or something?

Thanks,
Robert Temple



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024109.html">[jdev] Re: Stream compression with jzlib?
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24108">[ date ]</a>
              <a href="thread.html#24108">[ thread ]</a>
              <a href="subject.html#24108">[ subject ]</a>
              <a href="author.html#24108">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Protocol bits and discussion
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Protocol%20bits%20and%20discussion&In-Reply-To=Pine.LNX.3.96.990602162122.974D-100000%40mondo.eppg.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000657.html">
   <LINK REL="Next"  HREF="000659.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Protocol bits and discussion</H1>
    <B>Robert La Quey</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Protocol%20bits%20and%20discussion&In-Reply-To=Pine.LNX.3.96.990602162122.974D-100000%40mondo.eppg.com"
       TITLE="[JDEV] Protocol bits and discussion">robertl1 at home.com
       </A><BR>
    <I>Wed Jun  2 17:22:51 CDT 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="000657.html">[JDEV] Protocol bits and discussion
</A></li>
        <LI>Next message: <A HREF="000659.html">[JDEV] Protocol bits and discussion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#658">[ date ]</a>
              <a href="thread.html#658">[ thread ]</a>
              <a href="subject.html#658">[ subject ]</a>
              <a href="author.html#658">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 04:32 PM 6/2/99 -0500, you wrote:
&gt;<i>
</I>&gt;<i>A kind of general rule of thumb is that you wrap &quot;core data&quot; with tags,
</I>&gt;<i>and you place any optional attributes of that core data in attributes.  So
</I>&gt;<i>the core data of every packet is a sub-tag, and any attributes of that
</I>&gt;<i>data is described with attributes in those tags.
</I>&gt;<i>
</I>&gt;<i>Right now there aren't many attributes, but as more is demanded of Jabber
</I>&gt;<i>I'd expect that more optional attributes will pop up over time(for example
</I>&gt;<i>&lt;icon src='<A HREF="http://asdf/mystatus.gif'">http://asdf/mystatus.gif'</A>&gt;away&lt;/icon&gt; might be a future
</I>&gt;<i>possibility)
</I>&gt;<i>
</I>&gt;<i>Does this make sense?
</I>&gt;<i>
</I>
Sort of but it still seems pretty arbitry. 

Let's take another tack. Your example extending the &lt;pass&gt; tag 
leads me into the following thoughts. 

Parsing the XML naturally leads to a tree. Attributes 
reside at the nodes of the tree. Nesting rules lead us 
up and down the tree. 

If I expect a node of the tree might be extended by 
adding a sub tree then I should use a tag. If not use
an attribute. 

Your example:

&gt;<i>In Jabber's case, there are a few good reasons to structure it as it is:
</I>&gt;<i>at some point in the future the protocol might expand in unforseen ways,
</I>&gt;<i>say you wanted to support a special type of password that was incompatible
</I>&gt;<i>with anything else, you could easily:
</I>&gt;<i>  &lt;login&gt;
</I>&gt;<i>	&lt;user&gt;test&lt;/user&gt;
</I>&gt;<i>	&lt;pass type='test'&gt;test&lt;/pass&gt;
</I>&gt;<i>	&lt;nick&gt;test&lt;/nick&gt;
</I>&gt;<i>  &lt;/login&gt;
</I>&gt;<i>So that all of the &quot;old&quot; servers and clients would simply ignore the new
</I>&gt;<i>optional type='' attribute.  It works out much more cleanly with the
</I>&gt;<i>current approach.
</I>&gt;<i>
</I>
needs a tag because you perceive passwords as extensible. 
This could be dealt with by using attributes of &lt;login&gt;
e.g one could have an associative array of attributes 
indexed by the first key=&quot;whatever&quot;. I do agree it is 
more natural and cleaner to express pass as a &lt;pass&gt; tag. 

Still it is less than obvious to me that we have a really
good design rule for determining what is a tag and what is
a waht is an attribute. 

Now note though that it is quite possible that none of 
us is going to do a good job of predicting the future. 
A mechanism for evolving XML systems is needed, i.e.

Mapping JABBER V 1.0 =&gt; JABBER V 2.0 where the actual
tags are different form V 1.0 to V 2.0. Maybe one 
wants to do this on the flie. It does not appear to be 
too dificult but the devil may lie in the details. 

I dunno. 




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000657.html">[JDEV] Protocol bits and discussion
</A></li>
	<LI>Next message: <A HREF="000659.html">[JDEV] Protocol bits and discussion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#658">[ date ]</a>
              <a href="thread.html#658">[ thread ]</a>
              <a href="subject.html#658">[ subject ]</a>
              <a href="author.html#658">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

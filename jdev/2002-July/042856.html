<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] DSPS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20DSPS&In-Reply-To=%3C1027518717.1625.35.camel%40fortitude%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042849.html">
   <LINK REL="Next"  HREF="042858.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] DSPS</H1>
    <B>Matthew A. Miller</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20DSPS&In-Reply-To=%3C1027518717.1625.35.camel%40fortitude%3E"
       TITLE="[JDEV] DSPS">linuxwolf at outer-planes.no-ip.com
       </A><BR>
    <I>Wed Jul 24 08:51:54 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="042849.html">[JDEV] DSPS
</A></li>
        <LI>Next message: <A HREF="042858.html">[JDEV] DSPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42856">[ date ]</a>
              <a href="thread.html#42856">[ thread ]</a>
              <a href="subject.html#42856">[ subject ]</a>
              <a href="author.html#42856">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Many within the Jabber Community are finding the need for something like
DSPS.  This is why it was brought forward (well, that and the somewhat
general consensus that PASS is lacking (-: ).  If you believe a
SOCKS-based approach meets these needs better, then by all means draft
up a JEP, so we can discuss it!

DSPS is about a little more than just &quot;breaching firewalls&quot;.  It also
handles stream negotiation, from within the Jabber protocol.  Yes, if a
&quot;direct&quot; socket connections were possible, DSPS might not be necessary. 
But &quot;direct&quot; means that Jabber entities, on any networked environment,
can establish this type of connection.  Certain environments (Java
Applets being just one example) generally do not allow arbitrary stream
connections.

Finally, DSPS is a proposed &quot;standard&quot; to the Jabber protocol.  This
means that (if DSPS is voted in by the Council) application developers
can rely on a known way to handle stream negotiation.  JEPs are more
than just &lt;x/&gt; or &lt;query/&gt; add-ons; they define &quot;accepted practices&quot; for
Jabber application development.

Since you see a SOCKS-based solution, then please draft up a JEP or even
some simple &quot;process thoughts&quot;.  Anything that we can then discuss the
merits, and possibly compare/contrast to DSPS (or other proposals).

I think competition is generally a Good Thing(TM) (-:


On Wed, 2002-07-24 at 01:34, Richard Dobson wrote:
&gt;<i> Yes but if a SOCKS server will not be setup and it is because of network
</I>&gt;<i> security etc then you shouldnt really be trying any method of breaching the
</I>&gt;<i> firewall, as that will most likely be against company network use policies
</I>&gt;<i> and could quite possibly get you sacked.
</I>&gt;<i> 
</I>&gt;<i> Sorry to put a dampener on this it looks for for some uses (helping people
</I>&gt;<i> with home nats) but it has problems where it may be possibly breaching
</I>&gt;<i> security policies, it may also cause the network admins to actively block
</I>&gt;<i> all jabber connections if they find people using it to breach network
</I>&gt;<i> security even if they wernt too worried about it being a threat before.
</I>&gt;<i> 
</I>&gt;<i> Richard
</I>&gt;<i> 
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Dave&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dave at dave.tj</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> Sent: Wednesday, July 24, 2002 2:03 AM
</I>&gt;<i> Subject: Re: [JDEV] DSPS
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; Often, the problem is not technical (a SOCKS server can't be setup because
</I>&gt;<i> &gt; it'd compomise network security), but is rather administrative (a SOCKS
</I>&gt;<i> &gt; server can't be setup because there's too much beauracracy involved,
</I>&gt;<i> &gt; plus the possibility that the network admin is too scared to poke holes
</I>&gt;<i> &gt; in his firewall, not realizing that allowing outgoing connections is
</I>&gt;<i> &gt; already poking a hole big enough for people to create virtual incoming
</I>&gt;<i> &gt; connections).  Also, an old hardware-based firewall may not even support a
</I>&gt;<i> &gt; SOCKS add-on.  Finally, there's no real reason for people to have to setup
</I>&gt;<i> &gt; a rather complex piece of software on their firewalls just so they can
</I>&gt;<i> &gt; transfer files in Jabber; let them use a server-based solution instead.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  - Dave
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; BTW - Due to my bad luck at avoiding running over my quota for daily
</I>&gt;<i> &gt; messages when answering your emails, I don't plan to reply to any more
</I>&gt;<i> &gt; messages in this thread.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Richard Dobson wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Why not just get people to use SOCKS5 ?? or similar instead of trying to
</I>&gt;<i> &gt; &gt; reinvent the wheel as it were. If on a corporate LAN and there is a
</I>&gt;<i> firewall
</I>&gt;<i> &gt; &gt; with no SOCKS server then people probably shouldnt really be trying to
</I>&gt;<i> &gt; &gt; bypass the company firewall anyway. If not then they need to pester the
</I>&gt;<i> &gt; &gt; network manager to set up a SOCKS server to service the jabber clients.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ----- Original Message -----
</I>&gt;<i> &gt; &gt; From: &quot;Matthew A. Miller&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">linuxwolf at outer-planes.no-ip.com</A>&gt;
</I>&gt;<i> &gt; &gt; To: &quot;JDEV Mailing List&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">standards-jig at jabber.org</A>&gt;
</I>&gt;<i> &gt; &gt; Sent: Tuesday, July 23, 2002 7:51 PM
</I>&gt;<i> &gt; &gt; Subject: Re: [JDEV] DSPS
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; The original intent of DSPS was to address the problems transferring
</I>&gt;<i> &gt; &gt; &gt; data to/from &quot;firewalled&quot; clients, without introducing new issues (as
</I>&gt;<i> &gt; &gt; &gt; with PASS).
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; The current spec talks solely about components, although a
</I>&gt;<i> &quot;stand-alone&quot;
</I>&gt;<i> &gt; &gt; &gt; server could be utilized.  Also, although it is not by design, this
</I>&gt;<i> &gt; &gt; &gt; could handle direct connections, with one of the clients acting as a
</I>&gt;<i> &gt; &gt; &gt; DSPS &quot;server&quot; (for connection-handling only; I know I wouldn't want
</I>&gt;<i> &gt; &gt; &gt; someone trying to tell my client to create a DSPS connection for them
</I>&gt;<i> &gt; &gt; &gt; (-: ).  This (a client-side DSPS &quot;server&quot;) is something I've thought
</I>&gt;<i> &gt; &gt; &gt; about just recently, while looking at how we can &quot;clean up&quot; the
</I>&gt;<i> current
</I>&gt;<i> &gt; &gt; &gt; specification.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; At its core, DSPS is fairly easy to support from a client (as others
</I>&gt;<i> &gt; &gt; &gt; have stated).  Also, it's &quot;required&quot; functionality (which, I admit, is
</I>&gt;<i> &gt; &gt; &gt; not clearly differentiated from &quot;optional&quot; functionality) is not all
</I>&gt;<i> &gt; &gt; &gt; that difficult to implement, and (with modifications, or a new spec)
</I>&gt;<i> &gt; &gt; &gt; could be used in direct, P2P connections.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Personally, I think a single &quot;standardized&quot; method of handling &quot;data
</I>&gt;<i> &gt; &gt; &gt; connections&quot; needs to be defined for Jabber, whether it be via DSPS,
</I>&gt;<i> &gt; &gt; &gt; PASS, or even modifications to the current OOB mechanism.  Currently,
</I>&gt;<i> I
</I>&gt;<i> &gt; &gt; &gt; can see DSPS as becoming an adequate, maybe even preferred, method of
</I>&gt;<i> &gt; &gt; &gt; doing this.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; This is my opinion, although your mileage (and opinions) may (most
</I>&gt;<i> &gt; &gt; &gt; likely) vary.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; On Tue, 2002-07-23 at 10:50, Ben Schumacher wrote:
</I>&gt;<i> &gt; &gt; &gt;     (Cross-posting, cause I think it applies to both lists.)
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;     I agree, that using a stream layer separate from the file transfer
</I>&gt;<i> &gt; &gt; would
</I>&gt;<i> &gt; &gt; &gt;     be preferred, I just think we shouldn't rely on a server as a
</I>&gt;<i> passthru
</I>&gt;<i> &gt; &gt; in
</I>&gt;<i> &gt; &gt; &gt;     all situations. Working around firewall issues is a problem that
</I>&gt;<i> has
</I>&gt;<i> &gt; &gt; been
</I>&gt;<i> &gt; &gt; &gt;     solved by nearly every peer-to-peer network in existence, so I
</I>&gt;<i> assume
</I>&gt;<i> &gt; &gt; &gt;     there has to be a solution that will work for Jabber. In fact, by
</I>&gt;<i> &gt; &gt; keeping
</I>&gt;<i> &gt; &gt; &gt;     the stream layer separate, it should be possible to initiate the
</I>&gt;<i> &gt; &gt; connect
</I>&gt;<i> &gt; &gt; &gt;     from either side and then do a data transfer in either direction.
</I>&gt;<i> This
</I>&gt;<i> &gt; &gt; way
</I>&gt;<i> &gt; &gt; &gt;     if I am behind a firewall, but the person I'm communicating with
</I>&gt;<i> &gt; &gt; isn't, I
</I>&gt;<i> &gt; &gt; &gt;     can open a connection to them and then push my data across.
</I>&gt;<i> Perhaps
</I>&gt;<i> &gt; &gt; the
</I>&gt;<i> &gt; &gt; &gt;     DSPS spec should be expanded/altered to the point where it doesn't
</I>&gt;<i> &gt; &gt; &gt;     necessarily imply that a proxy is necessary.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;     Currently, the server doesn't have any knowledge of what a user's
</I>&gt;<i> IP
</I>&gt;<i> &gt; &gt; is
</I>&gt;<i> &gt; &gt; &gt;     beyond socket creation, and I would guess that this will stay this
</I>&gt;<i> way
</I>&gt;<i> &gt; &gt; in
</I>&gt;<i> &gt; &gt; &gt;     the open source implementation -- it is a privacy concern, after
</I>&gt;<i> all.
</I>&gt;<i> &gt; &gt; That
</I>&gt;<i> &gt; &gt; &gt;     being said, however, it would be pretty easy to write something
</I>&gt;<i> that
</I>&gt;<i> &gt; &gt; would
</I>&gt;<i> &gt; &gt; &gt;     have this information (a DSPS component?) available if it was
</I>&gt;<i> &gt; &gt; necessary.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;     Does any of this make sense? I'm just trying to avoid
</I>&gt;<i> &gt; &gt; designing/developing
</I>&gt;<i> &gt; &gt; &gt;     something that will not be used, because servers probably won't
</I>&gt;<i> want
</I>&gt;<i> &gt; &gt; to
</I>&gt;<i> &gt; &gt; &gt;     take the extra bandwidth hit just to provide their users with the
</I>&gt;<i> &gt; &gt; ability
</I>&gt;<i> &gt; &gt; &gt;     to do file transfers.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;     bs.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;     On Tue, 23 Jul 2002, Justin Karneges wrote:
</I>&gt;<i> &gt; &gt; &gt;     &gt; The problem is that there is otherwise no real clean way to
</I>&gt;<i> &gt; &gt; establish a direct
</I>&gt;<i> &gt; &gt; &gt;     &gt; connection.  Everyone is behind a firewall these days.
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt; Maybe jabberd should support a way of getting your external IP
</I>&gt;<i> &gt; &gt; address, so
</I>&gt;<i> &gt; &gt; &gt;     &gt; that there could be some sort of stream negotiation between two
</I>&gt;<i> &gt; &gt; clients.  As
</I>&gt;<i> &gt; &gt; &gt;     &gt; it stands, clients don't even know what their real external
</I>&gt;<i> address
</I>&gt;<i> &gt; &gt; is unless
</I>&gt;<i> &gt; &gt; &gt;     &gt; you were to specify it directly (not exactly user-friendly).
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt; The &quot;stream&quot; idea IMO makes more sense than just http URLs,
</I>&gt;<i> because
</I>&gt;<i> &gt; &gt; it implies
</I>&gt;<i> &gt; &gt; &gt;     &gt; more possibilities than just file transfer.  It also keeps the
</I>&gt;<i> &gt; &gt; stream
</I>&gt;<i> &gt; &gt; &gt;     &gt; handshake as a separate layer, which simplifies things when you
</I>&gt;<i> &gt; &gt; consider the
</I>&gt;<i> &gt; &gt; &gt;     &gt; various possible methods of transport (TCP, DSPS, PASS,
</I>&gt;<i> &gt; &gt; XML-thru-server??),
</I>&gt;<i> &gt; &gt; &gt;     &gt; SSL, reverse-connections, etc.  I completely agree with Rob
</I>&gt;<i> about
</I>&gt;<i> &gt; &gt; keeping the
</I>&gt;<i> &gt; &gt; &gt;     &gt; stream layer _separate_ from the file transfer.
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt; DSPS is dead-easy to use from a client perspective.  What we
</I>&gt;<i> need is
</I>&gt;<i> &gt; &gt; something
</I>&gt;<i> &gt; &gt; &gt;     &gt; similar to it, as a standard part of jabberd, that allows
</I>&gt;<i> clients to
</I>&gt;<i> &gt; &gt; ask for
</I>&gt;<i> &gt; &gt; &gt;     &gt; a stream to another JID.  Something very simple like:  &quot;Oh, you
</I>&gt;<i> want
</I>&gt;<i> &gt; &gt; &gt;     &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">joe at blow.org</A>/Home?  Connect to this IP address.&quot;  This might be
</I>&gt;<i> &gt; &gt; through DSPS,
</I>&gt;<i> &gt; &gt; &gt;     &gt; or it might be direct, or whatever.  I'm just saying, we need a
</I>&gt;<i> &gt; &gt; simple way
</I>&gt;<i> &gt; &gt; &gt;     &gt; for clients to ask for a stream.  DSPS seems to have a nice
</I>&gt;<i> &gt; &gt; interface, but it
</I>&gt;<i> &gt; &gt; &gt;     &gt; assumes we want to route through an external point.  Maybe the
</I>&gt;<i> real
</I>&gt;<i> &gt; &gt; solution
</I>&gt;<i> &gt; &gt; &gt;     &gt; is to have an even smarter component that will hook you up
</I>&gt;<i> directly
</I>&gt;<i> &gt; &gt; to the
</I>&gt;<i> &gt; &gt; &gt;     &gt; other person if possible, otherwise fall back to DSPS (all
</I>&gt;<i> hiding
</I>&gt;<i> &gt; &gt; this from
</I>&gt;<i> &gt; &gt; &gt;     &gt; the client).
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt; The current situation is not optimal.
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt; -Justin
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;     _______________________________________________
</I>&gt;<i> &gt; &gt; &gt;     jdev mailing list
</I>&gt;<i> &gt; &gt; &gt;     <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Matt &quot;Linuxwolf&quot; Miller
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; - Got &quot;JABBER&quot;? (<A HREF="http://www.jabbercentral.org/">http://www.jabbercentral.org/</A>)
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; jdev mailing list
</I>&gt;<i> &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>-- 

Matt &quot;Linuxwolf&quot; Miller
e-mail &amp;&amp; jid:  <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">linuxwolf at outer-planes.net</A>

- got JABBER? (<A HREF="http://www.jabbercentral.org/">http://www.jabbercentral.org/</A>)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042849.html">[JDEV] DSPS
</A></li>
	<LI>Next message: <A HREF="042858.html">[JDEV] DSPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42856">[ date ]</a>
              <a href="thread.html#42856">[ thread ]</a>
              <a href="subject.html#42856">[ subject ]</a>
              <a href="author.html#42856">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

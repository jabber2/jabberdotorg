<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> General Redirect, was RE: [JDEV] 302 Redirect
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20General%20Redirect%2C%20was%20RE%3A%20%5BJDEV%5D%20302%20Redirect&In-Reply-To=%3CNGBBKDNHOKCJEILHNKDDEEFBCPAA.wolf%40bluehands.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072199.html">
   <LINK REL="Next"  HREF="072226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>General Redirect, was RE: [JDEV] 302 Redirect</H1>
    <B>Klaus H. Wolf</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20General%20Redirect%2C%20was%20RE%3A%20%5BJDEV%5D%20302%20Redirect&In-Reply-To=%3CNGBBKDNHOKCJEILHNKDDEEFBCPAA.wolf%40bluehands.de%3E"
       TITLE="General Redirect, was RE: [JDEV] 302 Redirect">wolf at bluehands.de
       </A><BR>
    <I>Mon Jul 29 06:38:42 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="072199.html">[JDEV] 302 Redirect
</A></li>
        <LI>Next message: <A HREF="072226.html">General Redirect, was RE: [JDEV] 302 Redirect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72224">[ date ]</a>
              <a href="thread.html#72224">[ thread ]</a>
              <a href="subject.html#72224">[ subject ]</a>
              <a href="author.html#72224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK,

1. reason:
In my application I need to be able to redirect an IQ GET. The client asks
for a data object, but the data object might be somewhere else.

2. reason:
I assume we agree, that Jabber is not only a presence Protocol, but a
presence enabled messaging infrastructure with browsing capability. Browsing
is very important and will even grow. There might be other cases where only
the browse-target knows the real location of the data object. The case is
very similar to reasons for HTTP redirect.

My idea was that the IQ result returns the entire new request (including
id-attr) so that the client does not have to do more than just sending this
data. Even a potential request (which will usually be identified by the
id-attr) is preserved and re-used. The redirect won't even surface at the
protocol engine level. It would be handled by lower layers of a Jabber
protocol processor.

--
Dr. Klaus H. Wolf
bluehands GmbH &amp; Co.mmunication KG
<A HREF="http://www.bluehands.de/people/hw">http://www.bluehands.de/people/hw</A>
+49 (0721) 16108 75

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-admin at jabber.org</A> [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-admin at jabber.org</A>]On Behalf Of
</I>&gt;<i> Richard Dobson
</I>&gt;<i> Sent: Saturday, July 27, 2002 11:17 PM
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> Subject: Re: [JDEV] 302 Redirect
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Why do you want to do redirects like this anyway? whats the point?
</I>&gt;<i>
</I>&gt;<i> Can you explain it to me/us please.
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> Richard
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Klaus H. Wolf&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">wolf at bluehands.de</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> Sent: Saturday, July 27, 2002 3:27 PM
</I>&gt;<i> Subject: RE: [JDEV] 302 Redirect
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; Ok, right, I take a different one.
</I>&gt;<i> &gt; Would you folks take note that WE might need a redirection scheme for IQ
</I>&gt;<i> &gt; requests as we know it from HTTP, i.e. to be able to redirect the entire
</I>&gt;<i> &gt; request. Since IQ-get is used much (and more and more) like
</I>&gt;<i> HTTP GET this
</I>&gt;<i> &gt; probably appropriate.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Dr. Klaus H. Wolf
</I>&gt;<i> &gt; bluehands GmbH &amp; Co.mmunication KG
</I>&gt;<i> &gt; <A HREF="http://www.bluehands.de/people/hw">http://www.bluehands.de/people/hw</A>
</I>&gt;<i> &gt; +49 (0721) 16108 75
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-admin at jabber.org</A> [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-admin at jabber.org</A>]On Behalf Of
</I>&gt;<i> &gt; &gt; Richard Dobson
</I>&gt;<i> &gt; &gt; Sent: Saturday, July 27, 2002 2:47 PM
</I>&gt;<i> &gt; &gt; To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; Subject: Re: [JDEV] 302 Redirect
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; My understanding is that a 302 redirect is supposed to be for telling
</I>&gt;<i> the
</I>&gt;<i> &gt; &gt; client to re-connect to a specified server, for use in server farm or
</I>&gt;<i> &gt; &gt; similar.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; E.g. as a response to an authentication the server may send:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &lt;iq type=&quot;error&quot; id=&quot;authtag&quot; to=<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">client at server.com</A> from=&quot;server.com&quot;&gt;
</I>&gt;<i> &gt; &gt; &lt;error code=&quot;302&quot;&gt;jabber2.server.com:5269&lt;/error&gt;
</I>&gt;<i> &gt; &gt; &lt;/iq&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I dont think your use of 302 is correct, maybe your need a different
</I>&gt;<i> error
</I>&gt;<i> &gt; &gt; code for your use.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Richard
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ----- Original Message -----
</I>&gt;<i> &gt; &gt; From: &quot;Klaus H. Wolf&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">wolf at bluehands.de</A>&gt;
</I>&gt;<i> &gt; &gt; To: &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">Jdev at Jabber.</A> Org&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> &gt; &gt; Sent: Friday, July 26, 2002 4:43 PM
</I>&gt;<i> &gt; &gt; Subject: [JDEV] 302 Redirect
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; can the 302 Redirect code be used for iq error responses?
</I>&gt;<i> &gt; &gt; &gt; If yes: The saying is that the redirect JID is sent as CDATA of
</I>&gt;<i> &gt; &gt; the error
</I>&gt;<i> &gt; &gt; &gt; tag, right?
</I>&gt;<i> &gt; &gt; &gt; I propose to put the entire should-be request into the CDATA.
</I>&gt;<i> &gt; &gt; This allows
</I>&gt;<i> &gt; &gt; to
</I>&gt;<i> &gt; &gt; &gt; change more than just the destination, i.e. the namespace or more.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Example :
</I>&gt;<i> &gt; &gt; &gt; CLIENT: &lt;iq id='5' type='get' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>'&gt;&lt;query
</I>&gt;<i> &gt; &gt; &gt; xmlns='jabber:iq:xx'/&gt;&lt;/iq&gt;
</I>&gt;<i> &gt; &gt; &gt; SERVER: &lt;iq id='5' type='error'&gt;
</I>&gt;<i> &gt; &gt; &gt;          &lt;error code='302'&gt;
</I>&gt;<i> &gt; &gt; &gt;            &lt;iq id='5' type='get' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at server</A>'&gt;&lt;query
</I>&gt;<i> &gt; &gt; &gt; xmlns='storage:client:xx'/&gt;&lt;/iq&gt;
</I>&gt;<i> &gt; &gt; &gt;          &lt;/error&gt;
</I>&gt;<i> &gt; &gt; &gt;         &lt;/iq&gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; It might be necessary to escape the embedded data.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Opinions?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; Dr. Klaus H. Wolf
</I>&gt;<i> &gt; &gt; &gt; bluehands GmbH &amp; Co.mmunication KG
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://www.bluehands.de/people/hw">http://www.bluehands.de/people/hw</A>
</I>&gt;<i> &gt; &gt; &gt; +49 (0721) 16108 75
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; jdev mailing list
</I>&gt;<i> &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072199.html">[JDEV] 302 Redirect
</A></li>
	<LI>Next message: <A HREF="072226.html">General Redirect, was RE: [JDEV] 302 Redirect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72224">[ date ]</a>
              <a href="thread.html#72224">[ thread ]</a>
              <a href="subject.html#72224">[ subject ]</a>
              <a href="author.html#72224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

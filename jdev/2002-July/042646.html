<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] &lt;dynamic/&gt; config tag (in search of portable C lib)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20%3Cdynamic/%3E%20config%20tag%20%28in%20search%20of%20portable%20C%20lib%29&In-Reply-To=%3CPine.LNX.4.10.10207091427370.9351-100000%40lor.jeremie.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042632.html">
   <LINK REL="Next"  HREF="042630.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] &lt;dynamic/&gt; config tag (in search of portable C lib)</H1>
    <B>Jeremie</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20%3Cdynamic/%3E%20config%20tag%20%28in%20search%20of%20portable%20C%20lib%29&In-Reply-To=%3CPine.LNX.4.10.10207091427370.9351-100000%40lor.jeremie.com%3E"
       TITLE="[JDEV] &lt;dynamic/&gt; config tag (in search of portable C lib)">jeremie at jabber.org
       </A><BR>
    <I>Tue Jul  9 14:34:33 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="042632.html">[JDEV] &lt;dynamic/&gt; config tag (in search of portable C lib)
</A></li>
        <LI>Next message: <A HREF="042630.html">[JDEV] Logging in on the same machine, same user but different resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42646">[ date ]</a>
              <a href="thread.html#42646">[ thread ]</a>
              <a href="subject.html#42646">[ subject ]</a>
              <a href="author.html#42646">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I had to actually look at the source for this, it's been a while :)

The &lt;dynamic/&gt; feature is pretty simple, it allows you to configure a
service that points to a given folder, and then matches any user@ or
/resource to a file within that folder based on name.  First it looks for
the name.so and then tries to load it like any other .so, and failing that
it checks to see if the file is executable, and if so runs it like an
&lt;exec/&gt; via stdin/stdout.

The config format looks specifically like:
 &lt;dynamic&gt;
  &lt;folder&gt;/path/to/folder&lt;/folder&gt;
  &lt;match&gt;user&lt;/match&gt; (can be &quot;resource&quot; instead)
 &lt;/dynamic&gt;

What this gives you is a very simple way of testing bots or scripts,
almost like CGI, that can be enabled and changed without restarting the
server.  A fun toy, maybe even useful somehow.

Jer


On Tue, 9 Jul 2002, DJ Adams wrote:

&gt;<i> On Tue, Jul 09, 2002 at 01:12:25PM +0200, Andreas Ames wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; while wading through the 1.4.2 sources to figure out how to use
</I>&gt;<i> &gt; libjabber (which is the only C lib for jabber I found that seems to be
</I>&gt;<i> &gt; complete and somewhat portable; any other recommendations are
</I>&gt;<i> &gt; welcome), I came across the &lt;dynamic/&gt; config tag in base_dynamic.c.
</I>&gt;<i> &gt; So far I have no clue how to use it and what it's for (I assume I can
</I>&gt;<i> &gt; influence the delivery process/message routing with dynamic handlers;
</I>&gt;<i> &gt; but I may be completely wrong).  Unfortunately I'm very curious.
</I>&gt;<i> &gt; Neither google nor DJ Adams' book were my friends here.  Can someone
</I>&gt;<i> &gt; help me out, please?
</I>&gt;<i> 
</I>&gt;<i> Hi Andreas
</I>&gt;<i> 
</I>&gt;<i> If I remember correctly, it's something that Jer put together during 1.4.1
</I>&gt;<i> but remained experimental. (Programming Jabber was based more or less on 
</I>&gt;<i> 1.4.1 but as I had to prune the contents, experimental stuff was always
</I>&gt;<i> first on the cuttingroom floor :-). It's basically a way of being able to
</I>&gt;<i> plug handlers into a running jabberd. I think it's defined per-component,
</I>&gt;<i> so you'd have something like:
</I>&gt;<i> 
</I>&gt;<i> &lt;service id='dynamicstuff'&gt;
</I>&gt;<i>   &lt;host&gt;blah&lt;/host&gt;
</I>&gt;<i>   &lt;dynamic&gt;
</I>&gt;<i>     definition of dynamic files here
</I>&gt;<i>   &lt;/dynamic&gt;
</I>&gt;<i> &lt;/service&gt;
</I>&gt;<i> 
</I>&gt;<i> The files (all in the same directory) are .so loadable, I think, and
</I>&gt;<i> have to confirm to the jabberd API. 
</I>&gt;<i> 
</I>&gt;<i> HTH a bit
</I>&gt;<i> dj
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042632.html">[JDEV] &lt;dynamic/&gt; config tag (in search of portable C lib)
</A></li>
	<LI>Next message: <A HREF="042630.html">[JDEV] Logging in on the same machine, same user but different resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42646">[ date ]</a>
              <a href="thread.html#42646">[ thread ]</a>
              <a href="subject.html#42646">[ subject ]</a>
              <a href="author.html#42646">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

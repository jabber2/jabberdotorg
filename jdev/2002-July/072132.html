<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] DSPS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20DSPS&In-Reply-To=%3C200207240103.g6O13om20227%40dave2.dave.tj%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072131.html">
   <LINK REL="Next"  HREF="072134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] DSPS</H1>
    <B>Dave</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20DSPS&In-Reply-To=%3C200207240103.g6O13om20227%40dave2.dave.tj%3E"
       TITLE="[JDEV] DSPS">dave at dave.tj
       </A><BR>
    <I>Tue Jul 23 20:03:49 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="072131.html">[JDEV] DSPS
</A></li>
        <LI>Next message: <A HREF="072134.html">[JDEV] DSPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72132">[ date ]</a>
              <a href="thread.html#72132">[ thread ]</a>
              <a href="subject.html#72132">[ subject ]</a>
              <a href="author.html#72132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Often, the problem is not technical (a SOCKS server can't be setup because
it'd compomise network security), but is rather administrative (a SOCKS
server can't be setup because there's too much beauracracy involved,
plus the possibility that the network admin is too scared to poke holes
in his firewall, not realizing that allowing outgoing connections is
already poking a hole big enough for people to create virtual incoming
connections).  Also, an old hardware-based firewall may not even support a
SOCKS add-on.  Finally, there's no real reason for people to have to setup
a rather complex piece of software on their firewalls just so they can
transfer files in Jabber; let them use a server-based solution instead.

 - Dave

BTW - Due to my bad luck at avoiding running over my quota for daily
messages when answering your emails, I don't plan to reply to any more
messages in this thread.


Richard Dobson wrote:
&gt;<i> 
</I>&gt;<i> Why not just get people to use SOCKS5 ?? or similar instead of trying to
</I>&gt;<i> reinvent the wheel as it were. If on a corporate LAN and there is a firewall
</I>&gt;<i> with no SOCKS server then people probably shouldnt really be trying to
</I>&gt;<i> bypass the company firewall anyway. If not then they need to pester the
</I>&gt;<i> network manager to set up a SOCKS server to service the jabber clients.
</I>&gt;<i> 
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Matthew A. Miller&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">linuxwolf at outer-planes.no-ip.com</A>&gt;
</I>&gt;<i> To: &quot;JDEV Mailing List&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">standards-jig at jabber.org</A>&gt;
</I>&gt;<i> Sent: Tuesday, July 23, 2002 7:51 PM
</I>&gt;<i> Subject: Re: [JDEV] DSPS
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; The original intent of DSPS was to address the problems transferring
</I>&gt;<i> &gt; data to/from &quot;firewalled&quot; clients, without introducing new issues (as
</I>&gt;<i> &gt; with PASS).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The current spec talks solely about components, although a &quot;stand-alone&quot;
</I>&gt;<i> &gt; server could be utilized.  Also, although it is not by design, this
</I>&gt;<i> &gt; could handle direct connections, with one of the clients acting as a
</I>&gt;<i> &gt; DSPS &quot;server&quot; (for connection-handling only; I know I wouldn't want
</I>&gt;<i> &gt; someone trying to tell my client to create a DSPS connection for them
</I>&gt;<i> &gt; (-: ).  This (a client-side DSPS &quot;server&quot;) is something I've thought
</I>&gt;<i> &gt; about just recently, while looking at how we can &quot;clean up&quot; the current
</I>&gt;<i> &gt; specification.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; At its core, DSPS is fairly easy to support from a client (as others
</I>&gt;<i> &gt; have stated).  Also, it's &quot;required&quot; functionality (which, I admit, is
</I>&gt;<i> &gt; not clearly differentiated from &quot;optional&quot; functionality) is not all
</I>&gt;<i> &gt; that difficult to implement, and (with modifications, or a new spec)
</I>&gt;<i> &gt; could be used in direct, P2P connections.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Personally, I think a single &quot;standardized&quot; method of handling &quot;data
</I>&gt;<i> &gt; connections&quot; needs to be defined for Jabber, whether it be via DSPS,
</I>&gt;<i> &gt; PASS, or even modifications to the current OOB mechanism.  Currently, I
</I>&gt;<i> &gt; can see DSPS as becoming an adequate, maybe even preferred, method of
</I>&gt;<i> &gt; doing this.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This is my opinion, although your mileage (and opinions) may (most
</I>&gt;<i> &gt; likely) vary.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Tue, 2002-07-23 at 10:50, Ben Schumacher wrote:
</I>&gt;<i> &gt;     (Cross-posting, cause I think it applies to both lists.)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     I agree, that using a stream layer separate from the file transfer
</I>&gt;<i> would
</I>&gt;<i> &gt;     be preferred, I just think we shouldn't rely on a server as a passthru
</I>&gt;<i> in
</I>&gt;<i> &gt;     all situations. Working around firewall issues is a problem that has
</I>&gt;<i> been
</I>&gt;<i> &gt;     solved by nearly every peer-to-peer network in existence, so I assume
</I>&gt;<i> &gt;     there has to be a solution that will work for Jabber. In fact, by
</I>&gt;<i> keeping
</I>&gt;<i> &gt;     the stream layer separate, it should be possible to initiate the
</I>&gt;<i> connect
</I>&gt;<i> &gt;     from either side and then do a data transfer in either direction. This
</I>&gt;<i> way
</I>&gt;<i> &gt;     if I am behind a firewall, but the person I'm communicating with
</I>&gt;<i> isn't, I
</I>&gt;<i> &gt;     can open a connection to them and then push my data across. Perhaps
</I>&gt;<i> the
</I>&gt;<i> &gt;     DSPS spec should be expanded/altered to the point where it doesn't
</I>&gt;<i> &gt;     necessarily imply that a proxy is necessary.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Currently, the server doesn't have any knowledge of what a user's IP
</I>&gt;<i> is
</I>&gt;<i> &gt;     beyond socket creation, and I would guess that this will stay this way
</I>&gt;<i> in
</I>&gt;<i> &gt;     the open source implementation -- it is a privacy concern, after all.
</I>&gt;<i> That
</I>&gt;<i> &gt;     being said, however, it would be pretty easy to write something that
</I>&gt;<i> would
</I>&gt;<i> &gt;     have this information (a DSPS component?) available if it was
</I>&gt;<i> necessary.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Does any of this make sense? I'm just trying to avoid
</I>&gt;<i> designing/developing
</I>&gt;<i> &gt;     something that will not be used, because servers probably won't want
</I>&gt;<i> to
</I>&gt;<i> &gt;     take the extra bandwidth hit just to provide their users with the
</I>&gt;<i> ability
</I>&gt;<i> &gt;     to do file transfers.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     bs.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     On Tue, 23 Jul 2002, Justin Karneges wrote:
</I>&gt;<i> &gt;     &gt; The problem is that there is otherwise no real clean way to
</I>&gt;<i> establish a direct
</I>&gt;<i> &gt;     &gt; connection.  Everyone is behind a firewall these days.
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; Maybe jabberd should support a way of getting your external IP
</I>&gt;<i> address, so
</I>&gt;<i> &gt;     &gt; that there could be some sort of stream negotiation between two
</I>&gt;<i> clients.  As
</I>&gt;<i> &gt;     &gt; it stands, clients don't even know what their real external address
</I>&gt;<i> is unless
</I>&gt;<i> &gt;     &gt; you were to specify it directly (not exactly user-friendly).
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; The &quot;stream&quot; idea IMO makes more sense than just http URLs, because
</I>&gt;<i> it implies
</I>&gt;<i> &gt;     &gt; more possibilities than just file transfer.  It also keeps the
</I>&gt;<i> stream
</I>&gt;<i> &gt;     &gt; handshake as a separate layer, which simplifies things when you
</I>&gt;<i> consider the
</I>&gt;<i> &gt;     &gt; various possible methods of transport (TCP, DSPS, PASS,
</I>&gt;<i> XML-thru-server??),
</I>&gt;<i> &gt;     &gt; SSL, reverse-connections, etc.  I completely agree with Rob about
</I>&gt;<i> keeping the
</I>&gt;<i> &gt;     &gt; stream layer _separate_ from the file transfer.
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; DSPS is dead-easy to use from a client perspective.  What we need is
</I>&gt;<i> something
</I>&gt;<i> &gt;     &gt; similar to it, as a standard part of jabberd, that allows clients to
</I>&gt;<i> ask for
</I>&gt;<i> &gt;     &gt; a stream to another JID.  Something very simple like:  &quot;Oh, you want
</I>&gt;<i> &gt;     &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">joe at blow.org</A>/Home?  Connect to this IP address.&quot;  This might be
</I>&gt;<i> through DSPS,
</I>&gt;<i> &gt;     &gt; or it might be direct, or whatever.  I'm just saying, we need a
</I>&gt;<i> simple way
</I>&gt;<i> &gt;     &gt; for clients to ask for a stream.  DSPS seems to have a nice
</I>&gt;<i> interface, but it
</I>&gt;<i> &gt;     &gt; assumes we want to route through an external point.  Maybe the real
</I>&gt;<i> solution
</I>&gt;<i> &gt;     &gt; is to have an even smarter component that will hook you up directly
</I>&gt;<i> to the
</I>&gt;<i> &gt;     &gt; other person if possible, otherwise fall back to DSPS (all hiding
</I>&gt;<i> this from
</I>&gt;<i> &gt;     &gt; the client).
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; The current situation is not optimal.
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; -Justin
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     _______________________________________________
</I>&gt;<i> &gt;     jdev mailing list
</I>&gt;<i> &gt;     <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Matt &quot;Linuxwolf&quot; Miller
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - Got &quot;JABBER&quot;? (<A HREF="http://www.jabbercentral.org/">http://www.jabbercentral.org/</A>)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; jdev mailing list
</I>&gt;<i> &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072131.html">[JDEV] DSPS
</A></li>
	<LI>Next message: <A HREF="072134.html">[JDEV] DSPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72132">[ date ]</a>
              <a href="thread.html#72132">[ thread ]</a>
              <a href="subject.html#72132">[ subject ]</a>
              <a href="author.html#72132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

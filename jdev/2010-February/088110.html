<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] gmail + non-SASL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20gmail%20%2B%20non-SASL&In-Reply-To=%3CCC79DC46-B3FC-4FAD-9918-0884743FA19C%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="088109.html">
   <LINK REL="Next"  HREF="088111.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] gmail + non-SASL</H1>
    <B>Nathan Fritz</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20gmail%20%2B%20non-SASL&In-Reply-To=%3CCC79DC46-B3FC-4FAD-9918-0884743FA19C%40gmail.com%3E"
       TITLE="[jdev] gmail + non-SASL">nathanfritz at gmail.com
       </A><BR>
    <I>Wed Feb 24 10:27:55 CST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="088109.html">[jdev] gmail + non-SASL
</A></li>
        <LI>Next message: <A HREF="088111.html">[jdev] gmail + non-SASL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88110">[ date ]</a>
              <a href="thread.html#88110">[ thread ]</a>
              <a href="subject.html#88110">[ subject ]</a>
              <a href="author.html#88110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Feb 24, 2010, at 1:11 AM, Yann Leboulanger &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">asterix at lagaule.org</A>&gt;  
wrote:

&gt;<i> Nathan Fritz wrote:
</I>&gt;&gt;<i> You must be referring to the 5223 service? The resource hex values
</I>&gt;&gt;<i> indicate the cluster node your session data. I imagine only one of  
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> servers handles old-style jabber connections if it doesn't rewrite  
</I>&gt;&gt;<i> your
</I>&gt;&gt;<i> resource.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Using the old style auth is NOT xmpp 1.0 compliant while the server
</I>&gt;&gt;<i> rewriting resouces is acceptable in the spec and I think a really  
</I>&gt;&gt;<i> neat
</I>&gt;&gt;<i> solution for cluster optimization.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Another reason for the lack of resource rewrite in old style jabber  
</I>&gt;&gt;<i> is
</I>&gt;&gt;<i> that resource binding didn't exist. In short those connections are  
</I>&gt;&gt;<i> not
</I>&gt;&gt;<i> xmpp.
</I>&gt;<i>
</I>&gt;<i> No no I mean connected on port 5222, with TLS (not SSL). I'm only
</I>&gt;<i> talking about the authentication mechanism. Once connected and tls
</I>&gt;<i> proceeded, I send:
</I>&gt;<i>
</I>&gt;<i> &lt;iq xmlns=&quot;jabber:client&quot; type=&quot;get&quot; id=&quot;1&quot;&gt;&lt;query
</I>&gt;<i> xmlns=&quot;jabber:iq:auth&quot;&gt;&lt;username&gt;XXX&lt;/username&gt;&lt;/query&gt;&lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i> instead of
</I>&gt;<i>
</I>&gt;<i> &lt;auth xmlns=&quot;urn:ietf:params:xml:ns:xmpp-sasl&quot; mechanism=&quot;DIGEST- 
</I>&gt;<i> MD5&quot; /&gt;
</I>&gt;<i>
</I>&gt;<i> Maybe it's convenient for server admin to have those cluster node in
</I>&gt;<i> resource, but as a user, I really don't care and don't want to see  
</I>&gt;<i> that.
</I>&gt;<i>
</I>&gt;<i> Now the problem is not that the client doesn't support resource  
</I>&gt;<i> binding,
</I>&gt;<i> just that it's not nice from a user point of view.
</I>&gt;<i>
</I>I didn't realize that Google Talk supported the old auth that way.  
It's not part of the RFC. I wouldn't use it as it's probably just  
there for compatibility with old clients. The hex value in the  
resource is just the reality of using GTalk. It is questionable  
whether it's meant for the user to see it anyway.

I also wouldn't be surprised to see more servers use this clustering  
strategy in the future. (I know of one that is planning it)

Perhaps some client driven pep is in order for showing a user facing  
unique name for individual sessions.

-Nathan Fritz (cellphone)

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="088109.html">[jdev] gmail + non-SASL
</A></li>
	<LI>Next message: <A HREF="088111.html">[jdev] gmail + non-SASL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88110">[ date ]</a>
              <a href="thread.html#88110">[ thread ]</a>
              <a href="subject.html#88110">[ subject ]</a>
              <a href="author.html#88110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

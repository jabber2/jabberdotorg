<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] XEP-0080: adding location source information
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20XEP-0080%3A%20adding%20location%20source%20information&In-Reply-To=%3C4B7328CB.3040700%40drakontas.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="088050.html">
   <LINK REL="Next"  HREF="088040.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] XEP-0080: adding location source information</H1>
    <B>Ilya Braude</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20XEP-0080%3A%20adding%20location%20source%20information&In-Reply-To=%3C4B7328CB.3040700%40drakontas.com%3E"
       TITLE="[jdev] XEP-0080: adding location source information">ilya at drakontas.com
       </A><BR>
    <I>Wed Feb 10 15:44:43 CST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="088050.html">[jdev] Facebook now supports XMPP connections
</A></li>
        <LI>Next message: <A HREF="088040.html">[jdev] XEP-0080: adding location source information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88038">[ date ]</a>
              <a href="thread.html#88038">[ thread ]</a>
              <a href="subject.html#88038">[ subject ]</a>
              <a href="author.html#88038">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would like to propose the extension of the user location spec with 
source information, i.e. where the location information is coming from.  
Having discussed this topic with several people at the recent summit I 
think there is enough interest to make it part of the XEP.

There are several use cases to motivate this change:

Users may get location information from GPS, set it manually, use WiFi 
or cell tower triangulation, etc. 
Knowing source information would enable clients to display appropriate 
icons for the users who publish location.

This could also be useful when updating or aggregating information from 
separate sources. For example, a client that is integrated with a car's 
systems can send location updates using GPS, and more accurate speed 
updates from the car's speedometer (thanks to tkoski for the use case).

Devices with built-in digital compasses to send more accurate heading 
information with a different source tag (this is probably more useful if 
the device is mounted in a known orientation, such as in a vehicle, but 
still useful).


I think the way to accomplish this is to add a 'source' element as a 
child of the 'geoloc' element:

&lt;geoloc xmlns='<A HREF="http://jabber.org/protocol/geoloc'">http://jabber.org/protocol/geoloc'</A> xml:lang='en'&gt;
  &lt;source&gt;GPS&lt;/source&gt;
  &lt;lat&gt;45.44&lt;/lat&gt;
  &lt;lon&gt;12.33&lt;/lon&gt;
&lt;/geoloc&gt;


An alternative would be to add a 'source' attribute to the 'geoloc' 
element, but I don't like that as much:

&lt;geoloc xmlns='<A HREF="http://jabber.org/protocol/geoloc'">http://jabber.org/protocol/geoloc'</A> xml:lang='en' 
source='GPS'&gt;
 ...
&lt;/geoloc&gt;


Another issue to consider is whether to recommend well-known values for 
the field.  GPS and manual are probably going to be the most common use 
cases, so standardized strings to represent them would be useful for 
interoperability.


Ilya
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="088050.html">[jdev] Facebook now supports XMPP connections
</A></li>
	<LI>Next message: <A HREF="088040.html">[jdev] XEP-0080: adding location source information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88038">[ date ]</a>
              <a href="thread.html#88038">[ thread ]</a>
              <a href="subject.html#88038">[ subject ]</a>
              <a href="author.html#88038">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

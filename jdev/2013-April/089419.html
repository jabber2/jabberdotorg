<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Differentiating device type
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Differentiating%20device%20type&In-Reply-To=%3CCAKHUCzwoHhX7MwJ2YLhjooZYaRetCjqF8AWRtj5QRWs%2BSTYEPw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089418.html">
   <LINK REL="Next"  HREF="089421.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Differentiating device type</H1>
    <B>Dave Cridland</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Differentiating%20device%20type&In-Reply-To=%3CCAKHUCzwoHhX7MwJ2YLhjooZYaRetCjqF8AWRtj5QRWs%2BSTYEPw%40mail.gmail.com%3E"
       TITLE="[jdev] Differentiating device type">dave at cridland.net
       </A><BR>
    <I>Mon Apr 15 11:32:02 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="089418.html">[jdev] Differentiating device type
</A></li>
        <LI>Next message: <A HREF="089421.html">[jdev] how to get the rosters when the visitor did not register?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89419">[ date ]</a>
              <a href="thread.html#89419">[ thread ]</a>
              <a href="subject.html#89419">[ subject ]</a>
              <a href="author.html#89419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15 Apr 2013 12:17, &quot;Maninder Obhrai&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">maninder.obhrai at gamesys.co.uk</A>&gt;
wrote:
&gt;<i> We'd like to be able to tell whether a chat user in a room is on a mobile
</I>device or a desktop device and we're trying to work out the best way to do
this. Our current plan involves making the client set the device type
(mobile/desktop) as part of the resource, and then exposing full JIDs to
all users. The client we've written can then parse this and show an icon
next to chat messages. We looked at PEP and it seems a little over the top,
and we didn't want to hack stuff into the presence status.

As Kev says, a disco#info request will give you the device type.

PEP won't work very smoothly because it works on a user-level, so you'd
have to stick a per-resource level over the top, somehow.

Hacking stuff into the presence stanza *will* work, and would be reasonable
if it weren't for disco#info already giving you that information. As it is,
XEP-0115 will allow you to hash the device type into the presence stanza,
and you can hardcode those hashes (ie, pre-fill the cache) to avoid any
lookup at all.

However, if you really want this to be per-message, and not per-occupant,
you're going to need to put the information (probably a XEP-0115 caps
element) into the message stanza. Whether or not this makes sense really
depends on whether you have nick-sharing going on or not, and whether you
want to spend the extra bandwidth.

Dave.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20130415/f751781d/attachment.html">https://www.jabber.org/jdev/attachments/20130415/f751781d/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089418.html">[jdev] Differentiating device type
</A></li>
	<LI>Next message: <A HREF="089421.html">[jdev] how to get the rosters when the visitor did not register?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89419">[ date ]</a>
              <a href="thread.html#89419">[ thread ]</a>
              <a href="subject.html#89419">[ subject ]</a>
              <a href="author.html#89419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Multiple IQ stanzas in one &quot;socket read&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Multiple%20IQ%20stanzas%20in%20one%20%22socket%20read%22&In-Reply-To=%3CCAOf5u8mYAuSOQsF4gQ21bFaTN6J%3DuxBg9e17Q50ey8KejqWsKg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089580.html">
   <LINK REL="Next"  HREF="089586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Multiple IQ stanzas in one &quot;socket read&quot;</H1>
    <B>Peter Mount</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Multiple%20IQ%20stanzas%20in%20one%20%22socket%20read%22&In-Reply-To=%3CCAOf5u8mYAuSOQsF4gQ21bFaTN6J%3DuxBg9e17Q50ey8KejqWsKg%40mail.gmail.com%3E"
       TITLE="[jdev] Multiple IQ stanzas in one &quot;socket read&quot;">peter at retep.org.uk
       </A><BR>
    <I>Tue Aug 20 19:46:36 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="089580.html">[jdev] Multiple IQ stanzas in one &quot;socket read&quot;
</A></li>
        <LI>Next message: <A HREF="089586.html">[jdev] Multiple IQ stanzas in one &quot;socket read&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89581">[ date ]</a>
              <a href="thread.html#89581">[ thread ]</a>
              <a href="subject.html#89581">[ subject ]</a>
              <a href="author.html#89581">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes it is possible as it's an xml stream not a packet based protocol.

A socket read simply means you have data available to be read.

So in this instance the server had two stanzas available and they got sent
together.

The opposite is possible. You could have a stanza that's too large so it
takes multiple reads to receive the stanza.
 On 20 Aug 2013 20:41, &quot;Bradley Stone&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">bvstone at bvstools.com</A>&gt; wrote:

&gt;<i> Hi, all.
</I>&gt;<i>
</I>&gt;<i> Quick question here.  I just ran into a situation where on a single read
</I>&gt;<i> from a socket my jabber application received two stanzas.   One was an IQ
</I>&gt;<i> (ping) and the second was a presence.
</I>&gt;<i>
</I>&gt;<i> Example:
</I>&gt;<i>
</I>&gt;<i> &lt;iq from='jabber.org' to='user1' type='get' id='ping'&gt;&lt;ping
</I>&gt;<i> xmlns='urn:xmpp:ping'/&gt;&lt;/iq&gt;&lt;presence from='user2' to='user1'
</I>&gt;<i> type='unavailable'/&gt;
</I>&gt;<i>
</I>&gt;<i> I hadn't programmed for this and now am making the appropriate changes,
</I>&gt;<i> but I have a couple questions since it appears to be normal (but rare) to
</I>&gt;<i> include multiple stanzas on one socket write on the server side.
</I>&gt;<i>
</I>&gt;<i> 1.  Can multiple IQ stanzas be sent at once?
</I>&gt;<i> 2.  Can multiple presence or message stanzas be sent at once?
</I>&gt;<i>
</I>&gt;<i> Thanks.. let me know if this isn't clear.  :)
</I>&gt;<i>
</I>&gt;<i> Brad
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> JDev mailing list
</I>&gt;<i> Info: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JDev-unsubscribe at jabber.org</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20130820/ee535bb8/attachment.html">https://www.jabber.org/jdev/attachments/20130820/ee535bb8/attachment.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089580.html">[jdev] Multiple IQ stanzas in one &quot;socket read&quot;
</A></li>
	<LI>Next message: <A HREF="089586.html">[jdev] Multiple IQ stanzas in one &quot;socket read&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89581">[ date ]</a>
              <a href="thread.html#89581">[ thread ]</a>
              <a href="subject.html#89581">[ subject ]</a>
              <a href="author.html#89581">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

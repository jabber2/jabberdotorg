<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Seeking jabber implementers for SCRAM-SHA-1 testing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Seeking%20jabber%20implementers%20for%20SCRAM-SHA-1%20testing&In-Reply-To=%3C5478.1257271989.782324%40puncture%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="087860.html">
   <LINK REL="Next"  HREF="087863.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Seeking jabber implementers for SCRAM-SHA-1 testing</H1>
    <B>Dave Cridland</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Seeking%20jabber%20implementers%20for%20SCRAM-SHA-1%20testing&In-Reply-To=%3C5478.1257271989.782324%40puncture%3E"
       TITLE="[jdev] Seeking jabber implementers for SCRAM-SHA-1 testing">dave at cridland.net
       </A><BR>
    <I>Tue Nov  3 12:13:09 CST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="087860.html">[jdev] Seeking jabber implementers for SCRAM-SHA-1 testing
</A></li>
        <LI>Next message: <A HREF="087863.html">[jdev] Seeking jabber implementers for SCRAM-SHA-1 testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87861">[ date ]</a>
              <a href="thread.html#87861">[ thread ]</a>
              <a href="subject.html#87861">[ subject ]</a>
              <a href="author.html#87861">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue Nov  3 15:58:34 2009, Simon Josefsson wrote:
&gt;<i> So hopefully it is Just A Small Matter of, err, reordering the  
</I>&gt;<i> fields
</I>&gt;<i> and things will work.  Hopefully.
</I>
Nope - my implementation and the specification have obviously drifted  
considerably.

I think I've now brought my implementation into line, though, and it  
still fails to work.

The portion I'm finding hardest to test is my Hi() function. I have,  
for example:

Hi( 'pencil', '$\x93&lt;\xdeM\x0e\xa42\xdf:\x86\x19', 4096 ) =&gt;  
'\x1e\x0ba\xd9\xb6&gt;\x8aiN8\x98\xc8c\xad\x85is\x03&quot;='

That's with a base64 encoded salt of JJM83k0OpDLfOoYZ, and producing  
a base64 encoded SaltedPassword of Hgth2bY+imlOOJjIY62FaXMDIj0= if  
this helps.

Otherwise, everything seems to be straightforward (admittedly there  
are lots of changes I'd not noticed, so it's possible I'm missing  
something).

But the StoredKey I have is  
'.G{\xb7\x06gY\xf0\xe3\x9b@/\x1b5\x0b^e\xf8\x0e\x89', and given the  
AuthMessage of  
'n=user,r=429699235608,r=429699235608IyTVaeWtSrBkQ0AJuV,s=eI5o648nCOaGJ2GR,i=4096,c=biws,r=429699235608IyTVaeWtSrBkQ0AJuV', 
that provides a ClientSignature of  
'\xbc\x17\x18\xc2Th}\x98\xd4\xdb\\\xfd6\x80\xaf\xbc\xd7\xc4\xce\xad'

I've checked those thoroughly against the spec, and I can't *see*  
anything obviously wrong.

Any ideas?

Dave.
-- 
Dave Cridland - mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dave at cridland.net</A> - xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dwd at dave.cridland.net</A>
  - <A HREF="acap://acap.dave.cridland.net/byowner/user/dwd/bookmarks/">acap://acap.dave.cridland.net/byowner/user/dwd/bookmarks/</A>
  - <A HREF="http://dave.cridland.net/">http://dave.cridland.net/</A>
Infotrope Polymer - ACAP, IMAP, ESMTP, and Lemonade
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="087860.html">[jdev] Seeking jabber implementers for SCRAM-SHA-1 testing
</A></li>
	<LI>Next message: <A HREF="087863.html">[jdev] Seeking jabber implementers for SCRAM-SHA-1 testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87861">[ date ]</a>
              <a href="thread.html#87861">[ thread ]</a>
              <a href="subject.html#87861">[ subject ]</a>
              <a href="author.html#87861">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Perl registration with Net::Jabber and RegisterSend
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Perl%20registration%20with%20Net%3A%3AJabber%20and%20RegisterSend&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020612.html">
   <LINK REL="Next"  HREF="020595.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Perl registration with Net::Jabber and RegisterSend</H1>
    <B>Hans Poo</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Perl%20registration%20with%20Net%3A%3AJabber%20and%20RegisterSend&In-Reply-To="
       TITLE="[jdev] Perl registration with Net::Jabber and RegisterSend">hans at opensource.cl
       </A><BR>
    <I>Tue Nov 23 11:44:13 CST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="020612.html">[jdev] Searching for online jabber users?
</A></li>
        <LI>Next message: <A HREF="020595.html">[jdev] Perl registration with Net::Jabber and RegisterSend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20589">[ date ]</a>
              <a href="thread.html#20589">[ thread ]</a>
              <a href="subject.html#20589">[ subject ]</a>
              <a href="author.html#20589">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I have a Perl user registration application and i need to create the
coresponding jabber user accounts. I'am using mod_perl and Net::Jabber. This
is my test script.

my $c = new Net::Jabber::Client();
$c-&gt;Connect(hostname=&gt;&quot;localhost&quot;);
if ($c-&gt;Connected()) {
   print &quot;We are connected to the server...\n&quot;;
}
                                                                           
                                                 
@result = $c-&gt;RegisterSend(
   username =&gt; &quot;winnie&quot;,
   password =&gt; &quot;secret&quot;,
   email =&gt; &quot;winnie\@fun.com&quot;,
   name =&gt; &quot;Winnie the Poh&quot;);
                                                                           
                                                 
print join &quot;\n&quot;, @result;
                                                                           
The connection succeed but the account is not created.                       
                      The server register correctly when using raw xml, this
is the test:

[<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">root at marte</A> root]# telnet localhost 5222
Trying 127.0.0.1...
Connected to localhost.localdomain (127.0.0.1).
Escape character is '^]'.
&lt;stream:stream to='portalciudadano.cl' xmlns='jabber:client'
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>&gt;
&lt;?xml version='1.0'?&gt;&lt;stream:stream
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> id='41A37DCA'
xmlns='jabber:client' from='portalciudadano.cl'&gt;
&lt;iq id='abcde' type='set'&gt;
&lt;query xmlns='jabber:iq:register'&gt;
&lt;username&gt;Winnie&lt;/username&gt;
&lt;password&gt;secret&lt;/password&gt;
&lt;name&gt;Winnie the Poh&lt;/name&gt;
&lt;email&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">winie at fun.com</A>&lt;/email&gt;
&lt;/query&gt;
&lt;/iq&gt;
&lt;iq id='abcde' type='result'/&gt;

This telnet session create the apropriate xml account file in the
corresponding spool directory.

I've been searching a lot about it. I 'am not sure if what i'am doing is correct.

Hans 

------------------------------------------------------------------------
El problema de fondo es dise&#241;ar soluciones elegantes e inteligentes, las 
herramientas s&#243;lo son las herramientas.

Hans Poo, <A HREF="http://hans.opensource.cl,">http://hans.opensource.cl,</A> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hans at opensource.cl</A>, F: 09-319.93.05
Consultor Linux, Desarrollo Web OpenSource.
Santiago, Chile


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020612.html">[jdev] Searching for online jabber users?
</A></li>
	<LI>Next message: <A HREF="020595.html">[jdev] Perl registration with Net::Jabber and RegisterSend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20589">[ date ]</a>
              <a href="thread.html#20589">[ thread ]</a>
              <a href="subject.html#20589">[ subject ]</a>
              <a href="author.html#20589">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Jabberd2.0s3 errors when running make
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Jabberd2.0s3%20errors%20when%20running%20make&In-Reply-To=%3C410A02BE.5090100%40gicm.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078414.html">
   <LINK REL="Next"  HREF="078416.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Jabberd2.0s3 errors when running make</H1>
    <B>Remy HAREL</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Jabberd2.0s3%20errors%20when%20running%20make&In-Reply-To=%3C410A02BE.5090100%40gicm.fr%3E"
       TITLE="[jdev] Jabberd2.0s3 errors when running make">remy.harel at GICM.FR
       </A><BR>
    <I>Fri Jul 30 03:11:42 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="078414.html">[jdev] Jabberd2.0s3 errors when running make
</A></li>
        <LI>Next message: <A HREF="078416.html">[jdev] Require information on jabber
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78417">[ date ]</a>
              <a href="thread.html#78417">[ thread ]</a>
              <a href="subject.html#78417">[ subject ]</a>
              <a href="author.html#78417">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 Have you tried make clean and then ./configure with the right options ? 
which version of gcc do you run ?



Patricia Swarbrick wrote:

&gt;<i>I'm attempting to build jabberd2.0s3 on Solaris but I continually run in to the following error when I attempt to run make after a successful configure: 
</I>&gt;<i>
</I>&gt;<i>[<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">webdev at atlas</A> jabberd-2.0s3]$ make
</I>&gt;<i>make  all-recursive
</I>&gt;<i>make[1]: Entering directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3'
</I>&gt;<i>Making all in etc
</I>&gt;<i>make[2]: Entering directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/etc'
</I>&gt;<i>Making all in templates
</I>&gt;<i>make[3]: Entering directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/etc/templates'
</I>&gt;<i>make[3]: Nothing to be done for `all'.
</I>&gt;<i>make[3]: Leaving directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/etc/templates'
</I>&gt;<i>make[3]: Entering directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/etc'
</I>&gt;<i>make[3]: Nothing to be done for `all-am'.
</I>&gt;<i>make[3]: Leaving directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/etc'
</I>&gt;<i>make[2]: Leaving directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/etc'
</I>&gt;<i>Making all in tools
</I>&gt;<i>make[2]: Entering directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/tools'
</I>&gt;<i>make[2]: Nothing to be done for `all'.
</I>&gt;<i>make[2]: Leaving directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/tools'
</I>&gt;<i>Making all in man
</I>&gt;<i>make[2]: Entering directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/man'
</I>&gt;<i>make[2]: Nothing to be done for `all'.
</I>&gt;<i>make[2]: Leaving directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/man'
</I>&gt;<i>Making all in expat
</I>&gt;<i>make[2]: Entering directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/expat'
</I>&gt;<i>make[2]: Nothing to be done for `all'.
</I>&gt;<i>make[2]: Leaving directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/expat'
</I>&gt;<i>Making all in mio
</I>&gt;<i>make[2]: Entering directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/mio'
</I>&gt;<i>source='mio.c' object='mio.lo' libtool=yes \
</I>&gt;<i>depfile='.deps/mio.Plo' tmpdepfile='.deps/mio.TPlo' \
</I>&gt;<i>depmode=gcc3 /bin/bash ../depcomp \
</I>&gt;<i>/bin/bash ../libtool --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I..   -I/usr/local/BerkeleyDB/include -I/usr/local/libidn/include -I/usr/local/BerkeleyDB/include -I/usr/local/BerkeleyDB/include/   -g -O2 -c -o mio.lo `test -f 'mio.c' || echo './'`mio.c
</I>&gt;<i> gcc -DHAVE_CONFIG_H -I. -I. -I.. -I/usr/local/BerkeleyDB/include -I/usr/local/libidn/include -I/usr/local/BerkeleyDB/include -I/usr/local/BerkeleyDB/include/ -g -O2 -c mio.c -MT mio.lo -MD -MP -MF .deps/mio.TPlo  -fPIC -DPIC -o .libs/mio.o
</I>&gt;<i> gcc -DHAVE_CONFIG_H -I. -I. -I.. -I/usr/local/BerkeleyDB/include -I/usr/local/libidn/include -I/usr/local/BerkeleyDB/include -I/usr/local/BerkeleyDB/include/ -g -O2 -c mio.c -MT mio.lo -MD -MP -MF .deps/mio.TPlo -o mio.o &gt;/dev/null 2&gt;&amp;1
</I>&gt;<i>/bin/bash ../libtool --mode=link gcc  -g -O2  -L/usr/local/libidn/lib -L/usr/local/libidn/lib -L/usr/local/BerkeleyDB/lib -o libmio.la   mio.lo -L/usr/local/libidn/lib -L/usr/local/libidn/lib -L/usr/local/BerkeleyDB/lib -lresolv -lnsl -ldb-4.2 -lidn
</I>&gt;<i>rm -fr  .libs/libmio.a .libs/libmio.la
</I>&gt;<i>ar cru .libs/libmio.a .libs/mio.o
</I>&gt;<i>ranlib .libs/libmio.a
</I>&gt;<i>creating libmio.la
</I>&gt;<i>(cd .libs &amp;&amp; rm -f libmio.la &amp;&amp; ln -s ../libmio.la libmio.la)
</I>&gt;<i>make[2]: Leaving directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/mio'
</I>&gt;<i>Making all in scod
</I>&gt;<i>make[2]: Entering directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/scod'
</I>&gt;<i>source='mech_anonymous.c' object='mech_anonymous.lo' libtool=yes \
</I>&gt;<i>depfile='.deps/mech_anonymous.Plo' tmpdepfile='.deps/mech_anonymous.TPlo' \
</I>&gt;<i>depmode=gcc3 /bin/bash ../depcomp \
</I>&gt;<i>/bin/bash ../libtool --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I..   -I/usr/local/BerkeleyDB/include -I/usr/local/libidn/include -I/usr/local/BerkeleyDB/include -I/usr/local/BerkeleyDB/include/   -g -O2 -c -o mech_anonymous.lo `test -f 'mech_anonymous.c' || echo './'`mech_anonymous.c
</I>&gt;<i> gcc -DHAVE_CONFIG_H -I. -I. -I.. -I/usr/local/BerkeleyDB/include -I/usr/local/libidn/include -I/usr/local/BerkeleyDB/include -I/usr/local/BerkeleyDB/include/ -g -O2 -c mech_anonymous.c -MT mech_anonymous.lo -MD -MP -MF .deps/mech_anonymous.TPlo  -fPIC -DPIC -o .libs/mech_anonymous.o
</I>&gt;<i>In file included from scod.h:23,
</I>&gt;<i>                 from mech_anonymous.c:22:
</I>&gt;<i>../util/util.h:546: field `ip' has incomplete type
</I>&gt;<i>../util/util.h:548: confused by earlier errors, bailing out
</I>&gt;<i>make[2]: *** [mech_anonymous.lo] Error 1
</I>&gt;<i>make[2]: Leaving directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3/scod'
</I>&gt;<i>make[1]: *** [all-recursive] Error 1
</I>&gt;<i>make[1]: Leaving directory `/export/home/sysadmn4/jupgrade/jabberd-2.0s3'
</I>&gt;<i>make: *** [all] Error 2
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Here's the options I set for the configure:
</I>&gt;<i>[<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">webdev at atlas</A> jabberd-2.0s3]$export LDFLAGS=&quot;-L/usr/local/libidn/lib -L/usr/local/BerkeleyDB/lib $LDFLAGS&quot;
</I>&gt;<i>[<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">webdev at atlas</A> jabberd-2.0s3]$ export CPPFLAGS=&quot;-I/usr/local/libidn/include -I/usr/local/BerkeleyDB/include $CPPFLAGS&quot;
</I>&gt;<i>[<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">webdev at atlas</A> jabberd-2.0s3]$./configure --prefix=/usr/local/jabber/ --enable-db --disable-mysql --with-extra-include-path=/usr/local/BerkeleyDB/include --with-extra-library-path=/usr/local/libidn/lib --enable-static  --enable-debug --disable-ssl
</I>&gt;<i>
</I>&gt;<i>Now, I've gone in to config.h and commented out the line for sockaddr_storage, but that didn't work either, so I don't know what to do there. I also looked back at the config and noticed this:
</I>&gt;<i>
</I>&gt;<i>checking for fcntl.h... yes
</I>&gt;<i>checking netinet/in.h usability... yes
</I>&gt;<i>checking netinet/in.h presence... yes
</I>&gt;<i>checking for netinet/in.h... yes
</I>&gt;<i>checking resolv.h usability... no
</I>&gt;<i>checking resolv.h presence... yes
</I>&gt;<i>configure: WARNING: resolv.h: present but cannot be compiled
</I>&gt;<i>configure: WARNING: resolv.h:     check for missing prerequisite headers?
</I>&gt;<i>configure: WARNING: resolv.h: see the Autoconf documentation
</I>&gt;<i>configure: WARNING: resolv.h:     section &quot;Present But Cannot Be Compiled&quot;
</I>&gt;<i>configure: WARNING: resolv.h: proceeding with the preprocessor's result
</I>&gt;<i>configure: WARNING: resolv.h: in the future, the compiler will take precedence
</I>&gt;<i>configure: WARNING:     ## ---------------------------------- ##
</I>&gt;<i>configure: WARNING:     ## Report this to the jabberd lists.  ##
</I>&gt;<i>configure: WARNING:     ## ---------------------------------- ##
</I>&gt;<i>checking for resolv.h... yes
</I>&gt;<i>checking signal.h usability... yes
</I>&gt;<i>checking signal.h presence... yes
</I>&gt;<i>checking for signal.h... yes
</I>&gt;<i>checking sys/filio.h usability... yes
</I>&gt;<i>
</I>&gt;<i>Would all of this be part of the problem?
</I>&gt;<i>
</I>&gt;<i>Patricia
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>jdev mailing list
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i><A HREF="https://jabberstudio.org/mailman/listinfo/jdev">https://jabberstudio.org/mailman/listinfo/jdev</A>
</I>&gt;<i>  
</I>&gt;<i>
</I>
-- 
Remy Harel - <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">remy.harel at gicm.fr</A>
G.I.C.M - Distributed Systems &amp; IT
Linux Registered User #224740




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078414.html">[jdev] Jabberd2.0s3 errors when running make
</A></li>
	<LI>Next message: <A HREF="078416.html">[jdev] Require information on jabber
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78417">[ date ]</a>
              <a href="thread.html#78417">[ thread ]</a>
              <a href="subject.html#78417">[ subject ]</a>
              <a href="author.html#78417">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

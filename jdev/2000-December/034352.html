<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] mod_mymod.c
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20mod_mymod.c&In-Reply-To=%3C00121015341900.01233%40dennis%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034334.html">
   <LINK REL="Next"  HREF="034359.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] mod_mymod.c</H1>
    <B>Dennis Noordsij</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20mod_mymod.c&In-Reply-To=%3C00121015341900.01233%40dennis%3E"
       TITLE="[JDEV] mod_mymod.c">dennis.noordsij at wiral.com
       </A><BR>
    <I>Sun Dec 10 07:34:19 CST 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="034334.html">[JDEV] mod_mymod.c
</A></li>
        <LI>Next message: <A HREF="034359.html">[JDEV] mod_mymod.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34352">[ date ]</a>
              <a href="thread.html#34352">[ thread ]</a>
              <a href="subject.html#34352">[ subject ]</a>
              <a href="author.html#34352">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; Encapsulate the message into jabber:x:offline ?
</I>&gt;<i>
</I>&gt;<i> well, i dont really see what you mean  ...
</I>&gt;<i> but you can send directly your message to the offline storage ...
</I>
Oops, I am sorry, let me try to explain a bit more clearly :-) I have a 
mod_mymod that notifies an external instance of any sessions created and 
destroyed, then, when I log out of jabber via for example gabber, this 
external instance will register a session on my behalf (so I am still 
&quot;present&quot;), and messages sent to this session should be stored in the offline 
storage and the instance will send me a notification via other means, perhaps 
email or something similar.

This already works beautifully - except for the bit where the message gets 
storend in the default offline storage. 

In addition, this has to be done by the instance, not by the original 
mod_mymod module, all that does it notify the instance of sessions (in an 
intelligent way, ie how many resources does the user have online, which ones 
were created by the instance and which ones weren't, etc).

For example, my instance receives a &lt;message to='' from=''&gt; -- &lt;/message&gt;. 

1 - It replies to the sender with an autoreply  message  (Hi, I have been 
notified of your message and will respond a.s.a.p). Works beautifully.

2 - It sends out the notifitication (user so-and-so sent you a message) via 
email, sms, or whatever. Also works fine.

3 - It stores the original message in the default offline storage.

The only way for the instance to do no. 3 is to send out the proper XML 
packet to jabber (it is not part of the jabber code, also not written in C 
yet and therefore can not use the default functions available, it has to 
create the proper XML packet itself). 

My question is, what does that XML packet look like?


Kind regards and thanks so much for helping
Dennis



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034334.html">[JDEV] mod_mymod.c
</A></li>
	<LI>Next message: <A HREF="034359.html">[JDEV] mod_mymod.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34352">[ date ]</a>
              <a href="thread.html#34352">[ thread ]</a>
              <a href="subject.html#34352">[ subject ]</a>
              <a href="author.html#34352">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

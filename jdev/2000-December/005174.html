<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] jpolld configuration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20jpolld%20configuration&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005173.html">
   <LINK REL="Next"  HREF="005185.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] jpolld configuration</H1>
    <B>Vijay Kumar</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20jpolld%20configuration&In-Reply-To="
       TITLE="[JDEV] jpolld configuration">vijay at dsfinternet.com
       </A><BR>
    <I>Thu Dec 14 06:58:19 CST 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="005173.html">[JDEV] Ramblings - feel free to join in :-)
</A></li>
        <LI>Next message: <A HREF="005185.html">[JDEV] Ramblings - feel free to join in :-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5174">[ date ]</a>
              <a href="thread.html#5174">[ thread ]</a>
              <a href="subject.html#5174">[ subject ]</a>
              <a href="author.html#5174">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
         Well I am not able to run the jpolld outside the machine of jabberd
.

        I am clue less about this . If any one has any idea what to do or
anyone has configured jpolld in other machine then
        jabberd then Pl do help me out .

     when I run jpolld with jabberd on the same machine it works perfectly
     with follwing configuration
     in jabber.xml I changed  complete c2s section to following :

  &lt;service id=&quot;c2s&quot;&gt;
         &lt;host&gt;jpolld.192.168.1.7&lt;/host&gt;
         &lt;accept&gt;
             &lt;ip/&gt;
             &lt;port&gt;5225&lt;/port&gt;
             &lt;secret&gt;test&lt;/secret&gt;
         &lt;/accept&gt;
   &lt;/service&gt;
when   jabberd is on 192.168.1.7 &amp; jpolld is also on 192.168.1.7


but when I run jpolld on different machine such as 192.168.1.29 &amp; jpolld on
192.168.1.7
with c2s in jabber.xml as :
  &lt;service id=&quot;c2s&quot;&gt;
         &lt;host&gt;jpolld.192.168.1.29&lt;/host&gt;
         &lt;accept&gt;
             &lt;ip/&gt;
             &lt;port&gt;5225&lt;/port&gt;
             &lt;secret&gt;test&lt;/secret&gt;
         &lt;/accept&gt;
   &lt;/service&gt;

&amp; run jpollld as
jpolld -h 192.168.1.7 -d 5225 -n c2s -s test
from 192.168.1.29 .

   It got connected to jabberd but when I connect to jpolld with client it
gives me error (Server Configuration Er
ror) such as not able to establish session .



Wed Dec 13 19:27:08 2000  base_accept.c:328 io read event for 11
Wed Dec 13 19:27:08 2000  base_accept.c:213 base_accept: &lt;route type='auth'
from
='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">2 at c2s</A>/134584456' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">r0003 at 192.168.1.29</A>'&gt;&lt;iq type='set' id='1'&gt;&lt;query
xmlns='j
abber:iq:register'&gt;&lt;username&gt;r0003&lt;/username&gt;&lt;password&gt;r0003&lt;/password&gt;&lt;reso
urce
&gt;<i>r976717130&lt;/resource&gt;&lt;/query&gt;&lt;/iq&gt;&lt;/route&gt;
</I>Wed Dec 13 19:27:08 2000  deliver.c:472 DELIVER 4:192.168.1.29 &lt;route
type='auth
' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">2 at c2s</A>/134584456' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">r0003 at 192.168.1.29</A>'&gt;&lt;iq type='set'
id='1'&gt;&lt;query xm
lns='jabber:iq:register'&gt;&lt;username&gt;r0003&lt;/username&gt;&lt;password&gt;r0003&lt;/password
&gt;<i>&lt;re
</I>source&gt;r976717130&lt;/resource&gt;&lt;/query&gt;&lt;/iq&gt;&lt;/route&gt;
Wed Dec 13 19:27:08 2000  deliver.c:278 delivery failed (Server
Configuration Er
ror)
Wed Dec 13 19:27:08 2000  log.c:105 &lt;log type='notice'
from='192.168.1.29'&gt;bounc
ing a routed packet to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">r0003 at 192.168.1.29</A> from <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">2 at c2s</A>/134584456: Server
Configura
tion Error&lt;/log&gt;
Wed Dec 13 19:27:08 2000  deliver.c:472 DELIVER 3:192.168.1.29 &lt;log
type='notice
' from='192.168.1.29'&gt;bouncing a routed packet to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">r0003 at 192.168.1.29</A> from
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">2 at c2s</A>/
134584456: Server Configuration Error&lt;/log&gt;
Wed Dec 13 19:27:08 2000  deliver.c:344 delivering to instance 'logger'
20001213T13:57:08: [notice] (192.168.1.29): bouncing a routed packet to
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">r0003 at 19</A>
2.168.1.29 from <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">2 at c2s</A>/134584456: Server Configuration Error
Wed Dec 13 19:27:08 2000  deliver.c:472 DELIVER 4:c2s &lt;route type='error'
from='
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">r0003 at 192.168.1.29</A>' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">2 at c2s</A>/134584456' error='Server Configuration
Error'&gt;&lt;iq
type='set' id='1'&gt;&lt;query
xmlns='jabber:iq:register'&gt;&lt;username&gt;r0003&lt;/username&gt;&lt;p
assword&gt;r0003&lt;/password&gt;&lt;resource&gt;r976717130&lt;/resource&gt;&lt;/query&gt;&lt;/iq&gt;&lt;/route&gt;
Wed Dec 13 19:27:08 2000  deliver.c:344 delivering to instance 'c2s'
Wed Dec 13 19:27:08 2000  base_accept.c:341 io incoming message event for 11
Wed Dec 13 19:27:08 2000  base_accept.c:328 io read event for 11




&amp; mine jabber.xml file is



&lt;jabber&gt;


  &lt;!--
  This is the Jabber Server configuration file.
  The file is broken into different sections based on the services being
managed by jabberd, the server daemon.
  Most of the important sections are commented on and easy to modify, full
instructions are contained at <A HREF="http://docs.jabber.org/.">http://docs.jabber.org/.</A>
  When you see a tag like &quot;jabberd:cmdline&quot;, it's automatically replaced on
startup with the command line flag to jabberd.
  --&gt;


  &lt;!-- This section is for the session manager, the most important component
within the server. --&gt;
  &lt;service id=&quot;sessions&quot;&gt;

    &lt;!--
    Change hostname below to something other than &quot;localhost&quot;, or use the
&quot;jabberd -h hostname&quot; command line flag.
    Multiple &lt;host&gt;...&lt;/host&gt; entries are allowed, each one is a seperate
virtual server.
    --&gt;
    &lt;host&gt;localhost&lt;/host&gt;
&lt;host&gt;oracle.dsf&lt;/host&gt;
 &lt;host&gt;192.168.1.7&lt;/host&gt;
    &lt;host&gt;&lt;jabberd:cmdline flag=&quot;h&quot;/&gt;&lt;/host&gt;

    &lt;!-- This is the custom configuration section for the session
manager. --&gt;
    &lt;jsm xmlns=&quot;jabber:config:jsm&quot;&gt;

      &lt;info&gt;
        &lt;name&gt;Jabber Server&lt;/name&gt;
        &lt;description&gt;A Jabber Server!&lt;/description&gt;
        &lt;url&gt;<A HREF="http://foo.bar/&lt;/url">http://foo.bar/&lt;/url</A>&gt;
      &lt;/info&gt;

      &lt;register&gt;
        &lt;instructions&gt;Choose a username and password to register with this
server.&lt;/instructions&gt;
        &lt;name/&gt;&lt;email/&gt;
      &lt;/register&gt;

      &lt;agents&gt;

        &lt;!-- This is the default agent for the master jabber user directory,
this section can be duplicated for additional user custom/company
directories. --&gt;
        &lt;agent jid=&quot;users.jabber.org&quot;&gt;
          &lt;name&gt;Jabber User Directory&lt;/name&gt;
          &lt;description&gt;You may register and create a public searchable
profile, and search for other registered Jabber users.&lt;/description&gt;
          &lt;service&gt;jud&lt;/service&gt;
          &lt;register/&gt;
          &lt;search/&gt;
        &lt;/agent&gt;

        &lt;!-- These are just examples, you will receive instructions on what
to place here when you install a real agent.
        &lt;agent jid=&quot;aim.jabber.org&quot;&gt;
          &lt;name&gt;AIM Transport&lt;/name&gt;
          &lt;description&gt;This is the AIM Transport&lt;/description&gt;
          &lt;transport&gt;AIM/AOL ScreenName&lt;/transport&gt;
          &lt;service&gt;aim&lt;/service&gt;
          &lt;register/&gt;
        &lt;/agent&gt;
        &lt;agent jid=&quot;icq.jabber.org&quot;&gt;
          &lt;name&gt;ICQ Transport&lt;/name&gt;
          &lt;description&gt;This is the ICQ Transport&lt;/description&gt;
          &lt;transport&gt;ICQ#&lt;/transport&gt;
          &lt;service&gt;icq&lt;/service&gt;
          &lt;register/&gt;
        &lt;/agent&gt;
        &lt;agent jid=&quot;conference.jabber.org&quot;&gt;
          &lt;name&gt;Group Conferencing&lt;/name&gt;
          &lt;description&gt;You can create and participate in private
chatrooms.&lt;/description&gt;
          &lt;service&gt;privatechat&lt;/service&gt;
          &lt;groupchat/&gt;
          &lt;register/&gt;
        &lt;/agent&gt;
        --&gt;

      &lt;/agents&gt;

      &lt;!-- Session log file --&gt;
      &lt;log&gt;
        &lt;file&gt;session.log&lt;/file&gt;
        &lt;type&gt;session&lt;/type&gt;
      &lt;/log&gt;

      &lt;!-- List of IDs with administrative access, all will receive
administrator messages
      &lt;admin&gt;
        &lt;read&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">support at localhost</A>&lt;/read&gt;
        &lt;write&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">admin at localhost</A>&lt;/write&gt;
      &lt;/admin&gt;
      --&gt;

      &lt;!-- Server version update notification, set to the server name so
that all administrators (above) will be notified, or set to any ID --&gt;
      &lt;update&gt;&lt;jabberd:cmdline flag=&quot;h&quot;/&gt;&lt;/update&gt;

    &lt;/jsm&gt;

    &lt;!-- This section dynamically loads the session manager, remove or
comment out modules to disable them. --&gt;
    &lt;load main=&quot;jsm&quot;&gt;
      &lt;jsm&gt;./jsm/jsm.so&lt;/jsm&gt;
      &lt;mod_echo&gt;./jsm/jsm.so&lt;/mod_echo&gt;
      &lt;mod_roster&gt;./jsm/jsm.so&lt;/mod_roster&gt;
      &lt;mod_time&gt;./jsm/jsm.so&lt;/mod_time&gt;
      &lt;mod_vcard&gt;./jsm/jsm.so&lt;/mod_vcard&gt;
      &lt;mod_version&gt;./jsm/jsm.so&lt;/mod_version&gt;
      &lt;mod_announce&gt;./jsm/jsm.so&lt;/mod_announce&gt;
      &lt;mod_agents&gt;./jsm/jsm.so&lt;/mod_agents&gt;
      &lt;mod_admin&gt;./jsm/jsm.so&lt;/mod_admin&gt;
      &lt;mod_private&gt;./jsm/jsm.so&lt;/mod_private&gt;
      &lt;mod_filter&gt;./jsm/jsm.so&lt;/mod_filter&gt;
      &lt;mod_presence&gt;./jsm/jsm.so&lt;/mod_presence&gt;
      &lt;mod_auth_plain&gt;./jsm/jsm.so&lt;/mod_auth_plain&gt;
      &lt;mod_auth_digest&gt;./jsm/jsm.so&lt;/mod_auth_digest&gt;
      &lt;mod_auth_0k&gt;./jsm/jsm.so&lt;/mod_auth_0k&gt;
      &lt;mod_register&gt;./jsm/jsm.so&lt;/mod_register&gt;
      &lt;mod_log&gt;./jsm/jsm.so&lt;/mod_log&gt;
    &lt;/load&gt;

  &lt;/service&gt;


  &lt;!-- This component handles all data storage, using the filesystem. --&gt;
  &lt;xdb id=&quot;xdb&quot;&gt;
    &lt;host/&gt;
    &lt;load&gt;&lt;xdb_file&gt;./xdb_file/xdb_file.so&lt;/xdb_file&gt;&lt;/load&gt;
    &lt;xdb_file
xmlns=&quot;jabber:config:xdb_file&quot;&gt;&lt;spool&gt;/opt/jabber/spool&lt;/spool&gt;&lt;/xdb_file&gt;
  &lt;/xdb&gt;


  &lt;!-- Service to manage incoming client socket connections.
  &lt;service id=&quot;c2s&quot;&gt;

&lt;load&gt;&lt;pthsock_client&gt;./pthsock/pthsock_client.so&lt;/pthsock_client&gt;&lt;/load&gt;
    &lt;pthcsock xmlns='jabber:config:pth-csock'&gt;
      &lt;authtime/&gt;
      &lt;rate time=&quot;5&quot; points=&quot;25&quot;/&gt;
      &lt;karma&gt;
        &lt;max&gt;10&lt;/max&gt;
        &lt;inc&gt;1&lt;/inc&gt;
        &lt;dec&gt;1&lt;/dec&gt;
        &lt;restore&gt;5&lt;/restore&gt;
        &lt;penalty&gt;-5&lt;/penalty&gt;
      &lt;/karma&gt;
    &lt;/pthcsock&gt;
  &lt;/service&gt;
--&gt;


  &lt;service id=&quot;c2s&quot;&gt;
         &lt;host&gt;jpolld.192.168.1.29&lt;/host&gt;
         &lt;accept&gt;
             &lt;ip/&gt;
             &lt;port&gt;5225&lt;/port&gt;
             &lt;secret&gt;test&lt;/secret&gt;
         &lt;/accept&gt;
   &lt;/service&gt;



  &lt;!-- Default server logging component, copies to a file and STDERR. --&gt;
  &lt;log id='logger'&gt;
    &lt;host/&gt;
    &lt;format&gt;%d: [%t] (%h): %s&lt;/format&gt;
    &lt;file&gt;error.log&lt;/file&gt;
    &lt;stderr/&gt;
  &lt;/log&gt;


  &lt;!-- The following two services are for handling server to server
traffic. --&gt;


  &lt;!-- External asychronous DNS resolver --&gt;
  &lt;service id=&quot;dnsrv&quot;&gt;
    &lt;host/&gt;
    &lt;load&gt;&lt;dnsrv&gt;./dnsrv/dnsrv.so&lt;/dnsrv&gt;&lt;/load&gt;
    &lt;dnsrv xmlns=&quot;jabber:config:dnsrv&quot;&gt;
     &lt;resend service=&quot;_jabber._tcp&quot;&gt;s2s&lt;/resend&gt; &lt;!-- for supporting SRV
records --&gt;
     &lt;resend&gt;s2s&lt;/resend&gt;
    &lt;/dnsrv&gt;
  &lt;/service&gt;


  &lt;!-- Handles server connections and dialback hostname verification --&gt;
  &lt;service id=&quot;s2s&quot;&gt;

&lt;load&gt;&lt;pthsock_server&gt;./pthsock/pthsock_server.so&lt;/pthsock_server&gt;&lt;/load&gt;
    &lt;pthssock xmlns='jabber:config:pth-ssock'&gt;
      &lt;legacy/&gt;
      &lt;rate time=&quot;5&quot; points=&quot;25&quot;/&gt;

      &lt;karma&gt;
        &lt;max&gt;30&lt;/max&gt;
        &lt;inc&gt;2&lt;/inc&gt;
        &lt;dec&gt;1&lt;/dec&gt;
        &lt;restore&gt;15&lt;/restore&gt;
        &lt;penalty&gt;-1&lt;/penalty&gt;
      &lt;/karma&gt;
    &lt;/pthssock&gt;
  &lt;/service&gt;

&lt;/jabber&gt;


vijay



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005173.html">[JDEV] Ramblings - feel free to join in :-)
</A></li>
	<LI>Next message: <A HREF="005185.html">[JDEV] Ramblings - feel free to join in :-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5174">[ date ]</a>
              <a href="thread.html#5174">[ thread ]</a>
              <a href="subject.html#5174">[ subject ]</a>
              <a href="author.html#5174">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

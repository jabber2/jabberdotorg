<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Got the AIM Transport to SEGFAULT!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Got%20the%20AIM%20Transport%20to%20SEGFAULT%21&In-Reply-To=%3C3A39B797.F6B8F352%40netvoice.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034480.html">
   <LINK REL="Next"  HREF="034490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Got the AIM Transport to SEGFAULT!</H1>
    <B>Charles Forsythe</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Got%20the%20AIM%20Transport%20to%20SEGFAULT%21&In-Reply-To=%3C3A39B797.F6B8F352%40netvoice.net%3E"
       TITLE="[JDEV] Got the AIM Transport to SEGFAULT!">forsythe at netvoice.net
       </A><BR>
    <I>Fri Dec 15 00:17:59 CST 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="034480.html">[JDEV] Got the AIM Transport to run!
</A></li>
        <LI>Next message: <A HREF="034490.html">[JDEV] Got the AIM Transport to SEGFAULT!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34487">[ date ]</a>
              <a href="thread.html#34487">[ thread ]</a>
              <a href="subject.html#34487">[ subject ]</a>
              <a href="author.html#34487">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>First a not about the MX record issue:

Mark Hahn wrote:
&gt;<i>However, now that I have fixed that little bug, the server is
</I>&gt;<i>looking for MX records associated with the transport IP address I
</I>&gt;<i>assume.
</I>
I figured out that this happens when the aim-transport can't connect to
the port.  At first, I had aim.moe.netvoice.net == moe.netvoice.net. 
This is a public address and so even though I'm coming FROM moe TO moe,
the connection tries to go through the firewall, which blocks incoming
traffic on 7009.  I changed the DNS record for aim.moe.netvoice.net to
be the internal private IP address of moe (10.x.x.x) , so that the
traffic doesn't leave the LAN and that works fine.  Setting
aim.moe.netvoice.net to resolve to 127.0.0.1 would probably also fix the
problem.

Now my NEW PROBLEM:
-------------------------------------------------------------------------
Fri Dec 15 00:08:06 2000  debug/tstream.c:247 tstream read event
Fri Dec 15 00:08:06 2000  debug/xmlstream.c:228 xmlstream_main: startup
Fri Dec 15 00:08:06 2000  debug/etherxs.c:91 got node from etherx!
Fri Dec 15 00:08:06 2000  debug/external.c:32 [AIM] We got a packet from
etherx
Fri Dec 15 00:08:06 2000  debug/pres.c:19 [AIM] Starting a new session!

Fri Dec 15 00:08:06 2000  debug/auth.c:46 [AIM] Auth recevied for
&lt;registered name='AOLScreenName' pass='aolpass'&gt;
Fri Dec 15 00:08:06 2000  debug/auth.c:10 [AIM] Sleeping on
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">test1 at moe.netvoice.net</A>/work

Fri Dec 15 00:08:08 2000  debug/sessions.c:480 [AIM] New session for
AOLScreenName using aolpass, jid set to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">test1 at moe.netvoice.net</A>/work

aim_conn_addhandler: adding for ffff/0005
aim_conn_addhandler: adding for ffff/0004
aim_conn_addhandler: adding for 0017/0007
aim_conn_addhandler: adding for 0017/0003
Fri Dec 15 00:08:08 2000  debug/sessions.c:587 [AIM] In our main session

Fri Dec 15 00:08:08 2000  debug/sessions.c:590 [AIM] Got data from the
select: -1
Fri Dec 15 00:08:08 2000  debug/sessions.c:643 [AIM] Closing up a main
thread

Memory Leak! [pmalloc received NULL pool, unable to track allocation,
exiting]
Aborted (core dumped)
-------------------------------------------------------------------------

Anyone?

-- Charles


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034480.html">[JDEV] Got the AIM Transport to run!
</A></li>
	<LI>Next message: <A HREF="034490.html">[JDEV] Got the AIM Transport to SEGFAULT!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34487">[ date ]</a>
              <a href="thread.html#34487">[ thread ]</a>
              <a href="subject.html#34487">[ subject ]</a>
              <a href="author.html#34487">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] spoofing &quot;from&quot; attributes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20spoofing%20%22from%22%20attributes&In-Reply-To=421BAF60.50502%40polito.it">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021198.html">
   <LINK REL="Next"  HREF="021230.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] spoofing &quot;from&quot; attributes</H1>
    <B>David Sansot</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20spoofing%20%22from%22%20attributes&In-Reply-To=421BAF60.50502%40polito.it"
       TITLE="[jdev] spoofing &quot;from&quot; attributes">dsansot at yahoo.com
       </A><BR>
    <I>Thu Feb 24 12:36:56 CST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="021198.html">[jdev] spoofing &quot;from&quot; attributes
</A></li>
        <LI>Next message: <A HREF="021230.html">[jdev] spoofing &quot;from&quot; attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21201">[ date ]</a>
              <a href="thread.html#21201">[ thread ]</a>
              <a href="subject.html#21201">[ subject ]</a>
              <a href="author.html#21201">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I believe in j2 the router restricts what it allows
through.  It only allows packets from your component
through.  Notice that the sm component connects to the
router as domain.com while the other components
connect as there component name (c2s, s2s, ...). 
Thus, the sm is the only component that can send
messages from domain.com.

Back to your original problem... you could easily
create sessions on the sm for each user you are
&quot;spoofing&quot;.  Authentication is a c2s thing.  Your
component can start a session for
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">someone at domain.com</A>/resource, just like the c2s does,
and then route messages to the sm, just like c2s, and
the messages will get delivered correctly.

--- Fabio Forno &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">fabio.forno at polito.it</A>&gt; wrote:

&gt;<i> Matthias Wimmer wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Don't wrap your messages in &lt;route/&gt; elements ...
</I>&gt;<i> you cannot &quot;route&quot; a
</I>&gt;<i> &gt; packet to another server s &lt;route/&gt; elements are
</I>&gt;<i> not allowed on s2s
</I>&gt;<i> &gt; links. Just send the &lt;message/&gt; element.
</I>&gt;<i> 
</I>&gt;<i> I'm realizing that I don't know enough about
</I>&gt;<i> &lt;route/&gt; packets... If I 
</I>&gt;<i> send a bare &lt;message/&gt; from the component (using the
</I>&gt;<i> jabber:client 
</I>&gt;<i> namespace, is it ok?) the message just disappear
</I>&gt;<i> whithin the router.
</I>&gt;<i> 
</I>&gt;<i> In
</I>&gt;<i>
</I><A HREF="http://jabberd.jabberstudio.org/dev/docs/component.shtml">http://jabberd.jabberstudio.org/dev/docs/component.shtml</A>
&gt;<i> I read that 
</I>&gt;<i> messages should be sent using &lt;route/&gt; elements, as
</I>&gt;<i> in this example:
</I>&gt;<i> 
</I>&gt;<i> &lt;route from='s2s' to='conference.jabber.org'&gt;
</I>&gt;<i>    &lt;message xmlns='jabber:client'
</I>&gt;<i> to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at conference.jabber.org</A>/rob' 
</I>&gt;<i> from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rob at cataclysm.cx</A>/laptop' type='groupchat'&gt;
</I>&gt;<i>      &lt;body&gt;oh, how I wish we could kick
</I>&gt;<i> people&lt;/body&gt;
</I>&gt;<i>    &lt;/message&gt;
</I>&gt;<i> &lt;/route&gt;
</I>&gt;<i> 
</I>&gt;<i> In my attempts only the name of the component name
</I>&gt;<i> changes, I really 
</I>&gt;<i> don't understand what's worng.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Are there other sources for better learning &lt;route/&gt;
</I>&gt;<i> elements?
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Fabio Forno, Ph.D. - Research Assistant
</I>&gt;<i> Politecnico di Torino - Dip. Automatica e
</I>&gt;<i> Informatica
</I>&gt;<i> C.so Duca degli Abruzzi 24 - 10129 Torino (Italy)
</I>&gt;<i> Phone: +39 011 2276 102 - JabberId:
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">sciasbat at jabber.linux.it</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;<i> 
</I>

		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - now with 250MB free storage. Learn more.
<A HREF="http://info.mail.yahoo.com/mail_250">http://info.mail.yahoo.com/mail_250</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021198.html">[jdev] spoofing &quot;from&quot; attributes
</A></li>
	<LI>Next message: <A HREF="021230.html">[jdev] spoofing &quot;from&quot; attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21201">[ date ]</a>
              <a href="thread.html#21201">[ thread ]</a>
              <a href="subject.html#21201">[ subject ]</a>
              <a href="author.html#21201">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Changing user rosters while user is online?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Changing%20user%20rosters%20while%20user%20is%20online%3F&In-Reply-To=%3C11D121AB355B69448D3A9F2132D2A3AA4204AD%40niobe.BlueHands.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050403.html">
   <LINK REL="Next"  HREF="050400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Changing user rosters while user is online?</H1>
    <B>Heiner Wolf</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Changing%20user%20rosters%20while%20user%20is%20online%3F&In-Reply-To=%3C11D121AB355B69448D3A9F2132D2A3AA4204AD%40niobe.BlueHands.de%3E"
       TITLE="[jdev] Changing user rosters while user is online?">wolf at bluehands.de
       </A><BR>
    <I>Tue Feb  8 16:37:48 CST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="050403.html">[jdev] Re: Changing user rosters while user is online?
</A></li>
        <LI>Next message: <A HREF="050400.html">[jdev] Re: JEP for Voice Integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50398">[ date ]</a>
              <a href="thread.html#50398">[ thread ]</a>
              <a href="subject.html#50398">[ subject ]</a>
              <a href="author.html#50398">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

Maybe this helps:

In my app I change the user's roster from a second client. One client is the buddy list client, the other may be a script. The script sends changes to the roster and the server pushes the changes to both clients AND updates the database. If you change it in the database you lack the trigger. You either need a trigger for the server to pull it and push it to the client OR for the client to pull it. With my second client I tell the server to change the roster and it does what it always does. 

Maybe you should use a script client to do the changes instead of manipulating the database directly. Don't know if this works in your case, because the scripted client would have to log in to the server as the user in question. Possibly many, one after the other. I don't know if there is a method to log in as a user without knowing the user's credentials. Would need some kind of admin access. But doing it as a client seems the right way to me, because everything is already there. 

hw
--
Dr. Klaus H. Wolf
bluehands GmbH &amp; Co.mmunication KG
<A HREF="http://www.bluehands.de/people/hw">http://www.bluehands.de/people/hw</A>
+49 (0721) 16108 75
--
Jabber enabled Virtual Presence on the Web: <A HREF="http://www.lluna.de/">http://www.lluna.de/</A>
Open Source Future History: <A HREF="http://www.galactic-developments.com/">http://www.galactic-developments.com/</A>






&gt;<i>-----Original Message-----
</I>&gt;<i>From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-bounces at jabber.org</A> [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-bounces at jabber.org</A>]On Behalf
</I>&gt;<i>Of Steve Gertz
</I>&gt;<i>Sent: Tuesday, February 08, 2005 11:10 PM
</I>&gt;<i>To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i>Subject: [jdev] Changing user rosters while user is online?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Hello!
</I>&gt;<i>
</I>&gt;<i>I have a standardized roster for everyone in the organization.  When I 
</I>&gt;<i>add or remove people from the mysql database though, the changes don't 
</I>&gt;<i>appear until the client does a roster pull.  Is there any way 
</I>&gt;<i>to do this 
</I>&gt;<i>in a more jabber-isk way?  I've found the sm/mod_roster.c -&gt; 
</I>&gt;<i>_roster_push that adds people to other logged in clients, but I can't 
</I>&gt;<i>find an easy way of connecting this code base with another chunk of c 
</I>&gt;<i>that would run this on an ad-hoc basis.
</I>&gt;<i>
</I>&gt;<i>Does anyone have ideas on how to help?
</I>&gt;<i>
</I>&gt;<i>Thanks in advance,
</I>&gt;<i>Steve
</I>&gt;<i>
</I>&gt;<i>-- 
</I>&gt;<i>
</I>&gt;<i>Steve Gertz
</I>&gt;<i>citysearch.com
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>jdev mailing list
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050403.html">[jdev] Re: Changing user rosters while user is online?
</A></li>
	<LI>Next message: <A HREF="050400.html">[jdev] Re: JEP for Voice Integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50398">[ date ]</a>
              <a href="thread.html#50398">[ thread ]</a>
              <a href="subject.html#50398">[ subject ]</a>
              <a href="author.html#50398">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] JSR 187 JAIN Instant Messaging 1.0 Public Review Draft
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20JSR%20187%20JAIN%20Instant%20Messaging%201.0%20Public%20Review%20Draft&In-Reply-To=%3CE1F190DAC247C64FAA46B38316FA151D801ED5%40EX-101.mail.navisite.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050324.html">
   <LINK REL="Next"  HREF="050326.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] JSR 187 JAIN Instant Messaging 1.0 Public Review Draft</H1>
    <B>Matt Tucker</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20JSR%20187%20JAIN%20Instant%20Messaging%201.0%20Public%20Review%20Draft&In-Reply-To=%3CE1F190DAC247C64FAA46B38316FA151D801ED5%40EX-101.mail.navisite.com%3E"
       TITLE="[jdev] JSR 187 JAIN Instant Messaging 1.0 Public Review Draft">matt at jivesoftware.com
       </A><BR>
    <I>Tue Feb  1 19:49:09 CST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="050324.html">[jdev] JSR 187 JAIN Instant Messaging 1.0 Public Review Draft
</A></li>
        <LI>Next message: <A HREF="050326.html">[jdev] Has anyone gone beyond simple text messaging?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50325">[ date ]</a>
              <a href="thread.html#50325">[ thread ]</a>
              <a href="subject.html#50325">[ subject ]</a>
              <a href="author.html#50325">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> &gt;From what I've glimpsed in the Smack 1.4 documentation, there are
</I>&gt;<i> subclasses of IQ that actually represent stanzas with certain 
</I>&gt;<i> IM extensions. Parsing extensions to determine that 
</I>&gt;<i> convenience subtype can be costly for the applications that 
</I>&gt;<i> aren't interested. 
</I>
In Smack, it's really not very costly. Also, you don't have to parse
IQ's into objects if you don't want to -- it's all up to the providers
that are installed.

&gt;<i> Also, stanzas containing multiple 
</I>&gt;<i> extensions end up classified on the basis of some perceived 
</I>&gt;<i> &quot;main&quot; extension, which is not guaranteed to be the first in 
</I>&gt;<i> order, so the logic becomes rather hairy. Oh well, I'm 
</I>&gt;<i> nitpicking, this is an IM library after all.
</I>
Actually, not quite. IQ's are parsed into objects but packet extensions
are just parsed into packet extension objects. You can then get
individual packet extensions off of the Message or Presence object. This
solves the composition problem nicely (where you can have multiple
packet extensions in one message, for example).

&gt;<i> &gt; &gt; - Three forms of representation: stanza/extension objects 
</I>&gt;<i> - DOM-like 
</I>&gt;<i> &gt; &gt; trees - raw character strings.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Smack provides objects and raw strings at the moment but not a full 
</I>&gt;<i> &gt; DOM model. We've actually been working on that last part in 
</I>&gt;<i> our Whack 
</I>&gt;<i> &gt; library (upcoming library targeted at components). It's a 
</I>&gt;<i> packet API 
</I>&gt;<i> &gt; that wraps DOM4J Element objects.
</I>&gt;<i> 
</I>&gt;<i> OK, but does it mean that JAXP DOM is in disgrace?
</I>&gt;<i> Take a look at the JSO library; they use a simplified model 
</I>&gt;<i> (indeed, XMPP doesn't need many things that DOM provides) 
</I>&gt;<i> that permits JAXP, DOM4J, and more slender &quot;micro&quot; implementations.
</I>
I'm actually not a big fan of the JSO approach. It seems to work, but
re-implementing a DOM API is very unecessary. If you compare the Whack
packet API to JSO, there is a fundamental difference between how clean
the API's are. This is mostly due to the fact that JSO exposes all the
DOM manipulation through object inheritance. For example, why would most
developers want a Presence.normalizeTrimText method (inherited from
StreamElement)? Whack hides DOM until you need it through
Packet.getElement().

Anyway, if you're interested in discussing further, I'd suggest the
Whack dev forum at:

<A HREF="http://www.jivesoftware.org/forums/forum.jspa?forumID=44">http://www.jivesoftware.org/forums/forum.jspa?forumID=44</A>

Regards,
Matt

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050324.html">[jdev] JSR 187 JAIN Instant Messaging 1.0 Public Review Draft
</A></li>
	<LI>Next message: <A HREF="050326.html">[jdev] Has anyone gone beyond simple text messaging?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50325">[ date ]</a>
              <a href="thread.html#50325">[ thread ]</a>
              <a href="subject.html#50325">[ subject ]</a>
              <a href="author.html#50325">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

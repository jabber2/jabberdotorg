<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: SOCKS5 Bytestream File Transfer problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20SOCKS5%20Bytestream%20File%20Transfer%20problem&In-Reply-To=%3Cd55e29bf05022506162b6b4e41%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050499.html">
   <LINK REL="Next"  HREF="050501.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: SOCKS5 Bytestream File Transfer problem</H1>
    <B>Anthony Ortiz</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Re%3A%20SOCKS5%20Bytestream%20File%20Transfer%20problem&In-Reply-To=%3Cd55e29bf05022506162b6b4e41%40mail.gmail.com%3E"
       TITLE="[jdev] Re: SOCKS5 Bytestream File Transfer problem">anthonypaulo at gmail.com
       </A><BR>
    <I>Fri Feb 25 08:16:50 CST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="050499.html">[jdev] Re: SOCKS5 Bytestream File Transfer problem
</A></li>
        <LI>Next message: <A HREF="050501.html">[jdev] Re: SOCKS5 Bytestream File Transfer problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50500">[ date ]</a>
              <a href="thread.html#50500">[ thread ]</a>
              <a href="subject.html#50500">[ subject ]</a>
              <a href="author.html#50500">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the quick reply, but there's no problem with the SHA-1 due to :

1) The difference in our hash results is due to your applying SHA1(sid
+ from + to) rather than SHA1(sid + Stringprep.nameprep(from + to)),
which in this particular case simply transforms the from and to
variables to all lowercase. So your hash is based on a string
containing uppercase characters while mine was based on lowercase
characters, and the protocol specifically states that the JID's need
to be Stringprepped, so I assume my hash is correct.

2) I made the mistake of pasting the hash output in uppercase... it
should be all lowercase.

Anyone else have any ideas???

Anthony

On Fri, 25 Feb 2005 14:05:41 +0100, Magnus Henoch &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mange at freemail.hu</A>&gt; wrote:
&gt;<i> Anthony Ortiz &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">anthonypaulo at gmail.com</A>&gt; writes:
</I>&gt;<i> 
</I>&gt;<i> &gt; sid = s5b_8e463861b5e6bc04
</I>&gt;<i> &gt; from = <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">venkata at 68.101.84.233</A>/Psi
</I>&gt;<i> &gt; to = <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">aortiz at 68.101.84.233</A>/JClient
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; // using libidn/java/gnu/inet/encoding/Stringprep.java -- too boring
</I>&gt;<i> &gt; to implement, thk god I found this!
</I>&gt;<i> &gt; String SocksHost = SHA1(sid + Stringprep.nameprep(from + to)); // HASH
</I>&gt;<i> &gt; OUTPUT=9134A1B74EB358B866C604B1E1B0DDEE0D664967
</I>&gt;<i> 
</I>&gt;<i> $ echo -n <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">s5b_8e463861b5e6bc04venkata at 68.101.84.233</A>/<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">Psiaortiz at 68.101.84.233</A>/JClient | sha1
</I>&gt;<i> 5b3427312a46e4f44958cda3e0be1cd94bdd813f
</I>&gt;<i> 
</I>&gt;<i> I'm not sure what goes wrong here...
</I>&gt;<i> 
</I>&gt;<i> Magnus
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050499.html">[jdev] Re: SOCKS5 Bytestream File Transfer problem
</A></li>
	<LI>Next message: <A HREF="050501.html">[jdev] Re: SOCKS5 Bytestream File Transfer problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50500">[ date ]</a>
              <a href="thread.html#50500">[ thread ]</a>
              <a href="subject.html#50500">[ subject ]</a>
              <a href="author.html#50500">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

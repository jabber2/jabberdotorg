<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Presence probe requests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Presence%20probe%20requests&In-Reply-To=%3C118-1158668267.20030401164105%40netwinsite.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045394.html">
   <LINK REL="Next"  HREF="045393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Presence probe requests</H1>
    <B>Matt Kearse</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Presence%20probe%20requests&In-Reply-To=%3C118-1158668267.20030401164105%40netwinsite.com%3E"
       TITLE="[JDEV] Presence probe requests">matt at netwinsite.com
       </A><BR>
    <I>Mon Mar 31 22:41:05 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="045394.html">[JDEV] Presence probe requests
</A></li>
        <LI>Next message: <A HREF="045393.html">[JDEV] Signing in and out of transports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45395">[ date ]</a>
              <a href="thread.html#45395">[ thread ]</a>
              <a href="subject.html#45395">[ subject ]</a>
              <a href="author.html#45395">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> First thing: your JIDs are malformed - if you don't have a resource,
</I>&gt;<i> then remove the '/'.
</I>
Thanks. I will fix that, but it doesn't change whether the probes work
or not.

&gt;<i> A transport typically requires a user to login (either by doing a
</I>&gt;<i> registration or sending presence to the transport). After the login, it
</I>&gt;<i> sends available presence for the foreign network entities that the user
</I>&gt;<i> is subscribed to (assuming they're online).
</I>
The problem is if my server stops, then any already logged in user
still appears online to the transport. Once my server starts again,
and the user reconnects I need to know the state of all their
contacts. Sending an online presence to the transport server does not
cause their contact states to be resent (since they were already
considered as online). So I thought probing their states would help. I
also tried sending an unavailable, immediately followed by an online
message to the transport in the hope it would resend all their contact
states. This only served to confuse the transport with it not always
paying attention to the order I send the requests in and the result
being that the user ends up appearing offline to the transport. My
current plan is to wait a few seconds between sending the unavailable
and online status messages again, but that seems to be more
complicated than it needs to be just to request the states of all
contacts. Is there any other way to request the state of all contacts
other than using individual probes for each contact?

Matt Kearse.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045394.html">[JDEV] Presence probe requests
</A></li>
	<LI>Next message: <A HREF="045393.html">[JDEV] Signing in and out of transports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45395">[ date ]</a>
              <a href="thread.html#45395">[ thread ]</a>
              <a href="subject.html#45395">[ subject ]</a>
              <a href="author.html#45395">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Server suddenly closing &lt;stream:stream&gt; on	&lt;presence&gt;&lt;status/&gt;&lt;/presence&gt;. Why?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Server%20suddenly%20closing%20%3Cstream%3Astream%3E%20on%0A%09%3Cpresence%3E%3Cstatus/%3E%3C/presence%3E.%20Why%3F&In-Reply-To=%3C200801130851.51160.snakeru%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="085491.html">
   <LINK REL="Next"  HREF="085493.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Server suddenly closing &lt;stream:stream&gt; on	&lt;presence&gt;&lt;status/&gt;&lt;/presence&gt;. Why?</H1>
    <B>Alexey Nezhdanov</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Server%20suddenly%20closing%20%3Cstream%3Astream%3E%20on%0A%09%3Cpresence%3E%3Cstatus/%3E%3C/presence%3E.%20Why%3F&In-Reply-To=%3C200801130851.51160.snakeru%40gmail.com%3E"
       TITLE="[jdev] Server suddenly closing &lt;stream:stream&gt; on	&lt;presence&gt;&lt;status/&gt;&lt;/presence&gt;. Why?">snakeru at gmail.com
       </A><BR>
    <I>Sat Jan 12 23:51:50 CST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="085491.html">[jdev] Server suddenly closing &lt;stream:stream&gt; on	&lt;presence&gt;&lt;status/&gt;&lt;/presence&gt;. Why?
</A></li>
        <LI>Next message: <A HREF="085493.html">[jdev] Server suddenly closing &lt;stream:stream&gt;	on	&lt;presence&gt;&lt;status/&gt;&lt;/presence&gt;. Why?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85492">[ date ]</a>
              <a href="thread.html#85492">[ thread ]</a>
              <a href="subject.html#85492">[ subject ]</a>
              <a href="author.html#85492">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sunday 13 January 2008 05:22:45 Sean Gilbertson wrote:
&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> Okay, so I'm developing a Jabber client for my Sidekick (phone/mobile
</I>&gt;<i> internet device), and I'm having issues when my code actually runs on
</I>&gt;<i> the phone.  I'm thinking it's not an SDK issue, though; I'm thinking
</I>&gt;<i> that my connection to the Jabber server is getting messed up --
</I>&gt;<i> especially because my code works fine in the simulator.
</I>&gt;<i>
</I>&gt;<i> So here's my current problem: When I send a &lt;presence&gt;&lt;status&gt;My
</I>&gt;<i> status here!&lt;/status&gt;&lt;/presence&gt; tag to the server, it immediately
</I>&gt;<i> sends me a &lt;iq/&gt; and then, immediately following that, a
</I>&gt;<i> &lt;/stream:stream&gt;, which closes the connection.  My input loop then
</I>&gt;<i> closes, and the whole thing is kaput.  So, it appears that the Jabber
</I>&gt;<i> server I'm connected to is having some sort of problem with me, and I
</I>&gt;<i> can't tell what.
</I>&gt;<i>
</I>&gt;<i> Keep in mind that in the SDK simulator, the &lt;presence/&gt; block sends
</I>&gt;<i> fine, and then the server sends me an &lt;iq/&gt;, and then all of the
</I>&gt;<i> presence information for people on my Contact list -- which is what's
</I>&gt;<i> expected!  And the stream is definitely not terminated.
</I>&gt;<i>
</I>&gt;<i> So, why would this happen?  Anyone who can help me with it definitely
</I>&gt;<i> gets a triple-scoop ice cream on ME!
</I>&gt;<i>
</I>&gt;<i> Thanks so much!!
</I>&gt;<i> Sean
</I>Hello. You didn't specified what type of server you using (domainname or at 
least software version). Then it seems pretty unlikely that any compliant 
server will have such a behaivour - it may be that you are actually sending 
something different onto the wire.
The best thing you can do to get a good reply to this list is to reproduce the 
problem with minimum number of packets possible and then send a dump of 
stream io here starting from the last packet that you got the answer for.
You may use thing like tcpflow (may be ethereal too) for it if you do not use 
ssl/tls. 


-- 
Respectfully
Alexey Nezhdanov

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="085491.html">[jdev] Server suddenly closing &lt;stream:stream&gt; on	&lt;presence&gt;&lt;status/&gt;&lt;/presence&gt;. Why?
</A></li>
	<LI>Next message: <A HREF="085493.html">[jdev] Server suddenly closing &lt;stream:stream&gt;	on	&lt;presence&gt;&lt;status/&gt;&lt;/presence&gt;. Why?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85492">[ date ]</a>
              <a href="thread.html#85492">[ thread ]</a>
              <a href="subject.html#85492">[ subject ]</a>
              <a href="author.html#85492">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

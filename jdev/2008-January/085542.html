<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Bug in jabberd2 (2.1.13) on win32
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Bug%20in%20jabberd2%20%282.1.13%29%20on%20win32&In-Reply-To=%3C5b698f5a0801240051n306ce285g53e66eedef6265dd%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="085541.html">
   <LINK REL="Next"  HREF="085543.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Bug in jabberd2 (2.1.13) on win32</H1>
    <B>Norman Rasmussen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Bug%20in%20jabberd2%20%282.1.13%29%20on%20win32&In-Reply-To=%3C5b698f5a0801240051n306ce285g53e66eedef6265dd%40mail.gmail.com%3E"
       TITLE="[jdev] Bug in jabberd2 (2.1.13) on win32">norman at rasmussen.co.za
       </A><BR>
    <I>Thu Jan 24 02:51:27 CST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="085541.html">[jdev] Bug in jabberd2 (2.1.13) on win32
</A></li>
        <LI>Next message: <A HREF="085543.html">[jdev] Bug in jabberd2 (2.1.13) on win32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85542">[ date ]</a>
              <a href="thread.html#85542">[ thread ]</a>
              <a href="subject.html#85542">[ subject ]</a>
              <a href="author.html#85542">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jan 24, 2008 2:14 AM, Dan Hulme &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dhulme at gmail.com</A>&gt; wrote:

&gt;<i> This function appears to try to append the old closed socket to a
</I>&gt;<i> linked list of free sockets.  When the new connection tries to use
</I>&gt;<i> this socket, it has trouble.  Once the next connection connects,
</I>&gt;<i> however, it will not use that socket as it is still in use, so it will
</I>&gt;<i> work.  Not sure why the socket that is being appended is broken, but
</I>&gt;<i> if this function is not called (at mio_impl.h: 267), the program works
</I>&gt;<i> &quot;fine.&quot;  It may not be reusing sockets, but everything else works.
</I>&gt;<i>
</I>
In my experience win32 does weird things with closed sockets: if you close a
listening socket, it doesn't actually go away until all connected clients do
too.  It sounds like this is similar, and that perhaps for win32 you
shouldn't be trying to pool sockets.

-- 
- Norman Rasmussen
- Email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at rasmussen.co.za</A>
- Home page: <A HREF="http://norman.rasmussen.co.za/">http://norman.rasmussen.co.za/</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20080124/3a534fe9/attachment-0002.htm">https://www.jabber.org/jdev/attachments/20080124/3a534fe9/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="085541.html">[jdev] Bug in jabberd2 (2.1.13) on win32
</A></li>
	<LI>Next message: <A HREF="085543.html">[jdev] Bug in jabberd2 (2.1.13) on win32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85542">[ date ]</a>
              <a href="thread.html#85542">[ thread ]</a>
              <a href="subject.html#85542">[ subject ]</a>
              <a href="author.html#85542">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

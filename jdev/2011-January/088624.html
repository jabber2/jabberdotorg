<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Component disocnnection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Component%20disocnnection&In-Reply-To=%3CAANLkTinYOFuug__QbAvQrtjzDULi4As%2B8btR7R_KsYg1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="088623.html">
   <LINK REL="Next"  HREF="088625.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Component disocnnection</H1>
    <B>Sylvain Hellegouarch</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Component%20disocnnection&In-Reply-To=%3CAANLkTinYOFuug__QbAvQrtjzDULi4As%2B8btR7R_KsYg1%40mail.gmail.com%3E"
       TITLE="[jdev] Component disocnnection">sh at defuze.org
       </A><BR>
    <I>Sat Jan 22 10:23:16 CST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="088623.html">[jdev] Component disocnnection
</A></li>
        <LI>Next message: <A HREF="088625.html">[jdev] Component disocnnection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88624">[ date ]</a>
              <a href="thread.html#88624">[ thread ]</a>
              <a href="subject.html#88624">[ subject ]</a>
              <a href="author.html#88624">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Julien,

On Sat, Jan 22, 2011 at 4:58 PM, Julien Genestoux &lt;
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">julien.genestoux at gmail.com</A>&gt; wrote:

&gt;<i> Nope, sending &lt;/stream&gt; won't cut it, because Ineed to component to clear
</I>&gt;<i> out whatever messages are being processed.
</I>&gt;<i>
</I>&gt;<i> Basically, our components get hundreds of messages per second, some of them
</I>&gt;<i> take up to a few seconds to be processed and some of them incur responses to
</I>&gt;<i> be sent. What I want for the component is the ability to tell the server :
</I>&gt;<i> please don't route any more messages to me, let me send a few more though.
</I>&gt;<i> Makes sense?
</I>&gt;<i>
</I>&gt;<i>
</I>
No XEP will provide you with that behavior AFAIK. However, since you're
using ejabberd, you can obviously write somple simple ejabberd module (not
an external component) that would listen itself for specific stanzas from
your other components to do just that. If you look for it, you'll see you
can quite likely modify the ejabberd configuration held in mnesia in a
dynamic fashion. Your module would simply remove the configuration for that
component from the route table held by ejabberd. I'm pretty sure it's doable
but you'll need to write some erlang code and dive into the internals of
ejabberd :)

- Sylvain




-- 
- Sylvain
<A HREF="http://www.defuze.org">http://www.defuze.org</A>
<A HREF="http://twitter.com/lawouach">http://twitter.com/lawouach</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20110122/3d81e91f/attachment.htm">https://www.jabber.org/jdev/attachments/20110122/3d81e91f/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="088623.html">[jdev] Component disocnnection
</A></li>
	<LI>Next message: <A HREF="088625.html">[jdev] Component disocnnection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88624">[ date ]</a>
              <a href="thread.html#88624">[ thread ]</a>
              <a href="subject.html#88624">[ subject ]</a>
              <a href="author.html#88624">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

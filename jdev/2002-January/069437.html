<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Jabberd 1.5 Development
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabberd%201.5%20Development&In-Reply-To=%3CB86B4317.C9C%25iainshigeoka%40yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069433.html">
   <LINK REL="Next"  HREF="069423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Jabberd 1.5 Development</H1>
    <B>Iain Shigeoka</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Jabberd%201.5%20Development&In-Reply-To=%3CB86B4317.C9C%25iainshigeoka%40yahoo.com%3E"
       TITLE="[JDEV] Jabberd 1.5 Development">iainshigeoka at yahoo.com
       </A><BR>
    <I>Wed Jan 16 16:47:51 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="069433.html">[JDEV] Jabberd 1.5 Development
</A></li>
        <LI>Next message: <A HREF="069423.html">[JDEV] Jabberd 1.5 Development
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69437">[ date ]</a>
              <a href="thread.html#69437">[ thread ]</a>
              <a href="subject.html#69437">[ subject ]</a>
              <a href="author.html#69437">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/16/02 8:51 AM, &quot;Peter Saint-Andre&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">stpeter at jabber.org</A>&gt; wrote:

&gt;&gt;<i> Fantastic.  While this is being done, I would really (really really)
</I>&gt;&gt;<i> appreciate it if someone would create a list of exactly what error codes are
</I>&gt;&gt;<i> reported in what situations.  That would greatly help client writers react
</I>&gt;&gt;<i> properly to error codes and help independent server implementers provide the
</I>&gt;&gt;<i> uniform error reports.
</I>&gt;<i> 
</I>&gt;<i> I have a list here:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://docs.jabber.org/general/html/protocol.html">http://docs.jabber.org/general/html/protocol.html</A>
</I>&gt;<i> 
</I>&gt;<i> But I'll probably just add a similar list to the RFC I'm writing.
</I>
:<i>)  That isn't exactly what I meant.  :) The Jabber docs do an excellent job
</I>of documenting the fact that a certain error code means a certain thing.
For example that 401 means unauthorized while 403 means forbidden.  However,
we don't have a list of the expected error codes for particular situations.

For example, I try and send a message packet before authenticating.  The
server doesn't support any message sending prior to authentication (I know
the spec recommends store and forward after auth but my implementation may
consider that a huge DOS vulnerability so I want to reject all messages
until authenticated).

Does the server send back a 401 or a 403.  Or a 405 (not allowed) or 406
(not acceptable).  Or a 501 (not implemented... I guess messaging is not
implemented ...) or 503 (service unavailable)?  All apply and I can see the
possibility that a particular implementer may see things differently and
choose different error codes.

However, client writers would be aided by consistent error messages.
Perhaps always 401 in this situation (no message store and forward until
auth).  While a 403 is reserved for messaging to blacklisted addresses with
401's taking precedent over 403 (you'll get auth problems before blacklists
are checked).

Essentially, this would be the process of defining every protocol and
&quot;valid&quot; situation in Jabber as sets of &quot;state diagrams&quot; with some outcomes
(states) being error conditions with standard error code responses.  Any
situation outside of the specs would be &quot;unspecified&quot; and therefore result
in unpredictable behavior... Right now we have no detailed specified
behavior so everything is &quot;unpredictable&quot; to a certain extent.

-iain


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at <A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069433.html">[JDEV] Jabberd 1.5 Development
</A></li>
	<LI>Next message: <A HREF="069423.html">[JDEV] Jabberd 1.5 Development
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69437">[ date ]</a>
              <a href="thread.html#69437">[ thread ]</a>
              <a href="subject.html#69437">[ subject ]</a>
              <a href="author.html#69437">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

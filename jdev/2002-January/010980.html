<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Jabber INST + xdb_sql (mysql) cannot load backend 'mysql'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Jabber%20INST%20%2B%20xdb_sql%20%28mysql%29%20cannot%20load%20backend%20%27mysql%27&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010979.html">
   <LINK REL="Next"  HREF="010981.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Jabber INST + xdb_sql (mysql) cannot load backend 'mysql'</H1>
    <B>Daniel Diehl</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Jabber%20INST%20%2B%20xdb_sql%20%28mysql%29%20cannot%20load%20backend%20%27mysql%27&In-Reply-To="
       TITLE="[JDEV] Jabber INST + xdb_sql (mysql) cannot load backend 'mysql'">daniel at pixel-city.net
       </A><BR>
    <I>Sun Jan 27 04:43:23 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="010979.html">[JDEV] jabber:iq:filter
</A></li>
        <LI>Next message: <A HREF="010981.html">[JDEV] Protocol plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10980">[ date ]</a>
              <a href="thread.html#10980">[ thread ]</a>
              <a href="subject.html#10980">[ subject ]</a>
              <a href="author.html#10980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey ...

I&#180;ve got a big prob an configure xdb_sql (1.2) in
my freeBSD Jabber Server 1.4.1

After 100 hours attemp to compile xdb_sql (Playing
much in Makefile) the Makefile seem to run..

It produce during make the output:
---------------------------------------------------------
make clean
rm -f xdb_sql.o  xdb_sql_auth0k.o  xdb_sql_auth.o  xdb_sql_offline.o
xdb_sql_register.o  xdb_sql_config.o  xdb_sql_querydef.o  xdb_sql_roster.o
xdb_sql_last.o  xdb_sql_backend.o  xdb_sql_vcard.o  xdb_sql_filter.o
xdb_sql_generic.o  xdb_sql_mysql.o xdb_sql.so
rm -rf xdb_sql.1.0
bash-2.05$ make
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql.c
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_auth0k.c
xdb_sql_auth0k.c: In function `xdbsql_auth0k_get':
xdb_sql_auth0k.c:70: warning: unused variable `rowcount'
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_auth.c
xdb_sql_auth.c: In function `xdbsql_auth_get':
xdb_sql_auth.c:30: warning: unused variable `rowcount'
xdb_sql_auth.c: In function `xdbsql_user_exists':
xdb_sql_auth.c:233: warning: unused variable `rowcount'
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_offline.c
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_register.c
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_config.c
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_querydef.c
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_roster.c
xdb_sql_roster.c: In function `xdbsql_roster_set':
xdb_sql_roster.c:435: warning: suggest explicit braces to avoid ambiguous
`else'
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_last.c
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_backend.c
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_vcard.c
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_filter.c
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_generic.c
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -c xdb_sql_mysql.c
gcc -I. -I../jabberd  -I/usr/local/include/mysql -g -Wall -I. -I.. -I/usr/ho
me/phaze/pth/include -fPIC -shared -o xdb_sql.so xdb_sql.o  xdb_sql_auth0k.o
xdb_sql_auth.o  xdb_sql_offline.o  xdb_sql_register.o  xdb_sql_config.o
xdb_sql_querydef.o  xdb_sql_roster.o  xdb_sql_last.o  xdb_sql_backend.o
xdb_sql_vcard.o  xdb_sql_filter.o  xdb_sql_generic.o

db_sql_mysql.o -L/usr/home/phaze/pth/lib -L/usr/local/lib/mysql/ -static  -L
/usr/local/mysql/lib/mysql  -lmysqlclient
----------------------------------------------------------

Then I include the xdb Config in jabber.xml

----------------------------------------------------------
&lt;xdb id=&quot;xdb_sql&quot;&gt;
  &lt;host/&gt;
    &lt;ns&gt;jabber:iq:roster&lt;/ns&gt;
    &lt;ns&gt;jabber:x:offline&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:filter&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:last&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:auth&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:auth:0k&lt;/ns&gt;
    &lt;ns&gt;jabber:iq:register&lt;/ns&gt;
    &lt;ns&gt;vcard-temp&lt;/ns&gt;
    &lt;load&gt;
      &lt;xdb_sql&gt;./xdb_sql/xdb_sql.so&lt;/xdb_sql&gt;
    &lt;/load&gt;
    &lt;jabberd:include&gt;./xdb_sql/xdb_sql.xml&lt;/jabberd:include&gt;
&lt;/xdb&gt;
----------------------------------------------------------


On Starting jabberd I get the output:


[alert] (-internal): [xdbsql_config_init] cannot load backend 'mysql'


So .. no .. I&#180;ve no idea more .... Can somebody give me a tip ???
Thanks A LOT !!!!!!!!!!!!!


bye,
Daniel

+++ -------------------------------------------- +++
+++ Daniel Diehl - <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">daniel at pixel-city.net</A>         +++
+++ Check out the upcoming PIXEL-CITY.NET !!!    +++
+++ -------------------------------------------- +++
    I&#180;ve you don't start doing it, you will never
    get your dreams realized.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010979.html">[JDEV] jabber:iq:filter
</A></li>
	<LI>Next message: <A HREF="010981.html">[JDEV] Protocol plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10980">[ date ]</a>
              <a href="thread.html#10980">[ thread ]</a>
              <a href="subject.html#10980">[ subject ]</a>
              <a href="author.html#10980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [standards-jig] Re: [JDEV] XML Conformance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bstandards-jig%5D%20Re%3A%20%5BJDEV%5D%20XML%20Conformance&In-Reply-To=%3C20020117124049.J18912%40redhat.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040177.html">
   <LINK REL="Next"  HREF="040173.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[standards-jig] Re: [JDEV] XML Conformance</H1>
    <B>Daniel Veillard</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bstandards-jig%5D%20Re%3A%20%5BJDEV%5D%20XML%20Conformance&In-Reply-To=%3C20020117124049.J18912%40redhat.com%3E"
       TITLE="[standards-jig] Re: [JDEV] XML Conformance">veillard at redhat.com
       </A><BR>
    <I>Thu Jan 17 11:40:49 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="040177.html">[standards-jig] Re: [JDEV] XML Conformance
</A></li>
        <LI>Next message: <A HREF="040173.html">[JDEV] Newbie questions.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40182">[ date ]</a>
              <a href="thread.html#40182">[ thread ]</a>
              <a href="subject.html#40182">[ subject ]</a>
              <a href="author.html#40182">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jan 17, 2002 at 08:46:03AM -0600, Julian Missig wrote:
&gt;<i> /me admits defeat and crossposts
</I>
  :-)

&gt;<i> &gt;&gt;So therefore, ids may start with a letter, an underscore, or a colon, 
</I>&gt;<i> &gt;&gt;and then have all the numbers your pretty little heart desires. However, 
</I>&gt;<i> &gt;&gt;'2' is not a valid id.
</I>&gt;<i> 
</I>&gt;<i> Right now, there's nothing to base validity off of, but we do plan on 
</I>&gt;<i> eventually having schemas some day, which is why I brought it up.
</I>
  yep this would definitely suit Jabber use better (namespace support and
composition).

&gt;<i> Hrmm, I see what you're saying. So you feel there's nothing wrong with 
</I>&gt;<i> requiring clients and servers to support prefixes? I'm just under the 
</I>&gt;<i> impression that things like palm clients will have difficulty with that, 
</I>&gt;<i>   moreso than it would be difficult to require they not be used... 
</I>&gt;<i> Correct me if I'm wrong ;)
</I>
  I'm afraid that imposing extra rules will require using specific code,
PalOs probably already have XML handling, possibly in ROM. Not sure such
a requirement would be taht better in this case. Less deviation means
more standard tools, simpler to develop and less buggy products -- in
theory at least :-).

&gt;<i> Are there really that many XML Namespaces-conforming parsers which will randomly
</I>&gt;<i> start using prefixes which cannot be turned off? From my point of view, it's more
</I>&gt;<i> difficult for many parts of jabber to support prefixes. Servers will have to keep
</I>&gt;<i> track of all the prefixes a client uses...because a client could declare a prefix
</I>&gt;<i> when sending to one person and use it in a message to another, so the server will
</I>&gt;<i> have to tack the xmlns:prefix definition on the packets sent to other people.
</I>
  Yes you have to keep track of prefixes. I don't see how you could avoid this
in any case.

&gt;<i> Prefixes also hurt stream compression and any routing optimizations since the tag
</I>&gt;<i> names could be virtually anything (There has already been some work on routing
</I>&gt;<i> optimization since the basic structure of most Jabber packets is very similar - it
</I>&gt;<i> would be somewhat negated by having to support namespace prefixes, and I get the
</I>&gt;<i> feeling that SSL compression won't be as effective when prefixes are changing). So
</I>
   You're trying to optimize too early. Build and test, then optimize.
If the application wants to optimize its serialization rules, the last thing
it may want are rules about what prefixes really need to be made default ones.
one can have only one one element prefix per element but potentially dozens
of namespace prefixes on attributes. And there are subtles rules about 
default namespaces and attributes.

&gt;<i> from my point of view it seems easier and more efficient to not allow prefixes. I
</I>&gt;<i> know in Gabber it will take a major overhaul of Jabberoo and Gabber to properly
</I>&gt;<i> support prefixes. Also, are XML Namespace-conforming parsers available everywhere we
</I>&gt;<i> have Jabber clients right now? I know it could be argued that the existing XML
</I>&gt;<i> parsers should be made XML Namespace-conforming, but it's an additional argument
</I>&gt;<i> against it in Jabber.
</I>
  The namespace conformance can be implemented on top of non-namespace aware
this does not stand. Yes you have to keep a list of in-scope namespaces
at a given point at parse time.

&gt;<i> No, I don't think printf() is the way to go ;) - I do want conforming parsers, but it
</I>&gt;<i> may be possible for us to get away with not requiring a fully Namespace-conforming
</I>&gt;<i> parser...
</I>
  Either you use namespaces or not. If you don't you can't extend
properly the protocol and Jabber might be usuable as an XML transport
platform, and considering the weight of XML based protocols at the moment
this doesn't sound good.

Daniel

-- 
Daniel Veillard      | Red Hat Network <A HREF="https://rhn.redhat.com/">https://rhn.redhat.com/</A>
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">veillard at redhat.com</A>  | libxml Gnome XML XSLT toolkit  <A HREF="http://xmlsoft.org/">http://xmlsoft.org/</A>
<A HREF="http://veillard.com/">http://veillard.com/</A> | Rpmfind RPM search engine <A HREF="http://rpmfind.net/">http://rpmfind.net/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040177.html">[standards-jig] Re: [JDEV] XML Conformance
</A></li>
	<LI>Next message: <A HREF="040173.html">[JDEV] Newbie questions.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40182">[ date ]</a>
              <a href="thread.html#40182">[ thread ]</a>
              <a href="subject.html#40182">[ subject ]</a>
              <a href="author.html#40182">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

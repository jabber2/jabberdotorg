<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] yahoo transport with problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20yahoo%20transport%20with%20problems&In-Reply-To=%3C1011114503.756.7.camel%40eagle%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040119.html">
   <LINK REL="Next"  HREF="040134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] yahoo transport with problems</H1>
    <B>Ron Smits</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20yahoo%20transport%20with%20problems&In-Reply-To=%3C1011114503.756.7.camel%40eagle%3E"
       TITLE="[JDEV] yahoo transport with problems">rons at ronsmits.com
       </A><BR>
    <I>Tue Jan 15 11:08:22 CST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="040119.html">[JDEV] JSF discussion tomorrow
</A></li>
        <LI>Next message: <A HREF="040134.html">[JDEV] yahoo transport with problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40122">[ date ]</a>
              <a href="thread.html#40122">[ thread ]</a>
              <a href="subject.html#40122">[ subject ]</a>
              <a href="author.html#40122">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Evening,
I have a large buddy list in yahoo and have been running my jabber
server for quite some time now. So every now and then gabber will die
unexpectedly. First I thought it was gabber. But hunting down the error
showed me that in fact it is due to one of the first packages yahoo
sends me concerning the people how are online. 
A packet will come in and the possiblility is there that the buffer
allocated for it is not big enough. In the output below you will see
that I re-switched on some debug that prints the length of the buffer
this is all in libyahoo.c 
I traced the calls down to the mio_new call where the handle_read from
the yahoo transport is added to the mio loop. But for the life of me, I
cannot find where the buffer is allocated so I can also not check if
increasing this buffer will actually help me in solving this problem

Any ideas here?

Ron Smits
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rons at ronsmits.org</A>

<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">root at swallow</A>:/usr/local/jabber-1.4.1/jabberd# ./jabberd 
20020115T17:57:32: [notice] (yahoo.ronsmits.org): yahoo-transport
starting up...
20020115T17:57:32: [notice] (irc.ronsmits.org): IRC Transport starting
up...
20020115T17:57:46: [notice] (yahoo.ronsmits.org): Session started for
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ron at ronsmits.org</A>/Gabber as user 
20020115T17:57:46: [notice] (yahoo): inserting primary
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ron at ronsmits.org</A>/Gabber into ppdb for session <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ron at ronsmits.org</A>/Gabber
20020115T17:57:48: [notice] (yahoo): inserting secondary
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ron at ronsmits.org</A>/Gabber into ppdb for session <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ron at ronsmits.org</A>/Gabber
20020115T17:57:48: [notice] (yahoo): [auth] (<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ron at ronsmits.org</A>/Gabber)
switching status (0) -&gt; ((null))
contentlen = 891
buffer not big enough for contentlen
contentlen = 891
contentlen = 44
contentlen = 30
contentlen = 37
contentlen = 34



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040119.html">[JDEV] JSF discussion tomorrow
</A></li>
	<LI>Next message: <A HREF="040134.html">[JDEV] yahoo transport with problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40122">[ date ]</a>
              <a href="thread.html#40122">[ thread ]</a>
              <a href="subject.html#40122">[ subject ]</a>
              <a href="author.html#40122">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

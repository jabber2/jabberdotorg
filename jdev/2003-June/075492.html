<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] More Muse Api Help
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20More%20Muse%20Api%20Help&In-Reply-To=%3CEE1B83CE-A8F3-11D7-B2FD-0003934C95FE%40gatewest.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075491.html">
   <LINK REL="Next"  HREF="075487.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] More Muse Api Help</H1>
    <B>Colin Bell</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20More%20Muse%20Api%20Help&In-Reply-To=%3CEE1B83CE-A8F3-11D7-B2FD-0003934C95FE%40gatewest.co.uk%3E"
       TITLE="[JDEV] More Muse Api Help">colinb at gatewest.co.uk
       </A><BR>
    <I>Fri Jun 27 18:06:05 CDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="075491.html">[JDEV] Muse Api Help
</A></li>
        <LI>Next message: <A HREF="075487.html">[JDEV] Multiple connects / AIM-t not disconnecting?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75492">[ date ]</a>
              <a href="thread.html#75492">[ thread ]</a>
              <a href="subject.html#75492">[ subject ]</a>
              <a href="author.html#75492">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Chris

I'm climbing deeper into the Muse API after having gotten the basics 
working on my web client. I'm trying to add the more complex stuff and 
I'm hitting some rocks. I have been trying hard not to ask but, I'm 
really struggling.

With the subscribe requests. I can send a request for subscription but 
I'm having a problem responding a methods as follows

public void denySubscription(JabberPresenceMessage msg) throws 
Exception{
		jsession.getPresenceService().denySubscribe(msg);
	}

seems simple enough but within the context of a web client. What is the 
variable msg ? Is a key, The full xml? I dont understand.
If I am able to carry this over to a link and the user clicks yes to 
subscribe. Then how do I cast it back into a JabberPresenceMessage 
class ?
ie(&lt;a href=&quot;somepage.jsp?action=subscribe&amp;msg=the%20messag&quot;&gt;Allow this 
user to get my presence&lt;/a&gt;)

Many thanks

Colin

On Friday, June 27, 2003, at 08:16 PM, Chris Chen wrote:

&gt;<i> You need to keep a reference of the newly instantiated message 
</I>&gt;<i> listener.
</I>&gt;<i>
</I>&gt;<i> DefaultConnectionListener clistener = new DefaultConnectionListener();
</I>&gt;<i> session.getConnection().addConnectionListener(clistener);
</I>&gt;<i> ...
</I>&gt;<i> session.getConnection().removeConnectionListener(clistener);
</I>&gt;<i>
</I>&gt;<i> Chris
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075491.html">[JDEV] Muse Api Help
</A></li>
	<LI>Next message: <A HREF="075487.html">[JDEV] Multiple connects / AIM-t not disconnecting?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75492">[ date ]</a>
              <a href="thread.html#75492">[ thread ]</a>
              <a href="subject.html#75492">[ subject ]</a>
              <a href="author.html#75492">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Heartbeat and tcp keepalive
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Heartbeat%20and%20tcp%20keepalive&In-Reply-To=%3C1109704774.6049.17.camel%40h%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079831.html">
   <LINK REL="Next"  HREF="079825.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Heartbeat and tcp keepalive</H1>
    <B>Craig Hollabaugh</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Heartbeat%20and%20tcp%20keepalive&In-Reply-To=%3C1109704774.6049.17.camel%40h%3E"
       TITLE="[jdev] Heartbeat and tcp keepalive">craig at hollabaugh.com
       </A><BR>
    <I>Tue Mar  1 13:19:34 CST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="079831.html">[jdev] Jabberd2 for Windows?
</A></li>
        <LI>Next message: <A HREF="079825.html">[jdev] Heartbeat and tcp keepalive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79819">[ date ]</a>
              <a href="thread.html#79819">[ thread ]</a>
              <a href="subject.html#79819">[ subject ]</a>
              <a href="author.html#79819">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Developers,

I'm integrating test equipment and GUIs using XMPP, works great. Well
except for when my test equipment&lt;-&gt;XMPP single board computer is
switched off. The server doesn't recognize that the SBC is offline for
quite some time (same problem as the disconnected dialup laptop user in
a chat scenario) because of the Linux timeout settings in
proc/sys/net/ipv4/. I found this thread 

<A HREF="https://www.jabber.org/jadmin/2004-April/015513.html">https://www.jabber.org/jadmin/2004-April/015513.html</A>

but there wasn't a mention of specific settings to reduce the timeout. 

I'm wondering if someone out there has tweaked their TCP timeout
settings combined with jabberd 1.4.3's heartbeat to recognize the
disconnected client in under 60 seconds. I'd actually like 5 second
discovery, heartbeat traffic is not a concern because all my equipment
is connected to the same 100Mb/s switch. 

If you've successfully configured your system to reduce the timeout, can
you forward your proc/sys/net/ipv4/ settings? 

Thanks,
Craig


-- 
------------------------------------------------------------
Dr. Craig Hollabaugh, <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">craig at hollabaugh.com</A>, 970 325 0509
Author of Embedded Linux: Hardware, Software and Interfacing
www.embeddedlinuxinterfacing.com


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079831.html">[jdev] Jabberd2 for Windows?
</A></li>
	<LI>Next message: <A HREF="079825.html">[jdev] Heartbeat and tcp keepalive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79819">[ date ]</a>
              <a href="thread.html#79819">[ thread ]</a>
              <a href="subject.html#79819">[ subject ]</a>
              <a href="author.html#79819">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

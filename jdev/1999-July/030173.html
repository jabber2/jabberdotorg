<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Character Encodings and Languages thread
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Character%20Encodings%20and%20Languages%20thread&In-Reply-To=%3C199907300836.JAA19851%40burnmoor.ncl.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030156.html">
   <LINK REL="Next"  HREF="030196.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Character Encodings and Languages thread</H1>
    <B>Lindsay.Marshall at newcastle.ac.uk</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Character%20Encodings%20and%20Languages%20thread&In-Reply-To=%3C199907300836.JAA19851%40burnmoor.ncl.ac.uk%3E"
       TITLE="[JDEV] Character Encodings and Languages thread">Lindsay.Marshall at newcastle.ac.uk
       </A><BR>
    <I>Fri Jul 30 03:39:02 CDT 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="030156.html">[JDEV] Character Encodings and Languages thread
</A></li>
        <LI>Next message: <A HREF="030196.html">[JDEV] Character Encodings and Languages thread
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30173">[ date ]</a>
              <a href="thread.html#30173">[ thread ]</a>
              <a href="subject.html#30173">[ subject ]</a>
              <a href="author.html#30173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> The problem is that we are dealing with an XML document here, the
</I>&gt;<i> conversation between the client and server is just a normal streaming XML
</I>&gt;<i> document.  I don't think it's possible to change character encodings on
</I>&gt;<i> the fly within the document, it would be like changing byte-order randomly
</I>&gt;<i> in any protocol stream.  This would cause problems implementing clients
</I>&gt;<i> and most importantly, there aren't any XML parsers that would support this
</I>&gt;<i> type of thing.  So adding an encoding=&quot;&quot; to each message or tag wouldn't
</I>&gt;<i> be feasible.
</I>
Sorry, but this is nonsense. We are *only* talking about CDATA here,
that is 8 bit bytes. The XML parser simply pulls these out without
interpretation (apart from escaped characters) and gives them to you.
(Well, at least that's what my XML parser does!). I am free to
interpret those bytes in anyway I chose. The encoding is only relevant
to the rendering software, it has nothing to do with the parser at
all. Implementing it is essentially trivial. 

&gt;<i> But, we can still support the required international charset functionality
</I>&gt;<i> I believe.  When each client connects to the server, it identifies in the
</I>&gt;<i> opening &lt;?xml ?&gt; tag it's character encoding.  By default it's UTF-8, but
</I>&gt;<i> the server will and should support a range of other common encodings for
</I>&gt;<i> clients to specify.  The *entire stream* is then encoded in what was
</I>&gt;<i> specified.  The server is normally going to be sending back the default
</I>&gt;<i> UTF-8 encoding.  I'm not sure what it would take to support this, but
</I>&gt;<i> there might be value in adding a server option to change the default
</I>&gt;<i> outgoing encoding, so that servers that are primarily international can
</I>&gt;<i> use the most common encoding for data sent back to those clients. 
</I>
This doesn't help at all. What I want to be able to do is to
communicate with my friends in Korea in korean, my friends in japan in
Japanese and use English here. I want to do this over a single message
stream. Not everyone will have UTF-8 support on their machines.

&gt;<i> What this means is that the server is going to have to translate
</I>&gt;<i> internally between different encodings.  This is where things start to get
</I>&gt;<i> a little fuzzy for me... Is there a library out there for doing this sort
</I>&gt;<i> of thing, is it not common in other software?
</I>
The server need do nothing at all if you allow the encoding attribute -
it simply passes on the bytes and the client deals with it (or not).
Having the server do anything is just silly. Always remember that it is
just CDATA!!!
 
&gt;<i> and part of XML:
</I>&gt;<i> 	<A HREF="http://www.w3.org/TR/1998/REC-xml-19980210#sec-lang-tag">http://www.w3.org/TR/1998/REC-xml-19980210#sec-lang-tag</A>
</I>
Thanks for the ref. I knew it was all well defined.

L.
-- 
<A HREF="http://catless.ncl.ac.uk/Lindsay">http://catless.ncl.ac.uk/Lindsay</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030156.html">[JDEV] Character Encodings and Languages thread
</A></li>
	<LI>Next message: <A HREF="030196.html">[JDEV] Character Encodings and Languages thread
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30173">[ date ]</a>
              <a href="thread.html#30173">[ thread ]</a>
              <a href="subject.html#30173">[ subject ]</a>
              <a href="author.html#30173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

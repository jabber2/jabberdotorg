<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Reg-Jabberd runtime problem in HP-UX 11.11
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Reg-Jabberd%20runtime%20problem%20in%20HP-UX%2011.11&In-Reply-To=%3C005901c25d3b%241992a610%24300110ac%40snpsi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072739.html">
   <LINK REL="Next"  HREF="072742.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Reg-Jabberd runtime problem in HP-UX 11.11</H1>
    <B>SenthilVelavan.P</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Reg-Jabberd%20runtime%20problem%20in%20HP-UX%2011.11&In-Reply-To=%3C005901c25d3b%241992a610%24300110ac%40snpsi%3E"
       TITLE="[JDEV] Reg-Jabberd runtime problem in HP-UX 11.11">senthilvelavan at gmx.net
       </A><BR>
    <I>Sun Sep 15 23:39:47 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="072739.html">[JDEV] MSN-contacts in Jabber-roster: how?
</A></li>
        <LI>Next message: <A HREF="072742.html">[JDEV] Jabber Capacity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72740">[ date ]</a>
              <a href="thread.html#72740">[ thread ]</a>
              <a href="subject.html#72740">[ subject ]</a>
              <a href="author.html#72740">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello All,
     
       I'm facing a problem in the product Jabber.Here with i have given the build information and runtime problems on HP-UX11.11.
Please guide me if i'm doing any thing wrong.

Installation steps :

1)./configure

a)Configure script checks for  the pthconfig settings .If the path is not mentioned then it takes the pth comes with the tar ball.

Running Jabber Configure
========================
Getting pth settings...Configuring GNU Pth (Portable Threads),
Setting Build Parameters...     Done.
Generating Settings Script...   Done.
You may now type 'make' to build your new Jabber system.

b)Configure script generates a file named platform-settings
    The file content is given FYI
    #!/bin/sh
    CC=gcc 
    CFLAGS= -g -Wall -fPIC -I. -I.. -I/home/senthil/jabber-1.4.1/jabberd/pth-1.3.7
    MCFLAGS= -shared
    LDFLAGS=
    LIBS=
    SLIBS=
    XLDFLAGS=
    PSUBDIR=pth-1.3.7
    PLINK=/home/senthil/jabber-1.4.1/jabberd/pth-1.3.7/pth_*.o
    JHOME=/home/senthil/jabber-1.4.1
2)gmake
gmake error1:
In file included from config.c:32:
single.h:5:25: missing terminating &quot; character
In file included from config.c:32:
single.h:7: error: parse error before '-' token
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:13:12: warning: multi-character character constant
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:7: error: stray '\' in program
single.h:16:39: missing terminating &quot; character
config.c: In function `cmdline_replace':
config.c:109: error: `cmd__line' undeclared (first use in this function)
config.c:109: error: (Each undeclared identifier is reported only once
config.c:109: error: for each function it appears in.)
gmake[2]: *** [config.o] Error 1
gmake[2]: Leaving directory `/home/senthil/jabber-1.4.1/jabberd'
gmake[1]: *** [all-recursive] Error 1
gmake[1]: Leaving directory `/home/senthil/jabber-1.4.1/jabberd'
gmake: *** [all-recursive] Error 1
---------------------------------------
Changes made in file single.h
The line 
Usage:  
is changed to
Usage: \n\    

Gmake error 2:

/jabber-1.4.1\&quot;&quot; -DCONFIGXML=&quot;\&quot;jabber.xml\&quot;&quot;   -c -o mio_xml.o mio_xml.c
mio_xml.c:145:26: missing terminating &quot; character
mio_xml.c: In function `_mio_xml_parser':
mio_xml.c:146: error: parse error before &quot;Server&quot;
mio_xml.c:152:1: missing terminating &quot; character
gmake[1]: *** [mio_xml.o] Error 1
gmake[1]: Leaving directory `/home/senthil/jabber-1.4.1/jabberd'
gmake: *** [static-recursive] Error 1
---------------------------------------
Changes made in mio_xml.c
In line 145  new line character is not accepting.

Gmake error 3:
stdout.o base/base_accept.o base/base_file.o base/base_format.o base/base_stderr.o base/base_to.o    
/home/senthil/jabber-1.4.1/jabberd/pth-1.3.7/pth_*.o
ld: Unsatisfied symbol &quot;modf&quot; in file lib/snprintf.o
1 errors.
collect2: ld returned 1 exit status
gmake[2]: *** [all-local] Error 1
gmake[2]: Leaving directory `/home/senthil/jabber-1.4.1/jabberd'
gmake[1]: *** [all-recursive] Error 1
gmake[1]: Leaving directory `/home/senthil/jabber-1.4.1/jabberd'
gmake: *** [all-recursive] Error 1
-----------------------------------
Changes made in platform-settings file
The line 
    LDFLAGS=
is changed to
    LDFLAGS=-L/usr/local/lib -lm

gmake[2]: Leaving directory `/home/senthil/jabber-1.4.1/jabberd'
gmake[1]: Leaving directory `/home/senthil/jabber-1.4.1/jabberd'
gmake[1]: Entering directory `/home/senthil/jabber-1.4.1'
gmake[1]: Nothing to be done for `all-local'.
gmake[1]: Leaving directory `/home/senthil/jabber-1.4.1'

BUILD IS OK at this point.

RUNTIME PROBLEM


In HP-UX the jabberd creates only a single process and jabberd is not listening on the mentioned ports(5222 and 5269). 



Analysis using gdb

# ps -ae | grep jabberd
  2775 pts/ta    0:07 jabberd

# /usr/local/bin/gdb jabberd 2775
GNU gdb 4.18-hppa-991112
Copyright 1998 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type &quot;show copying&quot; to see the conditions.  This version of GDB is supported
for customers of Cygnus Solutions.  Type &quot;show warranty&quot; for details.
This GDB was configured as &quot;hppa1.1-hp-hpux11.00&quot;...

&quot;/home/senthil/jabber-1.4.1/jabberd/jabberd&quot;: not in executable format: File format not recognized
/home/senthil/jabber-1.4.1/jabberd/2775: No such file or directory.
Attaching to process 2775

# file jabberd
jabberd:        ELF-64 executable object file - PA-RISC 2.0 (LP64)

Any help is appreciated

Thanks in advance,
SenthilVellan.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20020916/050ce616/attachment-0002.htm">https://www.jabber.org/jdev/attachments/20020916/050ce616/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072739.html">[JDEV] MSN-contacts in Jabber-roster: how?
</A></li>
	<LI>Next message: <A HREF="072742.html">[JDEV] Jabber Capacity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72740">[ date ]</a>
              <a href="thread.html#72740">[ thread ]</a>
              <a href="subject.html#72740">[ subject ]</a>
              <a href="author.html#72740">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

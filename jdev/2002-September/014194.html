<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Adding Transport registration in xdb_sql
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Adding%20Transport%20registration%20in%20xdb_sql&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014180.html">
   <LINK REL="Next"  HREF="014172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Adding Transport registration in xdb_sql</H1>
    <B>raditha dissanayake</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Adding%20Transport%20registration%20in%20xdb_sql&In-Reply-To="
       TITLE="[JDEV] Adding Transport registration in xdb_sql">jabber at raditha.com
       </A><BR>
    <I>Wed Sep 18 23:19:37 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="014180.html">[JDEV] Adding Transport registration in xdb_sql
</A></li>
        <LI>Next message: <A HREF="014172.html">[JDEV] Jabberd runtime problem.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14194">[ date ]</a>
              <a href="thread.html#14194">[ thread ]</a>
              <a href="subject.html#14194">[ subject ]</a>
              <a href="author.html#14194">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
please make sure that you are defining a v2 query. Otherwise you have to 
write your own function to verify it. However the error you are seeing 
is most likely to be caused by invalid xml. Please try opening your 
xdb_sql.xml file in a browser or xml editor to figure out where the 
error is.

Perhaps i  should also mention that msn transport does not work out of 
the box with xdb_sql



Benoit Decaudin wrote:

&gt;<i>Hi there. I'm trying to add the registration settings of a transport to the
</I>&gt;<i>xdb_sql database.
</I>&gt;<i>
</I>&gt;<i>I have an instance of jabberd running as the MSN Transport with its own
</I>&gt;<i>xdb_sql instance, and I've done the following :
</I>&gt;<i>
</I>&gt;<i>- Added three querydefs to the xdb_sql configuration file, named 'msn-get',
</I>&gt;<i>'msn-set' and 'msn-remove' ;
</I>&gt;<i>- Added three new validator functions in xdb_sql_config.c for these
</I>&gt;<i>querydefs ;
</I>&gt;<i>- Added related functions in a file xdb_sql_msn.c and appropriate headers in
</I>&gt;<i>xdb_sql.h.
</I>&gt;<i>
</I>&gt;<i>Xdb_sql compiles fine, however I always have this error when starting the
</I>&gt;<i>server :
</I>&gt;<i>[alert] (-internal): [xdbsql_config_init] query 'msn-remove' validate failed
</I>&gt;<i>[alert] (-internal): [xdb_sql] configuration failed
</I>&gt;<i>
</I>&gt;<i>(This error also appears with queries 'msn-set' and 'msn-get')
</I>&gt;<i>
</I>&gt;<i>Thanks for any idea.
</I>&gt;<i>
</I>&gt;<i>Beno&#238;t
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>jdev mailing list
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i><A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>  
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014180.html">[JDEV] Adding Transport registration in xdb_sql
</A></li>
	<LI>Next message: <A HREF="014172.html">[JDEV] Jabberd runtime problem.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14194">[ date ]</a>
              <a href="thread.html#14194">[ thread ]</a>
              <a href="subject.html#14194">[ subject ]</a>
              <a href="author.html#14194">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

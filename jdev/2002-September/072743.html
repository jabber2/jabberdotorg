<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] xdb_sql - undefined symbol: mysql_init problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20xdb_sql%20-%20undefined%20symbol%3A%20mysql_init%20problem&In-Reply-To=%3C3D86347B.80608%40raditha.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072727.html">
   <LINK REL="Next"  HREF="072730.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] xdb_sql - undefined symbol: mysql_init problem</H1>
    <B>raditha dissanayake</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20xdb_sql%20-%20undefined%20symbol%3A%20mysql_init%20problem&In-Reply-To=%3C3D86347B.80608%40raditha.com%3E"
       TITLE="[JDEV] xdb_sql - undefined symbol: mysql_init problem">jabber at raditha.com
       </A><BR>
    <I>Mon Sep 16 14:43:55 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="072727.html">[JDEV] xdb_sql - undefined symbol: mysql_init problem
</A></li>
        <LI>Next message: <A HREF="072730.html">[JDEV] Yahoo registers but nothing after that??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72743">[ date ]</a>
              <a href="thread.html#72743">[ thread ]</a>
              <a href="subject.html#72743">[ subject ]</a>
              <a href="author.html#72743">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi,
vladimir i mailed an updated makefile to this list last week around 
monday. If you can overcome these problems with that. Can't send it 
again to the list since it's considered rude. HOwever please send me a 
mail if you can't dig it up in the archives.

all the best


Vladimir Collak wrote:

&gt;<i>I am trying to get the xdb_sql working and having hard
</I>&gt;<i>time. The make compiled and links fine but when I
</I>&gt;<i>start jabberd, I get this message: 
</I>&gt;<i>
</I>&gt;<i>/opt/jabber/install/jabber-1.4.2/jabberd/jabberd:
</I>&gt;<i>error while loading shared libraries: ./xdb_sql/xd
</I>&gt;<i>b_sql.so: undefined symbol: mysql_init
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I tried different things such as using $(LIBS) -static
</I>&gt;<i>-lmysqlclient, but that didn't work either. Any ideas?
</I>&gt;<i>
</I>&gt;<i>Thank you, 
</I>&gt;<i>Vladimir
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>***** make output *******
</I>&gt;<i>
</I>&gt;<i>gcc -I. -I../jabberd -g -Wall -I. -I..
</I>&gt;<i>-I/opt/jabber/install/jabber-1.4.2/jabberd/pth-1.4.0
</I>&gt;<i>-fPIC  -
</I>&gt;<i>shared -o xdb_sql.so xdb_sql.o xdb_sql_auth0k.o
</I>&gt;<i>xdb_sql_auth.o xdb_sql_offline.o xdb_sql_register.o
</I>&gt;<i>xdb_sql_config.o xdb_sql_querydef.o xdb_sql_roster.o
</I>&gt;<i>xdb_sql_last.o xdb_sql_backend.o xdb_sql_vcard.
</I>&gt;<i>o xdb_sql_filter.o xdb_sql_generic.o xdb_sql_mysql.o  
</I>&gt;<i>-ldl -lresolv -static -L/usr/lib/mysql/libmys
</I>&gt;<i>qlclient.so
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>***** Makefile *****
</I>&gt;<i>
</I>&gt;<i>include ../platform-settings
</I>&gt;<i>
</I>&gt;<i># Uncomment the flags that are needed for your DB
</I>&gt;<i>CFLAGS:= -I. -I../jabberd $(CFLAGS)
</I>&gt;<i>
</I>&gt;<i># Uncomment the flags that are needed for your DB
</I>&gt;<i>CPPFLAGS= -DMYSQL_BACKEND
</I>&gt;<i>
</I>&gt;<i># Uncomment the file that corresponds to your DB
</I>&gt;<i>xdb_sql_OBJECTS= \
</I>&gt;<i>        xdb_sql.o \
</I>&gt;<i>        xdb_sql_auth0k.o \
</I>&gt;<i>        xdb_sql_auth.o \
</I>&gt;<i>        xdb_sql_offline.o \
</I>&gt;<i>        xdb_sql_register.o \
</I>&gt;<i>        xdb_sql_config.o \
</I>&gt;<i>        xdb_sql_querydef.o \
</I>&gt;<i>        xdb_sql_roster.o \
</I>&gt;<i>        xdb_sql_last.o \
</I>&gt;<i>        xdb_sql_backend.o \
</I>&gt;<i>        xdb_sql_vcard.o \
</I>&gt;<i>        xdb_sql_filter.o \
</I>&gt;<i>        xdb_sql_generic.o \
</I>&gt;<i>        xdb_sql_mysql.o
</I>&gt;<i>
</I>&gt;<i>all: xdb_sql.so
</I>&gt;<i>
</I>&gt;<i># Uncomment the lib that is used by your DB
</I>&gt;<i>xdb_sql.so: $(xdb_sql_OBJECTS)
</I>&gt;<i>        $(CC) $(CFLAGS) $(MCFLAGS) -o xdb_sql.so
</I>&gt;<i>$(xdb_sql_OBJECTS) $(LDFLAGS) $(LIBS) -static -L/us
</I>&gt;<i>r/lib/mysql/libmysqlclient.so
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>clean:
</I>&gt;<i>        rm -f $(xdb_sql_OBJECTS) xdb_sql.so
</I>&gt;<i>        rm -rf xdb_sql.1.0
</I>&gt;<i>
</I>&gt;<i>dist: all
</I>&gt;<i>        mkdir xdb_sql.1.0
</I>&gt;<i>        cat FILES | cut -d&quot;:&quot; -f 1 | xargs cp
</I>&gt;<i>--target-directory=xdb_sql.1.0/
</I>&gt;<i>        tar cvzf xdb_sql.1.0.tar.gz xdb_sql.1.0
</I>&gt;<i>
</I>&gt;<i>__________________________________________________
</I>&gt;<i>Do you Yahoo!?
</I>&gt;<i>Yahoo! News - Today's headlines
</I>&gt;<i><A HREF="http://news.yahoo.com">http://news.yahoo.com</A>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>jdev mailing list
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i><A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>  
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072727.html">[JDEV] xdb_sql - undefined symbol: mysql_init problem
</A></li>
	<LI>Next message: <A HREF="072730.html">[JDEV] Yahoo registers but nothing after that??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72743">[ date ]</a>
              <a href="thread.html#72743">[ thread ]</a>
              <a href="subject.html#72743">[ subject ]</a>
              <a href="author.html#72743">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

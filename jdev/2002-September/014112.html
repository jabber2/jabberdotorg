<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] BIG Roster in Jabber
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20BIG%20Roster%20in%20Jabber&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014110.html">
   <LINK REL="Next"  HREF="014115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] BIG Roster in Jabber</H1>
    <B>Murali P</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20BIG%20Roster%20in%20Jabber&In-Reply-To="
       TITLE="[JDEV] BIG Roster in Jabber">Murali_P at Sifycorp.com
       </A><BR>
    <I>Fri Sep  6 00:37:25 CDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="014110.html">[JDEV] re:Welcome to the &quot;jdev&quot; mailing list
</A></li>
        <LI>Next message: <A HREF="014115.html">[JDEV] BIG Roster in Jabber
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14112">[ date ]</a>
              <a href="thread.html#14112">[ thread ]</a>
              <a href="subject.html#14112">[ subject ]</a>
              <a href="author.html#14112">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Hi All,
     This being the order (900 items in roster), the way xdb_sql has been
written is totally screwed.

It first does a select from the rosterusers table to fetch the list of jid's for
that username and then for each &amp; every jid, it selects from rostergroups table
to get the group name.

So for every client while logging in it does a jabber:iq:roster, there would be
a minimum of 901 questions on the db :) &amp; subsequently, whenever this client who
has now logged in wants to add/modify an existing buddy , jabber internally
would do a jabber.Iq:roster &amp; fetch his current roster list , only to go into an
eternal sleep mode :) (this is the case for just one user)

As regards the functionality of buddy add's in the offline mode, it is better
not to comment as it does not work at all in xdb_sql (or atleast in mysql as
db).


Regards
P.Murali



                                              Placed At :


Peter Saint-Andre &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">stpeter at jabber.org</A>&gt; on 09/06/2002 03:54:37 AM

Please respond to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>

To:   &quot;Jdev (E-mail)&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
cc:    (bcc: Murali P/Satyam)

Subject:  Re: [JDEV] BIG Roster in Jabber




I agree with temas -- large rosters cause a lot of packets to fly around
in the server, so it's better to write this as a component. My roster (900
items) probably hogs ridiculous amounts of memory. Maybe I need to be a
component. :)

Anyone have a good roster-cleaner? Maybe I need to write one...

Peter

--
Peter Saint-Andre
Jabber Software Foundation
<A HREF="http://www.jabber.org/people/stpeter.html">http://www.jabber.org/people/stpeter.html</A>

On Tue, 3 Sep 2002, Agustin Sanchez wrote:

&gt;<i> Hi All:
</I>&gt;<i>
</I>&gt;<i> I'd like to know if it's possible to store a really big user roster in a
</I>&gt;<i> jabber server (could be as much as 5000/6000 users). This is meant to have a
</I>&gt;<i> large distribution list send information to users who subscribe a news
</I>&gt;<i> service implemented on jabber. How about the MSN transport? Does this
</I>&gt;<i> imposes any limitation on the number of users?
</I>&gt;<i>
</I>&gt;<i> Thanks in advance
</I>&gt;<i>
</I>&gt;<i> Agustin Sanchez
</I>&gt;<i>
</I>&gt;<i>
</I>
_______________________________________________
jdev mailing list
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
<A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>








</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014110.html">[JDEV] re:Welcome to the &quot;jdev&quot; mailing list
</A></li>
	<LI>Next message: <A HREF="014115.html">[JDEV] BIG Roster in Jabber
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14112">[ date ]</a>
              <a href="thread.html#14112">[ thread ]</a>
              <a href="subject.html#14112">[ subject ]</a>
              <a href="author.html#14112">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Transports&amp;contacts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Transports%26contacts&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015430.html">
   <LINK REL="Next"  HREF="015457.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Transports&amp;contacts</H1>
    <B>M.Kiesel</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Transports%26contacts&In-Reply-To="
       TITLE="[JDEV] Transports&amp;contacts">maqi at jabberstudio.org
       </A><BR>
    <I>Mon Jan  6 17:52:23 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="015430.html">[JDEV] Building under cygwin, -lpth
</A></li>
        <LI>Next message: <A HREF="015457.html">[JDEV] Transports&amp;contacts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15432">[ date ]</a>
              <a href="thread.html#15432">[ thread ]</a>
              <a href="subject.html#15432">[ subject ]</a>
              <a href="author.html#15432">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

- How to let a transport properly push contacts to the user's Jabber
roster?

I tried using &lt;presence type=&quot;subscribed&quot;...&gt; packets, this adds the
contact to the user's roster but it seems to be impossible to push name or
group also :-(.
Using &lt;iq type=&quot;set&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at host</A>&quot;&gt;&lt;query xmlns=&quot;jabber:iq:roster&quot;&gt;&lt;item
jid=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">number at mytransport</A>&quot; name=&quot;alias&quot;/&gt;&lt;/query&gt;&lt;/iq&gt; does not seem to
work at all, these packets get dropped by jabberd14.


- There should be an easy way to let transports know what contacts they
have to handle.

Currently, it is a major pain for transports to get a list of &quot;their&quot;
contacts. There is no &quot;transport.server.net to userserver.net, please give
me a list of all contacts of <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at userserver.net</A> that point to me&quot; inquiry
in the Jabber protocol so transports currently have to construct a list of
contacts from incoming presence packets (which is difficult as these
presence packets typically show up before the user's session is
established) and use XDB or some other persistant list (as a user may log
off from a transport and log on again without logging off and on entirely
from Jabber, so his contacts don't generate presence packets). See AIM-t,
this complicates things a lot and is potentially unreliable. JIT for
example simply fetches the user's XDB but this does not work at all if the
user uses a transport located on a different server than the user's
account itself, breaking the Jabber idea of distributed services.


So, I think it would be a good idea to implement something like &lt;iq
type=&quot;get&quot; from=&quot;transport.net&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">user at userserver.net</A>&quot;&gt;&lt;query
xmlns=&quot;jabber:iq:roster&quot;/&gt;&lt;/iq&gt; that simply answers with a part of the
user's contact list...? At least in some distant future ;-) this would
simplify component/transport development a lot and make a lot of hacking
obsolete.


Regards


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015430.html">[JDEV] Building under cygwin, -lpth
</A></li>
	<LI>Next message: <A HREF="015457.html">[JDEV] Transports&amp;contacts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15432">[ date ]</a>
              <a href="thread.html#15432">[ thread ]</a>
              <a href="subject.html#15432">[ subject ]</a>
              <a href="author.html#15432">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

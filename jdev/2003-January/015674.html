<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Thread id
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Thread%20id&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015673.html">
   <LINK REL="Next"  HREF="015699.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Thread id</H1>
    <B>Tijl Houtbeckers</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Thread%20id&In-Reply-To="
       TITLE="[JDEV] Thread id">thoutbeckers at splendo.com
       </A><BR>
    <I>Wed Jan 29 08:07:37 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="015673.html">[JDEV] Thread id
</A></li>
        <LI>Next message: <A HREF="015699.html">[JDEV] Thread id
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15674">[ date ]</a>
              <a href="thread.html#15674">[ thread ]</a>
              <a href="subject.html#15674">[ subject ]</a>
              <a href="author.html#15674">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;Matthew A. Miller&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">linuxwolf at outer-planes.no-ip.com</A>&gt; wrote on 29-1-
2003 5:20:06: 
&gt;<i>
</I>&gt;<i>Unfortunately, many clients never [properly] acknowledge the 
</I>&gt;<i>&lt;thread/&gt;, either for the start of a conversation or in maintaining it.
</I>&gt;<i>  Because of this, clients like Exodus simply treat all messages 
</I>&gt;<i>  between two 
</I>&gt;<i>people [within a given amount of time] as part of the same 
</I>&gt;<i>conversation. 
</I>
The problem with &lt;thread/&gt; is that it tries to force client makers into 
a UI-design decision. (multiple conversations with on resource). Not 
all clients want to do this and the &lt;thread/&gt; mechanism provides no 
good way of not doing this, and at the same time staying compatible 
with clients who do implement this. That raises the question of wether 
such a UI centric spec. should exist. 


&gt;<i>  Since Exodus tries to be true to the spec, it tries to use &lt;thread/&gt; 
</I>&gt;<i>  for 
</I>&gt;<i>conversations.  But since &quot;compliant&quot; clients can't rely on the other 
</I>&gt;<i>side maintaining the (optional) &lt;thread/&gt;, it behaves as it does.
</I>
I don't know what exodus does, but my client usually just sends 
type=&quot;chat&quot; without &lt;thread/&gt;. As soon as the other client sends a 
thread-id it does send one back, always the latest one the other client 
used. This provides the most compatability with other clients, but it's 
far from complete. I'm thinking about changing this behaviour though, 
for the reason below. 

&gt;<i>Maybe, some day in the [far?] future, when all clients properly use 
</I>&gt;<i>&lt;thread/&gt;, can look back at this and have a good laugh (or tell our 
</I>&gt;<i>grandchildren how tough it was to use IM, what with more than one 
</I>&gt;<i>protocol in use; uphill both ways in the snow and all that).  In the 
</I>&gt;<i>meantime, the following would probably be a good way for your client 
</I>&gt;<i>to behave:
</I>&gt;<i>
</I>&gt;<i>-  If you get a &lt;thread/&gt;, you should maintain it.
</I>&gt;<i>-  If your client is starting the conversation, generate one.
</I>
I don't agree with you here. Just send a type=&quot;chat&quot; without a thread-
id. Smart clients that *do* support threads will notice that your 
client does not. If your client has no use for thread-ids why generate 
them and use them? Threads only seen usefull to me for having multiple 
conversations with the same resource at the same time. 

Or do you use them to keep track of when a conversation starts and ends?
 For example.. when you close the window, and open it again, generate a 
 new threadid. Though I suppose in some cases this kind of information 
 could be usefull to the other client, the other client can't do 
 anything with this info, since it doesn't know whether the old thread 
 stopped and a new one started, or wether there are just two different 
 threads at the same time. If you want to properly use this you should 
 think about using/extendind event-notification for this. 

&gt;<i>-  If it's missing, assume its part of the last conversation you had 
</I>&gt;<i>with the &quot;to&quot; side, if any.
</I>
If you don't give the user the ability to see the difference between 
messages from different threads and don't give the user the ability to 
choose wich thread to respond in (for example by having multiple chat 
windows for multiple thread-ids), you have no use for thread-ids. So in 
the perfect world you should *never* send them, and clients that do 
support them should see type=&quot;chat&quot; messages without a threadid as a 
seperate thread, to wich they also send back no thread-id, instead of 
trying to generate a new one all the time. 

Maybe we'll be telling our grandchilderen about how desktop-focuced 
Jabber once used to be.. and how some clients tried to force certain UI 
features through the protocol even.. /me wonders if they'll know what a 
desktop is... 


-- 
Tijl Houtbeckers
Java/J2ME/GPRS Software Engineer @ Splendo
The Netherlands


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015673.html">[JDEV] Thread id
</A></li>
	<LI>Next message: <A HREF="015699.html">[JDEV] Thread id
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15674">[ date ]</a>
              <a href="thread.html#15674">[ thread ]</a>
              <a href="subject.html#15674">[ subject ]</a>
              <a href="author.html#15674">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

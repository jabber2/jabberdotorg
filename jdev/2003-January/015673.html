<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Thread id
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Thread%20id&In-Reply-To=362EAB72-332B-11D7-8087-0050E43A8527%40acm.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015672.html">
   <LINK REL="Next"  HREF="015674.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Thread id</H1>
    <B>Matthew A. Miller</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Thread%20id&In-Reply-To=362EAB72-332B-11D7-8087-0050E43A8527%40acm.org"
       TITLE="[JDEV] Thread id">linuxwolf at outer-planes.no-ip.com
       </A><BR>
    <I>Tue Jan 28 22:20:06 CST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="015672.html">[JDEV] Thread id
</A></li>
        <LI>Next message: <A HREF="015674.html">[JDEV] Thread id
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15673">[ date ]</a>
              <a href="thread.html#15673">[ thread ]</a>
              <a href="subject.html#15673">[ subject ]</a>
              <a href="author.html#15673">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Asking for theory and asking for practice can yield two different 
results (-:  This is as I understand it, although those more steeped in 
user-user message passing feel free to correct me...

*Theory of &lt;thread/&gt;* (or &quot;What is meant by Thread ID&quot;)
The intention for &lt;thread/&gt; is to track a conversation across multiple 
&lt;message/&gt; packets.  In theory, when someone starts a conversation with 
someone else, their client would specify a value for &lt;thread/&gt;.  The 
value itself has no intrinsic meaning, but is simply a &quot;marker&quot; or 
&quot;tracking number&quot; (well, &quot;tracking *string*&quot;).  When that someone else 
responds, they maintain the &lt;thread/&gt;.  Ideally, each unique 
conversation would be a different thread.  Taken to the extreme, 
multiple conversations between two people *could* be carried out, each 
with a different &lt;thread/&gt;.

*Practice of &lt;thread/&gt;* (or &quot;What [many] current implementations 
actually do&quot;)
Unfortunately, many clients never [properly] acknowledge the &lt;thread/&gt;, 
either for the start of a conversation or in maintaining it.  Because of 
this, clients like Exodus simply treat all messages between two people 
[within a given amount of time] as part of the same conversation.  Since 
Exodus tries to be true to the spec, it tries to use &lt;thread/&gt; for 
conversations.  But since &quot;compliant&quot; clients can't rely on the other 
side maintaining the (optional) &lt;thread/&gt;, it behaves as it does.

Maybe, some day in the [far?] future, when all clients properly use 
&lt;thread/&gt;, can look back at this and have a good laugh (or tell our 
grandchildren how tough it was to use IM, what with more than one 
protocol in use; uphill both ways in the snow and all that).  In the 
meantime, the following would probably be a good way for your client to 
behave:

-  If you get a &lt;thread/&gt;, you should maintain it.
-  If your client is starting the conversation, generate one.
-  If it's missing, assume its part of the last conversation you had 
with the &quot;to&quot; side, if any.


Hope this helps,

-  LW

Johannes Ernst wrote:

&gt;<i> I'm trying to understand
</I>&gt;<i> 1) what is meant by a &quot;Thread ID&quot;
</I>&gt;<i> 2) what current implementations actually do.
</I>&gt;<i>
</I>&gt;<i> As in:
</I>&gt;<i>  &lt;message ...&gt;
</I>&gt;<i>   &lt;thread&gt;some-thread-id&lt;/thread&gt;
</I>&gt;<i>   &lt;body&gt;...&lt;/body&gt;
</I>&gt;<i>  &lt;/message&gt;
</I>&gt;<i>
</I>&gt;<i> Judging from my &quot;extremely&quot; scientific sample-size of 1 (trial end 
</I>&gt;<i> error with Exodus ;-)), it seems to me that
</I>&gt;<i>  - Exodus will &quot;play back&quot; whatever thread ID another client used to 
</I>&gt;<i> initiate a new conversation
</I>&gt;<i>  - However, as soon as the chat window has been closed once, upon 
</I>&gt;<i> reopening it, it will generate a new thread ID.
</I>&gt;<i>
</I>&gt;<i> I don't know what that means. In particular, because Exodus happily 
</I>&gt;<i> restores the content of the old window in the new window.
</I>&gt;<i>
</I>&gt;<i> I thought maybe a different thread ID would indicate a different 
</I>&gt;<i> subject (could be shown graphically with a horizontal line or 
</I>&gt;<i> whatever), or that the conversation partner has closed their window 
</I>&gt;<i> temporarily, or ... but if thread id is basically unpredictable, I'd 
</I>&gt;<i> rather leave it alone?!?
</I>&gt;<i>
</I>&gt;<i> And I don't know whether this is the &quot;correct&quot; behavior, or just 
</I>&gt;<i> something special about Exodus.
</I>&gt;<i>
</I>&gt;<i> Any clarifications appreciated...
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015672.html">[JDEV] Thread id
</A></li>
	<LI>Next message: <A HREF="015674.html">[JDEV] Thread id
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15673">[ date ]</a>
              <a href="thread.html#15673">[ thread ]</a>
              <a href="subject.html#15673">[ subject ]</a>
              <a href="author.html#15673">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

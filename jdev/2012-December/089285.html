<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Local history storage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Local%20history%20storage&In-Reply-To=%3C50D18259.1020100%40collabora.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089284.html">
   <LINK REL="Next"  HREF="089286.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Local history storage</H1>
    <B>Will Thompson</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Local%20history%20storage&In-Reply-To=%3C50D18259.1020100%40collabora.co.uk%3E"
       TITLE="[jdev] Local history storage">will.thompson at collabora.co.uk
       </A><BR>
    <I>Wed Dec 19 09:01:13 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="089284.html">[jdev] Local history storage
</A></li>
        <LI>Next message: <A HREF="089286.html">[jdev] Local history storage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89285">[ date ]</a>
              <a href="thread.html#89285">[ thread ]</a>
              <a href="subject.html#89285">[ subject ]</a>
              <a href="author.html#89285">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19/12/12 08:14, Justin Karneges wrote:
&gt;<i> On Wednesday, December 19, 2012 08:14:34 AM David E. Ammouial wrote:
</I>&gt;&gt;<i> I'm currently switching from Gajim to Empathy (trying it out becomes I'm
</I>&gt;&gt;<i> discovering GNOME 3), and as a user I'd like to express a wish to client
</I>&gt;&gt;<i> developers: IMHO, clients should store the chat history at the same place.
</I>&gt;<i> [...]
</I>&gt;&gt;<i> Of course, the exact format would need to be thoughtfully defined, but
</I>&gt;&gt;<i> does the goal itself sound reasonable?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (I'm well aware of the efforts to store history on server side, but I
</I>&gt;&gt;<i> think local history will still be around for a while.)
</I>&gt;<i>
</I>&gt;<i> I've been wanting this since forever. Email has mbox and Maildir. IM could use
</I>&gt;<i> something similar. Maybe we could even just use an email format (conversations
</I>&gt;<i> in RFC822 format anyone?). I say it now just so it gets said.
</I>
I think you're suggesting storing each message as a separate email?

For a data point, Google Talk conversation logs show up over IMAP as 
emails, with one email per conversation. One alternative in the mail is 
human-readable HTML; the more interesting one is a &lt;conversation 
xmlns='google:archive:conversation'&gt; document with simple &lt;message 
xmlns='jabber:client'&gt; children. 1-1 conversations have the From: header 
set to your correspondent; MUCs have all participants in CC:.

I spent a little while hooking this up to Telepathy's log storage a few 
months ago and it was pretty straightforward, because of course we 
already have the machinery needed to show &lt;message&gt;s. Appending messages 
to the log file as a conversation continues would be more painful in 
that format, though.

Storage as one or more emails lets one use existing tools to quickly 
index and search by sender, time etc.

It seems a bit of a shame that XEP-0136 doesn't use collections of 
&lt;message&gt; elements timestamped with jabber:x:delay/urn:xmpp:delay. I'm 
late to the party, but presumably this was considered and rejected for 
some reason?

-- 
Will
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089284.html">[jdev] Local history storage
</A></li>
	<LI>Next message: <A HREF="089286.html">[jdev] Local history storage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89285">[ date ]</a>
              <a href="thread.html#89285">[ thread ]</a>
              <a href="subject.html#89285">[ subject ]</a>
              <a href="author.html#89285">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] The future of Jabber/XMPP?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20The%20future%20of%20Jabber/XMPP%3F&In-Reply-To=%3C3959.1282922494.136262%40puncture%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="088379.html">
   <LINK REL="Next"  HREF="088380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] The future of Jabber/XMPP?</H1>
    <B>Dave Cridland</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20The%20future%20of%20Jabber/XMPP%3F&In-Reply-To=%3C3959.1282922494.136262%40puncture%3E"
       TITLE="[jdev] The future of Jabber/XMPP?">dave at cridland.net
       </A><BR>
    <I>Fri Aug 27 10:21:34 CDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="088379.html">[jdev] The future of Jabber/XMPP?
</A></li>
        <LI>Next message: <A HREF="088380.html">[jdev] The future of Jabber/XMPP?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88388">[ date ]</a>
              <a href="thread.html#88388">[ thread ]</a>
              <a href="subject.html#88388">[ subject ]</a>
              <a href="author.html#88388">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri Aug 27 13:18:15 2010, Evgeniy Khramtsov wrote:
&gt;<i> 27.08.2010 21:02, Dave Cridland wrote:
</I>&gt;&gt;<i> On Fri Aug 27 11:23:09 2010, Evgeniy Khramtsov wrote:
</I>&gt;&gt;&gt;<i> If you have caps and valid disco#info then there will not be such  
</I>&gt;&gt;&gt;<i> problem. So it works in practice.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;<i> You're misunderstanding me.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> If a client sends an explicit subscription to a node on a pubsub  
</I>&gt;&gt;<i> service held on a foreign domain whose jid happens to be a bare  
</I>&gt;&gt;<i> jid, then notifications will be filtered by the client's local  
</I>&gt;&gt;<i> server, effectively breaking the subscription.
</I>&gt;<i> 
</I>&gt;<i> Indeed, and I still don't understand what you are talking about.
</I>&gt;<i> 
</I>&gt;<i> 
</I>Okay, bear with me, and I'll try to explain.

The automatic subscription on a PEP service is the only one that  
should be filtered.

For instance:

&quot;A PEP service MUST support the &quot;filtered-notifications&quot; feature  
defined in Section 9.2 of XEP-0060. This implies that when an  
automatic subscriber can specify which event payloads it wants to  
receive by including appropriate feature bundles in the XEP-0115  
information it broadcasts.&quot;

I'd note that this does not mention any distinction between local and  
remote subscriptions.

Nothing prevents a more complex client and PEP service using  
*explicit* subscriptions, which would not be filtered - basically a  
PubSub service which is not only the PEP subset will be severely  
broken by your protocol.

In your implementation, because you filter on delivery at the  
receiver, you cannot make this distinction, because you lack the  
knowledge of the source.

Which means not only is ejabberd's PEP implementation broken WRT  
anyone else's, it is *also* self-restricting, such there's no path  
forwards to anything more than the PEP subset.

Dave.
-- 
Dave Cridland - mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dave at cridland.net</A> - xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">dwd at dave.cridland.net</A>
  - <A HREF="acap://acap.dave.cridland.net/byowner/user/dwd/bookmarks/">acap://acap.dave.cridland.net/byowner/user/dwd/bookmarks/</A>
  - <A HREF="http://dave.cridland.net/">http://dave.cridland.net/</A>
Infotrope Polymer - ACAP, IMAP, ESMTP, and Lemonade
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="088379.html">[jdev] The future of Jabber/XMPP?
</A></li>
	<LI>Next message: <A HREF="088380.html">[jdev] The future of Jabber/XMPP?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88388">[ date ]</a>
              <a href="thread.html#88388">[ thread ]</a>
              <a href="subject.html#88388">[ subject ]</a>
              <a href="author.html#88388">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

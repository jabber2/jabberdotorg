<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] OLPC, Federation, and NAT
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20OLPC%2C%20Federation%2C%20and%20NAT&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027518.html">
   <LINK REL="Next"  HREF="027496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] OLPC, Federation, and NAT</H1>
    <B>Benjamin M. Schwartz</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20OLPC%2C%20Federation%2C%20and%20NAT&In-Reply-To="
       TITLE="[jdev] OLPC, Federation, and NAT">bmschwar at fas.harvard.edu
       </A><BR>
    <I>Tue Apr  8 19:15:35 CDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027518.html">[jdev] My GSoC project : to continue the PyMSNt development.
</A></li>
        <LI>Next message: <A HREF="027496.html">[jdev] OLPC, Federation, and NAT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27495">[ date ]</a>
              <a href="thread.html#27495">[ thread ]</a>
              <a href="subject.html#27495">[ subject ]</a>
              <a href="author.html#27495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dear Jabber Developers,

I am a volunteer for the One Laptop Per Child foundation.  OLPC uses XMPP
for much of its communications infrastructure.  All &quot;Collaborative
Activities&quot; use XMPP to share information between laptops.  In schools
where there is reliable power and more than a few students, we hope to
provide a &quot;school server&quot; running a jabber daemon (otherwise the laptops
will use link-local XMPP over the wireless mesh).  Some of these schools
will have some internet access, and we would like to enable global
collaboration, so that students in Mongolia may collaborate interactively
with students in Uruguay.

In the US and Europe most ISPs provide users with dynamically assigned
globally routable IPv4 addresses.  This is not true in the rest of the
world, where a shortage of IPv4 addresses has led to extensive use of NAT
by ISPs.  The  schools are generally given local IPv4 addresses by their
ISPs, behind a NAT over which the school has no control.  The natural way
to enable global collaboration over XMPP is through server federation.
Unfortunately, it seems that current s2s protocols will not work with
servers behind NAT.

Additionally, there is a potential core problem related to XMPP server
names.  If ISPs provided schools with the ability to request permanent
control of certain ports, then it might be possible to make federation
work, provided each school server took as its name the global IPv4 address
used by the ISP. (Note that ISPs do not actually provide this ability, as
far as I am aware.)  Unfortunately, it is possible that multiple school
servers will be using different ports on the same global IPv4 address.
The result would be multiple servers with the same IP address.  I imagine
that this breaks s2s, since the XMPP standard seems to demand that
servers' names be unique, and either IP addresses or DNS names.

What would be necessary to make Federation work between servers that are
behind NAT?
Are there tools for this?
Who has attempted this already?
How would you solve this problem?

Thank you,
Ben Schwartz

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.7 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFH/AqnUJT6e6HFtqQRAmvrAJsH1VSkdmFR9ywUlcBmliJ0THPgXwCdG2wZ
6P09T8jgZcPCAdbxeI2sD9U=
=dczU
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027518.html">[jdev] My GSoC project : to continue the PyMSNt development.
</A></li>
	<LI>Next message: <A HREF="027496.html">[jdev] OLPC, Federation, and NAT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27495">[ date ]</a>
              <a href="thread.html#27495">[ thread ]</a>
              <a href="subject.html#27495">[ subject ]</a>
              <a href="author.html#27495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

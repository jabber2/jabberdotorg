<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Spoofing of iq ids and misbehaving servers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Spoofing%20of%20iq%20ids%20and%20misbehaving%20servers&In-Reply-To=%3C52ED3EB4.4040205%40jajcus.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089844.html">
   <LINK REL="Next"  HREF="089848.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Spoofing of iq ids and misbehaving servers</H1>
    <B>Jacek Konieczny</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Spoofing%20of%20iq%20ids%20and%20misbehaving%20servers&In-Reply-To=%3C52ED3EB4.4040205%40jajcus.net%3E"
       TITLE="[jdev] Spoofing of iq ids and misbehaving servers">jajcus at jajcus.net
       </A><BR>
    <I>Sat Feb  1 18:36:36 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="089844.html">[jdev] [Security]  Spoofing of iq ids and misbehaving servers
</A></li>
        <LI>Next message: <A HREF="089848.html">[jdev] [Security]  Spoofing of iq ids and misbehaving servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89845">[ date ]</a>
              <a href="thread.html#89845">[ thread ]</a>
              <a href="subject.html#89845">[ subject ]</a>
              <a href="author.html#89845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2014-01-30 13:49, Thijs Alkemade wrote:
&gt;<i> But what baffles me even more is that it almost appears like nobody else ever
</I>&gt;<i> ran into this problem. Is it really the case that every XMPP client out there
</I>&gt;<i> does not check for the correct 'from' on result iqs either? Or have they all
</I>&gt;<i> implemented workarounds to deal with the incorrect behavior of the servers
</I>&gt;<i> listed above?
</I>
In PyXMPP i have always used both &lt;iq/&gt; 'id' and 'to' as the key for
matching the replies. Then I added handling for the special case when
the &lt;iq/&gt; is sent with no 'to'. I think I had to update this a few times
to match all the strangely behaving servers.

And, as we are talking about servers addressing &lt;iq/&gt; stanzas in a weird
way &#8211; WildFire/OpenFire was the worse for me. PyXMPP have been strictly
checking stanza addressing (it was supposed to be used in different XMPP
scenarios, not just for clients), so it was fooled by unexpected
OpenFire behaviour &#8211; reply to the 'urn:ietf:params:xml:ns:xmpp-bind'
request sent to the server address:

<A HREF="http://community.igniterealtime.org/thread/35966">http://community.igniterealtime.org/thread/35966</A>

Greets,
	Jacek
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089844.html">[jdev] [Security]  Spoofing of iq ids and misbehaving servers
</A></li>
	<LI>Next message: <A HREF="089848.html">[jdev] [Security]  Spoofing of iq ids and misbehaving servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89845">[ date ]</a>
              <a href="thread.html#89845">[ thread ]</a>
              <a href="subject.html#89845">[ subject ]</a>
              <a href="author.html#89845">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

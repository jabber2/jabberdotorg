<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Offline messages XEPs interoperability (XEPs 0013 and	XEP-0160)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Offline%20messages%20XEPs%20interoperability%20%28XEPs%200013%20and%0A%09XEP-0160%29&In-Reply-To=%3Cle7tma%24nl7%241%40ger.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089868.html">
   <LINK REL="Next"  HREF="089870.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Offline messages XEPs interoperability (XEPs 0013 and	XEP-0160)</H1>
    <B>Sergey Dobrov</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Offline%20messages%20XEPs%20interoperability%20%28XEPs%200013%20and%0A%09XEP-0160%29&In-Reply-To=%3Cle7tma%24nl7%241%40ger.gmane.org%3E"
       TITLE="[jdev] Offline messages XEPs interoperability (XEPs 0013 and	XEP-0160)">binary at jrudevels.org
       </A><BR>
    <I>Fri Feb 21 16:08:55 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="089868.html">[jdev] New iOS jabber client
</A></li>
        <LI>Next message: <A HREF="089870.html">[jdev] Offline messages XEPs interoperability (XEPs 0013 and XEP-0160)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89869">[ date ]</a>
              <a href="thread.html#89869">[ thread ]</a>
              <a href="subject.html#89869">[ subject ]</a>
              <a href="author.html#89869">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hey folks,

for now we have two different XEPs that allowing xmpp-servers to store 
messages that being sent while client was not available. XEP 0013 says 
that it's not very nice to flood all the messages on the client when 
it's becoming available, rather it advices to provide a way to discover 
such messages and query the necessary ones (and it's becoming something 
like inbox. the implementation is not the best to me, but it still 
nice), the XEP-0160 vice-versa says that we need to send all the 
messages when client has became available. And there is a good reason 
for that again: that way clients don't need any extra support of the 
offline storage.

Ok, we've seen that both XEPs cover some good usecase. But how to 
combine them? Can the xmpp server support both of them? I don't see a 
way for it to do that: if it supports 160 it needs to send all the 
messages immediately on client's presence but according to 13 it can't 
do that and I don't see any possibility for server to know which 
behaviour is the best for the client.

If server will support only 13, a big number of clients won't be able to 
obtain offline messages, but the 13 is still pretty nice to me (I just 
would want to add some more queries compatibility or even maybe combine 
it with MAM?). So, according to all these words above, what's the best 
way to me to implement such an inbox offline storage of messages?

Thanks.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089868.html">[jdev] New iOS jabber client
</A></li>
	<LI>Next message: <A HREF="089870.html">[jdev] Offline messages XEPs interoperability (XEPs 0013 and XEP-0160)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89869">[ date ]</a>
              <a href="thread.html#89869">[ thread ]</a>
              <a href="subject.html#89869">[ subject ]</a>
              <a href="author.html#89869">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

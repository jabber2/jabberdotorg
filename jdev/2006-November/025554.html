<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: XEP-0070 in PHP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20XEP-0070%20in%20PHP&In-Reply-To=87mz7eiyzh.fsf%40freemail.hu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025553.html">
   <LINK REL="Next"  HREF="025557.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: XEP-0070 in PHP</H1>
    <B>Norman Rasmussen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20XEP-0070%20in%20PHP&In-Reply-To=87mz7eiyzh.fsf%40freemail.hu"
       TITLE="[jdev] Re: XEP-0070 in PHP">norman at rasmussen.co.za
       </A><BR>
    <I>Wed Nov 15 09:52:02 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="025553.html">[jdev] (no subject)
</A></li>
        <LI>Next message: <A HREF="025557.html">[jdev] Re: XEP-0070 in PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25554">[ date ]</a>
              <a href="thread.html#25554">[ thread ]</a>
              <a href="subject.html#25554">[ subject ]</a>
              <a href="author.html#25554">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/29/06, Magnus Henoch &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mange at freemail.hu</A>&gt; wrote:
&gt;<i> &quot;Norman Rasmussen&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at rasmussen.co.za</A>&gt; writes:
</I>&gt;<i> &gt; Psi doesn't like the comma in the resource name (I think it allows
</I>&gt;<i> &gt; multiple recipients seperated with a comma).  You could use date('c')
</I>&gt;<i> &gt; or date('U') instead,
</I>&gt;<i>
</I>&gt;<i> Changed.
</I>&gt;<i>
</I>&gt;<i> &gt; or why not login with SASL plain and allow the server to generate a
</I>&gt;<i> &gt; random resource instead.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Or better yet, why not login with SASL Anonymous, that way even Gajim
</I>&gt;<i> &gt; will work :-)
</I>&gt;<i>
</I>&gt;<i> Yes, I would do that if class.jabber.php supported SASL ;)
</I>
I've been playing with OpenID and using the XEP-0070 example as a
source for logic.  It was very irritating to have a unique resource
all the time because Psi loads each one in a new window.  While
thinking about what the resource can be set to I noticed a security
flaw:

 - If an attacker can guess what the resource is going to be, then you
have a problem.

This is a big problem with using time based resources.  In fact the
default class.jabber way is to hash the time and remote addr, which is
just as weak, because the attacker can guess both.

I guess the one 'constant' safe way would be to take a salted hash of
the jid.  That way the resource is constant per jid, and the attacker
can't duplicate it.

-- 
- Norman Rasmussen
 - Email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at rasmussen.co.za</A>
 - Home page: <A HREF="http://norman.rasmussen.co.za/">http://norman.rasmussen.co.za/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025553.html">[jdev] (no subject)
</A></li>
	<LI>Next message: <A HREF="025557.html">[jdev] Re: XEP-0070 in PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25554">[ date ]</a>
              <a href="thread.html#25554">[ thread ]</a>
              <a href="subject.html#25554">[ subject ]</a>
              <a href="author.html#25554">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

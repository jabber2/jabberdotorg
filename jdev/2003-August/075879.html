<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Formatting a message sent via Java
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Formatting%20a%20message%20sent%20via%20Java&In-Reply-To=%3C004f01c36121%24744638c0%24e986e542%40amd2%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075874.html">
   <LINK REL="Next"  HREF="075876.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Formatting a message sent via Java</H1>
    <B>Chris Chen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Formatting%20a%20message%20sent%20via%20Java&In-Reply-To=%3C004f01c36121%24744638c0%24e986e542%40amd2%3E"
       TITLE="[JDEV] Formatting a message sent via Java">ckchris at echomine.com
       </A><BR>
    <I>Tue Aug 12 17:31:20 CDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="075874.html">[JDEV] Formatting a message sent via Java
</A></li>
        <LI>Next message: <A HREF="075876.html">[JDEV] VB jabber client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75879">[ date ]</a>
              <a href="thread.html#75879">[ thread ]</a>
              <a href="subject.html#75879">[ subject ]</a>
              <a href="author.html#75879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

First of all, you should try upgrading to the newest Jabber API, 0.8a3 last
time I released it and if my memory serves me correctly.

Second of all, there is a method inside Muse Jabber that allows you to set
the XHTML text for the message you're sending.  Note that the forum message
link you wrote in your previous is a rather old format and is not longer
valid.  The new XHTML has its own X namespace to put the XHTML text in

Because XHTML is part of the X Namespace and is not normally used, you will
have to create an instance of your own message object and send it manually
rather than going through the JabberChatService.  You should read the
javadocs for JabberChatService as well as
JabberChatService.sendPrivateMessage(). It will tell you what to do.

But as a summary,

1) Instantiate a JabberChatMessage, set it's properties and fields (you can
check out the code for JabberChatService.sendPrivateMessage() to see what
kind of fields are set).  You should set the asynchronicity of the message
(normally it's send asynchronously).

2) you should call JabberChatMessage.setHTMLBody() to set the XHTML text to
send.

3) Then you simply send the message through JabberSession.sendMessage().

That's pretty much it.

Hope it helps.

Chris

----- Original Message -----
From: &quot;Cunningham, Steven&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">Steven.Cunningham at LibertyMutual.com</A>&gt;
To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
Sent: Tuesday, August 12, 2003 1:04 PM
Subject: RE: [JDEV] Formatting a message sent via Java


&gt;<i> The library I'm using is muse-0.72.jar, the com.echomine.jabber class.
</I>&gt;<i> Not sure about the XML.
</I>&gt;<i> The extent of formatting I've seen is links being generate from plain
</I>&gt;<i> text.
</I>&gt;<i> I only have 1 persion on my list (fellow co-worker) so I haven't had a
</I>&gt;<i> round experience with Exodous yet.
</I>&gt;<i>
</I>&gt;<i> Steven Cunningham
</I>&gt;<i> Database Management Group
</I>&gt;<i> Liberty Mutual
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Matthew A. Miller [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">linuxwolf at outer-planes.net</A>]
</I>&gt;<i> Sent: Tuesday, August 12, 2003 3:46 PM
</I>&gt;<i> To: JDEV Mailing List
</I>&gt;<i> Subject: Re: [JDEV] Formatting a message sent via Java
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What would help me to help you is if you could provide the following:
</I>&gt;<i> -  What library are you using, or are you doing this &quot;from scratch&quot;?
</I>&gt;<i> -  What is the XML that's being transmitted across the wire?
</I>&gt;<i> -  Can you receive rich-text from other people?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> -  LW
</I>&gt;<i>
</I>&gt;<i> On Tue, 2003-08-12 at 13:03, Cunningham, Steven wrote:
</I>&gt;<i> &gt; I'm sending jabber messages via Java, and wanted to know if there's
</I>&gt;<i> &gt; anyway way to format these messages in an html or likewise format.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm running the Exodous client.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I tried html, and that didn't work.
</I>&gt;<i> &gt; I also tried what was listed at the following url, but that was
</I>&gt;<i> &gt; unsucessful.
</I>&gt;<i> &gt; <A HREF="http://mailman.jabber.org/pipermail/jdev/2000-September/002876.html">http://mailman.jabber.org/pipermail/jdev/2000-September/002876.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Steven Cunningham
</I>&gt;<i> &gt; Database Management Group
</I>&gt;<i> &gt; Liberty Mutual
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075874.html">[JDEV] Formatting a message sent via Java
</A></li>
	<LI>Next message: <A HREF="075876.html">[JDEV] VB jabber client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75879">[ date ]</a>
              <a href="thread.html#75879">[ thread ]</a>
              <a href="subject.html#75879">[ subject ]</a>
              <a href="author.html#75879">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

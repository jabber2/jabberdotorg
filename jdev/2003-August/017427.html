<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Can't auth
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Can%27t%20auth&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017426.html">
   <LINK REL="Next"  HREF="017429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Can't auth</H1>
    <B>Hern&#225;n Alvarez</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Can%27t%20auth&In-Reply-To="
       TITLE="[JDEV] Can't auth">hralvarez at workout.com.ar
       </A><BR>
    <I>Fri Aug 29 10:27:25 CDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="017426.html">[2]  [JDEV] FYI: A new instant messaging blog
</A></li>
        <LI>Next message: <A HREF="017429.html">[JDEV] Jabberstudio inactive?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17427">[ date ]</a>
              <a href="thread.html#17427">[ thread ]</a>
              <a href="subject.html#17427">[ subject ]</a>
              <a href="author.html#17427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi i'm newbie i'm using Class.Jabber.PHP v0.4 and i can't do auth on my local server with -D option i see the request but i don't know what is wrong

 mio.c:620 mio while loop, working
  mio.c:380 _mio_accept calling accept on fd #7
  mio.c:407 new socket accepted (fd: 10, ip: 192.168.64.18, port: 1726)
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  mio.c:760 MIO read from socket 10: &lt;?xml version='1.0' encoding='UTF-8' ?&gt;
&lt;stream:stream&gt;
&lt;/stream:stream&gt;
  c2s [client.c:277] pthsock_client_read called with: m:81A37D8 flag:2 arg:80DE618
  c2s [client.c:310] root received for 10
  c2s [client.c:315] Recieved connection to: (null)
  c2s [client.c:324] using alias (null) --&gt; (null)
  mio.c:1054 mio_write called on x: 0 buffer: &lt;?xml version='1.0'?&gt;&lt;stream:stream xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> id='3F4F7238' xmlns='jabber:client'&gt;
  mio.c:1054 mio_write called on x: 0 buffer: &lt;stream:error&gt;Invalid Namespace&lt;/stream:error&gt;&lt;/stream:stream&gt;
  mio.c:279 write_dump writing data: &lt;?xml version='1.0'?&gt;&lt;stream:stream xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> id='3F4F7238' xmlns='jabber:client'&gt;
  mio.c:279 write_dump writing data: &lt;stream:error&gt;Invalid Namespace&lt;/stream:error&gt;&lt;/stream:stream&gt;
  c2s [client.c:277] pthsock_client_read called with: m:81A37D8 flag:4 arg:80DE618
  c2s [client.c:282] io_select Socket 10 close notification
  mio.c:366 freed MIO socket
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  mio.c:380 _mio_accept calling accept on fd #7
  mio.c:407 new socket accepted (fd: 10, ip: 192.168.64.18, port: 1727)
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  mio.c:760 MIO read from socket 10: &lt;?xml version='1.0' encoding='UTF-8'?&gt;
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  mio.c:760 MIO read from socket 10: &lt;stream:stream to='XXX.XXX.XXX.XXX' xmlns='jabber:client' xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>&gt;
  c2s [client.c:277] pthsock_client_read called with: m:80ECA38 flag:2 arg:80DE618
  c2s [client.c:310] root received for 10
  c2s [client.c:315] Recieved connection to: XXX.XXX.XXX.XXX
  mio.c:1054 mio_write called on x: 0 buffer: &lt;?xml version='1.0'?&gt;&lt;stream:stream xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> id='3F4F723A' xmlns='jabber:client' from='XXX.XXX.XXX.XXX'&gt;
  mio.c:279 write_dump writing data: &lt;?xml version='1.0'?&gt;&lt;stream:stream xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> id='3F4F723A' xmlns='jabber:client' from='XXX.XXX.XXX.XXX'&gt;
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  mio.c:760 MIO read from socket 10: &lt;iq type='get' id='auth_7584ba049a6148347cc4cf1d03b26266'&gt;
                                                &lt;query xmlns='jabber:iq:auth'&gt;
                                                        &lt;username&gt;hernan&lt;/username&gt;
                                                &lt;/query&gt;
                                        &lt;/iq&gt;
  c2s [client.c:277] pthsock_client_read called with: m:80ECA38 flag:3 arg:80DE618
  deliver.c:474 DELIVER 4:XXX.XXX.XXX.XXX &lt;route type='auth' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">10 at c2s</A>/80ECA38'&gt;&lt;iq type='get' id='auth_7584ba049a6148347cc4cf1d03b26266'&gt;
                                                &lt;query xmlns='jabber:iq:auth'&gt;
                                                        &lt;username&gt;hernan&lt;/username&gt;
                                                &lt;/query&gt;
                                        &lt;/iq&gt;&lt;/route&gt;
  deliver.c:678 delivering to instance 'sessions'
  deliver.c:94 (80D9218)incoming packet &lt;route type='auth' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">10 at c2s</A>/80ECA38'&gt;&lt;iq type='get' id='auth_7584ba049a6148347cc4cf1d03b26266'&gt;
                                                &lt;query xmlns='jabber:iq:auth'&gt;
                                                        &lt;username&gt;hernan&lt;/username&gt;
                                                &lt;/query&gt;
                                        &lt;/iq&gt;&lt;/route&gt;
  util.c:103 config query auth
  mtq 81009F8 entering from pth
  mtq 81009F8 one call 81A4738
  authreg.c:63 auth request
  users.c:143 js_user(<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>,80EEF28)
  users.c:150 js_user not current
  deliver.c:474 DELIVER 2:XXX.XXX.XXX.XXX &lt;xdb type='get' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>' from='sessions' ns='jabber:iq:auth' id='85'/&gt;
  deliver.c:678 delivering to instance 'xdb'
  xdb_file.c:172 handling xdb request &lt;xdb type='get' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>' from='sessions' ns='jabber:iq:auth' id='85'/&gt;
  xdb_file.c:109 loading ./spool/XXX.XXX.XXX.XXX/hernan.xml
  xdb_file.c:129 caching ./spool/XXX.XXX.XXX.XXX/hernan.xml
  deliver.c:474 DELIVER 1:sessions &lt;xdb type='result' to='sessions' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>' ns='jabber:iq:auth' id='85'&gt;&lt;password xmlns='jabber:iq:auth'&gt;hernan&lt;/password&gt;&lt;/xdb&gt;
  deliver.c:678 delivering to instance 'sessions'
  xdb.c:52 xdb_results checking xdb packet &lt;xdb type='result' to='sessions' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>' ns='jabber:iq:auth' id='85'&gt;&lt;password xmlns='jabber:iq:auth'&gt;hernan&lt;/password&gt;&lt;/xdb&gt;
  users.c:169 js_user debug 81A56B8 81A56B8
  modules.c:135 mapi_call 5
  modules.c:158 MAPI 80DED88
  mod_auth_plain checking
  modules.c:158 MAPI 80DEE18
  mod_auth_digest checking
  modules.c:158 MAPI 80DEE48
  mod_auth_0k.c:118 checking
  deliver.c:474 DELIVER 2:XXX.XXX.XXX.XXX &lt;xdb type='get' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>' from='sessions' ns='jabber:iq:auth:0k' id='86'/&gt;
  deliver.c:678 delivering to instance 'xdb'
  xdb_file.c:172 handling xdb request &lt;xdb type='get' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>' from='sessions' ns='jabber:iq:auth:0k' id='86'/&gt;
  xdb_file.c:109 loading ./spool/XXX.XXX.XXX.XXX/hernan.xml
  deliver.c:474 DELIVER 1:sessions &lt;xdb type='result' to='sessions' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>' ns='jabber:iq:auth:0k' id='86'&gt;&lt;zerok xmlns='jabber:iq:auth:0k'&gt;&lt;token&gt;3F4D116C&lt;/token&gt;&lt;sequence&gt;486&lt;/sequence&gt;&lt;hash&gt;24c1bba7924f673a3447000f8983692ce5006ebf&lt;/hash&gt;&lt;/zerok&gt;&lt;/xdb&gt;
  deliver.c:678 delivering to instance 'sessions'
  xdb.c:52 xdb_results checking xdb packet &lt;xdb type='result' to='sessions' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>' ns='jabber:iq:auth:0k' id='86'&gt;&lt;zerok xmlns='jabber:iq:auth:0k'&gt;&lt;token&gt;3F4D116C&lt;/token&gt;&lt;sequence&gt;486&lt;/sequence&gt;&lt;hash&gt;24c1bba7924f673a3447000f8983692ce5006ebf&lt;/hash&gt;&lt;/zerok&gt;&lt;/xdb&gt;
  modules.c:175 mapi_call returning unhandled
  deliver.c:474 DELIVER 4:c2s &lt;route from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A>' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">10 at c2s</A>/80ECA38' type='auth'&gt;&lt;iq type='result' id='auth_7584ba049a6148347cc4cf1d03b26266'&gt;
                                                &lt;query xmlns='jabber:iq:auth'&gt;
                                                        &lt;username&gt;hernan&lt;/username&gt;
                                                &lt;password/&gt;&lt;digest/&gt;&lt;sequence&gt;485&lt;/sequence&gt;&lt;token&gt;3F4D116C&lt;/token&gt;&lt;resource/&gt;&lt;/query&gt;
                                        &lt;/iq&gt;&lt;/route&gt;
  deliver.c:678 delivering to instance 'c2s'
  c2s [client.c:164] <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hernan at XXX.XXX.XXX.XXX</A> has an active session, delivering packet
  c2s [client.c:236] Writing packet to MIO: &lt;iq type='result' id='auth_7584ba049a6148347cc4cf1d03b26266'&gt;
                                                &lt;query xmlns='jabber:iq:auth'&gt;
                                                        &lt;username&gt;hernan&lt;/username&gt;
                                                &lt;password/&gt;&lt;digest/&gt;&lt;sequence&gt;485&lt;/sequence&gt;&lt;token&gt;3F4D116C&lt;/token&gt;&lt;resource/&gt;&lt;/query&gt;
                                        &lt;/iq&gt;
  mio.c:1054 mio_write called on x: 81A37C8 buffer: (null)
  mtq 81009F8 leaving to pth
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  mio.c:279 write_dump writing data: &lt;iq type='result' id='auth_7584ba049a6148347cc4cf1d03b26266'&gt;
                                                &lt;query xmlns='jabber:iq:auth'&gt;
                                                        &lt;username&gt;hernan&lt;/username&gt;
                                                &lt;password/&gt;&lt;digest/&gt;&lt;sequence&gt;485&lt;/sequence&gt;&lt;token&gt;3F4D116C&lt;/token&gt;&lt;resource/&gt;&lt;/query&gt;
                                        &lt;/iq&gt;
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  c2s [client.c:277] pthsock_client_read called with: m:80ECA38 flag:4 arg:80DE618
  c2s [client.c:282] io_select Socket 10 close notification
  mio.c:366 freed MIO socket
  mio.c:607 mio while loop top
  mio.c:620 mio while loop, working
  mio.c:607 mio while loop top





 
Saludos
 
Hern&#225;n Roberto Alvarez
Dpto. Ing. Cuentas
Tel&#233;fono 011-4878-4444 /48  M&#243;vil  011-15-50109731
Mail <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">hralvarez at workout.com.ar</A>
Av. Belgrano 430 3&#186; D CP 1092AAR Buenos Aires Argentina


---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (<A HREF="http://www.grisoft.com">http://www.grisoft.com</A>).
Version: 6.0.512 / Virus Database: 309 - Release Date: 19/08/2003
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://www.jabber.org/jdev/attachments/20030829/8c0daa39/attachment.htm">https://www.jabber.org/jdev/attachments/20030829/8c0daa39/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017426.html">[2]  [JDEV] FYI: A new instant messaging blog
</A></li>
	<LI>Next message: <A HREF="017429.html">[JDEV] Jabberstudio inactive?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17427">[ date ]</a>
              <a href="thread.html#17427">[ thread ]</a>
              <a href="subject.html#17427">[ subject ]</a>
              <a href="author.html#17427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

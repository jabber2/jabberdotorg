<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Message sent is blank
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Message%20sent%20is%20blank&In-Reply-To=%3C9F504D2FB28E4F459ADD6E42ADE8E20201AB38A7%40lm-exmsg-02.lm.lmig.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046690.html">
   <LINK REL="Next"  HREF="046686.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Message sent is blank</H1>
    <B>Cunningham, Steven</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Message%20sent%20is%20blank&In-Reply-To=%3C9F504D2FB28E4F459ADD6E42ADE8E20201AB38A7%40lm-exmsg-02.lm.lmig.com%3E"
       TITLE="[JDEV] Message sent is blank">Steven.Cunningham at LibertyMutual.com
       </A><BR>
    <I>Wed Aug 20 12:54:58 CDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="046690.html">[JDEV] MSN will stop supporting old MSN Messenger protocol
</A></li>
        <LI>Next message: <A HREF="046686.html">[JDEV] Re: MSN will stop supporting old MSN Messenger protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46681">[ date ]</a>
              <a href="thread.html#46681">[ thread ]</a>
              <a href="subject.html#46681">[ subject ]</a>
              <a href="author.html#46681">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>String jabMessage = &quot;&lt;html
xmlns='<A HREF="http://www.w3.org/1999/xhtml'">http://www.w3.org/1999/xhtml'</A>&gt;&lt;body&gt;&lt;span
style='font-size:large'&gt;OMG, i'm &lt;/span&gt;&lt;span
style='color:green'&gt;green&lt;/span&gt; with &lt;em&gt;envy&lt;/em&gt;!&lt;/body&gt;&lt;/html&gt;&quot;;

This now returns an error I've got before:

The element &quot;html&quot; could not be added as the root of the document: The
element already has an existing parent

Steven Cunningham
Aspiring J-Developer


-----Original Message-----
From: Chris Chen [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ckchris at idream.net</A>] 
Sent: Wednesday, August 20, 2003 1:24 PM
To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
Subject: Re: [JDEV] Message sent is blank


Hi,

I just realized what you have to put in for your setHTMLBody().

You must include the &lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A>&gt;&lt;/html&gt;
tag inside.

In essence, the string that you pass into setHTMLBody() should be a full
HTML document, not just parts of it.  That's why you're getting that No
Root Element error.

So for instance, your following code :

&gt;<i> String jabMessage = &quot;&lt;span
</I>&gt;<i> style='font-size:large'&gt;OMG, i'm &lt;/span&gt;&lt;span 
</I>&gt;<i> style='color:green'&gt;green&lt;/span&gt; with &lt;em&gt;envy&lt;/em&gt;!&quot;;
</I>
Should be changed to something like:

String jabMessage = &quot;&lt;html
xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A>&gt;&lt;body&gt;&lt;span
style='font-size:large'&gt;OMG, i'm &lt;/span&gt;&lt;span
style='color:green'&gt;green&lt;/span&gt; with &lt;em&gt;envy&lt;/em&gt;!&lt;/body&gt;&lt;/html&gt;&quot;;

My memory is failing me and I had to refresh it by looking at the source
code.

Hope this will help you out.

Thanks,
Chris


----- Original Message ----- 
From: &quot;Cunningham, Steven&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">Steven.Cunningham at LibertyMutual.com</A>&gt;
To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
Sent: Wednesday, August 20, 2003 6:56 AM
Subject: RE: [JDEV] Message sent is blank


&gt;<i> Ok, debug is working.
</I>&gt;<i>
</I>&gt;<i> Here's the output
</I>&gt;<i>
</I>&gt;<i> --- Code ---
</I>&gt;<i>
</I>&gt;<i> Preparing message...
</I>&gt;<i>
</I>&gt;<i> DEBUG [jabber/msg/outgoing] - &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; 
</I>&gt;<i> ?&gt;&lt;stream:stream to=&quot;insomnia.lmig.com&quot; xmlns=&quot;jabber:client&quot; 
</I>&gt;<i> xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams&quot;">http://etherx.jabber.org/streams&quot;</A>&gt;
</I>&gt;<i> DEBUG [jabber/msg/incoming] - &lt;stream:stream from=&quot;insomnia.lmig.com&quot; 
</I>&gt;<i> id=&quot;3F437DF5&quot;&gt; DEBUG [jabber/msg/outgoing] - &lt;iq xmlns=&quot;jabber:client&quot;
</I>
&gt;<i> type='get' id='id_10029'&gt;&lt;query
</I>&gt;<i> xmlns=&quot;jabber:iq:auth&quot;&gt;&lt;username&gt;user&lt;/username&gt;&lt;/query&gt;&lt;/iq&gt;
</I>&gt;<i> DEBUG [jabber/msg/incoming] - &lt;iq xmlns=&quot;jabber:client&quot; type='result'
</I>&gt;<i> id='id_10029'&gt;&lt;query
</I>&gt;<i> xmlns=&quot;jabber:iq:auth&quot;&gt;&lt;username&gt;user&lt;/username&gt;&lt;password /&gt;&lt;digest
</I>&gt;<i> /&gt;&lt;sequence&gt;347&lt;/sequence&gt;&lt;token&gt;3F37B40F&lt;/token&gt;&lt;resource
</I>&gt;<i> /&gt;&lt;/query&gt;&lt;/iq&gt;
</I>&gt;<i> DEBUG [jabber/msg/outgoing] - &lt;iq xmlns=&quot;jabber:client&quot; type='set'
</I>&gt;<i> id='id_10031'&gt;&lt;query
</I>&gt;<i>
</I>xmlns=&quot;jabber:iq:auth&quot;&gt;&lt;username&gt;user&lt;/username&gt;&lt;hash&gt;6d11d3f5f1cc7f7a8c
&gt;<i> a4f014b30c5eb98f9145c3&lt;/hash&gt;&lt;resource&gt;Home&lt;/resource&gt;&lt;/query&gt;&lt;/iq&gt;
</I>&gt;<i> DEBUG [jabber/msg/incoming] - &lt;iq xmlns=&quot;jabber:client&quot; type='result'
</I>&gt;<i> id='id_10031'&gt;&lt;/iq&gt;
</I>&gt;<i> DEBUG [jabber/msg/outgoing] - &lt;message xmlns=&quot;jabber:client&quot;
</I>type='chat'
&gt;<i> id='id_10033' to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">StevenCunningham at insomnia.lmig.com</A>'&gt;&lt;thread
</I>&gt;<i> xmlns=&quot;jabber:client&quot;&gt;id_10034&lt;/thread&gt;&lt;/message&gt;
</I>&gt;<i>
</I>&gt;<i> Message sent!
</I>&gt;<i>
</I>&gt;<i> --- End code ---
</I>&gt;<i>
</I>&gt;<i> And again here's my java code on how I'm sending the message:
</I>&gt;<i>
</I>&gt;<i> --- Java code ---
</I>&gt;<i>
</I>&gt;<i> import com.echomine.jabber.*;
</I>&gt;<i> public class JabberTestSteveMain
</I>&gt;<i> {
</I>&gt;<i>
</I>&gt;<i> public static void main(String[] args)
</I>&gt;<i> {
</I>&gt;<i> System.out.println(&quot;Preparing message...\n&quot;);
</I>&gt;<i> sendJabber();
</I>&gt;<i> System.out.println(&quot;\nMessage sent!&quot;);
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> public static void sendJabber()
</I>&gt;<i> {
</I>&gt;<i> try
</I>&gt;<i> {
</I>&gt;<i> String jabTo      =
</I>&gt;<i> &quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">StevenCunningham at server.com</A>&quot;;
</I>&gt;<i> String jabMessage = &quot;&lt;span
</I>&gt;<i> style='font-size:large'&gt;OMG, i'm &lt;/span&gt;&lt;span 
</I>&gt;<i> style='color:green'&gt;green&lt;/span&gt; with &lt;em&gt;envy&lt;/em&gt;!&quot;; // Initialize 
</I>&gt;<i> the Jabber context JabberContext jc = new JabberContext(&quot;user&quot;,
</I>&gt;<i> &quot;pass&quot;, &quot;server&quot;);
</I>&gt;<i>
</I>&gt;<i> // Create an instance of the Jabber session
</I>&gt;<i> factory
</I>&gt;<i> Jabber jabber = new Jabber();
</I>&gt;<i>
</I>&gt;<i> // Create the new session
</I>&gt;<i> JabberSession jabberSession =
</I>&gt;<i> jabber.createSession(jc);
</I>&gt;<i>
</I>&gt;<i> // Connect to the server
</I>&gt;<i> jabberSession.connect(&quot;server&quot;, port#);
</I>&gt;<i>
</I>&gt;<i> // Log in to the Jabber server jabberSession.getUserService().login();
</I>&gt;<i>
</I>&gt;<i> /* Construct test message
</I>&gt;<i> JabberChatMessage msg = new 
</I>&gt;<i> JabberChatMessage(JabberChatMessage.TYPE_HEADLINE);
</I>&gt;<i> msg.setSubject(subject);
</I>&gt;<i> msg.setBody(message);
</I>&gt;<i> msg.setTo(to);
</I>&gt;<i> // Send the message
</I>&gt;<i> jabberSession.sendMessage(msg);
</I>&gt;<i> */
</I>&gt;<i>
</I>&gt;<i> JabberChatMessage msg = new 
</I>&gt;<i> JabberChatMessage(JabberChatMessage.TYPE_CHAT);
</I>&gt;<i> msg.setTo(jabTo);
</I>&gt;<i> msg.setHTMLBody(jabMessage);
</I>&gt;<i> msg.setSynchronized(false);
</I>&gt;<i> jabberSession.sendMessage(msg);
</I>&gt;<i> }
</I>&gt;<i> catch (Exception e)
</I>&gt;<i> {
</I>&gt;<i> System.out.println(&quot;Jabber Message failed to
</I>&gt;<i> send for the following reason:&quot;); 
</I>&gt;<i> System.out.println(e.getLocalizedMessage());
</I>&gt;<i> }
</I>&gt;<i> }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> --- End  Code ---
</I>&gt;<i>
</I>&gt;<i> Steven Cunningham
</I>&gt;<i> Aspiring J-Developer
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Chris Chen [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ckchris at idream.net</A>]
</I>&gt;<i> Sent: Tuesday, August 19, 2003 4:52 PM
</I>&gt;<i> To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> Subject: Re: [JDEV] Message sent is blank
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Just as a precaution and to make sure you went through the proper 
</I>&gt;<i> steps, you should run the following ANT task.
</I>&gt;<i>
</I>&gt;<i> &quot;ant clean&quot;  -- to clean off the previous compiled files to be safe 
</I>&gt;<i> &quot;ant jar-with-logging&quot; -- creates the muse-xxx.jar file, compiling the
</I>
&gt;<i> code first automatically for you.
</I>&gt;<i>
</I>&gt;<i> You then take that JAR file and use that new file rather than the one 
</I>&gt;<i> distributed with Muse.
</I>&gt;<i>
</I>&gt;<i> I just want to make sure you actually compiled and jarred up the 
</I>&gt;<i> proper files that contains the logging info.
</I>&gt;<i>
</I>&gt;<i> Change and modify your log4j.properties before doing the 
</I>&gt;<i> jar-with-logging.
</I>&gt;<i>
</I>&gt;<i> I've tested this and it should work properly.  I haven't had other 
</I>&gt;<i> people complaining about it much, so let me know if this goes well.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Chris
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Cunningham, Steven&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">Steven.Cunningham at LibertyMutual.com</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> Sent: Tuesday, August 19, 2003 1:27 PM
</I>&gt;<i> Subject: RE: [JDEV] Message sent is blank
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; I changed the logger to what you said, as well as included 
</I>&gt;<i> &gt; aspectjrt.jar into my classpath, still nothing in the console but 
</I>&gt;<i> &gt; the text I print out after the message is sent.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is there any special java code I need or should put in that'll spit 
</I>&gt;<i> &gt; it
</I>&gt;<i>
</I>&gt;<i> &gt; out?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Steven Cunningham
</I>&gt;<i> &gt; Aspiring J-Developer
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Chris Chen [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ckchris at idream.net</A>]
</I>&gt;<i> &gt; Sent: Tuesday, August 19, 2003 4:04 PM
</I>&gt;<i> &gt; To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; Subject: Re: [JDEV] Message sent is blank
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The message sent should not be blank, which is strange indeed.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; When you set the log4j.properties, by default it outputs the logs 
</I>&gt;<i> &gt; and XML data to the console (ie. your dos prompt window, your IDE 
</I>&gt;<i> &gt; console output window, your linux terminal window, etc.).  Try 
</I>&gt;<i> &gt; changing the first line's log4j.rootLogger to
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; log4j.rootLogger=DEBUG,console
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; And see if you see any output.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Also make sure that you are using the newly compiled muse library 
</I>&gt;<i> &gt; and that you have aspectjrt.jar in your classpath.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Let me know if it works and if you see anything XML outputs.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Good luck,
</I>&gt;<i> &gt; Chris
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ----- Original Message -----
</I>&gt;<i> &gt; From: &quot;Cunningham, Steven&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">Steven.Cunningham at LibertyMutual.com</A>&gt;
</I>&gt;<i> &gt; To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> &gt; Sent: Tuesday, August 19, 2003 12:22 PM
</I>&gt;<i> &gt; Subject: RE: [JDEV] Message sent is blank
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; Where exactly does this output go?
</I>&gt;<i> &gt; &gt; I recompiled muse for just jabber, and with compile-with-logging 
</I>&gt;<i> &gt; &gt; enabled. (Also edited the log4j.properties file, and I believe 
</I>&gt;<i> &gt; &gt; it's
</I>&gt;<i> &gt; &gt; right.)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; log4j:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; # Default Logging is DEBUG, thus enabling all messages to be 
</I>&gt;<i> &gt; &gt; logged log4j.rootLogger=INFO, console 
</I>&gt;<i> &gt; &gt; log4j.appender.console=org.apache.log4j.ConsoleAppender
</I>&gt;<i> &gt; &gt; log4j.appender.console.layout=org.apache.log4j.PatternLayout
</I>&gt;<i> &gt; &gt; # Conversion pattern: Priority [Category] Message 
</I>&gt;<i> &gt; &gt; log4j.appender.console.layout.ConversionPattern=%-5p [%c] - %m%n #
</I>
&gt;<i> &gt; &gt; Conversion pattern: Date Priority [Category] Message 
</I>&gt;<i> &gt; &gt; #log4j.appender.console.layout.ConversionPattern=%d %-5p [%c] - 
</I>&gt;<i> &gt; &gt; %m%n
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; #------------------Jabber Module---------------------------#
</I>&gt;<i> &gt; &gt; #-- logs all incoming parsed messages under DEBUG 
</I>&gt;<i> &gt; &gt; log4j.logger.jabber/msg/incoming=DEBUG
</I>&gt;<i> &gt; &gt; #-- logs all outgoing parsed messages under DEBUG 
</I>&gt;<i> &gt; &gt; log4j.logger.jabber/msg/outgoing=DEBUG
</I>&gt;<i> &gt; &gt; #-- logs all incoming raw packets under DEBUG 
</I>&gt;<i> &gt; &gt; log4j.logger.jabber/packet/incoming=DEBUG
</I>&gt;<i> &gt; &gt; #-- logs all outgoing raw packets under DEBUG 
</I>&gt;<i> &gt; &gt; log4j.logger.jabber/packet/outgoing=DEBUG
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Also, JAJC has the option of viewing the xml transmitted. Here's 
</I>&gt;<i> &gt; &gt; what it
</I>&gt;<i> &gt; &gt; sends:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &lt;message xmlns='jabber:client' type='chat' id='id_10033' 
</I>&gt;<i> &gt; &gt; to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">to at site.com</A>' from='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">from at site.com</A>/Home'&gt;&lt;thread 
</I>&gt;<i> &gt; &gt; xmlns='jabber:client'&gt;id_10034&lt;/thread&gt;&lt;/message&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Here's what I send to setHTMLBody():
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Test&lt;br /&gt;&lt;b&gt;TEST!&lt;/b&gt; Test Test &lt;span style=&quot;font-size: 10px;
</I>&gt;<i> &gt; &gt; font-family: 'Verdana,Arial,sans-seriff';&quot;&gt;Test!&lt;/span&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Steven Cunningham
</I>&gt;<i> &gt; &gt; Aspiring J-Developer
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From: Chris Chen [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ckchris at idream.net</A>]
</I>&gt;<i> &gt; &gt; Sent: Monday, August 18, 2003 1:34 PM
</I>&gt;<i> &gt; &gt; To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; Subject: Re: [JDEV] Message sent is blank
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Try reading the README file of the Muse package distribution. 
</I>&gt;<i> &gt; &gt; Inside,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; it will tell you how to enable debugging inside muse.  Simply 
</I>&gt;<i> &gt; &gt; compile the debugging into muse and then you will be able to see 
</I>&gt;<i> &gt; &gt; the
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; incoming and outgoing XML messages outputted (You will need to 
</I>&gt;<i> &gt; &gt; configure log4j.properties file as well).
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Then you can see if the message is sending the proper XML data.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Thanks,
</I>&gt;<i> &gt; &gt; Chris
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ----- Original Message -----
</I>&gt;<i> &gt; &gt; From: &quot;Cunningham, Steven&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">Steven.Cunningham at LibertyMutual.com</A>&gt;
</I>&gt;<i> &gt; &gt; To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> &gt; &gt; Sent: Monday, August 18, 2003 6:12 AM
</I>&gt;<i> &gt; &gt; Subject: [JDEV] Message sent is blank
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; I've been trying to get a jabber message to accept xhtml 
</I>&gt;<i> &gt; &gt; &gt; formatting,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; but without much luck. The message is sent all right, but it 
</I>&gt;<i> &gt; &gt; &gt; shows
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; &gt; nothing in the message (Shows who sent it, but then the message 
</I>&gt;<i> &gt; &gt; &gt; itself
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; is blank.)
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Here's the code that sends it (java)
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; String message = &quot;&lt;span style='font-size:large'&gt;OMG, i'm 
</I>&gt;<i> &gt; &gt; &gt; &lt;/span&gt;&lt;span style='color:green'&gt;green&lt;/span&gt; with 
</I>&gt;<i> &gt; &gt; &gt; &lt;em&gt;envy&lt;/em&gt;!&quot;; JabberChatMessage msg = new 
</I>&gt;<i> &gt; &gt; &gt; JabberChatMessage(JabberChatMessage.TYPE_CHAT);
</I>&gt;<i> &gt; &gt; &gt; msg.setTo(jabTo);
</I>&gt;<i> &gt; &gt; &gt; msg.setHTMLBody(message);
</I>&gt;<i> &gt; &gt; &gt; msg.setSynchronized(false); jabberSession.sendMessage(msg);
</I>&gt;<i> &gt; &gt; &gt; System.out.println(&quot;--- Jabber messages sent successfully!\n&quot;);
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; When I included the &lt;html&gt; and &lt;body&gt; tags, I got the 
</I>&gt;<i> &gt; &gt; &gt; SendMessageFailedException popped up.
</I>&gt;<i> &gt; &gt; &gt; SendMessageFailedException.getLocalizedMessage() returns this: 
</I>&gt;<i> &gt; &gt; &gt; The
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; &gt; element &quot;html&quot; could not be added as a child of &quot;message&quot;: The 
</I>&gt;<i> &gt; &gt; &gt; element
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; already has an existing parent (the document root)
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Steven Cunningham
</I>&gt;<i> &gt; &gt; &gt; Aspiring J-Developer 
</I>&gt;<i> &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; jdev mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; jdev mailing list
</I>&gt;<i> &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; jdev mailing list
</I>&gt;<i> &gt; <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i>
</I>
_______________________________________________
jdev mailing list
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
<A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046690.html">[JDEV] MSN will stop supporting old MSN Messenger protocol
</A></li>
	<LI>Next message: <A HREF="046686.html">[JDEV] Re: MSN will stop supporting old MSN Messenger protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46681">[ date ]</a>
              <a href="thread.html#46681">[ thread ]</a>
              <a href="subject.html#46681">[ subject ]</a>
              <a href="author.html#46681">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

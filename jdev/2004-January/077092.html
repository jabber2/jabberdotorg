<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Re: Ping protocol for Jabber
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Re%3A%20Ping%20protocol%20for%20Jabber&In-Reply-To=%3Cbtejh8%24obg%241%40sea.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077090.html">
   <LINK REL="Next"  HREF="077096.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Re: Ping protocol for Jabber</H1>
    <B>Tony Cheung</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Re%3A%20Ping%20protocol%20for%20Jabber&In-Reply-To=%3Cbtejh8%24obg%241%40sea.gmane.org%3E"
       TITLE="[JDEV] Re: Ping protocol for Jabber">tony.cheung at asiayeah.com
       </A><BR>
    <I>Tue Jan  6 09:14:56 CST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="077090.html">[JDEV] Re: Ping protocol for Jabber
</A></li>
        <LI>Next message: <A HREF="077096.html">[JDEV] Re: Ping protocol for Jabber
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77092">[ date ]</a>
              <a href="thread.html#77092">[ thread ]</a>
              <a href="subject.html#77092">[ subject ]</a>
              <a href="author.html#77092">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Trejkaz Xaoza wrote:
&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA1
</I>&gt;<i> 
</I>&gt;<i> On Tue, 6 Jan 2004 20:55, Tony Yat-Tung Cheung wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>I am running a Jabber client over GPRS to jabber.org. I found that if I
</I>&gt;&gt;<i>break the GPRS connection without breaking the TCP/IP connection
</I>&gt;&gt;<i>gracefully, it took close to 30 minutes before jabber.org realizes that
</I>&gt;&gt;<i>I am offline.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Does the current jabberd provide any kind of mechanism for making sure
</I>&gt;&gt;<i>the clients are still alive?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Again, if _all_ you want to do is decrease the amount of time a client can be 
</I>&gt;<i> disconnected before they are noticed, you just have to configure the server 
</I>&gt;<i> to send keep-alives (which are presumably a blank space, just like you do 
</I>&gt;<i> from the client.)  So every minute if nothing else is sent, send &quot; &quot;.  If the
</I>&gt;<i> connection is down it should cause the stream to break, right?
</I>
Hi,

Yes, I think the minimal goal is to detect the connection break near 
real-time from either the client or server.

Does any existing public server send keep-alives? I would like to give 
it a try. Otherwise I would try it in my own server.

I would test the same approach in my mobile client and see if the 
connection break would be detected quickly. As the TCP/IP protocol has a 
window size, I am not sure how quickly sending a space character will 
detect if the connection is lost. I assume the connection lost will only 
be detected if enough characters are unacknowledged. Anyway, it is a 
good start and I would give it a try and see how effective this 
mechanism is.

If it works, we probably want to be able to have some methods for the 
mobile client to inform the server the frequency for sending this 
keep-alives or space character.

Thanks!

Best Regards,
Tony Cheung

&gt;<i> 
</I>&gt;<i> TX
</I>&gt;<i> 
</I>&gt;<i> - -- 
</I>&gt;<i> 'Every sufficiently advanced technology is indistinguishable from magic' - 
</I>&gt;<i> Arthur C Clarke
</I>&gt;<i> 'Every sufficiently advanced magic is indistinguishable from technology' - Tom 
</I>&gt;<i> Graves
</I>&gt;<i> 
</I>&gt;<i>       Email: Trejkaz Xaoza &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">trejkaz at xaoza.net</A>&gt;
</I>&gt;<i>    Web site: <A HREF="http://xaoza.net/trejkaz/">http://xaoza.net/trejkaz/</A>
</I>&gt;<i>   Jabber ID: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">trejkaz at jabber.xaoza.net</A>
</I>&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;<i> Version: GnuPG v1.2.3 (GNU/Linux)
</I>&gt;<i> 
</I>&gt;<i> iD8DBQE/+op3mifzwBMPxxoRArQXAKC+WLF4LXja+eI553k7HdrbNDNclgCdH8H5
</I>&gt;<i> lqaWj42KdKX5pi/MtVGhDDU=
</I>&gt;<i> =Y99N
</I>&gt;<i> -----END PGP SIGNATURE-----
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077090.html">[JDEV] Re: Ping protocol for Jabber
</A></li>
	<LI>Next message: <A HREF="077096.html">[JDEV] Re: Ping protocol for Jabber
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77092">[ date ]</a>
              <a href="thread.html#77092">[ thread ]</a>
              <a href="subject.html#77092">[ subject ]</a>
              <a href="author.html#77092">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

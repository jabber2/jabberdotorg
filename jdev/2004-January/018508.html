<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Re: Ping protocol for Jabber
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20Ping%20protocol%20for%20Jabber&In-Reply-To=200401011525.50761.trejkaz%40xaoza.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018501.html">
   <LINK REL="Next"  HREF="018509.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Re: Ping protocol for Jabber</H1>
    <B>Tony Yat-Tung Cheung</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20Ping%20protocol%20for%20Jabber&In-Reply-To=200401011525.50761.trejkaz%40xaoza.net"
       TITLE="[JDEV] Re: Ping protocol for Jabber">tony.cheung at asiayeah.com
       </A><BR>
    <I>Tue Jan  6 03:55:36 CST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="018501.html">[JDEV] FW: [News] JSF: Membership Application Period
</A></li>
        <LI>Next message: <A HREF="018509.html">[JDEV] Re: Ping protocol for Jabber
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18508">[ date ]</a>
              <a href="thread.html#18508">[ thread ]</a>
              <a href="subject.html#18508">[ subject ]</a>
              <a href="author.html#18508">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Looking at this problem, it seems it also makes sense to have some 
mechanisms for the servers to make sure the clients are alive.

I am running a Jabber client over GPRS to jabber.org. I found that if I 
break the GPRS connection without breaking the TCP/IP connection 
gracefully, it took close to 30 minutes before jabber.org realizes that 
I am offline.

Does the current jabberd provide any kind of mechanism for making sure 
the clients are still alive?

This problem is not so important for desktop users where they enjoy a 
higher reliability in their network connections, but it is much more 
important for mobile users whose network connections are much more 
unstable. Thus, we would need mechanisms,

1) For clients to make sure servers are alive
2) For servers to make sure clients are alive

There is an older thread &quot;Keep-Alives&quot; which discussed this problem in 
an open-ended way. They have discussed mainly,

1) Using TCP/IP Keep-Alives mechanism
2) Adding a new heartbeart mechanism to Jabber

Is anyone working in this area and wanna give us some advices?

It doesn't seem a problem specific to Jabber and it should be applicable 
to most TCP/IP streaming applications.

Best Regards,
Tony Cheung

Trejkaz Xaoza wrote:
&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA1
</I>&gt;<i> 
</I>&gt;<i> On Thu, 1 Jan 2004 12:49, Tony Cheung wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>Is there any ping mechanism that we could used in Jabber for making sure
</I>&gt;&gt;<i>the connection and the server is alive?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Normal keep-alives are typically a single space character flushed down the 
</I>&gt;<i> stream.  However I know it isn't truly a ping. :)
</I>&gt;<i> 
</I>&gt;<i> The trivial way to ping is to send a message to your own JID.  If I'm right in 
</I>&gt;<i> interpreting the semantics, a message with no body won't be displayed in a 
</I>&gt;<i> client anyway, so as long as you tag the outgoing message with an 'id' 
</I>&gt;<i> attribute and wait for the incoming message with the same id.
</I>&gt;<i> 
</I>&gt;<i> TX
</I>&gt;<i> 
</I>&gt;<i> - -- 
</I>&gt;<i> 'Every sufficiently advanced technology is indistinguishable from magic' - 
</I>&gt;<i> Arthur C Clarke
</I>&gt;<i> 'Every sufficiently advanced magic is indistinguishable from technology' - Tom 
</I>&gt;<i> Graves
</I>&gt;<i> 
</I>&gt;<i>       Email: Trejkaz Xaoza &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">trejkaz at xaoza.net</A>&gt;
</I>&gt;<i>    Web site: <A HREF="http://xaoza.net/trejkaz/">http://xaoza.net/trejkaz/</A>
</I>&gt;<i>   Jabber ID: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">trejkaz at jabber.xaoza.net</A>
</I>&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;<i> Version: GnuPG v1.2.3 (GNU/Linux)
</I>&gt;<i> 
</I>&gt;<i> iD8DBQE/86FMmifzwBMPxxoRAkiuAKCVtLa/XwlCBzGhNBQxtogr2RqJXQCgvlfW
</I>&gt;<i> MEv2/HOiaB98pjcv68OpCAA=
</I>&gt;<i> =W7CV
</I>&gt;<i> -----END PGP SIGNATURE-----
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018501.html">[JDEV] FW: [News] JSF: Membership Application Period
</A></li>
	<LI>Next message: <A HREF="018509.html">[JDEV] Re: Ping protocol for Jabber
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18508">[ date ]</a>
              <a href="thread.html#18508">[ thread ]</a>
              <a href="subject.html#18508">[ subject ]</a>
              <a href="author.html#18508">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] bug in mod_privacy ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20bug%20in%20mod_privacy%20%3F&In-Reply-To=%3C20040107230418.B876263FE2%40hades.jabber.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047823.html">
   <LINK REL="Next"  HREF="047843.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] bug in mod_privacy ?</H1>
    <B>Xfigio</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20bug%20in%20mod_privacy%20%3F&In-Reply-To=%3C20040107230418.B876263FE2%40hades.jabber.org%3E"
       TITLE="[JDEV] bug in mod_privacy ?">jdev at rhinosw.com
       </A><BR>
    <I>Wed Jan  7 17:04:06 CST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="047823.html">[JDEV] bug in mod_privacy ?
</A></li>
        <LI>Next message: <A HREF="047843.html">[JDEV] bug in mod_privacy ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47841">[ date ]</a>
              <a href="thread.html#47841">[ thread ]</a>
              <a href="subject.html#47841">[ subject ]</a>
              <a href="author.html#47841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alexey

My understanding is that iq:privacy is pretty much useless atm.  At least it
was in jabberd2.  And have been told that it hasn't been fixed for
jabberd2s1.  If it has been sorted I'd be delighted.

Basically the problem I ran into was setting an ignore roster group did
nothing, while setting an ignore jid ignored everything to all roster
contacts.  You'll probably also see the timeout when deleting a privacy
list.

Xfigio

-----Original Message-----
From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-admin at jabber.org</A> [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-admin at jabber.org</A>] On Behalf Of
Alexey Nezhdanov
Sent: Wednesday, 7 January 2004 8:18 PM
To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
Subject: [JDEV] bug in mod_privacy ?

Testing privacy lists handling with xmpppy and jabberd2s1:
It seems that server return &quot;all info at once&quot; with lists list request and
ingnores a particular info request:

Example 1, requesting privacy lists list from server:
python code:
    print getPrivacyLists(m)
debug output:
DEBUG: socket       sent  &lt;iq id='7' type='get'&gt;&lt;query 
xmlns='jabber:iq:privacy' /&gt;&lt;/iq&gt;
DEBUG: socket       got   &lt;iq xmlns='jabber:client' id='7' 
type='result'&gt;&lt;query xmlns='jabber:iq:privacy'&gt;&lt;list name='test'&gt;&lt;item
order='6' action='allow' value='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">snake at woody8.penza-gsm.ru</A>' 
type='jid'/&gt;&lt;/list&gt;&lt;/query&gt;&lt;/iq&gt;
{'lists': [u'test']}

Example 2, requesting privacy list &quot;test&quot; from server:
python code:
    print getPrivacyList(m,'test')
debug output:
DEBUG: socket       sent  &lt;iq id='8' type='get'&gt;&lt;query 
xmlns='jabber:iq:privacy'&gt;&lt;list name='test' /&gt;&lt;/query&gt;&lt;/iq&gt; None
----
The  second case waits for some time before timeout expires. Even if I read
the socket after several minutes - there is no result.

--
Alexey Nezhdanov




_______________________________________________
jdev mailing list
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
<A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047823.html">[JDEV] bug in mod_privacy ?
</A></li>
	<LI>Next message: <A HREF="047843.html">[JDEV] bug in mod_privacy ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47841">[ date ]</a>
              <a href="thread.html#47841">[ thread ]</a>
              <a href="subject.html#47841">[ subject ]</a>
              <a href="author.html#47841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

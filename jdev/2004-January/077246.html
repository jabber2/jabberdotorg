<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Client support for XMPP Privacy and Jabberd 2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Client%20support%20for%20XMPP%20Privacy%20and%20Jabberd%202&In-Reply-To=%3C400E24E1.3020106%40cs.stanford.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077252.html">
   <LINK REL="Next"  HREF="077248.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Client support for XMPP Privacy and Jabberd 2</H1>
    <B>Dudley Carr</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Client%20support%20for%20XMPP%20Privacy%20and%20Jabberd%202&In-Reply-To=%3C400E24E1.3020106%40cs.stanford.edu%3E"
       TITLE="[JDEV] Client support for XMPP Privacy and Jabberd 2">dudley at cs.stanford.edu
       </A><BR>
    <I>Wed Jan 21 01:06:09 CST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="077252.html">[JDEV] XHTML Inband Images update
</A></li>
        <LI>Next message: <A HREF="077248.html">[JDEV] Client support for XMPP Privacy and Jabberd 2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77246">[ date ]</a>
              <a href="thread.html#77246">[ thread ]</a>
              <a href="subject.html#77246">[ subject ]</a>
              <a href="author.html#77246">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm working on a client-side implementation of XMPP Privacy and I seem to have 
run into a snag. There are visual elements in our client that can be changed 
which in turn changes the active privacy list. This is all good and well expect 
if there are multiple clients logged onto the same server with the same JID but 
with different resources.

Both clients typically would read the privacy settings after logging in. 
However, they would be unaware of changes to the privacy lists, and thus the 
visual elements (such as showing your status as invisible) in the one of the 
clients would be incorrect. The roster, like the privacy lists, is a piece of 
data that clients have to synchronize on. Unlike the privacy lists, the roster 
side steps this problem b/c the XMPP spec, I believe, requires roster changes to 
be pushed to all the resources. As far as I can tell, this isn't true for 
privacy lists changes.

A possible work around that I was considering is to send an set-IQ packet from 
one client to another so that they can be synchronized, but the current Jabber 2 
server doesn't allow IQ packets through for query namespaces such as 
jabber:iq:privacy or jabber:iq:roster. I can't seem to find anything in XMPP 
that would disallow this behavior, but it does make sense in most cases.

I'm out of ideas on this one short of some kind of custom namespace solution.

Regards,
Dudley

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077252.html">[JDEV] XHTML Inband Images update
</A></li>
	<LI>Next message: <A HREF="077248.html">[JDEV] Client support for XMPP Privacy and Jabberd 2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77246">[ date ]</a>
              <a href="thread.html#77246">[ thread ]</a>
              <a href="subject.html#77246">[ subject ]</a>
              <a href="author.html#77246">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

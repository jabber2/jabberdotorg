<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Minimising number of MUC rooms
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Minimising%20number%20of%20MUC%20rooms&In-Reply-To=%3CCAOb_FnyZQ%3DThVr4smonk%3DCSZkQSiiq0n1DBN%2Bu6NdDgqdQKQ6Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089040.html">
   <LINK REL="Next"  HREF="089049.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Minimising number of MUC rooms</H1>
    <B>Kevin Smith</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Minimising%20number%20of%20MUC%20rooms&In-Reply-To=%3CCAOb_FnyZQ%3DThVr4smonk%3DCSZkQSiiq0n1DBN%2Bu6NdDgqdQKQ6Q%40mail.gmail.com%3E"
       TITLE="[jdev] Minimising number of MUC rooms">kevin at kismith.co.uk
       </A><BR>
    <I>Tue May 29 18:28:04 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="089040.html">[jdev] MUC and PubSub together?
</A></li>
        <LI>Next message: <A HREF="089049.html">[jdev] Minimising number of MUC rooms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89047">[ date ]</a>
              <a href="thread.html#89047">[ thread ]</a>
              <a href="subject.html#89047">[ subject ]</a>
              <a href="author.html#89047">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Apr 30, 2012 at 4:17 PM, Theo Cushion &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">theo at jivatechnology.com</A>&gt; wrote:
&gt;<i> We use MUC rooms extensively within our site. They offer us a number of neat features that make them very useful. It gives us a central way to manage who talks to who, can accommodate groups of people chatting and gives us a neat way to deal with keeping a history of everything.
</I>&gt;<i>
</I>&gt;<i> However we've started to see performance issues with using so many MUC rooms (we knew we would get stung by this eventually). Users who have had large quantities of chats need to log into a room for every conversation. We do this so that if a message is posted in one of these rooms, it gets pushed out to all of the recipients and we can then in realtime show &quot;missed messages&quot; (rooms they are not viewing, but are interested in). However, most rooms sit there totally unused.
</I>&gt;<i>
</I>&gt;<i> Each use has a PEP node of rooms they are interested in, and when they log in to the site they get this list of rooms and join it.
</I>&gt;<i>
</I>&gt;<i> The only solution I can think of is to have this PEP list updated so that only rooms which have more than one person in them are shown. The downside is I'm going to end up with a lot more logic hooked on for when people log in and out of the system.
</I>&gt;<i>
</I>&gt;<i> How would you solve this?
</I>
Where are you seeing the performance problems with having many MUCs?
It should make no odds to a client that it's present in many empty
MUCs (although I guess if you're talking about thousands, the number
of join stanzas would get onerous), and servers are likely to scale
well (empty MUCs will be using almost no resources).

/K
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089040.html">[jdev] MUC and PubSub together?
</A></li>
	<LI>Next message: <A HREF="089049.html">[jdev] Minimising number of MUC rooms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89047">[ date ]</a>
              <a href="thread.html#89047">[ thread ]</a>
              <a href="subject.html#89047">[ subject ]</a>
              <a href="author.html#89047">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

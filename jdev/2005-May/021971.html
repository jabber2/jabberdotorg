<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: s2s doubts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20s2s%20doubts&In-Reply-To=20050518185434.GB6344%40jabber.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021970.html">
   <LINK REL="Next"  HREF="021969.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: s2s doubts</H1>
    <B>Justin Karneges</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20s2s%20doubts&In-Reply-To=20050518185434.GB6344%40jabber.org"
       TITLE="[jdev] Re: s2s doubts">justin-keyword-jabber.093179 at affinix.com
       </A><BR>
    <I>Wed May 18 14:29:28 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="021970.html">[jdev] Re: s2s doubts
</A></li>
        <LI>Next message: <A HREF="021969.html">[jdev] Re: s2s doubts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21971">[ date ]</a>
              <a href="thread.html#21971">[ thread ]</a>
              <a href="subject.html#21971">[ subject ]</a>
              <a href="author.html#21971">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 18 May 2005 11:54 am, Peter Saint-Andre wrote:
&gt;<i> On Wed, May 18, 2005 at 11:18:58AM -0700, Justin Karneges wrote:
</I>&gt;<i> &gt; On Wednesday 18 May 2005 09:42 am, Stephen Marquard wrote:
</I>&gt;<i> &gt; &gt; Justin Karneges wrote:
</I>&gt;<i> &gt; &gt; &gt; If this was meant to be possible, it certainly isn't clear in RFC
</I>&gt;<i> &gt; &gt; &gt; 3920. Is this an extension documented somewhere?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; You do TLS as documented for streams (if advertised as a stream
</I>&gt;<i> &gt; &gt; feature), and then dialback as documented. TLS doesn't add much
</I>&gt;<i> &gt; &gt; additional complexity - the only subtlety is to wait for TLS to
</I>&gt;<i> &gt; &gt; complete once it's started before sending any dialback packets.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The spec does not discuss dialback with TLS, or even &lt;stream:features&gt;
</I>&gt;<i> &gt; for that matter.  My problem with what you describe is that it would
</I>&gt;<i> &gt; probably cause breakage between jabberd and my own server implementation
</I>&gt;<i> &gt; which was created according to the spec.  Please don't make stuff up.  If
</I>&gt;<i> &gt; we really want dialback + TLS, this _needs_ to be documented in the RFC.
</I>&gt;<i>
</I>&gt;<i> I fail to see what anyone is making up here. TLS is documented in
</I>&gt;<i> Section 5 of RFC 3920. Server dialback is documented in Section 8
</I>&gt;<i> of RFC 3920. Stream features are documented in Section 4.6 of RFC
</I>&gt;<i> 3920. Nowhere in RFC 3920 is it set forth that two servers MUST
</I>&gt;<i> NOT or SHOULD NOT complete dialback if they have completed TLS
</I>&gt;<i> (although RFC 3920 does say that two servers SHOULD NOT complete
</I>&gt;<i> dialback if they have completed SASL). If you are suggesting that
</I>&gt;<i> rfc3920bis be changed to so specify the relationship between TLS
</I>&gt;<i> and dialback, that is one thing. But the spec as written does not
</I>&gt;<i> forbid this behavior in any way.
</I>
The problem is that Section 8 describes itself in an essentially 
self-contained way, with its own order of events (8.2) and different rules on 
the opening stream element (8.3, part 2 &amp; 3).  There is no mention about how 
it would relate to the &quot;1.0&quot; order of events as described in Section 4.

I don't know who decided to implement Dialback + TLS first, but it's not 
enough to just scan the RFC and conclude &quot;it doesn't say you can't!&quot;  I'm 
sure there's a lot of things the RFC doesn't forbid.  However, it's important 
to work with the spirit and intent of the spec.  Looking for tiny openings 
will only cause interoperability problems.

Yes, it needs to be in rfc3920bis.  More than just Dialback + TLS, I'd like to 
see a Dialback + 1.0, which seems to be what is really going on here.

-Justin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021970.html">[jdev] Re: s2s doubts
</A></li>
	<LI>Next message: <A HREF="021969.html">[jdev] Re: s2s doubts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21971">[ date ]</a>
              <a href="thread.html#21971">[ thread ]</a>
              <a href="subject.html#21971">[ subject ]</a>
              <a href="author.html#21971">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

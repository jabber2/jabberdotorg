<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Hints about the resolver
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Hints%20about%20the%20resolver&In-Reply-To=%3Cspamdrop%2Bm3d5rq4ya5.fsf%40paven.bunk.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080520.html">
   <LINK REL="Next"  HREF="080523.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Hints about the resolver</H1>
    <B>Jacob Bunk Nielsen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Hints%20about%20the%20resolver&In-Reply-To=%3Cspamdrop%2Bm3d5rq4ya5.fsf%40paven.bunk.cc%3E"
       TITLE="[jdev] Hints about the resolver">jbnliste at bunk.cc
       </A><BR>
    <I>Mon May 16 17:10:58 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="080520.html">[jdev] Hints about the resolver
</A></li>
        <LI>Next message: <A HREF="080523.html">[jdev] Hints about the resolver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80521">[ date ]</a>
              <a href="thread.html#80521">[ thread ]</a>
              <a href="subject.html#80521">[ subject ]</a>
              <a href="author.html#80521">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ivan Santarelli &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ivan.santarelli at students.cefriel.it</A>&gt; writes:

&gt;<i> I need to know something about the jabberd2 code.
</I>&gt;<i> I think that when user A sends a message to user B the server (of A)
</I>&gt;<i> must understand if the receiving user (B) is local or remote. Is this
</I>&gt;<i> done comparing the jid's domain? And, more important for me: in which
</I>&gt;<i> part of the code is it done?
</I>
As far as I understand it it's done in the router component of the
server.

More particular I think you need to look at:

static void _router_process_route(component_t comp, nad_t nad) in
router/router.c of the source-code.

&gt;<i> I need to manipulate some data (for istance the &quot;to&quot; and &quot;from&quot; jid and
</I>&gt;<i> the way the domains get resolved) before any actions are taken.
</I>
Maybe you want to do that elsewhere, or maybe you even want to write
your own component that can connect to the router and be default route
before it sends stuff back to the s2s component?

If you explain a bit more about what you want to do the answers you
get might be better.

-- 
Jacob


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080520.html">[jdev] Hints about the resolver
</A></li>
	<LI>Next message: <A HREF="080523.html">[jdev] Hints about the resolver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80521">[ date ]</a>
              <a href="thread.html#80521">[ thread ]</a>
              <a href="subject.html#80521">[ subject ]</a>
              <a href="author.html#80521">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

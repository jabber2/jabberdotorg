<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] s2s doubts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20s2s%20doubts&In-Reply-To=%3Cd6drnr%24o7i%241%40sea.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051244.html">
   <LINK REL="Next"  HREF="051242.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] s2s doubts</H1>
    <B>Gaston Dombiak</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20s2s%20doubts&In-Reply-To=%3Cd6drnr%24o7i%241%40sea.gmane.org%3E"
       TITLE="[jdev] s2s doubts">gaston at jivesoftware.com
       </A><BR>
    <I>Tue May 17 17:38:21 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="051244.html">[jdev] how do you ?
</A></li>
        <LI>Next message: <A HREF="051242.html">[jdev] &quot;MySQL client libraries not found&quot; error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51241">[ date ]</a>
              <a href="thread.html#51241">[ thread ]</a>
              <a href="subject.html#51241">[ subject ]</a>
              <a href="author.html#51241">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey all,

I'm in the processing of adding s2s support to Jive Messenger starting with 
server dialback. After reading the specs I have some questions.

Lets suppose that server1 has successfully accepted a connection with 
server2 using server dialback. If a client sends a message to server1 with 
TO=conference.server2, does server1 have to send the packet to server2 
assuming that conference.server2 is handled by server2? Or does server2 need 
to inform server1 that that subdomain is valid?

The RFC3920 says that  &quot;in the context of server-to-server communications, a 
server MUST use one TCP connection for XML stanzas sent from the server to 
the peer and another TCP connection (initiated by the peer) for stanzas from 
the peer to the server&quot;. Is it correct to create the second connection after 
the first connection was established? I guess this is an implementation 
decision but I would like to know if that is the standard way of doing it. 
What happens to the first connection if the second connection fails to be 
established? What happens to the other connection if one connection goes 
down? I assume that the remaining connection will be used and that the 
server will try to regenerate the other connection. Is it necessary to have 
2 connections when using TLS/SASL?

After successful dialback negotiation, the Receiving Server SHOULD accept 
subsequent &lt;db:result/&gt; packets (e.g., validation requests sent to a 
subdomain or other hostname serviced by the Receiving Server) from the 
Originating Server over the existing validated connection; this enables 
&quot;piggybacking&quot; of the original validated connection in one direction. Is 
this being used for &quot;registering&quot; subdomains/services or virtual hosts with 
the Receiving Server? If the answer is yes then how do you implement the 
same thing using TLS/SASL? If the Originating Server never registered other 
subdomains is it valid to assume that &quot;conference.server2 is handled by 
server2&quot; (see first question)?

Thanks for your help,

  -- Gato 




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051244.html">[jdev] how do you ?
</A></li>
	<LI>Next message: <A HREF="051242.html">[jdev] &quot;MySQL client libraries not found&quot; error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51241">[ date ]</a>
              <a href="thread.html#51241">[ thread ]</a>
              <a href="subject.html#51241">[ subject ]</a>
              <a href="author.html#51241">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

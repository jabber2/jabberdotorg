<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: s2s doubts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20s2s%20doubts&In-Reply-To=200505181118.58894.justin-keyword-jabber.093179%40affinix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021971.html">
   <LINK REL="Next"  HREF="021972.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: s2s doubts</H1>
    <B>Stephen Marquard</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20s2s%20doubts&In-Reply-To=200505181118.58894.justin-keyword-jabber.093179%40affinix.com"
       TITLE="[jdev] Re: s2s doubts">scm at marquard.net
       </A><BR>
    <I>Wed May 18 14:10:26 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="021971.html">[jdev] Re: s2s doubts
</A></li>
        <LI>Next message: <A HREF="021972.html">[jdev] CAs (was: s2s doubts)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21969">[ date ]</a>
              <a href="thread.html#21969">[ thread ]</a>
              <a href="subject.html#21969">[ subject ]</a>
              <a href="author.html#21969">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Justin Karneges wrote:
&gt;<i> On Wednesday 18 May 2005 09:42 am, Stephen Marquard wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>Justin Karneges wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>If this was meant to be possible, it certainly isn't clear in RFC 3920. 
</I>&gt;&gt;&gt;<i>Is this an extension documented somewhere?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>You do TLS as documented for streams (if advertised as a stream
</I>&gt;&gt;<i>feature), and then dialback as documented. TLS doesn't add much
</I>&gt;&gt;<i>additional complexity - the only subtlety is to wait for TLS to complete
</I>&gt;&gt;<i>once it's started before sending any dialback packets.
</I>&gt;<i> 
</I>&gt;<i> The spec does not discuss dialback with TLS, or even &lt;stream:features&gt; for 
</I>&gt;<i> that matter.  My problem with what you describe is that it would probably 
</I>&gt;<i> cause breakage between jabberd and my own server implementation which was 
</I>&gt;<i> created according to the spec.  Please don't make stuff up.  If we really 
</I>&gt;<i> want dialback + TLS, this _needs_ to be documented in the RFC.
</I>
Some observations:

1. None of the open source jabber servers (j1, j2, ejabberd, etc.) are 
XMPP compliant in all regards - c/f <A HREF="http://www.jabber.org/admin/jsc/.">http://www.jabber.org/admin/jsc/.</A> 
XMPP 14.7 says &quot;At a minimum, all implementations MUST support ... SASL, 
TLS, TLS plus SASL EXTERNAL&quot;.

2. Compliant XMPP servers that want to interoperate on the public jabber 
network already need to assume that they may be talking to jabber 
servers that don't support all of XMPP.

3. Dialback + TLS is a sensible extension of dialback + stream features 
for supporting TLS, even though strictly speaking it violates XMPP 
(which requires TLS to be used with SASL). It's sensible in that it 
doesn't break connecting to servers that don't support TLS, and servers 
that talk to dialback+TLS-enabled servers should simply look at the 
stream features offered to see if SASL is available or not. If not, they 
can choose not to use TLS at all, to remain strictly XMPP compliant.

4. Dialback + TLS has been independently implemented in j1 and j2 with 
no operational problems so far attributed to its use on the public 
jabber network.

5. The main barrier to TLS+SASL on the public jabber network seems to be 
the long-standing debate about which CAs should and shouldn't be 
trusted. This seems to be come up about every 6 months.

So if everyone with an interest in the public jabber network could agree 
on 5, then we could all get on with implementing TLS+SASL support in a 
way which had some practical benefit outside intranet deployments, and 
produce XMPP-compliant servers.

Right now, TLS+Dialback is providing the benefit of encrypting s2s 
streams while the larger question gets sorted out. If necessary it could 
be written up in a JEP, but it's not that complex.

Regards
Stephen


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021971.html">[jdev] Re: s2s doubts
</A></li>
	<LI>Next message: <A HREF="021972.html">[jdev] CAs (was: s2s doubts)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21969">[ date ]</a>
              <a href="thread.html#21969">[ thread ]</a>
              <a href="subject.html#21969">[ subject ]</a>
              <a href="author.html#21969">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

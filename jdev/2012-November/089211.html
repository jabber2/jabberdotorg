<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Presence Subscription to nonexistent contact
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Presence%20Subscription%20to%20nonexistent%20contact&In-Reply-To=%3CCAGYOVV2%2By2EAY6JRP4TfBKkkc7kxXJsFWfeS1%2B01C0LrkiKfUA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089210.html">
   <LINK REL="Next"  HREF="089212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Presence Subscription to nonexistent contact</H1>
    <B>Daniel Dormont</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Presence%20Subscription%20to%20nonexistent%20contact&In-Reply-To=%3CCAGYOVV2%2By2EAY6JRP4TfBKkkc7kxXJsFWfeS1%2B01C0LrkiKfUA%40mail.gmail.com%3E"
       TITLE="[jdev] Presence Subscription to nonexistent contact">dan at greywallsoftware.com
       </A><BR>
    <I>Fri Nov  2 03:40:27 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="089210.html">[jdev] Presence Subscription to nonexistent contact
</A></li>
        <LI>Next message: <A HREF="089212.html">[jdev] Presence Subscription to nonexistent contact
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89211">[ date ]</a>
              <a href="thread.html#89211">[ thread ]</a>
              <a href="subject.html#89211">[ subject ]</a>
              <a href="author.html#89211">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the reply Peter. I realize it's a weird case, and I was by
mistake reading RFC 3921, which says:

Upon receiving the presence stanza of type &quot;subscribe&quot; addressed to
the contact, the contact's server MUST determine if there is at least
one available resource from which the contact has requested the
roster. If so, it MUST deliver the subscription request to the contact
(if not, the contact's server MUST store the subscription request
offline for delivery when this condition is next met;

 I now see that RFC 6121 addresses the point more explicitly:

   If the presence subscription request cannot be locally delivered or
   remotely routed (e.g., because the request is malformed, the local

   contact does not exist, the remote server does not exist, an attempt
   to contact the remote server times out, or any other error is
   determined or experienced by the user's server), then the user's

   server MUST return an appropriate error stanza to the user.


Unfortunately, I don't think I'm getting that error response with the
version of ejabberd that I'm using. I'll double check it and inquire
in the ejabberd list if this turns out to be the case.

thanks,
Dan
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089210.html">[jdev] Presence Subscription to nonexistent contact
</A></li>
	<LI>Next message: <A HREF="089212.html">[jdev] Presence Subscription to nonexistent contact
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89211">[ date ]</a>
              <a href="thread.html#89211">[ thread ]</a>
              <a href="subject.html#89211">[ subject ]</a>
              <a href="author.html#89211">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

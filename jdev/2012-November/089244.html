<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Any thoughts on implementing end to end message	encryption?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Any%20thoughts%20on%20implementing%20end%20to%20end%20message%0A%09encryption%3F&In-Reply-To=%3CCAOgaonvEV3D35VvyC0yFsYgBPE0xdxuZwxrmFG7SiWAXsK4BHA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089243.html">
   <LINK REL="Next"  HREF="089245.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Any thoughts on implementing end to end message	encryption?</H1>
    <B>Matthew Miller</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Any%20thoughts%20on%20implementing%20end%20to%20end%20message%0A%09encryption%3F&In-Reply-To=%3CCAOgaonvEV3D35VvyC0yFsYgBPE0xdxuZwxrmFG7SiWAXsK4BHA%40mail.gmail.com%3E"
       TITLE="[jdev] Any thoughts on implementing end to end message	encryption?">linuxwolf at outer-planes.net
       </A><BR>
    <I>Wed Nov 14 03:21:29 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="089243.html">[jdev] Any thoughts on implementing end to end message	encryption?
</A></li>
        <LI>Next message: <A HREF="089245.html">[jdev] Suggestions on Component Architecture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89244">[ date ]</a>
              <a href="thread.html#89244">[ thread ]</a>
              <a href="subject.html#89244">[ subject ]</a>
              <a href="author.html#89244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>[mobile not ideal, so bear with me]

The general idea is the sender generates the content keying material,
encrypts the stanza, and sends. The recipients then ask the sender for the
keying material, providing their public key for the sender to use for
protecting it specifically for a given recipient.

This will probably work for your scenario, assuming the publisher Anne
subscribers are &#8221;always&#8221; online.

- m&amp;m
(mobile; terse)
On Nov 13, 2012 7:59 PM, &quot;mat henshall&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mat at squareconnect.com</A>&gt; wrote:

&gt;<i> Hi Matthew,
</I>&gt;<i>
</I>&gt;<i> To give you an understanding of our application, we have small embedded
</I>&gt;<i> devices that use PEP to publish changes to their state (for example, a
</I>&gt;<i> light is turned on, a temperature sensor sends a measurement, a lock is
</I>&gt;<i> unlocked). Anyone on it's roster who has indicated interest in that event
</I>&gt;<i> type gets the event using the server's PEP implementation.
</I>&gt;<i>
</I>&gt;<i> I dont think I fully understand how the keys work. In PEP,
</I>&gt;<i> the recipient of the message is the account of the sender. The PEP service
</I>&gt;<i> takes care of forwarding it to each interested resource. How do we have a
</I>&gt;<i> single encrypted message that can be decrypted by multiple users? I think
</I>&gt;<i> it is late at night and my head is exploding with SMK's and CMK's.
</I>&gt;<i>
</I>&gt;<i> Mat
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Nov 13, 2012 at 8:35 PM, Matthew Miller &lt;
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">linuxwolf at outer-planes.net</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> It might still be possible to use PEP or pubsub, but it does require the
</I>&gt;&gt;<i> publisher and subscribers to be available at the same time.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've be happy to adjust text to make it at least allowed.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I should note that this draft is still in flux because of work ongoing in
</I>&gt;&gt;<i> the JOSE WG at the IETF.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - m&amp;m
</I>&gt;&gt;<i> On Nov 13, 2012 7:23 PM, &quot;mat henshall&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mat at squareconnect.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks Peter,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I had missed the later draft-miller-xmpp-e2e somehow in my poking at
</I>&gt;&gt;&gt;<i> links.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> One question is how do you accomplish encryption of messages that are
</I>&gt;&gt;&gt;<i> published through PEP or Pub-Sub? Seems that the draft-miller specifically
</I>&gt;&gt;&gt;<i> prohibits that (section 8)?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Mat
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Tue, Nov 13, 2012 at 7:37 PM, Peter Saint-Andre &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">stpeter at stpeter.im</A>&gt;wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;&gt;&gt;&gt;<i> Hash: SHA1
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On 11/13/12 4:49 PM, mat henshall wrote:
</I>&gt;&gt;&gt;&gt;<i> &gt; We have an application that needs to be able to encrypt and sign
</I>&gt;&gt;&gt;&gt;<i> &gt; messages and IQ stanza's that contain custom elements 'end to end'
</I>&gt;&gt;&gt;&gt;<i> &gt; from one client to another, possibly across multiple federated
</I>&gt;&gt;&gt;&gt;<i> &gt; services.
</I>&gt;&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;&gt;<i> &gt; Looking at RFC 3923, ther seems to be very little practical
</I>&gt;&gt;&gt;&gt;<i> &gt; application of this specification.
</I>&gt;&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;&gt;<i> &gt; Is there any reason?
</I>&gt;&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;&gt;<i> &gt; Should I ignore this? If so what would the community suggest?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> We've tried 5+ times to build end-to-end encryption. We've failed each
</I>&gt;&gt;&gt;&gt;<i> time.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 1. PGP (XEP-0027) - never widely adopted, who has PGP keys?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 2. SMIME+CPIM (RFC 3923) - checking off a security box for the IETF
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 3. xmlenc (never documented) - might be used somewhere, but those
</I>&gt;&gt;&gt;&gt;<i> people aren't talking
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 4. ESessions (XEP-0116) - implemented once, no other adoption
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 5. XTLS (draft-meyer-xmpp-e2e-encryption) - experimental, didn't move
</I>&gt;&gt;&gt;&gt;<i> forward
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> At this point I think there are other solutions under discussion:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 6. OTR - <A HREF="http://www.cypherpunks.ca/otr/">http://www.cypherpunks.ca/otr/</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 7. XMPP e2e - draft-miller-xmpp-e2e
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I sure hope we'll settle on one of those before the heat death of the
</I>&gt;&gt;&gt;&gt;<i> universe. Your feedback is welcome. :)
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Peter
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> - --
</I>&gt;&gt;&gt;&gt;<i> Peter Saint-Andre
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://stpeter.im/">https://stpeter.im/</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;&gt;&gt;&gt;<i> Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
</I>&gt;&gt;&gt;&gt;<i> Comment: Using GnuPG with Mozilla - <A HREF="http://www.enigmail.net/">http://www.enigmail.net/</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> iEYEARECAAYFAlCi9cEACgkQNL8k5A2w/vy+ygCfYVRu0YZBMdwyDP30h1keLurc
</I>&gt;&gt;&gt;&gt;<i> 5wwAoItpAnu7E4OiLZraazOpWwnKx+dV
</I>&gt;&gt;&gt;&gt;<i> =PkuA
</I>&gt;&gt;&gt;&gt;<i> -----END PGP SIGNATURE-----
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> JDev mailing list
</I>&gt;&gt;&gt;&gt;<i> Info: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;&gt;&gt;&gt;<i> Unsubscribe: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JDev-unsubscribe at jabber.org</A>
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Mat Henshall
</I>&gt;&gt;&gt;<i> Founder and CEO, Square Connect, Inc.
</I>&gt;&gt;&gt;<i> San Jose, CA
</I>&gt;&gt;&gt;<i> www.squareconnect.com
</I>&gt;&gt;&gt;<i> cell: 650.814.7585
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> JDev mailing list
</I>&gt;&gt;&gt;<i> Info: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;&gt;&gt;<i> Unsubscribe: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JDev-unsubscribe at jabber.org</A>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> JDev mailing list
</I>&gt;&gt;<i> Info: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;&gt;<i> Unsubscribe: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JDev-unsubscribe at jabber.org</A>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i> Mat Henshall
</I>&gt;<i> Founder and CEO, Square Connect, Inc.
</I>&gt;<i> San Jose, CA
</I>&gt;<i> www.squareconnect.com
</I>&gt;<i> cell: 650.814.7585
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> JDev mailing list
</I>&gt;<i> Info: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">JDev-unsubscribe at jabber.org</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20121113/67670b79/attachment.html">https://www.jabber.org/jdev/attachments/20121113/67670b79/attachment.html</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089243.html">[jdev] Any thoughts on implementing end to end message	encryption?
</A></li>
	<LI>Next message: <A HREF="089245.html">[jdev] Suggestions on Component Architecture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89244">[ date ]</a>
              <a href="thread.html#89244">[ thread ]</a>
              <a href="subject.html#89244">[ subject ]</a>
              <a href="author.html#89244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

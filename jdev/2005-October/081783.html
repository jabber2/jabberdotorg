<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] differentiated karma in jabber1.x
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20differentiated%20karma%20in%20jabber1.x&In-Reply-To=%3C47E82A9D63EC444681B8DECA77408296027F7838%40DISMISSED.mtvn.ad.viacom.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081781.html">
   <LINK REL="Next"  HREF="081784.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] differentiated karma in jabber1.x</H1>
    <B>Kirschner, Larry</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20differentiated%20karma%20in%20jabber1.x&In-Reply-To=%3C47E82A9D63EC444681B8DECA77408296027F7838%40DISMISSED.mtvn.ad.viacom.com%3E"
       TITLE="[jdev] differentiated karma in jabber1.x">Larry.kirschner at mtvn.com
       </A><BR>
    <I>Fri Oct 28 08:16:15 CDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="081781.html">[jdev] differentiated karma in jabber1.x
</A></li>
        <LI>Next message: <A HREF="081784.html">[jdev] IQ Semantics RFC 3920 9.2.3 IQ Semantics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81783">[ date ]</a>
              <a href="thread.html#81783">[ thread ]</a>
              <a href="subject.html#81783">[ subject ]</a>
              <a href="author.html#81783">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Matthias,
 
Thanks for responding. I went ahead and put the enhancement request into bugzilla. 
 
About configuration by host:
 
If you make the config by host, then someone has to rememer to update the jabber config every time a no-karma client instance is added or moved. In the game-engine case below, there is a pool of game-engine servers that use a pool of jabber servers. The app would scale by adding servers to either or both pools, and it would be good if that process didn't involve remembering to reconfigure and restart all the jabbers.
 
Would it be possible instead to do karma settings/exemptions by JID?
 
&lt;karmaACL&gt; 
    &lt;user jid=&quot;gameengineuser1&quot; exempt=&quot;true&quot;/&gt; 
    &lt;user jid=&quot;gameengineuser2&quot; exempt=&quot;true&quot;/&gt;
    &lt;user jid=&quot;someotheruser&quot;&gt;
        &lt;karma&gt;
            &lt;max&gt;10&lt;/max&gt;
            ...
        &lt;/karma&gt;
    &lt;/user&gt;
&lt;karmaACL&gt;

 
________________________________

From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-bounces at jabber.org</A> on behalf of Matthias Wimmer
Sent: Fri 10/28/2005 4:25 AM
To: Jabber software development list
Subject: Re: [jdev] differentiated karma in jabber1.x



Hi Larry!

Please request this as an enhancement feature on
<A HREF="http://bugzilla.jabberd.org/">http://bugzilla.jabberd.org/</A> - But probably I'll implement it in a way
that you can define different karma settings for special hosts. I guess
this solves your problem as well and is more flexible.

Tot kijk
     Matthias

Am 28.10.2005 02:16 schrieb Kirschner, Larry:

&gt;<i>
</I>&gt;<i> What do people think about extending jabber configuration to allow you
</I>&gt;<i> to specify karma settings, but also define a set of netmask IPs that
</I>&gt;<i> would have unlimited access? Basically, you would allow additional
</I>&gt;<i> tags that look like something this
</I>&gt;<i>
</I>&gt;<i> &lt;karmaExemptions&gt;
</I>&gt;<i>         &lt;exempt netmask=&quot;192.168.255.255&quot;/&gt;
</I>&gt;<i>         &lt;exempt netmask=&quot;10.255.255.255&quot;/&gt;
</I>&gt;<i>         &lt;exempt netmask=&quot;166.77.255.255&quot;/&gt;
</I>&gt;<i> &lt;/karmaExemptions&gt;
</I>&gt;<i>
</I>&gt;<i> I'm looking at jabberd/mio.c and it seems like this could be added
</I>&gt;<i> with just a few lines of code, maybe along the lines of the following:
</I>&gt;<i>
</I>&gt;<i> 1. In mio_init() read any exemptions into an array
</I>&gt;<i> 2. In mio_listen (and mio_accept) after creating a new mio with
</I>&gt;<i> mio_new(), compare the mio's ip with any exempt netmasks. If the new
</I>&gt;<i> mio's ip is exempt, set mio-&gt;k.dec = 0.
</I>&gt;<i>
</I>&gt;<i> Then again, I'm just scanning through the code and there could be
</I>&gt;<i> dependencies that I don't understand. If I'm missing something, please
</I>&gt;<i> let me know.
</I>&gt;<i>
</I>
--
Fon: +49-700 7700 7770          <A HREF="http://matthias.wimmer.name/">http://matthias.wimmer.name/</A>
Fax: +49-899 5 899 156          xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mawis at amessage.info</A>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20051028/800c3ced/attachment-0002.htm">https://www.jabber.org/jdev/attachments/20051028/800c3ced/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081781.html">[jdev] differentiated karma in jabber1.x
</A></li>
	<LI>Next message: <A HREF="081784.html">[jdev] IQ Semantics RFC 3920 9.2.3 IQ Semantics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81783">[ date ]</a>
              <a href="thread.html#81783">[ thread ]</a>
              <a href="subject.html#81783">[ subject ]</a>
              <a href="author.html#81783">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

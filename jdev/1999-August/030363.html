<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Krufty Jabber Client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Krufty%20Jabber%20Client&In-Reply-To=%3CPine.SOL.3.91.990809103110.15326D%40travelers.mail.cornell.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030442.html">
   <LINK REL="Next"  HREF="030421.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Krufty Jabber Client</H1>
    <B>arh14 at cornell.edu</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Krufty%20Jabber%20Client&In-Reply-To=%3CPine.SOL.3.91.990809103110.15326D%40travelers.mail.cornell.edu%3E"
       TITLE="[JDEV] Krufty Jabber Client">arh14 at cornell.edu
       </A><BR>
    <I>Mon Aug  9 09:53:05 CDT 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="030442.html">[JDEV] client-client, was Krufty Jabber Client
</A></li>
        <LI>Next message: <A HREF="030421.html">[JDEV] Me and Slowness (was: Krufty Jabber Client)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30363">[ date ]</a>
              <a href="thread.html#30363">[ thread ]</a>
              <a href="subject.html#30363">[ subject ]</a>
              <a href="author.html#30363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ahh, doh...CTCP=Client-To-Client-Protocol.  And here I've been 
cross-babbling about the desire for some client-client protocol ;p

On Sun, 8 Aug 1999, Scott Robinson wrote:

[axe]
&gt;<i> ZModem? :) Actually, as you may have noticed from my _need_ to use
</I>&gt;<i> pre-existing code, I love triple-R'ing code. However, I believe in the case
</I>&gt;<i> of CTCP, we may need to create a new spec. I only say this because Jabber is
</I>&gt;<i> a XML paradigm. I know of no CTCP protocols that are based on XML. In that,
</I>&gt;<i> I would have a severe problem with talking to the server in XML, but
</I>&gt;<i> developing some CTCP protocol that isn't.
</I>
Whoa whoa whoa...why *can't* client-client be XML-based??  Each client 
recieves XML-based messages from the server...each client is in itself 
both a client AND a server (it must send and recieve messages), and knows 
how to handle the XML messages.  The protocol should be the same.

[chop]
&gt;<i> &gt; &gt; &gt; 	I suggest that plain vanilla messages be sent as text in the body
</I>&gt;<i> &gt; &gt; &gt; of the message statement only. This will reduce traffic. The MIME
</I>&gt;<i> &gt; &gt; &gt; extension should probably remain silent on these. For other types of
</I>&gt;<i> &gt; &gt; &gt; media, how about something like this:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &lt;ext&gt;
</I>&gt;<i> &gt; &gt; &gt;  &lt;MIME&gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;  &lt;/MIME&gt;
</I>&gt;<i> &gt; &gt; &gt; &lt;ext&gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; 	Seems simple enough, what do you think?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Seems just fine. In the case of a MIME bearing message, I would suggest
</I>&gt;<i> &gt; &gt; placing in the message text body either the description of the
</I>&gt;<i> &gt; &gt; MIME message
</I>&gt;<i> &gt; &gt; or a notice saying &quot;this is a MIME message and you'll need &lt;advertised
</I>&gt;<i> &gt; &gt; client&gt; to read it.&quot; Probably both would be best!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 	I thought I made this point pretty clear: clients should NOT encapsulate
</I>&gt;<i> &gt; messages in MIME unless ABSOLUTELY neccessary. Why is that? Because
</I>&gt;<i> &gt; otherwise, Super-Complex Client A will be unable to communicate with
</I>&gt;<i> &gt; super-simple client b. Jabber clients must be allowed to be simple. Putting
</I>&gt;<i> &gt; a &quot;You can't read this! Nyah!&quot; in the message body for a text/plain MIME
</I>&gt;<i> &gt; message is sheer folly. It increases network traffic needlessly, and
</I>&gt;<i> &gt; alienates simple clients.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 	Remember, k.i.s.s.
</I>&gt;<i> &gt; 
</I>
Well, MIME is really not heavyweight.  The difference between a plain plain- 
text message and a MIME plain-text message is two lines, like:

Boundary: ----foo----
Content-encoding: plainttextfoo

I don't see any reason that even the simplest client couldn't manage to 
put this in.  /Anyway/...a message type attribute would be really simple:

&lt;message encoding=offthewallencoding type=MIME&gt;

or 

&lt;message encoding=foo type=plain&gt;

or

&lt;message&gt; (default encoding=ISO-8859-1?, type=plain?)

I think this would be a better solution than adding a &lt;MIME&gt; element. 
(Warning: IANAJD - I Am Not A Jabber Developer ;)  I hope your readers don't 
strip the angle brackets.

&gt;<i> 
</I>&gt;<i> Good point. Message text contains a ASCII'fied version of the MIME encoded
</I>&gt;<i> message. There may be duplication, but it keeps true to both standards.
</I>&gt;<i> Either way, I hope that in a further version of the Jabber spec we support
</I>&gt;<i> compression. (I would suggest adding it in about the time we get encryption
</I>&gt;<i> working) Compression of course killing the worry about duplication.
</I>
Well, if you want to do compression, then wouldn't standardizing on MIME 
be the solution?:  Content-encoding: application/gzip?  Does this make 
sense?  I only profess a modicum of MIME knowledge.  IMHO, MIME is a good 
solution for extensibility.  IMHO, introducing TWO versions of messages 
(MIME, not MIME) might be more trouble than just standardizing on MIME.  
I would like to hear the arguments against MIME if there are any, because 
I am not a MIME expert.

&gt;<i> &gt; &gt; Krufty. ;) BTW, I don't have the address for JabberBeans. Is there anyway
</I>&gt;<i> &gt; &gt; you could send it to me? I've decided I'll be implementing my own C Jabber
</I>&gt;<i> &gt; &gt; library, and modeling it after JabberBeans would make moving between
</I>&gt;<i> &gt; &gt; platforms for developers much easier. -- Speaking in the blind
</I>&gt;<i> &gt; &gt; here, I would
</I>&gt;<i> &gt; &gt; suggest adding MIME straight into the main library, only because it should
</I>&gt;<i> &gt; &gt; become the &quot;standard&quot; transport and normal text messages just come to the
</I>&gt;<i> &gt; &gt; client as a MIME message with only one text part.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 	Again, about MIMEing straight text: Do not do this. Put a MIME declaration
</I>&gt;<i> &gt; in the MIME extension if that tickles your fancy, but don't require clients
</I>&gt;<i> &gt; to support MIME. I like MIME as much as the next guy, and maybe every client
</I>&gt;<i> &gt; on earth will support it, but jabber's basic design principle of k.i.s.s.
</I>&gt;<i> &gt; for the client pretty much precludes requiring MIME.
</I>
Supporting MIME basically means just separating a message by Boundary 
lines, which is pretty much negligable, and displaying them according to 
the Content-encoding specification (helpfull).  Also, in this way whoever 
wants to send HTML will send it as Content-encoding: text/HTML.  The 
client will &quot;know&quot; what type of message is coming in.  The Spartan client 
can strip tags or something, right?  I really don't see MIME as a complex 
or bloated thing.  You don't even need a MIME library per-se to support 
MIME...just include the rudimentary lines and you're set.  I have even 
sent MIME messages manually by telneting to an SMTP server...it's not that 
big a deal.

[snip]
&gt;<i> &gt; 	JabberBeans itself seems to work fine, though it is by no means finished.
</I>&gt;<i> &gt; There's no high level documentation, there is no complete working example
</I>&gt;<i> &gt; client, and the integrated test suite is not complete. There is a fair
</I>&gt;<i> &gt; amount of JavaDoc, which I've been working at pretty steadily, and that
</I>&gt;<i> &gt; should help. Its API probably won't change wildly after this, excepting
</I>&gt;<i> &gt; changes to protocol objects just as Messages or what have you that jabber
</I>&gt;<i> &gt; may amend from time to time.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 	As for using it as an example for building a C or C++ (you seem to prefer
</I>&gt;<i> &gt; straight C, right?) library, I don't know how much it will help you. You're
</I>&gt;<i> &gt; welcome to try. But JabberBeans is in Java, and makes full use of the object
</I>&gt;<i> &gt; oriented paradigm. Er, to overuse a phrase.
</I>
JabberBeans could also take advantage of the JavaMail extension if/when 
using MIME.  Not to mention util.zip, etc., etc.  You can tell I'm a Java 
bigot ;)

Aaron

&gt;<i> Well, with Kruft coming I'll end up coding C++, but I do prefer C. If in the
</I>&gt;<i> very least, I can see an example API and maybe improve/create a derivative
</I>&gt;<i> work.
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Patrick
</I>&gt;<i> &gt; 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030442.html">[JDEV] client-client, was Krufty Jabber Client
</A></li>
	<LI>Next message: <A HREF="030421.html">[JDEV] Me and Slowness (was: Krufty Jabber Client)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30363">[ date ]</a>
              <a href="thread.html#30363">[ thread ]</a>
              <a href="subject.html#30363">[ subject ]</a>
              <a href="author.html#30363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

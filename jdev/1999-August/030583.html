<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Scripting/Modules/Rant
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Scripting/Modules/Rant&In-Reply-To=%3CPine.SOL.3.91.990813082522.12657B-100000%40travelers.mail.cornell.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030582.html">
   <LINK REL="Next"  HREF="030590.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Scripting/Modules/Rant</H1>
    <B>arh14 at cornell.edu</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Scripting/Modules/Rant&In-Reply-To=%3CPine.SOL.3.91.990813082522.12657B-100000%40travelers.mail.cornell.edu%3E"
       TITLE="[JDEV] Scripting/Modules/Rant">arh14 at cornell.edu
       </A><BR>
    <I>Fri Aug 13 07:28:34 CDT 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="030582.html">[JDEV] Scripting/Modules/Rant
</A></li>
        <LI>Next message: <A HREF="030590.html">[JDEV] Scripting/Modules/Rant
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30583">[ date ]</a>
              <a href="thread.html#30583">[ thread ]</a>
              <a href="subject.html#30583">[ subject ]</a>
              <a href="author.html#30583">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>look down

On Thu, 12 Aug 1999, Jon A. Cruz wrote:

&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">arh14 at cornell.edu</A> wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; On Wed, 11 Aug 1999, Aaron Brady (insomnike) wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; And example of how procedures are run from a .so file:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; void main(void) {
</I>&gt;<i> &gt; &gt;  void *phoe = dlopen (&quot;mod_filetrans.so&quot;, RTLD_LAZY);
</I>&gt;<i> &gt; &gt;  int (*funk)(int) = dlsym(phoe, &quot;handle_prefs&quot;);
</I>&gt;<i> &gt; &gt;  printf (&quot;[%d]\n&quot;, (*funk)(1));
</I>&gt;<i> &gt; &gt;  dlclose(phoe);
</I>&gt;<i> &gt; &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Somewhat like the Win32 Way.  The same general thing happens: you load
</I>&gt;<i> &gt; the DLL (~dlopen), you find a pointer to the function you want (~dlsym),
</I>&gt;<i> &gt; then you use the pointer as a function pointer and call it (~*funk).
</I>&gt;<i> 
</I>&gt;<i> Well, actually that's the much lesser used Win32 way.
</I>&gt;<i> 
</I>&gt;<i> The more common way is just to statically link with a DLL's .LIB file, then
</I>&gt;<i> the OS takes care of fixup at run-time. For the programmer it looks just
</I>&gt;<i> like calling normal functions in a statically linked lib. Looks like this:
</I>
Yes, that is a bit easier (you just declare your imports).  For a 
plugin-type scenario it would be necessary to query the filesystem, see 
what the user has put in there (what plugins are in the plugin 
directory), and load em dynamically (or even on-demand in the life-cycle 
of the client).  I think Winamp does it this way.  Statically linking, 
although easier and probably more common, probably wouldn't work.  Java 
is nice in this way, since *everything* is dynamically loaded ;)

Love the Wierd Al sig ;)
Aaron

&gt;<i> 
</I>&gt;<i> void main(void) {
</I>&gt;<i>  printf (&quot;[%d]\n&quot;, handle_prefs(1));
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> But then again, the point is that the dynamic load concept is not
</I>&gt;<i> completely foreign to Win32 programmers.
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> &quot;My new computer's got the clocks, it rocks
</I>&gt;<i> But it was obsolete before I opened the box&quot; - W.A.Y.
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030582.html">[JDEV] Scripting/Modules/Rant
</A></li>
	<LI>Next message: <A HREF="030590.html">[JDEV] Scripting/Modules/Rant
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30583">[ date ]</a>
              <a href="thread.html#30583">[ thread ]</a>
              <a href="subject.html#30583">[ subject ]</a>
              <a href="author.html#30583">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

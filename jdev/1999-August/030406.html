<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Scripting/Modules/Rant
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Scripting/Modules/Rant&In-Reply-To=%3C19990809170754.B347%40marvin.rage.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030373.html">
   <LINK REL="Next"  HREF="030453.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Scripting/Modules/Rant</H1>
    <B>Aaron Brady (insomnike)</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Scripting/Modules/Rant&In-Reply-To=%3C19990809170754.B347%40marvin.rage.org%3E"
       TITLE="[JDEV] Scripting/Modules/Rant">rewt at clubi.ie
       </A><BR>
    <I>Mon Aug  9 12:07:54 CDT 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="030373.html">[JDEV] MIME/XML
</A></li>
        <LI>Next message: <A HREF="030453.html">[JDEV] Scripting/Modules/Rant
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30406">[ date ]</a>
              <a href="thread.html#30406">[ thread ]</a>
              <a href="subject.html#30406">[ subject ]</a>
              <a href="author.html#30406">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'd like to suggest something that a lot of people won't like :)

If we allowed loadable modules (.so,.dll) and standardised on an interface,
with standard hooks, we could do some impressive things, atleast
with some clients.

KDE/GNOME/JNix could load an .so with dlopen()
Win32 could load a .dll with ObscureCallW()
TCL/TK could load a .so via an additional TCL extension 'bridge'
I've a feeling PERL can but I don't know
Java - JNI? No idea

if we had something like 

-&gt;
int som_crypted_handler(JMsg *incoming);
 
 void on_module_load(void) {
  jab_add_ext_handler('som_crypto', som_crypted_handler);
 }
&lt;-

Then som_crypted_handler is added as a handler for messages
with an ext tag of say &quot;&lt;ext type='som_crypto'&gt;8123019AB865&lt;/ext&gt;&quot;,
and takes a struct filled with god-knows-what information, it then
would call a function exposed from the main program, like
jab_display_msg_box(); etc. I haven't worked out details, but it's 
an idea.

There would be some standard changes to make to code so it would
compile as an .so on *nix and a .dll on Win32, but if we offered a
template then some enterprising souls could then design server modules,
or even client to client stuff, without having to worry about supporting
their code change in each of the code bases. This is the reason the
clients should have *some* sort of 'standard' extensibility.

For example, I create a plugin for my GTK+ client that can tell what
track XMMS(x11amp) is playing, and sends it in an &lt;ext&gt; tag marked
'mp3-playing'. If I add this to my client's codebase, I can send the diffs
to my Unix bretheren, and perhaps to TCharon, to add into the standard
distro. This presents the problems of a) bloat in the client, and b)
no support in the KDE client, or zABBER et al.

If I can however, write this as a module (or in a scripting language)
then I can distro it, and Win32 people etc can all use it aswell, without me
having to write a seperate version for them.

The advantage to modules, is they they allow *anything*, C is
fairly unlimited, and it can do CPU-intensive tasks in it's sleep.

Likewise, if I make a server mod that sends SMS messages to mobile phones,
I can send the message to <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">phonenumber at ie.sms.jabber.org</A> and have it
sent out, but if I want to include extra information, like a return
address, the sensible way to do it is in an &lt;ext&gt; tag, which the module
would fill, and it would add special text boxes (and handlers) to the
send dialogs for *sms* messages.

All a blur. Sorry. Make sense if you can find it.


-- 
 &quot;I don't really love computers, I just say that to get them
  into bed with me&quot; -- Terry Pratchet


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030373.html">[JDEV] MIME/XML
</A></li>
	<LI>Next message: <A HREF="030453.html">[JDEV] Scripting/Modules/Rant
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30406">[ date ]</a>
              <a href="thread.html#30406">[ thread ]</a>
              <a href="subject.html#30406">[ subject ]</a>
              <a href="author.html#30406">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

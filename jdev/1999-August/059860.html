<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Scripting/Modules/Rant
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Scripting/Modules/Rant&In-Reply-To=%3C19990811234750.A1432%40marvin.rage.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059755.html">
   <LINK REL="Next"  HREF="059861.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Scripting/Modules/Rant</H1>
    <B>Aaron Brady (insomnike)</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Scripting/Modules/Rant&In-Reply-To=%3C19990811234750.A1432%40marvin.rage.org%3E"
       TITLE="[JDEV] Scripting/Modules/Rant">rewt at clubi.ie
       </A><BR>
    <I>Wed Aug 11 18:47:51 CDT 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="059755.html">[JDEV] Scripting/Modules/Rant
</A></li>
        <LI>Next message: <A HREF="059861.html">[JDEV] Scripting/Modules/Rant
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59860">[ date ]</a>
              <a href="thread.html#59860">[ thread ]</a>
              <a href="subject.html#59860">[ subject ]</a>
              <a href="author.html#59860">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>:<i> Again, excellent idea.  I'm not terribly familiar with the issues on the
</I>:<i> *nix end, but it's certainly been done successfully before (cf zlib,
</I>:<i> info-zip, etc).  In C/C++, it's all done with the smoke and mirrors of the
</I>:<i> preprocessor and platform-specific makefiles.
</I>:<i> 
</I>:<i> Writing a Win32 interface to handle plugin DLLs is no big deal; what is
</I>:<i> involved in *nix?
</I>
&gt;<i>From what I know of the Win32 end, the Unix one is a *lot* simpler.
</I>
And example of how procedures are run from a .so file:

void main(void) {
 void *phoe = dlopen (&quot;mod_filetrans.so&quot;, RTLD_LAZY);
 int (*funk)(int) = dlsym(phoe, &quot;handle_prefs&quot;);
 printf (&quot;[%d]\n&quot;, (*funk)(1));
 dlclose(phoe);
}

Thats the Linux libdl way of doing it, there are *isms for other Unix,
and of course a lot don't support modules at all, but it should be
possible to structure Makefiles to link the modules statically
into executables on platforms without support.

For examples of how this is done, see the eggdrop IRC bot, and Apache.


-- 
 &quot;I don't really love computers, I just say that to get them
  into bed with me&quot; -- Terry Pratchet


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059755.html">[JDEV] Scripting/Modules/Rant
</A></li>
	<LI>Next message: <A HREF="059861.html">[JDEV] Scripting/Modules/Rant
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59860">[ date ]</a>
              <a href="thread.html#59860">[ thread ]</a>
              <a href="subject.html#59860">[ subject ]</a>
              <a href="author.html#59860">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

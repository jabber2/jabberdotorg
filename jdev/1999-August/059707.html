<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] file transfers (was: Krufty Jabber Client)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20file%20transfers%20%28was%3A%20Krufty%20Jabber%20Client%29&In-Reply-To=%3CPine.LNX.4.10.9908091913000.14509-100000%40lor.jeremie.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="059728.html">
   <LINK REL="Next"  HREF="059727.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] file transfers (was: Krufty Jabber Client)</H1>
    <B>Jeremie</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20file%20transfers%20%28was%3A%20Krufty%20Jabber%20Client%29&In-Reply-To=%3CPine.LNX.4.10.9908091913000.14509-100000%40lor.jeremie.com%3E"
       TITLE="[JDEV] file transfers (was: Krufty Jabber Client)">jeremie at jabber.org
       </A><BR>
    <I>Mon Aug  9 19:17:05 CDT 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="059728.html">[JDEV] Feature negotiation/File transfers, was Krufty Jabber Client
</A></li>
        <LI>Next message: <A HREF="059727.html">[JDEV] client-client, was Krufty Jabber Client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59707">[ date ]</a>
              <a href="thread.html#59707">[ thread ]</a>
              <a href="subject.html#59707">[ subject ]</a>
              <a href="author.html#59707">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you!  YES!

Below in what Patrick wrote is VERY close to what I've mentioned long ago
on the topic of file transfers, and is the heart of the File Transfer
proposal that I'll be posting.  I'll post the proposal hopefully yet today
and we can start discussing it further from there.

Jer

&gt;<i> 	My point is, again, that there are plenty of really good ways to move
</I>&gt;<i> various kinds of data from point A to point B. FTP, HTTP, RealMedia... these
</I>&gt;<i> are well developed mechanisms with available interfaces. There's simply no
</I>&gt;<i> need to reinvent or repackage this material. And trying to do so would be a
</I>&gt;<i> foolish waste of time.
</I>&gt;<i> 
</I>&gt;<i> 	So where does Jabber fit in? The Jabber protocol can help clients to figure
</I>&gt;<i> out how to initiate the transfer of data. For instance: the user of Client A
</I>&gt;<i> wants to start streaming audio to the user of Client B. Now, we have a few
</I>&gt;<i> options as to how we should handle this in Jabber, some of them comically
</I>&gt;<i> ridiculous. We'll assume that the clients will be using some kind of direct
</I>&gt;<i> client to client transmission, instead of wasting server time with it. Our
</I>&gt;<i> options? I'll look at two of them:
</I>&gt;<i> 
</I>&gt;<i> 	1. Establish an XML stream protocol - like or unlike the client to server
</I>&gt;<i> protocol - between the two clients. Package every byte of the streaming
</I>&gt;<i> audio into the XML stream (using an encoding methods, because XML doesn't
</I>&gt;<i> really have a good way to encapsulate purely binary data, CDATA Sections
</I>&gt;<i> being its closest call, but even they must be encoded to avoid certain
</I>&gt;<i> character combinations).
</I>&gt;<i> 	This is a silly approach. That should seem pretty obvious for streaming
</I>&gt;<i> media: our Jabber protocol - and derivatives thereof - are not optimized for
</I>&gt;<i> streaming audio, video, or anything like it.
</I>&gt;<i> 	What may be less obvious is that it is also a silly approach even for file
</I>&gt;<i> transfers. Why? Because HTTP, for instance, is already pretty damned good at
</I>&gt;<i> this, and it will get better all on its own without our help. We need merely
</I>&gt;<i> plug in our libraries to make it happen. HTTP is just an example. There are
</I>&gt;<i> many ways to move files - and indeed any form of data. We don't need to
</I>&gt;<i> concern ourselves with this.
</I>&gt;<i> 	There is one possible exception to the let's-not-invent-our-own-wheel
</I>&gt;<i> principle in this area. And that is in the case of our own particular wheel:
</I>&gt;<i> the Jabber protocol. It may be that the Jabber protocol, or a subset of it,
</I>&gt;<i> is a great way for clients to communicate instant messages and other Jabber
</I>&gt;<i> protocol goals directly to each other. This idea is probably worth pursuing.
</I>&gt;<i> 
</I>&gt;<i> 	2. Establish a non-protocol-biased framework for clients to negotiate
</I>&gt;<i> client to client transfers. This is feature negotiation and it may work
</I>&gt;<i> pretty well. Let's start with a concrete example of a possilbe interaction
</I>&gt;<i> between clients. This is assumed to me sent through the Jabber transport:
</I>&gt;<i> client to server to client, and it is also written in English for maximum
</I>&gt;<i> clarity.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Client A: Hi, I want to send you a binary file.
</I>&gt;<i> Client B: OK, how about HTTP?
</I>&gt;<i> Client A: Alright. Pick up the file at
</I>&gt;<i> <A HREF="http://102.102.102.102.102.102.102:45000/file_6_6_4.tgz">http://102.102.102.102.102.102.102:45000/file_6_6_4.tgz</A>
</I>&gt;<i> 
</I>&gt;<i> another example:
</I>&gt;<i> 
</I>&gt;<i> Client A: I want to send you an MP3 audio stream.
</I>&gt;<i> Client B: Sorry, I can't support that.
</I>&gt;<i> 
</I>&gt;<i> another example:
</I>&gt;<i> 
</I>&gt;<i> Client A: I want to send you a RealText stream.
</I>&gt;<i> Client B: Alright, where do I pick it up?
</I>&gt;<i> Client A: Pick it up at <A HREF="pnp://102.102.102...../etc/etc/etc/">pnp://102.102.102...../etc/etc/etc/</A>
</I>&gt;<i> 
</I>&gt;<i> [or]
</I>&gt;<i> 
</I>&gt;<i> Client A: I want to send you a RealText stream. Pick it up at
</I>&gt;<i> <A HREF="pnp://102.102.102...../etc/etc/etc/">pnp://102.102.102...../etc/etc/etc/</A>
</I>&gt;<i> Client B: Alright.
</I>&gt;<i> 
</I>&gt;<i> another example:
</I>&gt;<i> 
</I>&gt;<i> Client A: I want to send you a JPG image.
</I>&gt;<i> Client B: Don't. I am a toaster.
</I>&gt;<i> 
</I>&gt;<i> another example:
</I>&gt;<i> 
</I>&gt;<i> Client A: I want you to send me hash receipts.
</I>&gt;<i> Client B: OK, how about SHA-1 hashes?
</I>&gt;<i> Client A: No. I can support MD5 hashes.
</I>&gt;<i> Client B: OK, I will send you MD5 hash receipts.
</I>&gt;<i> 
</I>&gt;<i> another example:
</I>&gt;<i> 
</I>&gt;<i> Client A: I want to compress my messages to you. I can use ZIP, GZIP, and
</I>&gt;<i> Bob's Cool New Compression.
</I>&gt;<i> Client B: I don't support compression. I am a wristwatch.
</I>&gt;<i> or:
</I>&gt;<i> Client B: I support ZIP and GZIP.
</I>&gt;<i> 
</I>&gt;<i> another example:
</I>&gt;<i> 
</I>&gt;<i> Client A: I want to start a Jabber session directly with you.
</I>&gt;<i> Client B: Sorry, I'm behind six firewalls and a cauldron of boiling oil.
</I>&gt;<i> or:
</I>&gt;<i> Client B: Alright, connect at: 102.102.102.102......:5222
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 	I hope this servers to clarify my position. In summary, I think that a
</I>&gt;<i> feature negotiation mechanism is all clients need to start client to client
</I>&gt;<i> transfers. Whether the feature negotiation occurs on a
</I>&gt;<i> query-this-then-query-that basis or on a
</I>&gt;<i> here's-everything-I-can-handle-do-your-worst all at once exposure, it should
</I>&gt;<i> work out about the same architecturally.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Patrick
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="059728.html">[JDEV] Feature negotiation/File transfers, was Krufty Jabber Client
</A></li>
	<LI>Next message: <A HREF="059727.html">[JDEV] client-client, was Krufty Jabber Client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59707">[ date ]</a>
              <a href="thread.html#59707">[ thread ]</a>
              <a href="subject.html#59707">[ subject ]</a>
              <a href="author.html#59707">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

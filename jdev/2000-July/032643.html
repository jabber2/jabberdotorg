<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Gabber &amp; UTF-8 &amp; i18n
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Gabber%20%26%20UTF-8%20%26%20i18n&In-Reply-To=%3C20000701100222.A17000%40ithilidin.dyndns.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032642.html">
   <LINK REL="Next"  HREF="032644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Gabber &amp; UTF-8 &amp; i18n</H1>
    <B>Dave Smith</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20Gabber%20%26%20UTF-8%20%26%20i18n&In-Reply-To=%3C20000701100222.A17000%40ithilidin.dyndns.org%3E"
       TITLE="[JDEV] Gabber &amp; UTF-8 &amp; i18n">dave at jabber.org
       </A><BR>
    <I>Sat Jul  1 10:02:22 CDT 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="032642.html">[JDEV] jabberoo LGPL?
</A></li>
        <LI>Next message: <A HREF="032644.html">[JDEV] Re: Stress testing and connection limits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32643">[ date ]</a>
              <a href="thread.html#32643">[ thread ]</a>
              <a href="subject.html#32643">[ subject ]</a>
              <a href="author.html#32643">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey people..

I think I've finally reached a state of harmony on the issues we've been facing w/ UTF-8 and/or
i18n. 

The biggest problem we've had thus far is the fact that gabber has no concept of UTF-8 and
simply renders outgoing/incoming messages in whatever the local mult-byte encoding happens to be.
This approach has not been popular with some server people, since sending improperly encoded
chars can crash/bog the server as it tries to do UTF-8 conversion w/ something that's not UTF-8.

To deal with these issues, I'm going to take the following stance in my code and we'll just
have to see how it all works out.

1.) All UTF-8 encoding/decoding will take place in gabber (versus doing it in jabberoo)

2.) Jabberoo will assume that all data passed to it is already UTF-8 encoded and will do
    no de/encoding on it's own. This is due to the fact that translating btw encodings
    requires another library and I want to keep jabberoo as light as possible when it
    comes to dependencies.
    
3.) Gabber will assume (until I get more information on determining local charset encoding)
    that all UTF-8 text should be rendered in ISO-8859-1 (Which accomodates the majority of 
    US/European characters)

4.) Gabber will use the libunicode (unless I find something better) from the GNOME project
    to handle encoding translation.

All in all, these are fairly straightforward rules, but I wanted to lay them out and make
sure that the general approach is sound. I welcome any suggestions and/or constructive criticism.

Also, it would be very helpful if the people who want to send extended characters  (umlauts, pound signs, etc)
could send me whatever information they can find on their system w/ regard to the locale they
are currently using. This is typically found in one of the following env. variables: LC_ALL, LANG

Thanks for your time. I hope to have a nice solid gabber 0.7 within the next few weeks (end of July probably)
with a host of new features/tweaks. :)

D.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20000701/428c45f5/attachment-0001.pgp">https://www.jabber.org/jdev/attachments/20000701/428c45f5/attachment-0001.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032642.html">[JDEV] jabberoo LGPL?
</A></li>
	<LI>Next message: <A HREF="032644.html">[JDEV] Re: Stress testing and connection limits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32643">[ date ]</a>
              <a href="thread.html#32643">[ thread ]</a>
              <a href="subject.html#32643">[ subject ]</a>
              <a href="author.html#32643">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

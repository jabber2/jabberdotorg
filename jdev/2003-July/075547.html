<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] [SECURITY] Remote roster manipulation bug in various Jabber clients
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20%5BSECURITY%5D%20Remote%20roster%20manipulation%20bug%20in%20various%20Jabber%20clients&In-Reply-To=%3CMWMail.mdfnotge%40host.none%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075543.html">
   <LINK REL="Next"  HREF="075549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] [SECURITY] Remote roster manipulation bug in various Jabber clients</H1>
    <B>Tijl Houtbeckers</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20%5BSECURITY%5D%20Remote%20roster%20manipulation%20bug%20in%20various%20Jabber%20clients&In-Reply-To=%3CMWMail.mdfnotge%40host.none%3E"
       TITLE="[JDEV] [SECURITY] Remote roster manipulation bug in various Jabber clients">thoutbeckers at splendo.com
       </A><BR>
    <I>Thu Jul  3 14:07:24 CDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="075543.html">[JDEV] &lt;stream:error&gt;Disconnected&lt;/stream:error&gt;&lt;/stream:stream&gt;
</A></li>
        <LI>Next message: <A HREF="075549.html">[JDEV] ask something
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75547">[ date ]</a>
              <a href="thread.html#75547">[ thread ]</a>
              <a href="subject.html#75547">[ subject ]</a>
              <a href="author.html#75547">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Peter Saint-Andre &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">stpeter at jabber.org</A>&gt; wrote on 3-7-2003 18:27:22:
&gt;<i>
</I>&gt;<i>This is a server bug. With what server did you test this? AFAIK, both
</I>&gt;<i>jabberd 1.4.* and the Jabber Inc. server do the right thing here.
</I>&gt;<i>
</I>&gt;<i>The correct behavior is as follows (I have added this text to my 
</I>&gt;<i>working copy of draft-ietf-xmpp-im):
</I>&gt;<i>
</I>&gt;<i>  A server MUST ignore any 'to' address on a roster &quot;set&quot;, and 
</I>&gt;<i>  MUST treat any roster &quot;set&quot; as applying to the sender. For added 
</I>&gt;<i>  safety, a client SHOULD check the &quot;from&quot; address of a roster &quot;push&quot; 
</I>&gt;<i>  to ensure that it is from a trusted source; specifically, the stanza 
</I>&gt;<i>  should have no 'from' attribute (i.e., implicitly from the server) 
</I>&gt;<i>  or the JID contained in the 'from' attribute should match the user's 
</I>&gt;<i>  bare JID or full JID; otherwise, the client SHOULD ignore the roster 
</I>&gt;<i>  &quot;push&quot;.
</I>
I assume it's clear in the document that this does not just apply to 
client connections but also S2S connections (and do the server named 
here implement this)? (it's hard to tell without the context of the 
document) 

It's still an odd requirment though. I could not, for example, write a 
component that maintains it's own seperate roster and query it for it. 
I know this hasn't been done so far, but espc. for components that have 
roster-like functionality but no presence (email addressbook?) it 
*could* be nice. But I guess considering the security issues it should 
be done differently. 


-- 
Tijl Houtbeckers
Software Engineer @ Splendo
The Netherlands


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075543.html">[JDEV] &lt;stream:error&gt;Disconnected&lt;/stream:error&gt;&lt;/stream:stream&gt;
</A></li>
	<LI>Next message: <A HREF="075549.html">[JDEV] ask something
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75547">[ date ]</a>
              <a href="thread.html#75547">[ thread ]</a>
              <a href="subject.html#75547">[ subject ]</a>
              <a href="author.html#75547">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

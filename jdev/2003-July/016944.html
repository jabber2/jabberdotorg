<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] JUD seraching with Net::Jabber question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20JUD%20seraching%20with%20Net%3A%3AJabber%20question&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016943.html">
   <LINK REL="Next"  HREF="016946.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] JUD seraching with Net::Jabber question</H1>
    <B>jabber at sbprod.force9.co.uk</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20JUD%20seraching%20with%20Net%3A%3AJabber%20question&In-Reply-To="
       TITLE="[JDEV] JUD seraching with Net::Jabber question">jabber at sbprod.force9.co.uk
       </A><BR>
    <I>Tue Jul  1 08:58:47 CDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="016943.html">[JDEV] JSF membership application period now open
</A></li>
        <LI>Next message: <A HREF="016946.html">[JDEV] Conference component
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16944">[ date ]</a>
              <a href="thread.html#16944">[ thread ]</a>
              <a href="subject.html#16944">[ subject ]</a>
              <a href="author.html#16944">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I&amp;#8217;m trying to search my JUD with Net::Jabber, Having looked back through the JDEV archives (all 23654 pages of it!) and browsed the netjabber CVS on jabber studio I can&amp;#8217;t find any examples &amp;#8211; and I&amp;#8217;m getting a strange error.
&amp;#8220;No query string specified at D:/Perl/site/lib/XML/Stream/XPath/Query.pm line 42 XML::Stream::XPath::Query::new('XML::Stream::XPath::Query', '') called at D:/Perl/site/lib/XML/Stream.pm line 1884&amp;#8221;

Heres the code:

#! d:\perl\bin\perl.exe
use Net::Jabber qw(Client);

$con=Net::Jabber::Client-&gt;new(debuglevel=&gt;0);
$con-&gt;Connect(&quot;hostname&quot;=&gt;&quot;myserver.com&quot;);
my @result = $con-&gt;AuthSend(&quot;username&quot; =&gt; &quot;jabberbot&quot;,&quot;password&quot;=&gt;&quot;jabberbot&quot;,&quot;resource&quot;=&gt;&quot;bot&quot;);
if ($result[0] eq &quot;ok&quot;){
  print &quot;\nConnected OK\n&quot;;
}else{
  die (&quot;Can't auth&quot;);
}

%fields=$con-&gt;SearchRequest(&quot;to&quot;=&gt;&quot;jud.myserver.com&quot;);
#error occurs here!

Setting the debug level to 1 shows that jabberd (1.4.2) has replied with searching instructions, but then the script crashes out with the above error message.


Has anyone got some example code of this working? Or can spot what I'm doing wrong?

Thanks in advance
-Adam


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016943.html">[JDEV] JSF membership application period now open
</A></li>
	<LI>Next message: <A HREF="016946.html">[JDEV] Conference component
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16944">[ date ]</a>
              <a href="thread.html#16944">[ thread ]</a>
              <a href="subject.html#16944">[ subject ]</a>
              <a href="author.html#16944">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] GSSAPI and service hostname
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20GSSAPI%20and%20service%20hostname&In-Reply-To=%3CAF11C7F2-627F-416D-9F89-F2B8A7A3F79B%40outer-planes.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="087330.html">
   <LINK REL="Next"  HREF="087332.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] GSSAPI and service hostname</H1>
    <B>Matthew A. Miller</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20GSSAPI%20and%20service%20hostname&In-Reply-To=%3CAF11C7F2-627F-416D-9F89-F2B8A7A3F79B%40outer-planes.net%3E"
       TITLE="[jdev] GSSAPI and service hostname">linuxwolf at outer-planes.net
       </A><BR>
    <I>Thu Jan 15 12:02:24 CST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="087330.html">[jdev] GSSAPI and service hostname
</A></li>
        <LI>Next message: <A HREF="087332.html">[jdev] GSSAPI and service hostname
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87331">[ date ]</a>
              <a href="thread.html#87331">[ thread ]</a>
              <a href="subject.html#87331">[ subject ]</a>
              <a href="author.html#87331">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jan 15, 2009, at 10:19, Peter Saint-Andre wrote:
&gt;&gt;<i> Another is to use XEP-233.
</I>&gt;<i>
</I>&gt;<i> AFAIK, no servers implement that yet, and in any case it was designed
</I>&gt;<i> for a slightly different use case (basically situations in which DNS  
</I>&gt;<i> SRV
</I>&gt;<i> results don't tell you the hostname of the connection manager you're
</I>&gt;<i> talking to because load balancers are in use).
</I>
Besides, XEP-233 isn't any more secure than the SRV lookup.

*  If you can't trust the name from the SRV lookup that sent you to  
this (possibly fake) server, why can you now trust the value provided  
via XEP-233 from that server?
*  If you trust the XEP-233 result because you've got a secure channel  
(STARTTLS) and trusted their certificate, then why can't you now trust  
the SRV result?

 From my own observations and experiences, Deployments involving  
GSSAPI require significant planning, and is almost always undertaken  
because of the organization's security policy.  I've not seen such a  
policy that mandating GSSAPI, but then ignored issues around network  
name resolution.

So back to the original poster:
My recommendation for your library would be to rely on the (FQDN of  
the) hostname used to establish the XMPP/TCP connection, but make sure  
you have a way to manually bypass DNS SRV for establishing said  
connection (i.e. explicit hostname for the socket connection).  If the  
users of the library are willing to trust the hostname enough to get  
to the point where authentication is attempted, then odds are they're  
willing (or rather, required) to trust that hostname in obtaining the  
service principal credentials.

--
Matthew A. Miller
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">linuxwolf at outer-planes.net</A>




-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2238 bytes
Desc: not available
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20090115/cf8d5aaa/attachment-0003.bin">https://www.jabber.org/jdev/attachments/20090115/cf8d5aaa/attachment-0003.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="087330.html">[jdev] GSSAPI and service hostname
</A></li>
	<LI>Next message: <A HREF="087332.html">[jdev] GSSAPI and service hostname
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87331">[ date ]</a>
              <a href="thread.html#87331">[ thread ]</a>
              <a href="subject.html#87331">[ subject ]</a>
              <a href="author.html#87331">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] scaling a single server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20scaling%20a%20single%20server&In-Reply-To=%3C20000209114740.A30945%40box5.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031998.html">
   <LINK REL="Next"  HREF="032000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] scaling a single server</H1>
    <B>temas</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20scaling%20a%20single%20server&In-Reply-To=%3C20000209114740.A30945%40box5.net%3E"
       TITLE="[JDEV] scaling a single server">temas at box5.net
       </A><BR>
    <I>Wed Feb  9 11:47:41 CST 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="031998.html">[JDEV] scaling a single server
</A></li>
        <LI>Next message: <A HREF="032000.html">[JDEV] scaling a single server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31999">[ date ]</a>
              <a href="thread.html#31999">[ thread ]</a>
              <a href="subject.html#31999">[ subject ]</a>
              <a href="author.html#31999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you wanted multiple servers to be @singlehostname.com, there is no exact
solution yet.  It really depends on how your setting it up, and is most likely
a proprietary solution at this point.  We are looking at a few ideas for out of
the box solutions, but I must say they aren't as friendly to a setup due to
many facts.  One of the primary points is XML processing.  With any protocol
you lose some time to the processing of the data stream, one of our ideas and
goals when looking at proprietary setups, we remove the XML parser and put it
in a seperate machine.  Then we look at adding a few boxes to handle the tons
of connections (I'm thinking fairly high here on a Linux box, that can only
be modded to a certain number of connections).  So at this point we've reduced
the load in a decent amount on the primary engines.  There are a lot of other
components to jabber that could run on it's own box for a solution of grand
proportions.  But I digress.

What kind of scaling do you need on a single box? We are looking at some pretty
cool ideas.  One of the problems that we've sort of kept quite for a while
(yeah we're bad) is that PTH does not play well with multiprocessor machines,
because the threading is userland it can only use a single processor.  When
jer and I met in NYC for the expo he proposed his solution on that and we
refined it a bit.  What we're looking at is making the different processors
do different parts, likein the multi box setup above.  Put the XML parser on a
processor, TCP handler, Garbage collector, etc... That way we utilize the box
more.  That should VASTLY increase single box scaling.  For single CPU systems
(as with any server)  there will be a max point that'll be hit.

--temas

On Wed, Feb 09, 2000 at 11:46:33AM -0500, Russell Nelson wrote:
&gt;<i> I was asking if anyone has any *experience* with scaling a single
</I>&gt;<i> server.  In spite of all the replies, the answer seems to be &quot;no&quot;.  I
</I>&gt;<i> can see how you might use multiple servers if some of the users are
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at jabber1.example.com</A> and some are <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">bar at jabber2.example.com.</A>  How
</I>&gt;<i> would you use multiple servers if all of the users are
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">foo at jabber.example.com</A>?
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> -russ nelson &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">sig at russnelson.com</A>&gt;  <A HREF="http://russnelson.com">http://russnelson.com</A>
</I>&gt;<i> Crynwr sells support for free software  | PGPok | &quot;Ask not what your country
</I>&gt;<i> 521 Pleasant Valley Rd. | +1 315 268 1925 voice | can force other people to
</I>&gt;<i> Potsdam, NY 13676-3213  | +1 315 268 9201 FAX   | do for you...&quot;  -Perry M.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> jdev mailing list
</I>&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i> <A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>&gt;<i> 
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
URL: &lt;<A HREF="https://www.jabber.org/jdev/attachments/20000209/8dd45c42/attachment-0001.pgp">https://www.jabber.org/jdev/attachments/20000209/8dd45c42/attachment-0001.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031998.html">[JDEV] scaling a single server
</A></li>
	<LI>Next message: <A HREF="032000.html">[JDEV] scaling a single server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31999">[ date ]</a>
              <a href="thread.html#31999">[ thread ]</a>
              <a href="subject.html#31999">[ subject ]</a>
              <a href="author.html#31999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

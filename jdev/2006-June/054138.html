<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] help
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20help&In-Reply-To=%3C44957945.05C795.26206%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054133.html">
   <LINK REL="Next"  HREF="054139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] help</H1>
    <B>andy_e at 163.com</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20help&In-Reply-To=%3C44957945.05C795.26206%3E"
       TITLE="[jdev] help">andy_e at 163.com
       </A><BR>
    <I>Sun Jun 18 11:03:00 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="054133.html">[jdev] Google Talk and MUC Invitations
</A></li>
        <LI>Next message: <A HREF="054139.html">[jdev] XMPP Ping/Keepalive: Recommended method ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54138">[ date ]</a>
              <a href="thread.html#54138">[ thread ]</a>
              <a href="subject.html#54138">[ subject ]</a>
              <a href="author.html#54138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>jdev-request,&#24744;&#22909;&#65281;

	

======= 2006-05-19 14:31:33 &#24744;&#22312;&#26469;&#20449;&#20013;&#20889;&#36947;&#65306;=======

&gt;<i>
</I>&gt;<i>Send jdev mailing list submissions to
</I>&gt;<i>	<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i>To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>	<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;<i>or, via email, send a message with subject or body 'help' to
</I>&gt;<i>	<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-request at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i>You can reach the person managing the list at
</I>&gt;<i>	<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-owner at jabber.org</A>
</I>&gt;<i>
</I>&gt;<i>When replying, please edit your Subject line so it is more specific
</I>&gt;<i>than &quot;Re: Contents of jdev digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Today's Topics:
</I>&gt;<i>
</I>&gt;<i>   1. Re: VTD-XML version 1.6 (<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crackeur at comcast.net</A>)
</I>&gt;<i>   2. Re: VTD-XML version 1.6 (Trejkaz)
</I>&gt;<i>   3. Using JSO for component development (Christian Cantrell)
</I>&gt;<i>   4. Re: Using JSO for component development (Mridul Muralidharan)
</I>&gt;<i>   5. Re: VTD-XML version 1.6 (<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crackeur at comcast.net</A>)
</I>&gt;<i>   6. Re: VTD-XML version 1.6 (Robert B Quattlebaum, Jr.)
</I>&gt;<i>   7. Re: VTD-XML version 1.6 (Alexander Gnauck)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>Message: 1
</I>&gt;<i>Date: Fri, 19 May 2006 00:44:17 +0000
</I>&gt;<i>From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crackeur at comcast.net</A>
</I>&gt;<i>Subject: Re: [jdev] VTD-XML version 1.6
</I>&gt;<i>To: Jabber software development list &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i>Message-ID:
</I>&gt;<i>	&lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">051920060044.27600.446D14E100056BE400006BD022007636929D9A0A050C0E9D0C at comcast.net</A>&gt;
</I>&gt;<i>	
</I>&gt;<i>Content-Type: text/plain; charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i>if by streaming you are referring to SAX parsing, I am reasonably comfortable,
</I>&gt;<i>SAX will be obselete because of a multitude of issues...
</I>&gt;<i>
</I>&gt;<i>I wrote an article on java world entitle simplify XML processing with VTD-XML
</I>&gt;<i>
</I>&gt;<i>-------------- Original message -------------- 
</I>&gt;<i>From: Ralph Meijer &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jabber.org at ralphm.ik.nu</A>&gt; 
</I>&gt;<i>
</I>&gt;&gt;<i> On Thu, May 18, 2006 at 09:56:04AM +0200, Michal vorner Vaner wrote: 
</I>&gt;&gt;<i> &gt; On Thu, May 18, 2006 at 09:18:52AM +0200, Ralph Meijer wrote: 
</I>&gt;&gt;<i> &gt; &gt; On Thu, May 18, 2006 at 12:10:41AM -0700, Jimmy Zhang wrote: 
</I>&gt;&gt;<i> &gt; &gt; &gt; The other issue, the way I understand Jabberd, it is a router, how can 
</I>&gt;&gt;<i> &gt; &gt; &gt; one not waiting for the entire document to arrive before routing the 
</I>&gt;&gt;<i> &gt; &gt; &gt; message? 
</I>&gt;&gt;<i> &gt; &gt; &gt; Also what kind of performance jabberd is performing? Do it have to 
</I>&gt;&gt;<i> &gt; &gt; &gt; occasionally modify XML data? 
</I>&gt;&gt;<i> &gt; &gt; 
</I>&gt;&gt;<i> &gt; &gt; Jabber works using direct childs of the root element as the unit of 
</I>&gt;&gt;<i> &gt; &gt; communication, not the whole document. Entities basically open a TCP 
</I>&gt;&gt;<i> &gt; &gt; connection and then during the whole session (which may last days or 
</I>&gt;&gt;<i> &gt; &gt; even longer) two XML documents are being exchanged. One in each 
</I>&gt;&gt;<i> &gt; &gt; direction. 
</I>&gt;&gt;<i> &gt; &gt; 
</I>&gt;&gt;<i> &gt; As I have seen, most jabber libraries have SAX parser to split it into 
</I>&gt;&gt;<i> &gt; the stanzas (these child elements) and there is something like semi-dom 
</I>&gt;&gt;<i> &gt; something to take care of each one. And I guess there will not be much 
</I>&gt;&gt;<i> &gt; difference in the parsers, if it is already split up and built to some 
</I>&gt;&gt;<i> &gt; kind of tree, or joined to gether and passed to any special parser to 
</I>&gt;&gt;<i> &gt; parse it again. And anyway, these pars are rather small - usually few 
</I>&gt;&gt;<i> &gt; bytes. 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Sure. Jimmy didn't seem to understand how XML Streams work, so I gave a 
</I>&gt;&gt;<i> small overview. The point is that he send a message that appears to be 
</I>&gt;&gt;<i> targetted at the larger XML community and someone asking if this stuff 
</I>&gt;&gt;<i> actually works for Jabber. It looked like spam to me initially, too. 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -- 
</I>&gt;&gt;<i> Groetjes, 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> ralphm 
</I>&gt;<i>-------------- next part --------------
</I>&gt;<i>An HTML attachment was scrubbed...
</I>&gt;<i>URL: <A HREF="https://www.jabber.org/jdev/attachments/20060519/119853c5/attachment-0001.html">https://www.jabber.org/jdev/attachments/20060519/119853c5/attachment-0001.html</A>
</I>&gt;<i>
</I>&gt;<i>------------------------------
</I>&gt;<i>
</I>&gt;<i>Message: 2
</I>&gt;<i>Date: Fri, 19 May 2006 11:02:36 +1000
</I>&gt;<i>From: Trejkaz &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">trejkaz at trypticon.org</A>&gt;
</I>&gt;<i>Subject: Re: [jdev] VTD-XML version 1.6
</I>&gt;<i>To: Jabber software development list &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i>Message-ID: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">A4E3DFE8-A83E-4C39-B04A-D27FB422BDCF at trypticon.org</A>&gt;
</I>&gt;<i>Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
</I>&gt;<i>
</I>&gt;<i>-----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i>Hash: SHA1
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>On 19/05/2006, at 10:42 AM, <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crackeur at comcast.net</A> wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Yes, every apps pretty much do that using DOM and SAX?
</I>&gt;&gt;<i> but DOM is the in-memory representation, not what gets sent on
</I>&gt;&gt;<i> the wire? When you route, you have wait for the message to arrive..
</I>&gt;&gt;<i> because in general the app logic depends on data that could reside
</I>&gt;&gt;<i> any where in the XML message....
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What do jabber put on the wire? It got to be XML right?
</I>&gt;<i>
</I>&gt;<i>Yes, it's one giant XML document.  The start of the document is sent  
</I>&gt;<i>right after you connect, and the end of the document is sent right  
</I>&gt;<i>before you disconnect.
</I>&gt;<i>
</I>&gt;<i>This doesn't cover what happens when you use StartTLS though, it  
</I>&gt;<i>becomes invalid XML at that point.
</I>&gt;<i>TX
</I>&gt;<i>
</I>&gt;<i>-----BEGIN PGP SIGNATURE-----
</I>&gt;<i>Version: GnuPG v1.4.3 (Darwin)
</I>&gt;<i>
</I>&gt;<i>iD8DBQFEbRkvuMe8iwN+6nMRAijXAJ4/ezq6rD3/NXFRMXLxLy8ormw4VACdGBFS
</I>&gt;<i>COZyylsKvDSqU7LFXY33uYc=
</I>&gt;<i>=rLzc
</I>&gt;<i>-----END PGP SIGNATURE-----
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>------------------------------
</I>&gt;<i>
</I>&gt;<i>Message: 3
</I>&gt;<i>Date: Thu, 18 May 2006 18:16:51 -0700
</I>&gt;<i>From: Christian Cantrell &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">christiancantrell at mac.com</A>&gt;
</I>&gt;<i>Subject: [jdev] Using JSO for component development
</I>&gt;<i>To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i>Message-ID: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">FBDFEB68-E8B6-4DE2-A314-09E87C5AF71D at mac.com</A>&gt;
</I>&gt;<i>Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
</I>&gt;<i>
</I>&gt;<i>I'm using JSO to build a component, and I'm finding it more than a  
</I>&gt;<i>little confusing.  I've posted to the JSO list, but it's pretty  
</I>&gt;<i>quiet, so I thought I'd try my luck here.
</I>&gt;<i>
</I>&gt;<i>Using JSO, I'm able to connect to my server, listen for specific  
</I>&gt;<i>packets, and return packets successfully.  The part I don't  
</I>&gt;<i>understand is how you continuously listen for packets.  In all the  
</I>&gt;<i>example code I've found, the authors have set up an infinite loop  
</I>&gt;<i>inside of which they call Stream.process() to process new incoming  
</I>&gt;<i>packets, and also keep checking a Queue for new packets to send out.   
</I>&gt;<i>This technique works fine, but it seems odd to me, and is quite  
</I>&gt;<i>resource intensive on my development machine.  Can someone explain:
</I>&gt;<i>
</I>&gt;<i>1. Why is it done this way?
</I>&gt;<i>2. Is there another way to do it?  It seems that I should simply be  
</I>&gt;<i>able to call a method that blocks until the packets I need come in  
</I>&gt;<i>rather than having to process packets in a tight infinite loop.
</I>&gt;<i>
</I>&gt;<i>I'm also wondering if anyone can recommend any other Java XMPP  
</I>&gt;<i>libraries I can use to build an external XMPP component if I can't  
</I>&gt;<i>get JSO to work like I want it to.
</I>&gt;<i>
</I>&gt;<i>Thanks,
</I>&gt;<i>Christian
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>------------------------------
</I>&gt;<i>
</I>&gt;<i>Message: 4
</I>&gt;<i>Date: Fri, 19 May 2006 07:30:30 +0530
</I>&gt;<i>From: Mridul Muralidharan &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">mridul at sun.com</A>&gt;
</I>&gt;<i>Subject: Re: [jdev] Using JSO for component development
</I>&gt;<i>To: Jabber software development list &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i>Message-ID: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">446D26BE.4090505 at sun.com</A>&gt;
</I>&gt;<i>Content-Type: text/plain; format=flowed; charset=ISO-8859-1
</I>&gt;<i>
</I>&gt;<i>Christian Cantrell wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm using JSO to build a component, and I'm finding it more than a  
</I>&gt;&gt;<i> little confusing.  I've posted to the JSO list, but it's pretty  
</I>&gt;&gt;<i> quiet, so I thought I'd try my luck here.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Using JSO, I'm able to connect to my server, listen for specific  
</I>&gt;&gt;<i> packets, and return packets successfully.  The part I don't  
</I>&gt;&gt;<i> understand is how you continuously listen for packets.  In all the  
</I>&gt;&gt;<i> example code I've found, the authors have set up an infinite loop  
</I>&gt;&gt;<i> inside of which they call Stream.process() to process new incoming  
</I>&gt;&gt;<i> packets, and also keep checking a Queue for new packets to send out.   
</I>&gt;&gt;<i> This technique works fine, but it seems odd to me, and is quite  
</I>&gt;&gt;<i> resource intensive on my development machine.  Can someone explain:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1. Why is it done this way?
</I>&gt;&gt;<i> 2. Is there another way to do it?  It seems that I should simply be  
</I>&gt;&gt;<i> able to call a method that blocks until the packets I need come in  
</I>&gt;&gt;<i> rather than having to process packets in a tight infinite loop.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm also wondering if anyone can recommend any other Java XMPP  
</I>&gt;&gt;<i> libraries I can use to build an external XMPP component if I can't  
</I>&gt;&gt;<i> get JSO to work like I want it to.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i> Christian
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Hi Christian,
</I>&gt;<i>
</I>&gt;<i>  One solution for this would be to invoke stream.process() when you are 
</I>&gt;<i>sure there is some data available.
</I>&gt;<i>Like , if you are using some producer-consumer model , or if you are 
</I>&gt;<i>using java's nio package.
</I>&gt;<i>With the former , it becomes as simple as just triggering a 
</I>&gt;<i>stream.process() as soon as you have produced some data.
</I>&gt;<i>With the latter , you will need to use async io and register your 
</I>&gt;<i>channel with a selector for read events - which will get notified when 
</I>&gt;<i>there is data available to be read.
</I>&gt;<i>
</I>&gt;<i>With your current approach , if your underlying socket is blocking 
</I>&gt;<i>socket , then you need to worry about cpu usage in an infinite loop - it 
</I>&gt;<i>will block until there is data available : with caveat that you will 
</I>&gt;<i>have one thread per component session.
</I>&gt;<i>If you use nio , the only advantage is that you will be able to listen 
</I>&gt;<i>for read events from multiple streams simultaneously.
</I>&gt;<i>
</I>&gt;<i>Not sure if I am answering your question properly enough ...
</I>&gt;<i>
</I>&gt;<i>Regards,
</I>&gt;<i>Mridul
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>------------------------------
</I>&gt;<i>
</I>&gt;<i>Message: 5
</I>&gt;<i>Date: Fri, 19 May 2006 03:11:40 +0000
</I>&gt;<i>From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crackeur at comcast.net</A>
</I>&gt;<i>Subject: Re: [jdev] VTD-XML version 1.6
</I>&gt;<i>To: Jabber software development list &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i>Message-ID:
</I>&gt;<i>	&lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">051920060311.2495.446D376C0009E354000009BF22135396539D9A0A050C0E9D0C at comcast.net</A>&gt;
</I>&gt;<i>	
</I>&gt;<i>Content-Type: text/plain; charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>you confused me even more...
</I>&gt;<i>I thought IM apps exchange xml messages (usually small), 
</I>&gt;<i>why do they exchange huge XML docs? It sounds not just bad, but unnecessary...
</I>&gt;<i>-------------- Original message -------------- 
</I>&gt;<i>From: Trejkaz &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">trejkaz at trypticon.org</A>&gt; 
</I>&gt;<i>
</I>&gt;&gt;<i> -----BEGIN PGP SIGNED MESSAGE----- 
</I>&gt;&gt;<i> Hash: SHA1 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On 19/05/2006, at 10:42 AM, <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crackeur at comcast.net</A> wrote: 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> &gt; Yes, every apps pretty much do that using DOM and SAX? 
</I>&gt;&gt;<i> &gt; but DOM is the in-memory representation, not what gets sent on 
</I>&gt;&gt;<i> &gt; the wire? When you route, you have wait for the message to arrive.. 
</I>&gt;&gt;<i> &gt; because in general the app logic depends on data that could reside 
</I>&gt;&gt;<i> &gt; any where in the XML message.... 
</I>&gt;&gt;<i> &gt; 
</I>&gt;&gt;<i> &gt; What do jabber put on the wire? It got to be XML right? 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Yes, it's one giant XML document. The start of the document is sent 
</I>&gt;&gt;<i> right after you connect, and the end of the document is sent right 
</I>&gt;&gt;<i> before you disconnect. 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> This doesn't cover what happens when you use StartTLS though, it 
</I>&gt;&gt;<i> becomes invalid XML at that point. 
</I>&gt;&gt;<i> TX 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -----BEGIN PGP SIGNATURE----- 
</I>&gt;&gt;<i> Version: GnuPG v1.4.3 (Darwin) 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> iD8DBQFEbRkvuMe8iwN+6nMRAijXAJ4/ezq6rD3/NXFRMXLxLy8ormw4VACdGBFS 
</I>&gt;&gt;<i> COZyylsKvDSqU7LFXY33uYc= 
</I>&gt;&gt;<i> =rLzc 
</I>&gt;&gt;<i> -----END PGP SIGNATURE----- 
</I>&gt;<i>-------------- next part --------------
</I>&gt;<i>An HTML attachment was scrubbed...
</I>&gt;<i>URL: <A HREF="https://www.jabber.org/jdev/attachments/20060519/8f704c6c/attachment-0001.htm">https://www.jabber.org/jdev/attachments/20060519/8f704c6c/attachment-0001.htm</A>
</I>&gt;<i>
</I>&gt;<i>------------------------------
</I>&gt;<i>
</I>&gt;<i>Message: 6
</I>&gt;<i>Date: Thu, 18 May 2006 21:55:01 -0700
</I>&gt;<i>From: &quot;Robert B Quattlebaum, Jr.&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">darco at deepdarc.com</A>&gt;
</I>&gt;<i>Subject: Re: [jdev] VTD-XML version 1.6
</I>&gt;<i>To: Jabber software development list &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i>Message-ID: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">AE3768D3-CA2B-48A8-ABC0-0E204472E9E7 at deepdarc.com</A>&gt;
</I>&gt;<i>Content-Type: text/plain; charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>On May 18, 2006, at 8:11 PM, <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crackeur at comcast.net</A> wrote:
</I>&gt;&gt;<i> you confused me even more...
</I>&gt;&gt;<i> I thought IM apps exchange xml messages (usually small),
</I>&gt;&gt;<i> why do they exchange huge XML docs? It sounds not just bad, but  
</I>&gt;&gt;<i> unnecessary...
</I>&gt;<i>
</I>&gt;<i>You are misunderstanding. The entire connection itself is a well- 
</I>&gt;<i>formed XML document. What you call &quot;xml messages&quot; in jabber are  
</I>&gt;<i>called &quot;stanzas&quot;, and are small XML fragments that get sent over the  
</I>&gt;<i>wire.
</I>&gt;<i>
</I>&gt;<i>When I say that the entire connection itself is a well-formed XML  
</I>&gt;<i>document, I mean that it must have a root element. Once the root  
</I>&gt;<i>element is open, that's when stanzas are sent. When the connection is  
</I>&gt;<i>closed, the root element is closed. Thus the entire connection is a  
</I>&gt;<i>well-formed XML document.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>__________________
</I>&gt;<i>Robert Quattlebaum
</I>&gt;<i>Mobile: +1(650)223-4974
</I>&gt;<i>Jabber: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">darco at deepdarc.com</A>
</I>&gt;<i>eMail:  <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">darco at deepdarc.com</A>
</I>&gt;<i>www:    <A HREF="http://www.deepdarc.com/">http://www.deepdarc.com/</A>
</I>&gt;<i>
</I>&gt;<i>-------------- next part --------------
</I>&gt;<i>An HTML attachment was scrubbed...
</I>&gt;<i>URL: <A HREF="https://www.jabber.org/jdev/attachments/20060518/60472b6c/attachment-0001.html">https://www.jabber.org/jdev/attachments/20060518/60472b6c/attachment-0001.html</A>
</I>&gt;<i>
</I>&gt;<i>------------------------------
</I>&gt;<i>
</I>&gt;<i>Message: 7
</I>&gt;<i>Date: Fri, 19 May 2006 08:31:16 +0200
</I>&gt;<i>From: Alexander Gnauck &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">gnauck at ag-software.de</A>&gt;
</I>&gt;<i>Subject: [jdev] Re: VTD-XML version 1.6
</I>&gt;<i>To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i>Message-ID: &lt;e4jonl$3i3$<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">1 at sea.gmane.org</A>&gt;
</I>&gt;<i>Content-Type: text/plain; charset=ISO-8859-15; format=flowed
</I>&gt;<i>
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crackeur at comcast.net</A> schrieb:
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> you confused me even more...
</I>&gt;&gt;<i> I thought IM apps exchange xml messages (usually small),
</I>&gt;<i>
</I>&gt;<i>let me explain XMPP with this small example of a session:
</I>&gt;<i>
</I>&gt;<i>the client connects, open the socket and the XML Document
</I>&gt;<i>C-&gt;S: &lt;?xml version=&quot;1.0&quot;?&gt;
</I>&gt;<i>C-&gt;S: &lt;stream:stream xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams&quot;">http://etherx.jabber.org/streams&quot;</A> 
</I>&gt;<i>xmlns=&quot;jabber:client&quot; to=&quot;jabber.org&quot; &gt;
</I>&gt;<i>
</I>&gt;<i>server accepts the socket and opens the XML document
</I>&gt;<i>S-&gt;C: &lt;stream:stream xmlns='jabber:client' 
</I>&gt;<i>xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> from='jabber.org' 
</I>&gt;<i>id='596931'&gt;
</I>&gt;<i>
</I>&gt;<i>the client starts to authenticate
</I>&gt;<i>C-&gt;S: &lt;iq type=&quot;get&quot; to=&quot;jabber.org&quot; id=&quot;auth_1&quot; &gt;
</I>&gt;<i>	&lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
</I>&gt;<i>		&lt;username&gt;alex&lt;/username&gt;
</I>&gt;<i>	&lt;/query&gt;
</I>&gt;<i>&lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i>S-&gt;C: &lt;iq type=&quot;result&quot; id=&quot;auth_1&quot; &gt;
</I>&gt;<i>	&lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
</I>&gt;<i>		&lt;username&gt;gnauck&lt;/username&gt;
</I>&gt;<i>		&lt;password/&gt;
</I>&gt;<i>		&lt;digest/&gt;
</I>&gt;<i>		&lt;resource/&gt;
</I>&gt;<i>	&lt;/query&gt;
</I>&gt;<i>       &lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i>C-&gt;S: &lt;iq type=&quot;set&quot; to=&quot;jabber.org&quot; id=&quot;auth_2&quot; &gt;
</I>&gt;<i>	&lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
</I>&gt;<i>	 &lt;username&gt;gnauck&lt;/username&gt;
</I>&gt;<i>	 &lt;password&gt;secret&lt;/password&gt;
</I>&gt;<i>	 &lt;resource&gt;Psi&lt;/resource&gt;
</I>&gt;<i>	&lt;/query&gt;
</I>&gt;<i>       &lt;/iq&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>S-&gt;C: &lt;iq type=&quot;result&quot; id=&quot;auth_2&quot; /&gt;
</I>&gt;<i>
</I>&gt;<i>C-&gt;S: &lt;message type=&quot;chat&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">romeo at jabber.org</A>&quot; &gt;	
</I>&gt;<i>	&lt;body&gt;Test&lt;/body&gt;
</I>&gt;<i>      &lt;/message&gt;
</I>&gt;<i>
</I>&gt;<i>Client closes the connection, which means it closes the XML Document
</I>&gt;<i>C-&gt;S: &lt;/stream:stream&gt;
</I>&gt;<i>
</I>&gt;<i>Server is closing the XML Doc too
</I>&gt;<i>S-&gt;C: &lt;/stream:stream&gt;
</I>&gt;<i>
</I>&gt;<i>you see we have 2 complete XML Documents. The client doc and the server 
</I>&gt;<i>doc. Our messages, also called stanzas are the 1st level child elements 
</I>&gt;<i>of the document. If you see the stanzas as a single xml doc and not in 
</I>&gt;<i>the context of the whole document you loose the namespace of the 
</I>&gt;<i>stanzas, and your software is not namespace correct. This is why parsing 
</I>&gt;<i>XMPP XML is a bit tricky and the most out of the box parsers don't work 
</I>&gt;<i>very well without modifying them. My exapmple shows the old jabber style 
</I>&gt;<i>authentication. It gets even more complicated when using SASL, START-TLS 
</I>&gt;<i>and other stuff which resets the stream and opens the document again.
</I>&gt;<i>
</I>&gt;<i> &gt; why do they exchange huge XML docs? It sounds not just bad, but
</I>&gt;<i> &gt; unnecessary...
</I>&gt;<i>
</I>&gt;<i>i don' think so. Because of this XMPP is a very clean and solid 
</I>&gt;<i>protocol. Clean, simple, powerful, extensible.....
</I>&gt;<i>
</I>&gt;<i>Alex
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>------------------------------
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>jdev mailing list
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>End of jdev Digest, Vol 28, Issue 15
</I>&gt;<i>************************************
</I>&gt;<i>
</I>
= = = = = = = = = = = = = = = = = = = =
			

&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#33268;
&#31036;&#65281;
 
				 
&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;andy_e
&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">andy_e at 163.com</A>
&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;2006-06-19

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054133.html">[jdev] Google Talk and MUC Invitations
</A></li>
	<LI>Next message: <A HREF="054139.html">[jdev] XMPP Ping/Keepalive: Recommended method ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54138">[ date ]</a>
              <a href="thread.html#54138">[ thread ]</a>
              <a href="subject.html#54138">[ subject ]</a>
              <a href="author.html#54138">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

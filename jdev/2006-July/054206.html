<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] s2s lookup cascades
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20s2s%20lookup%20cascades&In-Reply-To=%3C5b698f5a0607040521gc242945lda9500d2ff63998a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054259.html">
   <LINK REL="Next"  HREF="054210.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] s2s lookup cascades</H1>
    <B>Norman Rasmussen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20s2s%20lookup%20cascades&In-Reply-To=%3C5b698f5a0607040521gc242945lda9500d2ff63998a%40mail.gmail.com%3E"
       TITLE="[jdev] s2s lookup cascades">norman at rasmussen.co.za
       </A><BR>
    <I>Tue Jul  4 07:21:46 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="054259.html">[jdev] SkypeNet API
</A></li>
        <LI>Next message: <A HREF="054210.html">[jdev] s2s lookup cascades
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54206">[ date ]</a>
              <a href="thread.html#54206">[ thread ]</a>
              <a href="subject.html#54206">[ subject ]</a>
              <a href="author.html#54206">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I remember reading about this somewhere before, so if you can find the
reference please post it:

What's the _preferred_ action to take when trying to establish an IP
address for a remote server while doing s2s dns lookups?

So eg:  looking up the server to send a message to
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">bob at department.example.com</A> should result in:

SRV IN _xmpp-server._tcp.department.example.com
SRV IN _jabber._tcp.department.example.com (optional)
SRV IN _im._tcp.department.example.com (optional)
AAAA IN department.example.com (optional)
A IN department.example.com

then if those all fail do/should/must/may/shouldn't/mustn't we try:

SRV IN _xmpp-server._tcp.example.com
SRV IN _jabber._tcp.example.com (optional)
SRV IN _im._tcp.example.com (optional)
AAAA IN example.com (optional)
A IN example.com

and then:

SRV IN _xmpp-server._tcp.com
SRV IN _jabber._tcp.com (optional)
SRV IN _im._tcp.com (optional)
AAAA IN com (optional)
A IN com

Most jabber servers seem to give up and _not_ do the dns cascade, but
Wildfire seems to do the cascade DNS, generating lots of 'Failed to
lookup .de', or 'Failed to lookup .org' records in the log files.

ref: <A HREF="http://www.jivesoftware.org/community/thread.jspa?messageID=123998">http://www.jivesoftware.org/community/thread.jspa?messageID=123998</A>

-- 
- Norman Rasmussen
 - Email: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">norman at rasmussen.co.za</A>
 - Home page: <A HREF="http://norman.rasmussen.co.za/">http://norman.rasmussen.co.za/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054259.html">[jdev] SkypeNet API
</A></li>
	<LI>Next message: <A HREF="054210.html">[jdev] s2s lookup cascades
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54206">[ date ]</a>
              <a href="thread.html#54206">[ thread ]</a>
              <a href="subject.html#54206">[ subject ]</a>
              <a href="author.html#54206">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

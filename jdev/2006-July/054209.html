<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Limitations of XML Namespaces use
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Limitations%20of%20XML%20Namespaces%20use&In-Reply-To=%3C20060704195024.GA10782%40ik.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054208.html">
   <LINK REL="Next"  HREF="054211.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Limitations of XML Namespaces use</H1>
    <B>Ralph Meijer</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Limitations%20of%20XML%20Namespaces%20use&In-Reply-To=%3C20060704195024.GA10782%40ik.nu%3E"
       TITLE="[jdev] Limitations of XML Namespaces use">jabber.org at ralphm.ik.nu
       </A><BR>
    <I>Tue Jul  4 14:50:24 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="054208.html">[jdev] Limitations of XML Namespaces use
</A></li>
        <LI>Next message: <A HREF="054211.html">[jdev] Limitations of XML Namespaces use
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54209">[ date ]</a>
              <a href="thread.html#54209">[ thread ]</a>
              <a href="subject.html#54209">[ subject ]</a>
              <a href="author.html#54209">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jul 04, 2006 at 07:08:14PM +0200, Manuzhai wrote:
&gt;<i> Hello all,
</I>&gt;<i> 
</I>&gt;<i> I've been working on a new XMPP library implemented using ElementTree, a
</I>&gt;<i> very nice XML library which uses the expat parser underneath, and which
</I>&gt;<i> has found such widespread use that it will be in the Python 2.5 standard
</I>&gt;<i> library. It is coming along nicely, and I will be releasing it as open
</I>&gt;<i> source pretty soon. Let me know if anyone is interested.
</I>
Hi!

Sure that's interesting. I've been working on the Twisted Jabber support
for a while now. I specifically chose to go on using what dizzyd (Dave
Smith) started in the domish module, mostly because of the issues you
point out below. This choice meant not using ElementTree, at least for
now. But this work might persuade me.

I'm not sure why you've started yet another python XMPP implementation,
though, so I am curious about that. Maybe you could work on improving
Twisted's Jabber support instead? If you want to chat about this,
contact me at &lt;xmpp:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">ralphm at ik.nu</A>&gt;.

&gt;<i> Now, today I found a message by Ralph Meijer on this list pointing to
</I>&gt;<i> section 11.2.2 in RFC 3920, and I was very much surprised by this. I am
</I>&gt;<i> talking specifically about this restriction: &quot;An implementation MUST NOT
</I>&gt;<i> generate namespace prefixes for elements in the default namespace if the
</I>&gt;<i> default namespace is 'jabber:client' or 'jabber:server'. An
</I>&gt;<i> implementation SHOULD NOT generate namespace prefixes for elements
</I>&gt;<i> qualified by content (as opposed to stream) namespaces other than
</I>&gt;<i> 'jabber:client' and 'jabber:server'.&quot; and the one in 11.2.3.
</I>&gt;<i> 
</I>&gt;<i> The XML restrictions in 11.1 make a lot of sense given the structure of
</I>&gt;<i> XMPP streams, but it seems very weird to significantly cripple the use
</I>&gt;<i> of XML namespaces in XMPP streams with these restrictions. With the XML
</I>&gt;<i> namespaces spec (in widespread use, I'd say), these are equivalent:
</I>&gt;<i> 
</I>&gt;<i> &lt;ns0:message xmlns:ns0=&quot;jabber:client&quot; /&gt;
</I>&gt;<i> &lt;message xmlns=&quot;jabber:client&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i> Why was the choice made to impose this restriction on XMPP's use of XML?
</I>&gt;<i> Given the importance of XML namespaces throughout the XMPP protocol, it
</I>&gt;<i> doesn't make a whole lot of sense to me. I developed my client against
</I>&gt;<i> Wildfire Server, and it does the right thing, but I already ran into
</I>&gt;<i> some problems with ejabberd concerning the starttls tag (but then
</I>&gt;<i> starttls is not in the jabber:client namespace, so the restrictions
</I>&gt;<i> shouldn't apply to it, right?).
</I>&gt;<i> 
</I>&gt;<i> Anyway, I wonder why it was done this way and I am hoping that these
</I>&gt;<i> restrictions could be relaxed in a new version of the RFC (which would
</I>&gt;<i> not be a problem for any software using a compliant XML parser).
</I>
This is mostly for compatibility with pre-XMPP implementations of the
Jabber protocols. Some of the elders might expand on this.

Changing this requirement would surely break most of the current
implementations out there. It basically comes down to the good old: be
conservative with what you send, liberal with what you except.

-- 
Groetjes,

ralphm

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054208.html">[jdev] Limitations of XML Namespaces use
</A></li>
	<LI>Next message: <A HREF="054211.html">[jdev] Limitations of XML Namespaces use
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54209">[ date ]</a>
              <a href="thread.html#54209">[ thread ]</a>
              <a href="subject.html#54209">[ subject ]</a>
              <a href="author.html#54209">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

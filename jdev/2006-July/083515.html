<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] How to make a gloox based bot,	which can login to jabber.org and commercial server like XCP	at the same time.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20How%20to%20make%20a%20gloox%20based%20bot%2C%0A%09which%20can%20login%20to%20jabber.org%20and%20commercial%20server%20like%20XCP%0A%09at%20the%20same%20time.&In-Reply-To=%3C58FE8766C9D3FE4E8AF6B6B75A74AF8F062F209E%40BGEEXC02.asiapacific.cpqcorp.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083514.html">
   <LINK REL="Next"  HREF="083516.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] How to make a gloox based bot,	which can login to jabber.org and commercial server like XCP	at the same time.</H1>
    <B>Singh, Brijesh (GDIC)</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20How%20to%20make%20a%20gloox%20based%20bot%2C%0A%09which%20can%20login%20to%20jabber.org%20and%20commercial%20server%20like%20XCP%0A%09at%20the%20same%20time.&In-Reply-To=%3C58FE8766C9D3FE4E8AF6B6B75A74AF8F062F209E%40BGEEXC02.asiapacific.cpqcorp.net%3E"
       TITLE="[jdev] How to make a gloox based bot,	which can login to jabber.org and commercial server like XCP	at the same time.">brijesh.singh at hp.com
       </A><BR>
    <I>Fri Jul  7 08:08:17 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="083514.html">[jdev] Parameter Problem
</A></li>
        <LI>Next message: <A HREF="083516.html">[jdev] How to make a gloox based bot,	which can login to jabber.org and commercial server like XCP at the	same time.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83515">[ date ]</a>
              <a href="thread.html#83515">[ thread ]</a>
              <a href="subject.html#83515">[ subject ]</a>
              <a href="author.html#83515">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> Hi everyone,
 
Good evening....
 
I'm trying to write a small bot application and using gloox-0.7.6.1. At
this point I don't want to change to latest version of gloox-0.8. I'm
facing a small issue with tls support.
 
---------------------------------------------------
void userLogin()
{
 std::string jidstr = usr + &quot;@&quot; + server + &quot;/&quot; + res;
 JID jid(jidstr);
 j = new Client( jid, pwd);
 j-&gt;Client::setForceNonSasl( true );
 //j-&gt;Client::setForceNonSasl( false );
        j-&gt;registerMessageHandler( this );
 j-&gt;registerIqHandler( this, XMLNS_ROSTER );
 j-&gt;setInitialPriority( 5 );
 j-&gt;setAutoPresence( true );
 j-&gt;connect();
}
---------------------------------------------------
 
In the following code if i enable  j-&gt;Client::setForceNonSasl( false );
then it doesn't work with my local commercial XCP-4.2 server and gives
following error:-
--------------------------------------------------------
resolved symlin3.india.hp.com to: 15.42.228.93:5222
SEND [&lt;?xml version='1.0' ?&gt;&lt;stream:stream to='symlin3.india.hp.com'
xmlns='jabber:client' xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>
xml:lang='en' version='1.0'&gt;]
RECV [&lt;stream:stream from='symlin3.india.hp.com' id='C6813F4B9A9'
version='1.0' xml:lang='en' xmlns='jabber:client'
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'/">http://etherx.jabber.org/streams'/</A>&gt;]
RECV [&lt;stream:features&gt;&lt;starttls
xmlns='urn:ietf:params:xml:ns:xmpp-tls'/&gt;&lt;/stream:features&gt;]
SEND [&lt;iq id='uid1' type='get'&gt;&lt;query xmlns='jabber:iq:register'/&gt;&lt;/iq&gt;]
RECV [&lt;iq id='uid1' type='result' xml:lang='en'&gt;&lt;query
xmlns='jabber:iq:register'&gt;&lt;name/&gt;&lt;email/&gt;&lt;instructions&gt;Additional
information is needed to
register.&lt;/instructions&gt;&lt;username/&gt;&lt;password/&gt;&lt;/query&gt;&lt;/iq&gt;]
resolved symlin3.india.hp.com to: 15.42.228.93:5222
SEND [&lt;?xml version='1.0' ?&gt;&lt;stream:stream to='symlin3.india.hp.com'
xmlns='jabber:client' xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>
xml:lang='en' version='1.0'&gt;]
RECV [&lt;stream:stream from='symlin3.india.hp.com' id='C6977CC3EF0'
version='1.0' xml:lang='en' xmlns='jabber:client'
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'/">http://etherx.jabber.org/streams'/</A>&gt;]
RECV [&lt;stream:features&gt;&lt;starttls
xmlns='urn:ietf:params:xml:ns:xmpp-tls'/&gt;&lt;/stream:features&gt;]
the server doesn't support any auth mechanisms we know about
SEND [&lt;iq id='uid2' type='set'&gt;&lt;query
xmlns='jabber:iq:register'&gt;&lt;username&gt;b2ew2k3&lt;/username&gt;&lt;password&gt;b2ew2k3
&lt;/password&gt;&lt;name/&gt;&lt;email&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">brijesh.singh at hp.com</A>&lt;/email&gt;&lt;/query&gt;&lt;/iq&gt;]
RECV [&lt;iq id='uid2' type='error' xml:lang='en'&gt;&lt;query
xmlns='jabber:iq:register'&gt;&lt;username&gt;b2ew2k3&lt;/username&gt;&lt;password&gt;b2ew2k3
&lt;/password&gt;&lt;name/&gt;&lt;email&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">brijesh.singh at hp.com</A>&lt;/email&gt;&lt;/query&gt;&lt;error
code='409' type='cancel'&gt;&lt;conflict
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;/error&gt;&lt;/iq&gt;]
resolved symlin3.india.hp.com to: 15.42.228.93:5222
SEND [&lt;?xml version='1.0' ?&gt;&lt;stream:stream to='symlin3.india.hp.com'
xmlns='jabber:client' xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>
xml:lang='en' version='1.0'&gt;]
RECV [&lt;stream:stream from='symlin3.india.hp.com' id='C6A50397977'
version='1.0' xml:lang='en' xmlns='jabber:client'
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'/">http://etherx.jabber.org/streams'/</A>&gt;]
RECV [&lt;stream:features&gt;&lt;starttls
xmlns='urn:ietf:params:xml:ns:xmpp-tls'/&gt;&lt;/stream:features&gt;]
the server doesn't support any auth mechanisms we know about
--------------------------------------------------------------------
 
But at the same time it works with jabber.org server.
 
If i make j-&gt;Client::setForceNonSasl( true );  then it works vice versa
i.e. works with commercial server but doesn't works with jabber.org??
--------------------------------------------------------------------
resolved jabber.org to: 208.245.212.98:5222
SEND [&lt;?xml version='1.0' ?&gt;&lt;stream:stream to='jabber.org'
xmlns='jabber:client' xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>
xml:lang='en' version='1.0'&gt;]
RECV [&lt;stream:stream from='jabber.org' id='3553958689' version='1.0'
xml:lang='en' xmlns='jabber:client'
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'/">http://etherx.jabber.org/streams'/</A>&gt;]
RECV [&lt;stream:features&gt;&lt;starttls
xmlns='urn:ietf:params:xml:ns:xmpp-tls'/&gt;&lt;mechanisms
xmlns='urn:ietf:params:xml:ns:xmpp-sasl'&gt;&lt;mechanism&gt;DIGEST-MD5&lt;/mechanis
m&gt;&lt;mechanism&gt;PLAIN&lt;/mechanism&gt;&lt;/mechanisms&gt;&lt;register
xmlns='<A HREF="http://jabber.org/features/iq-register'/">http://jabber.org/features/iq-register'/</A>&gt;&lt;/stream:features&gt;]
SEND [&lt;iq id='uid1' type='get'&gt;&lt;query xmlns='jabber:iq:register'/&gt;&lt;/iq&gt;]
RECV [&lt;iq from='jabber.org' id='uid1' type='result'&gt;&lt;query
xmlns='jabber:iq:register'&gt;&lt;instructions&gt;Choose a username and password
to register with this
server&lt;/instructions&gt;&lt;username/&gt;&lt;password/&gt;&lt;/query&gt;&lt;/iq&gt;]
resolved jabber.org to: 208.245.212.98:5222
SEND [&lt;?xml version='1.0' ?&gt;&lt;stream:stream to='jabber.org'
xmlns='jabber:client' xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>
xml:lang='en' version='1.0'&gt;]
RECV [&lt;stream:stream from='jabber.org' id='1437402814' version='1.0'
xml:lang='en' xmlns='jabber:client'
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'/">http://etherx.jabber.org/streams'/</A>&gt;]
RECV [&lt;stream:features&gt;&lt;starttls
xmlns='urn:ietf:params:xml:ns:xmpp-tls'/&gt;&lt;mechanisms
xmlns='urn:ietf:params:xml:ns:xmpp-sasl'&gt;&lt;mechanism&gt;DIGEST-MD5&lt;/mechanis
m&gt;&lt;mechanism&gt;PLAIN&lt;/mechanism&gt;&lt;/mechanisms&gt;&lt;register
xmlns='<A HREF="http://jabber.org/features/iq-register'/">http://jabber.org/features/iq-register'/</A>&gt;&lt;/stream:features&gt;]
SEND [&lt;iq id='uid1' to='jabber.org' type='get'&gt;&lt;query
xmlns='jabber:iq:auth'&gt;&lt;username&gt;b2e11&lt;/username&gt;&lt;/query&gt;&lt;/iq&gt;]
RECV [&lt;iq from='jabber.org' id='uid1' type='error'&gt;&lt;error code='501'
type='cancel'&gt;&lt;feature-not-implemented
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;/error&gt;&lt;/iq&gt;]
SEND [&lt;iq id='uid2' type='set'&gt;&lt;query
xmlns='jabber:iq:register'&gt;&lt;username&gt;b2e11&lt;/username&gt;&lt;password&gt;b2e11&lt;/pa
ssword&gt;&lt;/query&gt;&lt;/iq&gt;]
RECV [&lt;iq from='jabber.org' id='uid2' type='error'&gt;&lt;query
xmlns='jabber:iq:register'&gt;&lt;username&gt;b2e11&lt;/username&gt;&lt;password&gt;b2e11&lt;/pa
ssword&gt;&lt;/query&gt;&lt;error code='409' type='cancel'&gt;&lt;conflict
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;/error&gt;&lt;/iq&gt;]
resolved jabber.org to: 208.245.212.98:5222
SEND [&lt;?xml version='1.0' ?&gt;&lt;stream:stream to='jabber.org'
xmlns='jabber:client' xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A>
xml:lang='en' version='1.0'&gt;]
RECV [&lt;stream:stream from='jabber.org' id='1504035913' version='1.0'
xml:lang='en' xmlns='jabber:client'
xmlns:stream='<A HREF="http://etherx.jabber.org/streams'/">http://etherx.jabber.org/streams'/</A>&gt;]
RECV [&lt;stream:features&gt;&lt;starttls
xmlns='urn:ietf:params:xml:ns:xmpp-tls'/&gt;&lt;mechanisms
xmlns='urn:ietf:params:xml:ns:xmpp-sasl'&gt;&lt;mechanism&gt;DIGEST-MD5&lt;/mechanis
m&gt;&lt;mechanism&gt;PLAIN&lt;/mechanism&gt;&lt;/mechanisms&gt;&lt;register
xmlns='<A HREF="http://jabber.org/features/iq-register'/">http://jabber.org/features/iq-register'/</A>&gt;&lt;/stream:features&gt;]
SEND [&lt;iq id='uid1' to='jabber.org' type='get'&gt;&lt;query
xmlns='jabber:iq:auth'&gt;&lt;username&gt;b2e11&lt;/username&gt;&lt;/query&gt;&lt;/iq&gt;]
RECV [&lt;iq from='jabber.org' id='uid1' type='error'&gt;&lt;error code='501'
type='cancel'&gt;&lt;feature-not-implemented
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;/error&gt;&lt;/iq&gt;]
------------------------------------------------------------------------
-----
 
 
Can you please provide me any clue to solve this issue?
 
Thanks and best regards
Brijesh 


-----Original Message-----
From: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-bounces at jabber.org</A> [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-bounces at jabber.org</A>] On Behalf
Of <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-request at jabber.org</A>
Sent: Sunday, April 09, 2006 10:30 PM
To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
Subject: jdev Digest, Vol 27, Issue 7

Send jdev mailing list submissions to
	<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>

To subscribe or unsubscribe via the World Wide Web, visit
	<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>
or, via email, send a message with subject or body 'help' to
	<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-request at jabber.org</A>

You can reach the person managing the list at
	<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev-owner at jabber.org</A>

When replying, please edit your Subject line so it is more specific than
&quot;Re: Contents of jdev digest...&quot;


Today's Topics:

   1. [ANN] gloox 0.8 (Jakob Schroeter)


----------------------------------------------------------------------

Message: 1
Date: Sun, 9 Apr 2006 00:13:27 +0200
From: Jakob Schroeter &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">js at camaya.net</A>&gt;
Subject: [jdev] [ANN] gloox 0.8
To: Jabber software development list &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
Message-ID: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">200604090013.54547.js at camaya.net</A>&gt;
Content-Type: text/plain; charset=&quot;us-ascii&quot;

I'm pleased to announce the release of gloox 0.8.

New features since 0.7.6:
- Message Events (JEP-0022)
- Chate State Notifications (JEP-0085)
- vcard-temp (JEP-0054)
- In-Band Bytestreams (JEP-0047)
and more improvements and bugfixes.

gloox is a spec-compliant, feature-rich and flexible XMPP library
(basically a client without GUI) written in C++, making it easy to
integrate Jabber/XMPP functionality into existing applications or
writing clients from scratch.

<A HREF="http://camaya.net/gloox">http://camaya.net/gloox</A>

cheers,
Jakob
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url :
<A HREF="https://www.jabber.org/jdev/attachments/20060409/9993fa9e/atta">https://www.jabber.org/jdev/attachments/20060409/9993fa9e/atta</A>
chment-0001.pgp

------------------------------

_______________________________________________
jdev mailing list
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">http://mail.jabber.org/mailman/listinfo/jdev</A>


End of jdev Digest, Vol 27, Issue 7
***********************************

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083514.html">[jdev] Parameter Problem
</A></li>
	<LI>Next message: <A HREF="083516.html">[jdev] How to make a gloox based bot,	which can login to jabber.org and commercial server like XCP at the	same time.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83515">[ date ]</a>
              <a href="thread.html#83515">[ thread ]</a>
              <a href="subject.html#83515">[ subject ]</a>
              <a href="author.html#83515">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Driving/Routing directions via XMPP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Driving/Routing%20directions%20via%20XMPP&In-Reply-To=%3C001a01c48475%24169f8690%246600a8c0%40eteach.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078503.html">
   <LINK REL="Next"  HREF="078500.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Driving/Routing directions via XMPP</H1>
    <B>Richard Dobson</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Driving/Routing%20directions%20via%20XMPP&In-Reply-To=%3C001a01c48475%24169f8690%246600a8c0%40eteach.com%3E"
       TITLE="[jdev] Driving/Routing directions via XMPP">richard at dobson-i.net
       </A><BR>
    <I>Tue Aug 17 11:13:08 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="078503.html">[jdev] Driving/Routing directions via XMPP
</A></li>
        <LI>Next message: <A HREF="078500.html">[jdev] Re: Driving/Routing directions via XMPP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78505">[ date ]</a>
              <a href="thread.html#78505">[ thread ]</a>
              <a href="subject.html#78505">[ subject ]</a>
              <a href="author.html#78505">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> On Wed, 18 Aug 2004 00:10, you wrote:
</I>&gt;&gt;<i> I don't see how your suggestion of child elements actually solves 
</I>&gt;&gt;<i> anything
</I>&gt;&gt;<i> what is the evil user crafted the following:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     &lt;src&gt;
</I>&gt;&gt;<i>         &lt;street&gt;4555 Main Street&lt;/street&gt;
</I>&gt;&gt;<i>         &lt;jid&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">bob at jabber.org</A>&lt;/jid&gt;
</I>&gt;&gt;<i>     &lt;/src&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You still don't know anymore than the original about which one should be
</I>&gt;&gt;<i> used,
</I>&gt;<i>
</I>&gt;<i> And yet, this stanza immediately fails my trivially-written XML schema, 
</I>&gt;<i> and
</I>&gt;<i> gets bounced back to the evil user before my application even has to smell
</I>&gt;<i> it.
</I>
Yes but how many actually use this now, I havent heard of any clients or 
servers for that matter that actually validate every stanza they receive 
against an XML schema so this doesnt really help in the real world, in the 
real world code would have to be written to decide what to do rather than it 
being able to be handled by a schema. There is also another major problem 
with using schema validation in that it would effectively prevent 
extensibility if the schema was written the way you suggest which IMO is a 
rather bad thing, unless a method is created to specify where to download 
the appropriate schema from before processing the stanza which presents even 
more problems to performance in having to wait for the schema to download 
before you can process the stanza. Overall schemas are unlikely to be really 
all that useful in the real world where issues of performance and 
scalability are top priorities, certainly in a online service that is being 
accessed by possibly millions of people.

&gt;&gt;<i> all it does is make it slightly more difficult to process and adds
</I>&gt;&gt;<i> unnecessary extra bytes.
</I>&gt;<i>
</I>&gt;<i> Maybe, if you still use the classic W3C DOM to manipulate all XML.  The 
</I>&gt;<i> rest
</I>&gt;<i> of the world have already discovered better APIs for this, such as XPath. 
</I>&gt;<i> In
</I>&gt;<i> XPath, selecting an attribute is the same as selecting an element, only 
</I>&gt;<i> one
</I>&gt;<i> character longer (&quot;@street&quot; versus &quot;street&quot;.)
</I>
Also as far as XPath goes I don't think many people are using it at this 
moment in time (due to having to roll their own xml libraries and such to 
process the xmpp xml stream) so in the vast majority of cases it is not just 
a matter of a single character and will involve a lot more than that. Also I 
don't think XPath will help if you as much as you suggest as if you have 
more than one possible option you will need to still iterate through the 
elements that are there, which means you are doing effectively the same 
amount of code as you would have using DOM, its either that or you use XPath 
to check for all the possible options to find which ones do not return null, 
which seems a rather messy way to me, and will probably be more code than 
just iterating through the elements if you have more than a few options.

Your suggestions are interesting but you really do need to think more about 
real world applicability rather than theoretical best case scenarios.

Richard



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078503.html">[jdev] Driving/Routing directions via XMPP
</A></li>
	<LI>Next message: <A HREF="078500.html">[jdev] Re: Driving/Routing directions via XMPP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78505">[ date ]</a>
              <a href="thread.html#78505">[ thread ]</a>
              <a href="subject.html#78505">[ subject ]</a>
              <a href="author.html#78505">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

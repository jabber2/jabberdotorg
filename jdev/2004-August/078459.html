<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Reliable presence
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Reliable%20presence&In-Reply-To=%3Ccfccv8%24vns%241%40sea.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078468.html">
   <LINK REL="Next"  HREF="078460.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Reliable presence</H1>
    <B>Nolan Eakins</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Reliable%20presence&In-Reply-To=%3Ccfccv8%24vns%241%40sea.gmane.org%3E"
       TITLE="[jdev] Reliable presence">sneakin at semanticgap.com
       </A><BR>
    <I>Wed Aug 11 01:11:17 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="078468.html">[jdev] Re: New MSN-t in the works
</A></li>
        <LI>Next message: <A HREF="078460.html">[jdev] Reliable presence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78459">[ date ]</a>
              <a href="thread.html#78459">[ thread ]</a>
              <a href="subject.html#78459">[ subject ]</a>
              <a href="author.html#78459">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On the standards-jig list there's been a discussion on reliable XMPP going
on, and I wanted to bring up point #2 Justin made in
<A HREF="http://www.jabber.org/pipermail/standards-jig/2003-December/004570.html">http://www.jabber.org/pipermail/standards-jig/2003-December/004570.html</A>
since I saw happen for the first time last night. While I was in jdev there
happened to be a 6 hour ghost due to a server's connection being broken.
That was due to an unavailable presence never being sent. The same could
happen if one of my contacts was online. He'd still appear online if his
server's connection to the outside world vanished.

This could be a real problem if you take the case that St. Peter wrote on
his blog of giving a router presence. If it goes down and the monitor's
Jabber server is on the other side of the break, two hops away, then the
monitor wouldn't know that it went down.

The network looks something like this, with \/\ being the break:
   Monitor &lt;---&gt; S1 &lt;-\/\--&gt; S2 &lt;---&gt; Router

The break might get noticed if a message is sent using JEP-0022 or AMP, but
there would still be the router's phantom presence. Justin suggested that
server's should cache available presences that get routed through it, and
if the s2s connection isn't there the server would try to connect
periodically to make sure the server was still reachable. If it wasn't then
the server would generate unavailable presence stanzas for all JIDs for
that server.

That would solve the phantom presence problem. If anyone has a better
solution, add on to this thread. Hopefully a future historical JEP can be
writen describing this problem and solution once jabberd is fixed.

Regards,
Nolan
-- 
Semantic Gap Solutions
<A HREF="http://www.semanticgap.com/">http://www.semanticgap.com/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078468.html">[jdev] Re: New MSN-t in the works
</A></li>
	<LI>Next message: <A HREF="078460.html">[jdev] Reliable presence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78459">[ date ]</a>
              <a href="thread.html#78459">[ thread ]</a>
              <a href="subject.html#78459">[ subject ]</a>
              <a href="author.html#78459">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Driving/Routing directions via XMPP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Driving/Routing%20directions%20via%20XMPP&In-Reply-To=%3C001201c48463%24ed254d10%246600a8c0%40eteach.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078498.html">
   <LINK REL="Next"  HREF="078503.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Driving/Routing directions via XMPP</H1>
    <B>Richard Dobson</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5Bjdev%5D%20Driving/Routing%20directions%20via%20XMPP&In-Reply-To=%3C001201c48463%24ed254d10%246600a8c0%40eteach.com%3E"
       TITLE="[jdev] Driving/Routing directions via XMPP">richard at dobson-i.net
       </A><BR>
    <I>Tue Aug 17 09:10:17 CDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="078498.html">[jdev] Driving/Routing directions via XMPP
</A></li>
        <LI>Next message: <A HREF="078503.html">[jdev] Driving/Routing directions via XMPP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78501">[ date ]</a>
              <a href="thread.html#78501">[ thread ]</a>
              <a href="subject.html#78501">[ subject ]</a>
              <a href="author.html#78501">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> &lt;iq
</I>&gt;&gt;<i>     to='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">lbs at movsoftware.com</A>/lbs'
</I>&gt;&gt;<i>     from=' <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">juliet at capulet.com</A>/balcony'
</I>&gt;&gt;<i>     type='get'
</I>&gt;&gt;<i>     id='route1'&gt;
</I>&gt;&gt;<i>   &lt;query xmlns='<A HREF="http://www.movsoftware.com/protocol/routing'">http://www.movsoftware.com/protocol/routing'</A>&gt;
</I>&gt;&gt;<i>     &lt;src street= '4555 Main Street ' city='Philadelphia' state = 'PA'
</I>&gt;&gt;<i> country='USA' code='19117'/ &gt;
</I>&gt;&gt;<i>     &lt;dst street= '9000 West Elm Street ' city='Philadelphia' state = 'PA'
</I>&gt;&gt;<i> country='USA' code='19117'/ &gt;
</I>&gt;<i>
</I>&gt;<i> Careful of the inconsistent XML schema.  Users can easily craft evil stuff
</I>&gt;<i> like this:
</I>&gt;<i>
</I>&gt;<i>    &lt;src street='4555 Main Street' jid='<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">bob at jabber.org</A>'/&gt;
</I>&gt;<i>
</I>&gt;<i> Uh-oh, which do we use?  The main street from the query?  Or the main 
</I>&gt;<i> street
</I>&gt;<i> from the user's actual location?  Better if these children were elements,
</I>&gt;<i> sort of like...
</I>&gt;<i>
</I>&gt;<i>    &lt;src&gt;
</I>&gt;<i>        &lt;street&gt;4555 Main Street&lt;/street&gt;
</I>&gt;<i>    &lt;/src&gt;
</I>&gt;<i>
</I>&gt;<i> That allows you to have a constraint where street and jid are mutually
</I>&gt;<i> exclusive, without resorting to RELAX NG.  And it doesn't add too many
</I>&gt;<i> characters evil. :-)
</I>
I don't see how your suggestion of child elements actually solves anything 
what is the evil user crafted the following:

    &lt;src&gt;
        &lt;street&gt;4555 Main Street&lt;/street&gt;
        &lt;jid&gt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">bob at jabber.org</A>&lt;/jid&gt;
    &lt;/src&gt;

You still don't know anymore than the original about which one should be 
used, the problem of which one to use cannot be solved by changing the 
format of the xml, the only place it can be solved is in the rules (code) 
you use for processing the xml. I say keep it how it was, its fine that way. 
Having child elements for the reasons you suggest does not actually solve 
the problem you were alluding to and all it does is make it slightly more 
difficult to process and adds unnecessary extra bytes.

Richard



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078498.html">[jdev] Driving/Routing directions via XMPP
</A></li>
	<LI>Next message: <A HREF="078503.html">[jdev] Driving/Routing directions via XMPP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78501">[ date ]</a>
              <a href="thread.html#78501">[ thread ]</a>
              <a href="subject.html#78501">[ subject ]</a>
              <a href="author.html#78501">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

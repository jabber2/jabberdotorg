<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] Re: Building jabberd on hp-ux - FIX
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20Building%20jabberd%20on%20hp-ux%20-%20FIX&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010194.html">
   <LINK REL="Next"  HREF="010174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] Re: Building jabberd on hp-ux - FIX</H1>
    <B>Brennan, James</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5BJDEV%5D%20Re%3A%20Building%20jabberd%20on%20hp-ux%20-%20FIX&In-Reply-To="
       TITLE="[JDEV] Re: Building jabberd on hp-ux - FIX">BrennanJ at logica.com
       </A><BR>
    <I>Wed Nov 14 10:39:48 CST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="010194.html">[JDEV] Perl and c SHA problems
</A></li>
        <LI>Next message: <A HREF="010174.html">[JDEV] New JabberCOM.DLL posted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10171">[ date ]</a>
              <a href="thread.html#10171">[ thread ]</a>
              <a href="subject.html#10171">[ subject ]</a>
              <a href="author.html#10171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi chris!

To run jabber on HPUX, I had to configure and compile PTH as follows...

In the pth-1.3.7 (or whatever version of pth ur using) run:

./configure --with-mctx-mth=sjlj --with-mctx-dsp=sjlj --with-mctx-stk=sas
--enable-pthread

Then you can 'make' the pth library.

I was having the very same problems as you guys describe below.
get/set/swapcontext() look to be causing the problem.
By using the following switches above, you use sigsetjmp/siglongjump, etc
instead, which works for me (HPUX 11.00)

PS - You probably dont need the --enable-thread switch above

hope this works for you
james

-----Original Message-----
From: MacNamara, Chris [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">MacNamaraC at logica.com</A>]
Sent: Monday, October 15, 2001 3:01 PM
To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
Subject: [JDEV] Re: Building jabberd on hp-ux 



I have the exact same problem. I was hoping that you have found a solution.

Chris.


&gt;<i>Thanks Doug,
</I>
&gt;<i> I tried it and it seems to be hanging
</I>&gt;<i> at pth_yield(NULL) in mio_init in mio.c
</I>&gt;<i>
</I>&gt;<i> I think this is a pth problem.
</I>&gt;<i> I tried the pth test program test_httpd.
</I>&gt;<i> As you said, it hangs; some problem with pth on hpux.
</I>&gt;<i> Need to find a solution for this.
</I>&gt;<i> If I come across any solution, I'll let you know.
</I>&gt;<i> 
</I>&gt;<i>Thanks,
</I>&gt;<i>Seeniraj
</I>
-----Original Message-----
From: Doug Claar [mailto:<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">doug at claar.org</A>]
Sent: Monday, September 17, 2001 10:11 AM
To: <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
Subject: [JDEV] Re: Building jabberd on hp-ux



The problem I ran into on hp-ux was not the jabber server itself, but
rather the posix threads package. It compiles fine, but it just hangs
when called. If you actually try running the test suite for the pth
package, you end up with a process running that chews up all your CPU
until you kill -9 it. Don't know if that's the case if you call it from
jabber, but you might check...

I got busy, so I wasn't able to resolve the pth problem...

==Doug Claar
_______________________________________________
jdev mailing list
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
<A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>




This e-mail and any attachment is for authorised use by the intended
recipient(s) only.  It may contain proprietary material, confidential
information and/or be subject to legal privilege.  It should not be copied,
disclosed to, retained or used by, any other party.  If you are not an
intended recipient then please promptly delete this e-mail and any
attachment and all copies and inform the sender.  Thank you.
_______________________________________________
jdev mailing list
<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
<A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>

This e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010194.html">[JDEV] Perl and c SHA problems
</A></li>
	<LI>Next message: <A HREF="010174.html">[JDEV] New JabberCOM.DLL posted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10171">[ date ]</a>
              <a href="thread.html#10171">[ thread ]</a>
              <a href="subject.html#10171">[ subject ]</a>
              <a href="author.html#10171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

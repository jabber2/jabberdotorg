<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] 0k authentication + java
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%200k%20authentication%20%2B%20java&In-Reply-To=%3C004c01c16647%24f73b89f0%24803c3c40%40chickenman%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039376.html">
   <LINK REL="Next"  HREF="039378.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] 0k authentication + java</H1>
    <B>Robert Cadena</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%200k%20authentication%20%2B%20java&In-Reply-To=%3C004c01c16647%24f73b89f0%24803c3c40%40chickenman%3E"
       TITLE="[JDEV] 0k authentication + java">robert at alphavirtual.com
       </A><BR>
    <I>Mon Nov  5 16:19:40 CST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="039376.html">[JDEV] Bug with peer resources going offline?
</A></li>
        <LI>Next message: <A HREF="039378.html">[JDEV] 0k authentication + java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39377">[ date ]</a>
              <a href="thread.html#39377">[ thread ]</a>
              <a href="subject.html#39377">[ subject ]</a>
              <a href="author.html#39377">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>i've been looking through the archives for the answer to my problems with
sha authentication and hashing using java but can't find it.  i saw a few
posts regarding this topic so i would like to know if anyone has found the
answers.

i'm trying to do java and 0k authentication.  i have tried to follow the
specs but i'm not entirely sure i'm doing it the right way.  here are my
questions:

    1. the token the server sends me...it looks like a hex sequence.  should
i hash the string or convert the sequence into a byte sequence then hash
that?
    2. the simple authentication says something like: take the id and concat
it to the password, then hash.  for the 0k authentication it says use
&quot;passwordHash+token&quot;  so, is this the correct sequence to contact the
strings? and
    3. should i convert the password hash into a string representation of a
byte sequence, concat that to the token and hash that string? or should i
hash the passwordHash byte sequence plus the token sequence.
    4. and should each subsequent hash be converted to string rep then
rehashed or just hash on the bytes returned from the previous hash?

i've tried all the possible combinations i've listed above, none of them
have worked, so i'm obviously doing something extremely wrong: so my next
question is for those familiar with the java messagedigest obj:
    * could you tell me if updating the message digest adds the byte
sequence to the end of the previous digest or do i need to use
System.arraycopy to create a new password+hash sequence, update the message
digest with that and rehash?


i looked at the message with the c snippet for hashing but i couldn't
translate it to java because i'm not sure what the sha_hash function params
are.
*any* help is appreciated

here are some references:
    Previous Java 0K question -
<A HREF="http://mailman.jabber.org/pipermail/jdev/2001-August/007970.html">http://mailman.jabber.org/pipermail/jdev/2001-August/007970.html</A>
    Simple Client Auth -
<A HREF="http://docs.jabber.org/proto/html/jabber:iq:auth.html">http://docs.jabber.org/proto/html/jabber:iq:auth.html</A>
    0k Auth Draft - <A HREF="http://docs.jabber.org/draft-proto/html/zerok.html">http://docs.jabber.org/draft-proto/html/zerok.html</A>

thanks!

/r




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039376.html">[JDEV] Bug with peer resources going offline?
</A></li>
	<LI>Next message: <A HREF="039378.html">[JDEV] 0k authentication + java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39377">[ date ]</a>
              <a href="thread.html#39377">[ thread ]</a>
              <a href="subject.html#39377">[ subject ]</a>
              <a href="author.html#39377">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

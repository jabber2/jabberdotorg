<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] broken tcp connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20broken%20tcp%20connections&In-Reply-To=%3C20011109015358.A12359%40gondor.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068700.html">
   <LINK REL="Next"  HREF="068715.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] broken tcp connections</H1>
    <B>Jan Niehusmann</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%20broken%20tcp%20connections&In-Reply-To=%3C20011109015358.A12359%40gondor.com%3E"
       TITLE="[JDEV] broken tcp connections">jan at gondor.com
       </A><BR>
    <I>Thu Nov  8 18:53:58 CST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="068700.html">[JDEV] small mod to jabber's source
</A></li>
        <LI>Next message: <A HREF="068715.html">[JDEV] Jabber help required.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68714">[ date ]</a>
              <a href="thread.html#68714">[ thread ]</a>
              <a href="subject.html#68714">[ subject ]</a>
              <a href="author.html#68714">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Perhaps it's a known problem - today I wondered why one contact didn't
go offline, while I knew that the computer the client ran on was
disconnected from the network.

tcpdump showed that jabberd tried to send packets to the clients, but
got no reply. Probably due to the client's firewall setup, it didn't get
a RST or port/host unreachable. So it took a fairly long time until the
tcp connection timed out and the server noticed the client went offline.

Even worse, messages sent to this contact during the time he was
'offline without notice' got lost. I assume the jabber server already
pushed them to the tcp stream and assumed they got delivered.

A first step towards a solution would be shortening the tcp timeout.
I don't know much about tcp programming, but I think it's possible for
an application to set the timeout?

Jan


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068700.html">[JDEV] small mod to jabber's source
</A></li>
	<LI>Next message: <A HREF="068715.html">[JDEV] Jabber help required.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68714">[ date ]</a>
              <a href="thread.html#68714">[ thread ]</a>
              <a href="subject.html#68714">[ subject ]</a>
              <a href="author.html#68714">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

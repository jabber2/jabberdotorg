<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JDEV] 0k authentication + java
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%200k%20authentication%20%2B%20java&In-Reply-To=%3C5.1.0.14.2.20011105144701.034bf188%40mail.echomine.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068662.html">
   <LINK REL="Next"  HREF="068667.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JDEV] 0k authentication + java</H1>
    <B>Chris Chen</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=Re%3A%20%5BJDEV%5D%200k%20authentication%20%2B%20java&In-Reply-To=%3C5.1.0.14.2.20011105144701.034bf188%40mail.echomine.com%3E"
       TITLE="[JDEV] 0k authentication + java">ckchris at idream.net
       </A><BR>
    <I>Mon Nov  5 16:49:27 CST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="068662.html">[JDEV] 0k authentication + java
</A></li>
        <LI>Next message: <A HREF="068667.html">[JDEV] 0k authentication + java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68663">[ date ]</a>
              <a href="thread.html#68663">[ thread ]</a>
              <a href="subject.html#68663">[ subject ]</a>
              <a href="author.html#68663">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, I finally got it figured out.. Apparently, the hashed string needs to 
be all lowercase.

Your reference message is the one I posted.. Since then, I have gotten Java 
0k auth to work... You can check out the source code at:

<A HREF="http://www.echomine.org/projects/muse/">http://www.echomine.org/projects/muse/</A>


I recently just released a new version of the API that includes support for 
most of the jabber message types (minus about a 3 or 4 message types not 
implemented yet).

Take a look at the class AuthIQMessage and you'll see how the 0k is done.

Thanks,
Chris

At 02:19 PM 11/5/2001, you wrote:
&gt;<i>i've been looking through the archives for the answer to my problems with
</I>&gt;<i>sha authentication and hashing using java but can't find it.  i saw a few
</I>&gt;<i>posts regarding this topic so i would like to know if anyone has found the
</I>&gt;<i>answers.
</I>&gt;<i>
</I>&gt;<i>i'm trying to do java and 0k authentication.  i have tried to follow the
</I>&gt;<i>specs but i'm not entirely sure i'm doing it the right way.  here are my
</I>&gt;<i>questions:
</I>&gt;<i>
</I>&gt;<i>     1. the token the server sends me...it looks like a hex sequence.  should
</I>&gt;<i>i hash the string or convert the sequence into a byte sequence then hash
</I>&gt;<i>that?
</I>&gt;<i>     2. the simple authentication says something like: take the id and concat
</I>&gt;<i>it to the password, then hash.  for the 0k authentication it says use
</I>&gt;<i>&quot;passwordHash+token&quot;  so, is this the correct sequence to contact the
</I>&gt;<i>strings? and
</I>&gt;<i>     3. should i convert the password hash into a string representation of a
</I>&gt;<i>byte sequence, concat that to the token and hash that string? or should i
</I>&gt;<i>hash the passwordHash byte sequence plus the token sequence.
</I>&gt;<i>     4. and should each subsequent hash be converted to string rep then
</I>&gt;<i>rehashed or just hash on the bytes returned from the previous hash?
</I>&gt;<i>
</I>&gt;<i>i've tried all the possible combinations i've listed above, none of them
</I>&gt;<i>have worked, so i'm obviously doing something extremely wrong: so my next
</I>&gt;<i>question is for those familiar with the java messagedigest obj:
</I>&gt;<i>     * could you tell me if updating the message digest adds the byte
</I>&gt;<i>sequence to the end of the previous digest or do i need to use
</I>&gt;<i>System.arraycopy to create a new password+hash sequence, update the message
</I>&gt;<i>digest with that and rehash?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>i looked at the message with the c snippet for hashing but i couldn't
</I>&gt;<i>translate it to java because i'm not sure what the sha_hash function params
</I>&gt;<i>are.
</I>&gt;<i>*any* help is appreciated
</I>&gt;<i>
</I>&gt;<i>here are some references:
</I>&gt;<i>     Previous Java 0K question -
</I>&gt;<i><A HREF="http://mailman.jabber.org/pipermail/jdev/2001-August/007970.html">http://mailman.jabber.org/pipermail/jdev/2001-August/007970.html</A>
</I>&gt;<i>     Simple Client Auth -
</I>&gt;<i><A HREF="http://docs.jabber.org/proto/html/jabber:iq:auth.html">http://docs.jabber.org/proto/html/jabber:iq:auth.html</A>
</I>&gt;<i>     0k Auth Draft - <A HREF="http://docs.jabber.org/draft-proto/html/zerok.html">http://docs.jabber.org/draft-proto/html/zerok.html</A>
</I>&gt;<i>
</I>&gt;<i>thanks!
</I>&gt;<i>
</I>&gt;<i>/r
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>jdev mailing list
</I>&gt;<i><A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>
</I>&gt;<i><A HREF="http://mailman.jabber.org/listinfo/jdev">http://mailman.jabber.org/listinfo/jdev</A>
</I>
PGP at <A HREF="ldap://certserver.pgp.com/">ldap://certserver.pgp.com/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068662.html">[JDEV] 0k authentication + java
</A></li>
	<LI>Next message: <A HREF="068667.html">[JDEV] 0k authentication + java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68663">[ date ]</a>
              <a href="thread.html#68663">[ thread ]</a>
              <a href="subject.html#68663">[ subject ]</a>
              <a href="author.html#68663">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

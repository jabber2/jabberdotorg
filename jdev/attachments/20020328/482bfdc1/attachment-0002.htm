<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
Without&nbsp;looking&nbsp;at&nbsp;the&nbsp;code,&nbsp;I&nbsp;can&nbsp;say&nbsp;there&nbsp;is&nbsp;a&nbsp;99%&nbsp;chance&nbsp;this&nbsp;means&nbsp;that<br>
there&nbsp;has&nbsp;been&nbsp;memory&nbsp;corruption.&nbsp;Several&nbsp;things&nbsp;could&nbsp;have&nbsp;caused&nbsp;this&nbsp;corruption<br>
(array&nbsp;write&nbsp;out&nbsp;of&nbsp;bounds,&nbsp;double&nbsp;free,&nbsp;etc.)&nbsp;There&nbsp;is&nbsp;a&nbsp;good&nbsp;chance&nbsp;it<br>
could&nbsp;be&nbsp;gcc&nbsp;3.0.1&nbsp;-&nbsp;there&nbsp;are&nbsp;a&nbsp;ton&nbsp;of&nbsp;changes&nbsp;which&nbsp;happened&nbsp;to&nbsp;their&nbsp;C++<br>
implementation&nbsp;between&nbsp;2.95.3&nbsp;and&nbsp;3.0.x.&nbsp;There&nbsp;have&nbsp;also&nbsp;been&nbsp;a&nbsp;lot&nbsp;of&nbsp;improvements<br>
since&nbsp;3.0,&nbsp;so&nbsp;if&nbsp;you&nbsp;can&nbsp;upgrade&nbsp;to&nbsp;3.0.4,&nbsp;I&nbsp;would&nbsp;recommend&nbsp;it.&nbsp;The&nbsp;STL<br>
implementation&nbsp;within&nbsp;versions&nbsp;of&nbsp;gcc&nbsp;before&nbsp;3.0.x&nbsp;were&nbsp;thread-unsafe,&nbsp;especially<br>
for&nbsp;std:string&nbsp;(they&nbsp;were&nbsp;interally&nbsp;reference-counted,&nbsp;but&nbsp;the&nbsp;reference<br>
modification&nbsp;was&nbsp;not&nbsp;atomic,&nbsp;nor&nbsp;was&nbsp;the&nbsp;reference&nbsp;comparison)&lt;br&gt;<br>
&lt;br&gt;<br>
-David&nbsp;Waite&lt;br&gt;<br>
&lt;br&gt;<br>
Wim&nbsp;Godden&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;cite=&quot;mid3CA2F200.4FD7E6B7@godden.net&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;This&nbsp;is&nbsp;the&nbsp;result&nbsp;:&lt;br&gt;&lt;br&gt;Core&nbsp;was&nbsp;generated&nbsp;by&nbsp;`icqv7ext'.&lt;br&gt;Program&nbsp;terminated&nbsp;with&nbsp;signal&nbsp;11,&nbsp;Segmentation&nbsp;fault.&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/usr/local/lib/libsigc-1.0.so.0...done.&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libpthread.so.0...done.&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libresolv.so.2...done.&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/usr/local/lib/libstdc++.so.3...done.&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libm.so.6...done.&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/usr/local/lib/libgcc_s.so.1...done.&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libc.so.6...done.&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/ld-linux.so.2...done.&lt;br&gt;#0&nbsp;&nbsp;0x40126e88&nbsp;in&nbsp;chunk_alloc&nbsp;(ar_ptr=0x401bbd40,&nbsp;nb=16)&nbsp;at&nbsp;malloc.c:2875&lt;br&gt;2875&nbsp;&nbsp;&nbsp;&nbsp;malloc.c:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory.&lt;br&gt;(gdb)&nbsp;bt&lt;br&gt;#0&nbsp;&nbsp;0x40126e88&nbsp;in&nbsp;chunk_alloc&nbsp;(ar_ptr=0x401bbd40,&nbsp;nb=16)&nbsp;at&nbsp;malloc.c:2875&lt;br&gt;#1&nbsp;&nbsp;0x401265ae&nbsp;in&nbsp;__libc_malloc&nbsp;(bytes=12)&nbsp;at&nbsp;malloc.c:2696&lt;br&gt;#2&nbsp;&nbsp;0x80de950&nbsp;in&nbsp;_ZNSt23__malloc_alloc_templateILi0EE8allocateEj&nbsp;(__n=12)&nbsp;at&lt;br&gt;/usr/local/include/g++-v3/bits/stl_alloc.h:114&lt;br&gt;#3&nbsp;&nbsp;0x8<br>
06f6d1&nbsp;in&lt;br&gt;_ZN7bedrock3net6SocketC1ERNS0_13SocketWatcherERNS_10ThreadPoolEiiPNS0_5KarmaEPNS0_15ConnectionLimitE&lt;br&gt;(&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;this=0x8153010,&nbsp;watcher=@0xbffff81c,&nbsp;pool=@0xbffff7c4,&nbsp;key=0,&lt;br&gt;socketfd=-1,&nbsp;karma=0x0,&nbsp;conn_limit=0x0)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;/usr/local/include/g++-v3/bits/stl_alloc.h:184&lt;br&gt;#4&nbsp;&nbsp;0x806e655&nbsp;in&lt;br&gt;_ZN7bedrock3net13SocketWatcher19createConnectSocketEPNS0_19SocketEventListenerEPKcS5_iiPNS0_5KarmaE&lt;br&gt;(&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;this=0xbffff81c,&nbsp;listener=0xbffff9f4,&nbsp;host=0x814fad4&nbsp;&quot;127.0.0.1&quot;,&lt;br&gt;service=0x814fab4&nbsp;&quot;_jabber._tcp&quot;,&nbsp;defaultport=7000,&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;thread_key=0,&nbsp;karma=0x0)&nbsp;at&nbsp;SocketWatcher.cpp:195&lt;br&gt;#5&nbsp;&nbsp;0x80db48e&nbsp;in&lt;br&gt;_ZN3jax16RouterConnectionINS_6PacketES1_E7connectERKSsS4_RN7bedrock3net7AddressE&lt;br&gt;(this=0xbffff9f0,&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;name=@0xbffff7a4,&nbsp;secret=@0xbffffac0,&nbsp;a=@0xbffff5d0)&nbsp;at&lt;br&gt;/usr/local/include/g++-v3/bits/basic_string.h:396&lt;br&gt;#6&nbsp;&nbsp;0x8059516&nbsp;in&nbsp;_ZN8IcqTransC1ERKSsS1_S1_jb&nbsp;(this=0xbffff7a0,&lt;br&gt;serviceid=@0xbffffad0,&nbsp;password=@0xbffffac0,&nbsp;hostname=@0xbffffab0,&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;port=<br>
7000,&nbsp;outgoing_dir=true)&nbsp;at&nbsp;IcqTrans.cpp:67&lt;br&gt;#7&nbsp;&nbsp;0x8069c17&nbsp;in&nbsp;main&nbsp;(argc=1,&nbsp;argv=0xbffffb44)&nbsp;at&nbsp;main.cpp:113&lt;br&gt;Current&nbsp;language:&nbsp;&nbsp;auto;&nbsp;currently&nbsp;c&lt;br&gt;&lt;br&gt;&lt;br&gt;David&nbsp;Waite&nbsp;wrote:&lt;br&gt;&lt;br&gt;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Wim&nbsp;Godden&nbsp;wrote:&lt;br&gt;&lt;br&gt;&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Trying&nbsp;to&nbsp;run&nbsp;it&nbsp;like&nbsp;this&nbsp;:&lt;br&gt;icqv7ext&nbsp;-n&nbsp;icqv7ext&nbsp;-s&nbsp;secretpass&nbsp;-h&nbsp;127.0.0.1&nbsp;-p&nbsp;7000&nbsp;-m&lt;br&gt;sms.localnetwork.local&lt;br&gt;&lt;br&gt;I&nbsp;get&nbsp;:&lt;br&gt;Starting&nbsp;component...&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Component&nbsp;ID&nbsp;:&nbsp;icqv7ext&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Secret&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;secretpass&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jabberd&nbsp;IP&nbsp;&nbsp;&nbsp;:&nbsp;127.0.0.1&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jabberd&nbsp;Port&nbsp;:&nbsp;7000&lt;br&gt;Segmentation&nbsp;fault&nbsp;(core&nbsp;dumped)&lt;br&gt;&lt;br&gt;&lt;br&gt;Any&nbsp;ideas&nbsp;?&lt;br&gt;&lt;br&gt;&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Sounds&nbsp;like&nbsp;it&nbsp;is&nbsp;core-dumping&nbsp;wihle&nbsp;trying&nbsp;to&nbsp;start&nbsp;the&nbsp;component&nbsp;:-)&lt;br&gt;&lt;br&gt;Perhaps&nbsp;you&nbsp;could&nbsp;post&nbsp;a&nbsp;backtrace&nbsp;from&nbsp;the&nbsp;core?&nbsp;(perhaps&nbsp;&quot;gdb&nbsp;icqv7ext&lt;br&gt;-c&nbsp;core&quot;,&nbsp;then&nbsp;&quot;bt&quot;.)&nbsp;Cores&nbsp;from&nbsp;threaded&nbsp;components&nbsp;are&nbsp;much&nbsp;nicer&nbsp;if&lt;br&gt;they&nbsp;are&nbsp;generated&nbsp;from&nbsp;something&nbsp;other&nbsp;than&nbsp;Linux;&nbsp;if&nbsp;you&nbsp;are&nbsp;using&lt;br&gt;Linux&nbsp;try&nbsp;to&nbsp;use&nbsp;the&nbsp;newest&nbsp;kernel&nbsp;possible&nbsp;(as&nbsp;they&nbsp;reworked&nbsp;a&nbsp;bit&nbsp;of&lt;br&gt;this&nbsp;logic&nbsp;within&nbsp;the&nbsp;2.4&nbsp;series)&lt;br&gt;&lt;br&gt;-David&nbsp;Waite&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;jdev&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:jdev@jabber.org&quot;&gt;jdev@jabber.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://mailman.jabber.org/listinfo/jdev&quot;&gt;http://mailman.jabber.org/listinfo/jdev&lt;/a&gt;&lt;br&gt;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;&lt;br&gt;--&lt;br&gt;-----&lt;br&gt;FirstLink&nbsp;Networks&nbsp;-&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://www.firstlinknetworks.com&quot;&gt;http://www.firstlinknetworks.com&lt;/a&gt;&lt;br&gt;-----&lt;br&gt;De&nbsp;leukste&nbsp;moppen&nbsp;op&nbsp;je&nbsp;scherm&nbsp;en&nbsp;in&nbsp;je&nbsp;mailbox&nbsp;:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://www.moppen.be&quot;&gt;http://www.moppen.be&lt;/a&gt;&nbsp;!!!!&lt;br&gt;&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;jdev&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:jdev@jabber.org&quot;&gt;jdev@jabber.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://mailman.jabber.org/listinfo/jdev&quot;&gt;http://mailman.jabber.org/listinfo/jdev&lt;/a&gt;&lt;br&gt;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>

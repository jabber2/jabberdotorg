<tt>
&lt;!doctype&nbsp;html&nbsp;public&nbsp;&quot;-//w3c//dtd&nbsp;html&nbsp;4.0&nbsp;transitional//en&quot;&gt;<br>
&lt;html&gt;<br>
Sadly,&nbsp;I'm&nbsp;already&nbsp;using&nbsp;3.0.4...&nbsp;I&nbsp;had&nbsp;to&nbsp;upgrade&nbsp;to&nbsp;3.0.4&nbsp;because&nbsp;my<br>
previous&nbsp;gcc&nbsp;wouldn't&nbsp;work...<br>
&lt;p&gt;So&nbsp;I&nbsp;guess&nbsp;I'm&nbsp;stuck&nbsp;?<br>
&lt;br&gt;&amp;nbsp;<br>
&lt;p&gt;David&nbsp;Waite&nbsp;wrote:<br>
&lt;blockquote&nbsp;TYPE=CITE&gt;Without&nbsp;looking&nbsp;at&nbsp;the&nbsp;code,&nbsp;I&nbsp;can&nbsp;say&nbsp;there&nbsp;is&nbsp;a<br>
99%&nbsp;chance&nbsp;this&nbsp;means&nbsp;that&nbsp;there&nbsp;has&nbsp;been&nbsp;memory&nbsp;corruption.&nbsp;Several&nbsp;things<br>
could&nbsp;have&nbsp;caused&nbsp;this&nbsp;corruption&nbsp;(array&nbsp;write&nbsp;out&nbsp;of&nbsp;bounds,&nbsp;double&nbsp;free,<br>
etc.)&nbsp;There&nbsp;is&nbsp;a&nbsp;good&nbsp;chance&nbsp;it&nbsp;could&nbsp;be&nbsp;gcc&nbsp;3.0.1&nbsp;-&nbsp;there&nbsp;are&nbsp;a&nbsp;ton&nbsp;of<br>
changes&nbsp;which&nbsp;happened&nbsp;to&nbsp;their&nbsp;C++&nbsp;implementation&nbsp;between&nbsp;2.95.3&nbsp;and&nbsp;3.0.x.<br>
There&nbsp;have&nbsp;also&nbsp;been&nbsp;a&nbsp;lot&nbsp;of&nbsp;improvements&nbsp;since&nbsp;3.0,&nbsp;so&nbsp;if&nbsp;you&nbsp;can&nbsp;upgrade<br>
to&nbsp;3.0.4,&nbsp;I&nbsp;would&nbsp;recommend&nbsp;it.&nbsp;The&nbsp;STL&nbsp;implementation&nbsp;within&nbsp;versions<br>
of&nbsp;gcc&nbsp;before&nbsp;3.0.x&nbsp;were&nbsp;thread-unsafe,&nbsp;especially&nbsp;for&nbsp;std:string&nbsp;(they<br>
were&nbsp;interally&nbsp;reference-counted,&nbsp;but&nbsp;the&nbsp;reference&nbsp;modification&nbsp;was&nbsp;not<br>
atomic,&nbsp;nor&nbsp;was&nbsp;the&nbsp;reference&nbsp;comparison)<br>
&lt;p&gt;-David&nbsp;Waite<br>
&lt;p&gt;Wim&nbsp;Godden&nbsp;wrote:<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;cite=&quot;mid3CA2F200.4FD7E6B7@godden.net&quot;&gt;<br>
&lt;pre&nbsp;wrap=&quot;&quot;&gt;This&nbsp;is&nbsp;the&nbsp;result&nbsp;:<br>
<br>
Core&nbsp;was&nbsp;generated&nbsp;by&nbsp;`icqv7ext'.<br>
Program&nbsp;terminated&nbsp;with&nbsp;signal&nbsp;11,&nbsp;Segmentation&nbsp;fault.<br>
Reading&nbsp;symbols&nbsp;from&nbsp;/usr/local/lib/libsigc-1.0.so.0...done.<br>
Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libpthread.so.0...done.<br>
Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libresolv.so.2...done.<br>
Reading&nbsp;symbols&nbsp;from&nbsp;/usr/local/lib/libstdc++.so.3...done.<br>
Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libm.so.6...done.<br>
Reading&nbsp;symbols&nbsp;from&nbsp;/usr/local/lib/libgcc_s.so.1...done.<br>
Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libc.so.6...done.<br>
Reading&nbsp;symbols&nbsp;from&nbsp;/lib/ld-linux.so.2...done.<br>
#0&amp;nbsp;&nbsp;0x40126e88&nbsp;in&nbsp;chunk_alloc&nbsp;(ar_ptr=0x401bbd40,&nbsp;nb=16)&nbsp;at&nbsp;malloc.c:2875<br>
2875&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;malloc.c:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory.<br>
(gdb)&nbsp;bt<br>
#0&amp;nbsp;&nbsp;0x40126e88&nbsp;in&nbsp;chunk_alloc&nbsp;(ar_ptr=0x401bbd40,&nbsp;nb=16)&nbsp;at&nbsp;malloc.c:2875<br>
#1&amp;nbsp;&nbsp;0x401265ae&nbsp;in&nbsp;__libc_malloc&nbsp;(bytes=12)&nbsp;at&nbsp;malloc.c:2696<br>
#2&amp;nbsp;&nbsp;0x80de950&nbsp;in&nbsp;_ZNSt23__malloc_alloc_templateILi0EE8allocateEj&nbsp;(__n=12)&nbsp;at<br>
/usr/local/include/g++-v3/bits/stl_alloc.h:114<br>
#3&amp;nbsp;&nbsp;0x8<br>
06f6d1&nbsp;in<br>
_ZN7bedrock3net6SocketC1ERNS0_13SocketWatcherERNS_10ThreadPoolEiiPNS0_5KarmaEPNS0_15ConnectionLimitE<br>
(<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;this=0x8153010,&nbsp;watcher=@0xbffff81c,&nbsp;pool=@0xbffff7c4,&nbsp;key=0,<br>
socketfd=-1,&nbsp;karma=0x0,&nbsp;conn_limit=0x0)<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;/usr/local/include/g++-v3/bits/stl_alloc.h:184<br>
#4&amp;nbsp;&nbsp;0x806e655&nbsp;in<br>
_ZN7bedrock3net13SocketWatcher19createConnectSocketEPNS0_19SocketEventListenerEPKcS5_iiPNS0_5KarmaE<br>
(<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;this=0xbffff81c,&nbsp;listener=0xbffff9f4,&nbsp;host=0x814fad4&nbsp;&quot;127.0.0.1&quot;,<br>
service=0x814fab4&nbsp;&quot;_jabber._tcp&quot;,&nbsp;defaultport=7000,<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;thread_key=0,&nbsp;karma=0x0)&nbsp;at&nbsp;SocketWatcher.cpp:195<br>
#5&amp;nbsp;&nbsp;0x80db48e&nbsp;in<br>
_ZN3jax16RouterConnectionINS_6PacketES1_E7connectERKSsS4_RN7bedrock3net7AddressE<br>
(this=0xbffff9f0,<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;name=@0xbffff7a4,&nbsp;secret=@0xbffffac0,&nbsp;a=@0xbffff5d0)&nbsp;at<br>
/usr/local/include/g++-v3/bits/basic_string.h:396<br>
#6&amp;nbsp;&nbsp;0x8059516&nbsp;in&nbsp;_ZN8IcqTransC1ERKSsS1_S1_jb&nbsp;(this=0xbffff7a0,<br>
serviceid=@0xbffffad0,&nbsp;password=@0xbffffac0,&nbsp;hostname=@0xbffffab0,<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;port=<br>
7000,&nbsp;outgoing_dir=true)&nbsp;at&nbsp;IcqTrans.cpp:67<br>
#7&amp;nbsp;&nbsp;0x8069c17&nbsp;in&nbsp;main&nbsp;(argc=1,&nbsp;argv=0xbffffb44)&nbsp;at&nbsp;main.cpp:113<br>
Current&nbsp;language:&amp;nbsp;&nbsp;auto;&nbsp;currently&nbsp;c<br>
<br>
<br>
David&nbsp;Waite&nbsp;wrote:<br>
<br>
&lt;/pre&gt;<br>
<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&lt;pre&nbsp;wrap=&quot;&quot;&gt;Wim&nbsp;Godden&nbsp;wrote:<br>
<br>
&lt;/pre&gt;<br>
<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&lt;pre&nbsp;wrap=&quot;&quot;&gt;Trying&nbsp;to&nbsp;run&nbsp;it&nbsp;like&nbsp;this&nbsp;:<br>
icqv7ext&nbsp;-n&nbsp;icqv7ext&nbsp;-s&nbsp;secretpass&nbsp;-h&nbsp;127.0.0.1&nbsp;-p&nbsp;7000&nbsp;-m<br>
sms.localnetwork.local<br>
<br>
I&nbsp;get&nbsp;:<br>
Starting&nbsp;component...<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Component&nbsp;ID&nbsp;:&nbsp;icqv7ext<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Secret&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;:&nbsp;secretpass<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Jabberd&nbsp;IP&amp;nbsp;&amp;nbsp;&nbsp;:&nbsp;127.0.0.1<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Jabberd&nbsp;Port&nbsp;:&nbsp;7000<br>
Segmentation&nbsp;fault&nbsp;(core&nbsp;dumped)<br>
<br>
<br>
Any&nbsp;ideas&nbsp;?<br>
<br>
&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
<br>
&lt;pre&nbsp;wrap=&quot;&quot;&gt;Sounds&nbsp;like&nbsp;it&nbsp;is&nbsp;core-dumping&nbsp;wihle&nbsp;trying&nbsp;to&nbsp;start&nbsp;the&nbsp;component&nbsp;:-)<br>
<br>
Perhaps&nbsp;you&nbsp;could&nbsp;post&nbsp;a&nbsp;backtrace&nbsp;from&nbsp;the&nbsp;core?&nbsp;(perhaps&nbsp;&quot;gdb&nbsp;icqv7ext<br>
-c&nbsp;core&quot;,&nbsp;then&nbsp;&quot;bt&quot;.)&nbsp;Cores&nbsp;from&nbsp;threaded&nbsp;components&nbsp;are&nbsp;much&nbsp;nicer&nbsp;if<br>
they&nbsp;are&nbsp;generated&nbsp;from&nbsp;something&nbsp;other&nbsp;than&nbsp;Linux;&nbsp;if&nbsp;you&nbsp;are&nbsp;using<br>
Linux&nbsp;try&nbsp;to&nbsp;use&nbsp;the&nbsp;newest&nbsp;kernel&nbsp;possible&nbsp;(as&nbsp;they&nbsp;reworked&nbsp;a&nbsp;bit&nbsp;of<br>
this&nbsp;logic&nbsp;within&nbsp;the&nbsp;2.4&nbsp;series)<br>
<br>
-David&nbsp;Waite<br>
<br>
_______________________________________________<br>
jdev&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;href=&quot;mailto:jdev@jabber.org&quot;&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&gt;jdev@jabber.org<br>
&lt;/a&gt;&lt;a&nbsp;href=&quot;http://mailman.jabber.org/listinfo/jdev&quot;&nbsp;class=&quot;moz-txt-link-freetext&quot;&gt;http://mailman.jabber.org/listinfo/jdev&lt;/a&gt;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
<br>
&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
--<br>
-----<br>
FirstLink&nbsp;Networks&nbsp;-&nbsp;&lt;a&nbsp;href=&quot;http://www.firstlinknetworks.com&quot;&nbsp;class=&quot;moz-txt-link-freetext&quot;&gt;http://www.firstlinknetworks.com<br>
&lt;/a&gt;-----<br>
De&nbsp;leukste&nbsp;moppen&nbsp;op&nbsp;je&nbsp;scherm&nbsp;en&nbsp;in&nbsp;je&nbsp;mailbox&nbsp;:&nbsp;&lt;a&nbsp;href=&quot;http://www.moppen.be&quot;&nbsp;class=&quot;moz-txt-link-freetext&quot;&gt;http://www.moppen.be&lt;/a&gt;&nbsp;!!!!<br>
<br>
<br>
_______________________________________________<br>
jdev&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;href=&quot;mailto:jdev@jabber.org&quot;&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&gt;jdev@jabber.org<br>
&lt;/a&gt;&lt;a&nbsp;href=&quot;http://mailman.jabber.org/listinfo/jdev&quot;&nbsp;class=&quot;moz-txt-link-freetext&quot;&gt;http://mailman.jabber.org/listinfo/jdev&lt;/a&gt;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
<br>
&lt;br&gt;&amp;nbsp;&lt;/blockquote&gt;<br>
<br>
&lt;p&gt;--<br>
&lt;br&gt;-----<br>
&lt;br&gt;FirstLink&nbsp;Networks&nbsp;-&nbsp;&lt;A&nbsp;HREF=&quot;http://www.firstlinknetworks.com&quot;&gt;http://www.firstlinknetworks.com&lt;/A&gt;<br>
&lt;br&gt;-----<br>
&lt;br&gt;De&nbsp;leukste&nbsp;moppen&nbsp;op&nbsp;je&nbsp;scherm&nbsp;en&nbsp;in&nbsp;je&nbsp;mailbox&nbsp;:&nbsp;&lt;A&nbsp;HREF=&quot;http://www.moppen.be&quot;&gt;http://www.moppen.be&lt;/A&gt;<br>
!!!!<br>
&lt;br&gt;&amp;nbsp;&lt;/html&gt;<br>

</tt>

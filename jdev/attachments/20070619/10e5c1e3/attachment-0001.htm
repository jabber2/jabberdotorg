<tt>
Hi&nbsp;all,&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;writing&nbsp;a&nbsp;client&nbsp;and&nbsp;I&amp;#39;ve&nbsp;experienced&nbsp;different&nbsp;behaviors&nbsp;from&nbsp;different&nbsp;servers&nbsp;in&nbsp;handling&nbsp;client&amp;#39;s&nbsp;actions&nbsp;such&nbsp;as&nbsp;add&nbsp;/&nbsp;accept&nbsp;/&nbsp;deny&nbsp;subscription&nbsp;requests.&nbsp;What&nbsp;surprised&nbsp;me&nbsp;is&nbsp;that&nbsp;it&nbsp;seems&nbsp;there&nbsp;is&nbsp;no&nbsp;standard&nbsp;behaviors&nbsp;(<br>
e.g.&nbsp;processes&nbsp;of&nbsp;treating&nbsp;actions,&nbsp;order&nbsp;of&nbsp;notification&nbsp;messages&nbsp;pushing&nbsp;to&nbsp;the&nbsp;clients...)&nbsp;for&nbsp;the&nbsp;server.&lt;br&gt;&lt;br&gt;E.g.:&lt;br&gt;-&nbsp;ejabbered&nbsp;1.1.3&nbsp;always&nbsp;adds&nbsp;the&nbsp;incoming&nbsp;contact&nbsp;to&nbsp;the&nbsp;user&amp;#39;s&nbsp;roster&nbsp;(with&nbsp;the&nbsp;subscription&nbsp;status&nbsp;=&nbsp;0,&nbsp;means&nbsp;no&nbsp;relationship)&nbsp;before&nbsp;pushing&nbsp;the&nbsp;subscription&nbsp;(add-friend)&nbsp;request&nbsp;to&nbsp;the&nbsp;user.&nbsp;So&nbsp;the&nbsp;client&nbsp;gets&nbsp;two&nbsp;messages:&nbsp;one&nbsp;to&nbsp;notify&nbsp;that&nbsp;there&nbsp;is&nbsp;an&nbsp;item&nbsp;added,&nbsp;the&nbsp;next&nbsp;to&nbsp;notify&nbsp;that&nbsp;there&nbsp;is&nbsp;a&nbsp;subscription&nbsp;request.<br>
&lt;br&gt;-&nbsp;meanwhile,&nbsp;openFire&nbsp;3.3.1&nbsp;does&nbsp;not&nbsp;add&nbsp;the&nbsp;contact&nbsp;before,&nbsp;so&nbsp;you&nbsp;get&nbsp;only&nbsp;the&nbsp;later&nbsp;message.&nbsp;One&nbsp;(probably)&nbsp;bug&nbsp;I&nbsp;found:&nbsp;even&nbsp;when&nbsp;the&nbsp;client&nbsp;sent&nbsp;a&nbsp;message&nbsp;denying&nbsp;the&nbsp;subscription&nbsp;request,&nbsp;the&nbsp;server&nbsp;still&nbsp;adds&nbsp;the&nbsp;contact&nbsp;to&nbsp;the&nbsp;user&amp;#39;s&nbsp;roster&nbsp;(with&nbsp;subscription=&nbsp;0)<br>
&lt;br&gt;&lt;br&gt;Furthermore,&nbsp;with&nbsp;the&nbsp;same&nbsp;actions&nbsp;from&nbsp;the&nbsp;clients,&nbsp;the&nbsp;number&amp;nbsp;&nbsp;and&nbsp;order&nbsp;of&nbsp;messages&nbsp;that&nbsp;the&nbsp;servers&nbsp;send&nbsp;significantly&nbsp;different.&lt;br&gt;E.g.&lt;br&gt;-&nbsp;ejabbered&nbsp;1.1.3&nbsp;tends&nbsp;to&nbsp;not&nbsp;to&nbsp;send&nbsp;any&nbsp;message&nbsp;to&nbsp;the&nbsp;contact&nbsp;with&nbsp;subscription&nbsp;=&nbsp;0.&nbsp;Example:&nbsp;If&nbsp;user&nbsp;B&nbsp;denied&nbsp;a&nbsp;subscription&nbsp;request&nbsp;from&nbsp;user&nbsp;B&nbsp;(means&nbsp;no&nbsp;relationship&nbsp;at&nbsp;the&nbsp;moment),&nbsp;B&nbsp;will&nbsp;not&nbsp;receive&nbsp;the&nbsp;next&nbsp;unsubscription&nbsp;request&nbsp;from&nbsp;A,&nbsp;but&nbsp;with&nbsp;openFire&nbsp;<br>
3.3.1,&nbsp;it&nbsp;will.&lt;br&gt;-&nbsp;Furthermore,&nbsp;I&nbsp;found&nbsp;the&nbsp;order&nbsp;of&nbsp;messages&nbsp;that&nbsp;openFire&nbsp;pushes&nbsp;to&nbsp;the&nbsp;clients&nbsp;rather&nbsp;annoying.&nbsp;For&nbsp;example,&nbsp;if&nbsp;user&nbsp;A&nbsp;removes&nbsp;user&nbsp;B&nbsp;from&nbsp;its&nbsp;roster&nbsp;(and&nbsp;therefore&nbsp;B&nbsp;will&nbsp;also&nbsp;remove&nbsp;A&nbsp;-&nbsp;my&nbsp;implementation),&nbsp;A&nbsp;will&nbsp;receive&nbsp;&amp;quot;unsubscribed&amp;quot;&nbsp;and&nbsp;&amp;quot;unsubscribe&amp;quot;&nbsp;(respectively)&nbsp;from&nbsp;B&nbsp;before&nbsp;received&nbsp;the&nbsp;notification&nbsp;that&nbsp;its&nbsp;removal&nbsp;was&nbsp;done.&nbsp;So&nbsp;you&nbsp;cannot&nbsp;trust&nbsp;that:&nbsp;when&nbsp;you&nbsp;remove&nbsp;a&nbsp;contact&nbsp;from&nbsp;your&nbsp;roster,&nbsp;you&nbsp;won&amp;#39;t&nbsp;receive&nbsp;unexpected&nbsp;message&nbsp;from&nbsp;that&nbsp;contact;&nbsp;You&nbsp;also&nbsp;see&nbsp;that&nbsp;contact&nbsp;still&nbsp;in&nbsp;your&nbsp;roster&nbsp;for&nbsp;a&nbsp;while&nbsp;(with&nbsp;subscription&nbsp;=&nbsp;0).<br>
&lt;br&gt;&lt;br&gt;Does&nbsp;any&nbsp;body&nbsp;experience&nbsp;similar&nbsp;problems&nbsp;?&lt;br&gt;&lt;br&gt;Son.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>

</tt>

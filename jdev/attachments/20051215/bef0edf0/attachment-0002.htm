<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;CHARSET=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;NAME=&quot;GENERATOR&quot;&nbsp;CONTENT=&quot;GtkHTML/3.6.2&quot;&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
Ok,&nbsp;disregard&nbsp;all&nbsp;my&nbsp;previous&nbsp;emails,&nbsp;I&nbsp;have&nbsp;got&nbsp;it&nbsp;sending&nbsp;to&nbsp;jabber&nbsp;now&nbsp;but&nbsp;there&nbsp;is&nbsp;something&nbsp;else&nbsp;wrong&nbsp;now&nbsp;that&nbsp;I&nbsp;have&nbsp;no&nbsp;clue&nbsp;how&nbsp;to&nbsp;fix.&amp;nbsp;&nbsp;I&nbsp;send&nbsp;the&nbsp;message&nbsp;and&nbsp;it&nbsp;sends&nbsp;to&nbsp;my&nbsp;jabber&nbsp;client&nbsp;saying&nbsp;[forwarding&nbsp;message]&nbsp;and&nbsp;that's&nbsp;it.&amp;nbsp;&nbsp;I&nbsp;also&nbsp;get&nbsp;a&nbsp;reply&nbsp;back&nbsp;in&nbsp;my&nbsp;email&nbsp;with&nbsp;this&nbsp;error.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;TT&gt;Can't&nbsp;call&nbsp;method&nbsp;&amp;quot;SetMessage&amp;quot;&nbsp;on&nbsp;an&nbsp;undefined&nbsp;value&nbsp;at&nbsp;smtp2jabber.pl&nbsp;line&nbsp;42,&nbsp;&amp;lt;STDIN&amp;gt;&nbsp;line&nbsp;1.&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;554&nbsp;5.3.0&nbsp;unknown&nbsp;mailer&nbsp;error&nbsp;255&lt;/TT&gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
Anyone&nbsp;know&nbsp;what&nbsp;that&nbsp;is.&lt;BR&gt;<br>
&lt;BR&gt;<br>
I&nbsp;am&nbsp;sending&nbsp;my&nbsp;email&nbsp;message&nbsp;as&nbsp;plain&nbsp;text&nbsp;with&nbsp;no&nbsp;attachments.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Thanks,&lt;BR&gt;<br>
&lt;BR&gt;<br>
Jon&lt;BR&gt;<br>
&lt;BR&gt;<br>
On&nbsp;Thu,&nbsp;2005-12-15&nbsp;at&nbsp;06:22&nbsp;-0500,&nbsp;Bart&nbsp;Smit&nbsp;wrote:<br>
&lt;BLOCKQUOTE&nbsp;TYPE=CITE&gt;<br>
&lt;PRE&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Assuming&nbsp;that&nbsp;on&nbsp;the&nbsp;jabber&nbsp;server&nbsp;your&nbsp;MTA&nbsp;is&nbsp;sendmail&nbsp;you&nbsp;can&nbsp;do&nbsp;this:&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Edit&nbsp;your&nbsp;sendmail.cf&nbsp;to&nbsp;listen&nbsp;for&nbsp;external&nbsp;connections:&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;dnl&nbsp;#&nbsp;&nbsp;DAEMON_OPTIONS(`Port=smtp,Addr=127.0.0.1,&nbsp;Name=MTA')dnl&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Set&nbsp;a&nbsp;catch&nbsp;all&nbsp;for&nbsp;the&nbsp;server&nbsp;or&nbsp;domain&nbsp;in&nbsp;/etc/mail/virtusertable:&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;@your.jabber.org&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmailerscript&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Add&nbsp;an&nbsp;alias&nbsp;for&nbsp;the&nbsp;script&nbsp;in&nbsp;/etc/aliases&nbsp;(don't&nbsp;forget&nbsp;to&nbsp;run&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;newaliases&nbsp;as&nbsp;root):&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;mailerscript&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp|smtp2jabber.pl&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Manually&nbsp;register&nbsp;a&nbsp;bot&nbsp;user&nbsp;on&nbsp;your&nbsp;jabber&nbsp;server&nbsp;and&nbsp;set&nbsp;the&nbsp;user/pass&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;to&nbsp;mailer/password&nbsp;(if&nbsp;you&nbsp;use&nbsp;other&nbsp;credentials,&nbsp;edit&nbsp;the&nbsp;script&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;accordingly).&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Save&nbsp;the&nbsp;attached&nbsp;script&nbsp;as&nbsp;smtp2jabber.pl&nbsp;and&nbsp;place&nbsp;it&nbsp;in&nbsp;/etc/smrsh&nbsp;or&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;link&nbsp;it&nbsp;from&nbsp;there.&nbsp;Remember&nbsp;to&nbsp;chmod&nbsp;it&nbsp;to&nbsp;be&nbsp;world&nbsp;executable.&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Use&nbsp;cpan&nbsp;or&nbsp;your&nbsp;favourite&nbsp;package&nbsp;manager&nbsp;to&nbsp;install&nbsp;the&nbsp;perl&nbsp;modules&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;at&nbsp;the&nbsp;top&nbsp;of&nbsp;the&nbsp;script.&nbsp;Restart&nbsp;sendmail&nbsp;and&nbsp;test.&lt;/FONT&gt;<br>
<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Bart...&lt;/FONT&gt;<br>
<br>
<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;#!/usr/bin/perl&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;strict;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;Mail::Message;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;Mail::Message::Field;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;Mail::Message::Construct::Read;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;Mail::Message::Attachment::Stripper;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;Mail::Message::Body;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;Net::Jabber;&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;constant&nbsp;SERVER&nbsp;&nbsp;&nbsp;=&amp;gt;&nbsp;&amp;quot;your.jabber.org&amp;quot;;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;constant&nbsp;PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&amp;gt;&nbsp;5222;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;constant&nbsp;USERNAME&nbsp;=&amp;gt;&nbsp;&amp;quot;mailer&amp;quot;;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;constant&nbsp;PASSWORD&nbsp;=&amp;gt;&nbsp;&amp;quot;password&amp;quot;;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;use&nbsp;constant&nbsp;RESOURCE&nbsp;=&amp;gt;&nbsp;&amp;quot;Perl&nbsp;Script&amp;quot;;&lt;/FONT&gt;<br>
<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;#&nbsp;The&nbsp;email&nbsp;message&nbsp;come&nbsp;in&nbsp;on&nbsp;STDIN&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;my&nbsp;$msg&nbsp;=&nbsp;Mail::Message-&amp;gt;read(\*STDIN);&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;#&nbsp;Pick&nbsp;out&nbsp;the&nbsp;recipient,&nbsp;subject&nbsp;and&nbsp;sender&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;my&nbsp;$rcpt&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$msg-&amp;gt;head-&amp;gt;get('to');&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;my&nbsp;$subject&nbsp;=&nbsp;$msg-&amp;gt;head-&amp;gt;get('subject');&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;my&nbsp;$sender&nbsp;&nbsp;=&nbsp;$msg-&amp;gt;head-&amp;gt;get('from');&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;#&nbsp;Remove&nbsp;the&nbsp;angle&nbsp;brackets&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;$rcpt&nbsp;=~&nbsp;s/^&amp;lt;//;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;$rcpt&nbsp;=~&nbsp;s/&amp;gt;$//;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;$sender&nbsp;=~&nbsp;s/^&amp;lt;//;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;$sender&nbsp;=~&nbsp;s/&amp;gt;$//;&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;#&nbsp;Remove&nbsp;the&nbsp;attachment(s)&nbsp;from&nbsp;the&nbsp;message&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;my&nbsp;$stripper&nbsp;=&nbsp;Mail::Message::Attachment::Stripper-&amp;gt;new($msg);&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;my&nbsp;Mail::Message&nbsp;$textonly&nbsp;&nbsp;=&nbsp;$stripper-&amp;gt;message;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;my&nbsp;$body&nbsp;=&nbsp;$textonly-&amp;gt;body;&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;#&nbsp;Connect&nbsp;to&nbsp;jabber&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;my&nbsp;$jabber&nbsp;=&nbsp;&amp;amp;setup_Jabber(SERVER,&nbsp;PORT,&nbsp;USERNAME,&nbsp;PASSWORD,&nbsp;RESOURCE,&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;quot;normal/forwarding&nbsp;email&amp;quot;);&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;#&nbsp;Compose&nbsp;the&nbsp;message&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;my&nbsp;$jabmsg-&amp;gt;SetMessage(&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;quot;to&amp;quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&amp;gt;&nbsp;&amp;quot;$rcpt&amp;quot;,&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;quot;subject&amp;quot;&nbsp;=&amp;gt;&nbsp;&amp;quot;$sender&nbsp;emailed:&nbsp;$subject&amp;quot;,&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;quot;body&amp;quot;&nbsp;&nbsp;&nbsp;&nbsp;=&amp;gt;&nbsp;&amp;quot;$body&amp;quot;);&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;#&nbsp;And&nbsp;send&nbsp;it&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;$jabber-&amp;gt;Send($jabmsg);&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;#&nbsp;Close&nbsp;the&nbsp;connection&nbsp;and&nbsp;exit&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;$jabber-&amp;gt;Disconnect();&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;exit(0);&lt;/FONT&gt;<br>
<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;sub&nbsp;setup_Jabber&nbsp;{&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;my&nbsp;($server,&nbsp;$port,&nbsp;$user,&nbsp;$pass,&nbsp;$resource,&nbsp;$initial_status)&nbsp;=&nbsp;@_;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;my&nbsp;$connection&nbsp;=&nbsp;new&nbsp;Net::Jabber::Client;&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;#&nbsp;Connect&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;my&nbsp;$status&nbsp;=&nbsp;$connection-&amp;gt;Connect(&nbsp;hostname&nbsp;=&amp;gt;&nbsp;$server,&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&amp;gt;&nbsp;$port&nbsp;);&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;die&nbsp;&amp;quot;Cannot&nbsp;connect&nbsp;to&nbsp;Jabber&nbsp;server&nbsp;$server&nbsp;on&nbsp;port&nbsp;$port\n&amp;quot;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;unless&nbsp;$status;&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;#&nbsp;Callbacks&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;$connection-&amp;gt;SetCallBacks(&nbsp;presence&nbsp;=&amp;gt;&nbsp;\&amp;amp;InPresence&nbsp;);&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;#&nbsp;Ident/Auth&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;my&nbsp;@result&nbsp;=&nbsp;$connection-&amp;gt;AuthSend(&nbsp;username&nbsp;=&amp;gt;&nbsp;$user,&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;password&nbsp;=&amp;gt;&nbsp;$pass,&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resource&nbsp;=&amp;gt;&nbsp;$resource&nbsp;);&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;die&nbsp;&amp;quot;Ident/Auth&nbsp;failed:&nbsp;$result[0]&nbsp;-&nbsp;$result[1]\n&amp;quot;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;$result[0]&nbsp;ne&nbsp;&amp;quot;ok&amp;quot;;&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;#&nbsp;Roster&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;$connection-&amp;gt;RosterGet();&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;#&nbsp;Set&nbsp;initial&nbsp;presence&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&amp;amp;set_presence($connection,&nbsp;$initial_status);&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;return&nbsp;$connection;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;}&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;sub&nbsp;InPresence&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;{&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;my&nbsp;$presence&nbsp;=&nbsp;$_[1];&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;my&nbsp;$type&nbsp;=&nbsp;$presence-&amp;gt;GetType();&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;if&nbsp;($type&nbsp;eq&nbsp;&amp;quot;subscribe&amp;quot;)&nbsp;{&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;$jabber-&amp;gt;Send($presence-&amp;gt;Reply(type&nbsp;=&amp;gt;&nbsp;'subscribed'));&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;elsif&nbsp;($type&nbsp;eq&nbsp;&amp;quot;unsubscribe&amp;quot;)&nbsp;{&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;$jabber-&amp;gt;Send($presence-&amp;gt;Reply(type&nbsp;=&amp;gt;&nbsp;'unsubscribed'));&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;}&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;sub&nbsp;set_presence&nbsp;{&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;my&nbsp;($connection,&nbsp;$s)&nbsp;=&nbsp;@_;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;my&nbsp;$presence&nbsp;=&nbsp;Net::Jabber::Presence-&amp;gt;new();&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;my&nbsp;($show,&nbsp;$status)&nbsp;=&nbsp;split(&amp;quot;/&amp;quot;,&nbsp;$s,&nbsp;2);&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;$presence-&amp;gt;SetPresence(&nbsp;show&nbsp;&nbsp;&nbsp;=&amp;gt;&nbsp;$show,&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;status&nbsp;=&amp;gt;&nbsp;$status&nbsp;);&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&nbsp;$connection-&amp;gt;Send($presence);&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;}&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;From:&nbsp;&lt;A&nbsp;HREF=&quot;mailto:jdev-bounces@jabber.org&quot;&gt;jdev-bounces@jabber.org&lt;/A&gt;&nbsp;[mailto:&lt;A&nbsp;HREF=&quot;mailto:jdev-bounces@jabber.org&quot;&gt;jdev-bounces@jabber.org&lt;/A&gt;]&nbsp;On&nbsp;Behalf&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Of&nbsp;Peter&nbsp;Saint-Andre&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Sent:&nbsp;14&nbsp;December&nbsp;2005&nbsp;23:53&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;To:&nbsp;Jabber&nbsp;software&nbsp;development&nbsp;list&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Subject:&nbsp;Re:&nbsp;[jdev]&nbsp;jabberSMTP&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Jon&nbsp;Scottorn&nbsp;wrote:&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;Hi&nbsp;all,&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;have&nbsp;been&nbsp;trying&nbsp;to&nbsp;locate&nbsp;a&nbsp;jabber&nbsp;smtp&nbsp;transport,&nbsp;does&nbsp;anyone&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;know&nbsp;of&nbsp;any&nbsp;such&nbsp;thing.&nbsp;&nbsp;I&nbsp;basically&nbsp;need&nbsp;something&nbsp;that&nbsp;will&nbsp;parse&nbsp;an&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;email&nbsp;sent&nbsp;to&nbsp;say&nbsp;&lt;A&nbsp;HREF=&quot;mailto:jonsmel@jabber.org&quot;&gt;jonsmel@jabber.org&lt;/A&gt;&nbsp;&amp;lt;mailto:&lt;A&nbsp;HREF=&quot;mailto:jonsmel@jabber.org&quot;&gt;jonsmel@jabber.org&lt;/A&gt;&amp;gt;&nbsp;and&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;reformat&nbsp;it&nbsp;into&nbsp;a&nbsp;xmpp&nbsp;message&nbsp;and&nbsp;send&nbsp;it&nbsp;to&nbsp;the&nbsp;user.&nbsp;&nbsp;I&nbsp;don't&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;really&nbsp;care&nbsp;about&nbsp;attachments,&nbsp;it&nbsp;will&nbsp;only&nbsp;be&nbsp;text.&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;Does&nbsp;anyone&nbsp;know&nbsp;of&nbsp;this&nbsp;type&nbsp;of&nbsp;item?&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;The&nbsp;old&nbsp;theoretic-smtp&nbsp;project&nbsp;did&nbsp;something&nbsp;like&nbsp;that,&nbsp;but&nbsp;it&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;disappeared&nbsp;after&nbsp;the&nbsp;JabberStudio&nbsp;rootkit.&nbsp;I've&nbsp;sent&nbsp;the&nbsp;code&nbsp;to&nbsp;Jon&nbsp;on&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;an&nbsp;as-is&nbsp;basis.&nbsp;If&nbsp;anyone&nbsp;else&nbsp;has&nbsp;code&nbsp;like&nbsp;this&nbsp;(more&nbsp;recent&nbsp;than&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;theoretic-smtp),&nbsp;feel&nbsp;free&nbsp;to&nbsp;post&nbsp;to&nbsp;the&nbsp;list.&nbsp;:-)&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Peter&lt;/FONT&gt;<br>
<br>
<br>
&lt;/PRE&gt;<br>
&lt;/BLOCKQUOTE&gt;<br>
&lt;TABLE&nbsp;CELLSPACING=&quot;0&quot;&nbsp;CELLPADDING=&quot;0&quot;&nbsp;WIDTH=&quot;100%&quot;&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;<br>
&lt;B&gt;&lt;I&gt;&lt;FONT&nbsp;SIZE=&quot;4&quot;&gt;&lt;FONT&nbsp;COLOR=&quot;#000080&quot;&gt;Jon&nbsp;Scottorn&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;&lt;/B&gt;&lt;BR&gt;<br>
&lt;I&gt;&lt;FONT&nbsp;COLOR=&quot;#000080&quot;&gt;Systems&nbsp;Administrator&lt;/FONT&gt;&lt;/I&gt;&lt;BR&gt;<br>
&lt;I&gt;&lt;FONT&nbsp;COLOR=&quot;#000080&quot;&gt;The&nbsp;Possibility&nbsp;Forge,&nbsp;Inc.&lt;/FONT&gt;&lt;/I&gt;&lt;BR&gt;<br>
&lt;I&gt;&lt;FONT&nbsp;COLOR=&quot;#000080&quot;&gt;http://www.possibilityforge.com&lt;/FONT&gt;&lt;/I&gt;&lt;BR&gt;<br>
&lt;I&gt;&lt;FONT&nbsp;COLOR=&quot;#000080&quot;&gt;435.635.0591&nbsp;x.1004&lt;/FONT&gt;&lt;/I&gt;<br>
&lt;/TD&gt;<br>
&lt;/TR&gt;<br>
&lt;/TABLE&gt;<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>
<br>

</tt>

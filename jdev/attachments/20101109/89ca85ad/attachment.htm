<tt>
&lt;html&gt;&lt;head&gt;&lt;style&nbsp;type=&quot;text/css&quot;&gt;&lt;!--&nbsp;DIV&nbsp;{margin:0px;}&nbsp;--&gt;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;font-family:times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;font-size:10pt;color:#000000;&quot;&gt;Hi,&lt;br&gt;&lt;br&gt;While&nbsp;going&nbsp;through&nbsp;XEP-0065&nbsp;and&nbsp;related&nbsp;RFC's&nbsp;i&nbsp;decided&nbsp;to&nbsp;play&nbsp;around&nbsp;with&nbsp;the&nbsp;debug&nbsp;window&nbsp;of&nbsp;Pidgin.&nbsp;Here&nbsp;is&nbsp;what&nbsp;I&nbsp;found&nbsp;when&nbsp;a&nbsp;connected&nbsp;account&nbsp;tries&nbsp;to&nbsp;accept&nbsp;a&nbsp;file:&lt;br&gt;&lt;br&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&lt;span&gt;&nbsp;Recv&nbsp;(572):&nbsp;&lt;iq&nbsp;from=&quot;jaxl@dev.jaxl.im/5859500411289328645518583&quot;&nbsp;to=&quot;1@dev.jaxl.im/2557233831289334472350031&quot;&nbsp;type=&quot;set&quot;&nbsp;id=&quot;purplee6c1c0cc&quot;&gt;&lt;query&nbsp;xmlns=&quot;&amp;lt;a&nbsp;target=&quot;&nbsp;_blank=&quot;&quot;&nbsp;href=&quot;http://jabber.org/protocol/bytestreams&quot;&gt;http://jabber.org/protocol/bytestreams'&nbsp;sid='purplee6c1c0cb'&amp;gt;&lt;streamhost&nbsp;jid=&quot;jaxl@dev.jaxl.im/5859500411289328645518583&quot;&nbsp;host=&quot;192.168.2.103&quot;&nbsp;port=&quot;58919&quot;&gt;&lt;streamhost&nbsp;jid=&quot;jaxl@dev.jaxl.im/5859500411289328645518583&quot;&nbsp;host=&quot;192.168.150.1&quot;&nbsp;port=&quot;58919&quot;&gt;&lt;streamhost&nbsp;jid=&quot;jaxl@dev.jaxl.im/5859500411289328645518583&quot;<br>
&nbsp;host=&quot;192.168.220.1&quot;&nbsp;port=&quot;58919&quot;&gt;&lt;streamhost&nbsp;jid=&quot;proxy.dev.jaxl.im&quot;&nbsp;host=&quot;127.0.1.1&quot;&nbsp;port=&quot;7777&quot;&gt;&lt;/streamhost&gt;&lt;/streamhost&gt;&lt;/streamhost&gt;&lt;/streamhost&gt;&lt;/query&gt;&lt;/iq&gt;&lt;/span&gt;&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;dnsquery:&lt;/b&gt;&nbsp;Performing&nbsp;DNS&nbsp;lookup&nbsp;for&nbsp;192.168.2.103&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;dnsquery:&lt;/b&gt;&nbsp;IP&nbsp;resolved&nbsp;for&nbsp;192.168.2.103&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;proxy:&lt;/b&gt;&nbsp;Attempting&nbsp;connection&nbsp;to&nbsp;192.168.2.103&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;proxy:&lt;/b&gt;&nbsp;Connecting&nbsp;to&nbsp;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;50c0abe90692f69b56e49a53334daf8c6ad26f9e:0&lt;/span&gt;&nbsp;via&nbsp;192.168.2.103:58919&nbsp;using&nbsp;SOCKS5&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;socks5&nbsp;proxy:&lt;/b&gt;&nbsp;Connection&nbsp;in&nbsp;progress&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;in&nbsp;jabber_si_xfer_bytestreams_send_connected_cb&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;socks5&nbsp;proxy:&lt;/b&gt;&nbsp;Connected.&lt;/font&gt;&lt;br&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;in&nbsp;jabber_si_xfer_bytestreams_send_read_cb&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;reading&nbsp;those&nbsp;first&nbsp;two&nbsp;bytes&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;in&nbsp;jabber_si_xfer_bytestreams_send_read_cb&lt;br&gt;(01:56:47)<br>
&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;reading&nbsp;1&nbsp;bytes&nbsp;for&nbsp;auth&nbsp;methods&nbsp;(trying&nbsp;to&nbsp;read&nbsp;1&nbsp;now)&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;checking&nbsp;to&nbsp;make&nbsp;sure&nbsp;we're&nbsp;socks&nbsp;FIVE&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;going&nbsp;to&nbsp;test&nbsp;1&nbsp;different&nbsp;methods&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;testing&nbsp;0&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;socks5&nbsp;proxy:&lt;/b&gt;&nbsp;Able&nbsp;to&nbsp;read.&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;in&nbsp;jabber_si_xfer_bytestreams_send_read_again_cb&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;reading&nbsp;the&nbsp;first&nbsp;5&nbsp;bytes&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;in&nbsp;jabber_si_xfer_bytestreams_send_read_again_cb&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;reading&nbsp;42&nbsp;bytes&nbsp;for&nbsp;DST.ADDR&nbsp;+&nbsp;port&nbsp;num&nbsp;(trying&nbsp;to&nbsp;read&nbsp;42&nbsp;now)&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;stun:&lt;/b&gt;&nbsp;using&nbsp;server&nbsp;&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&nbsp;SOCKS5&nbsp;connection&nbsp;negotiation&nbsp;completed.&nbsp;Waiting&nbsp;for&nbsp;IQ&nbsp;result&nbsp;to&nbsp;start&nbsp;file&nbsp;transfer.&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;s5:&lt;/b&gt;&nbsp;reallocing&nbsp;from&nbsp;5&nbsp;to&nbsp;18&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;s5:&lt;/b&gt;&nbsp;reallocing&nbsp;from&nbsp;18&nbsp;to&nbsp;20&lt;br&gt;(01:56:47)&nbsp;&lt;b&gt;proxy:&lt;/b&gt;&nbsp;Connected&nbsp;to&nbsp;50c0abe90692f69b56e49a53334daf8c6ad26f9e:0.&lt;br&gt;&lt;/font&gt;&lt;font<br>
&nbsp;color=&quot;#666666&quot;&gt;(01:56:47)&nbsp;&lt;b&gt;jabber:&lt;/b&gt;&lt;span&gt;&nbsp;Sending&nbsp;(1@dev.jaxl.im/2557233831289334472350031):&nbsp;&lt;iq&nbsp;type=&quot;result&quot;&nbsp;to=&quot;jaxl@dev.jaxl.im/5859500411289328645518583&quot;&nbsp;id=&quot;purplee6c1c0cc&quot;&gt;&lt;query&nbsp;xmlns=&quot;&amp;lt;a&nbsp;target=&quot;&nbsp;_blank=&quot;&quot;&nbsp;href=&quot;http://jabber.org/protocol/bytestreams&quot;&gt;http://jabber.org/protocol/bytestreams'&amp;gt;&lt;streamhost-used&nbsp;jid=&quot;jaxl@dev.jaxl.im/5859500411289328645518583&quot;&gt;&lt;/streamhost-used&gt;&lt;/query&gt;&lt;/iq&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&lt;br&gt;Now&nbsp;as&nbsp;per&nbsp;section&nbsp;5.3.2.&nbsp;of&nbsp;XEP-0065&nbsp;here&nbsp;is&nbsp;how&nbsp;Pidgin&nbsp;should&nbsp;have&nbsp;calculated&nbsp;hash&nbsp;for&nbsp;DST.ADDR:&lt;br&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;sha1(&quot;&lt;/font&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;purplee6c1c0cb&lt;/font&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;jaxl@dev.jaxl.im/5859500411289328645518583&lt;/font&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;jaxl@dev.jaxl.im/5859500411289328645518583&quot;&lt;/font&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;)&nbsp;which&nbsp;equates&nbsp;to&nbsp;59aadec011bdb96cb0f2fea5e6f6596e5a0d6f93&nbsp;and&nbsp;not&nbsp;50c0abe90692f69b56e49a53334daf8c6ad26f9e&lt;/font&gt;&nbsp;as&nbsp;shown&nbsp;in&nbsp;the&nbsp;logs.&lt;br&gt;&lt;br&gt;Am&nbsp;i&nbsp;missing&nbsp;something&nbsp;from&nbsp;the<br>
&nbsp;XEP&nbsp;doc?&lt;br&gt;&lt;/div&gt;&lt;br&gt;--&lt;br&gt;Abhinav&nbsp;Singh,&lt;br&gt;Founder,&nbsp;Jaxl&nbsp;Inc.&lt;br&gt;Bangalore,&nbsp;India&lt;br&gt;&lt;span&gt;&lt;a&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://abhinavsingh.com/blog&quot;&gt;http://abhinavsingh.com/blog&lt;/a&gt;&lt;/span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;&lt;/html&gt;
</tt>

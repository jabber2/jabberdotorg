<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2716.2200&quot;&nbsp;name=GENERATOR&gt;<br>
&lt;STYLE&gt;&lt;/STYLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;bgColor=#ffffff&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=000151013-31072002&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;Adrian,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=000151013-31072002&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=000151013-31072002&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;face=Arial&nbsp;<br>
color=#0000ff&nbsp;size=2&gt;SSL&nbsp;in&nbsp;the&nbsp;Jabber&nbsp;case&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;any&nbsp;SSL&nbsp;connection.&nbsp;<br>
Here&nbsp;is&nbsp;some&nbsp;Win32&nbsp;code&nbsp;that&nbsp;you&nbsp;can&nbsp;use&nbsp;to&nbsp;establish&nbsp;a&nbsp;SSL&nbsp;<br>
socket:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=000151013-31072002&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=000151013-31072002&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=000151013-31072002&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;nt&nbsp;<br>
&lt;BR&gt;certificate_validation_procedure&nbsp;(DWORD&nbsp;dwType,&nbsp;LPVOID&nbsp;pvArg,&nbsp;DWORD&nbsp;<br>
dwChainLen,&nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
LPBLOB&nbsp;pCertChain,&nbsp;DWORD&nbsp;dwFlags)&lt;BR&gt;{&lt;BR&gt;&amp;nbsp;return&nbsp;<br>
SSL_ERR_OKAY;&lt;BR&gt;}&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=000151013-31072002&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;int&nbsp;<br>
&lt;BR&gt;make_ssl_socket&nbsp;(int&nbsp;s)&lt;BR&gt;{&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=000151013-31072002&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&lt;BR&gt;&amp;nbsp;SSLVALIDATECERTHOOK&nbsp;hfunc;&lt;BR&gt;&amp;nbsp;WSADATA&nbsp;WSAData;&nbsp;<br>
&amp;nbsp;&lt;BR&gt;&amp;nbsp;DWORD&amp;nbsp;dwBytes,&nbsp;err;&lt;BR&gt;&amp;nbsp;DWORD&amp;nbsp;optval&nbsp;=&nbsp;<br>
SO_SEC_SSL;&lt;BR&gt;&amp;nbsp;int&nbsp;buff[8192];&lt;BR&gt;&amp;nbsp;DWORD&nbsp;dw&nbsp;=&nbsp;0,&nbsp;ssl&nbsp;=&nbsp;<br>
SO_SEC_SSL;&amp;nbsp;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=000151013-31072002&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&amp;nbsp;WSAStartup&nbsp;(MAKEWORD(1,1),&nbsp;&amp;amp;WSAData);&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=000151013-31072002&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&amp;nbsp;if&nbsp;(setsockopt(s,&nbsp;SOL_SOCKET,&nbsp;SO_SECURE,&nbsp;(LPSTR)&amp;amp;optval,&nbsp;<br>
sizeof(optval))&nbsp;&amp;lt;&nbsp;0)&amp;nbsp;&lt;BR&gt;&amp;nbsp;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;DWORD&nbsp;le&nbsp;=&nbsp;<br>
WSAGetLastError&nbsp;();&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;//&nbsp;Process&nbsp;any&nbsp;inserts&nbsp;in&nbsp;<br>
lpMsgBuf.&lt;BR&gt;&amp;nbsp;&amp;nbsp;//&nbsp;...&lt;BR&gt;&amp;nbsp;&amp;nbsp;//&nbsp;Display&nbsp;the&nbsp;<br>
string.&lt;BR&gt;&amp;nbsp;&amp;nbsp;MessageBox(&nbsp;NULL,&nbsp;(LPCTSTR)L&quot;Error&nbsp;Initializing&nbsp;SSL&nbsp;<br>
Library.&quot;,&nbsp;L&quot;Error&quot;,&nbsp;MB_OK&nbsp;|&nbsp;MB_ICONINFORMATION&nbsp;);&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;SPAN&nbsp;class=000151013-31072002&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;<br>
&lt;DIV&gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;return(-1);&lt;BR&gt;&amp;nbsp;}&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;//register&nbsp;certificate&nbsp;validation&nbsp;<br>
callback&amp;nbsp;&lt;BR&gt;&amp;nbsp;hfunc.HookFunc&nbsp;=&nbsp;<br>
certificate_validation_procedure;&lt;BR&gt;&amp;nbsp;hfunc.pvArg&nbsp;=&nbsp;NULL;&lt;BR&gt;&amp;nbsp;err&nbsp;=&nbsp;<br>
WSAIoctl(s,&nbsp;SO_SSL_SET_VALIDATE_CERT_HOOK,&nbsp;&amp;amp;hfunc,&nbsp;sizeof(hfunc),&nbsp;<br>
&amp;amp;buff,&lt;BR&gt;&amp;nbsp;&amp;nbsp;8192,&nbsp;&amp;amp;dwBytes,&nbsp;NULL,&nbsp;NULL);&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;if&nbsp;<br>
(SOCKET_ERROR==err)&lt;BR&gt;&amp;nbsp;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;DWORD&nbsp;le&nbsp;=&nbsp;WSAGetLastError&nbsp;<br>
();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;//&nbsp;Display&nbsp;the&nbsp;<br>
string.&lt;BR&gt;&amp;nbsp;&amp;nbsp;MessageBox&nbsp;(NULL,&nbsp;(LPCTSTR)L&quot;Error&nbsp;Initializing&nbsp;SSL&nbsp;<br>
Library.&quot;,&nbsp;L&quot;Error&quot;,&nbsp;MB_OK&nbsp;|&nbsp;MB_ICONINFORMATION&nbsp;);&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;return&nbsp;-1;&lt;BR&gt;&amp;nbsp;}&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;ssl&nbsp;=&nbsp;<br>
SSL_FLAG_DEFER_HANDSHAKE;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;err&nbsp;=&nbsp;WSAIoctl&nbsp;(s,&nbsp;<br>
SO_SSL_SET_FLAGS,&nbsp;&amp;amp;ssl,&nbsp;sizeof&nbsp;ssl,&nbsp;&amp;amp;buff,&nbsp;8192,&nbsp;&amp;amp;dw,&nbsp;NULL,&nbsp;NULL&nbsp;<br>
);&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;&amp;nbsp;if&nbsp;(SOCKET_ERROR==err)&lt;BR&gt;&amp;nbsp;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;DWORD&nbsp;le&nbsp;=&nbsp;<br>
WSAGetLastError&nbsp;();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;//&nbsp;Display&nbsp;the&nbsp;<br>
string.&lt;BR&gt;&amp;nbsp;&amp;nbsp;MessageBox&nbsp;(NULL,&nbsp;(LPCTSTR)L&quot;Error&nbsp;Initializing&nbsp;SSL&nbsp;<br>
Library.&quot;,&nbsp;L&quot;Error&quot;,&nbsp;MB_OK&nbsp;|&nbsp;MB_ICONINFORMATION&nbsp;);&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;return&nbsp;-1;&amp;nbsp;&lt;BR&gt;&amp;nbsp;}&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;return&nbsp;s;&amp;nbsp;&lt;BR&gt;}&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;int&nbsp;&lt;BR&gt;make_ssl_socket_connection&nbsp;(int&nbsp;s)&lt;BR&gt;{&lt;BR&gt;&amp;nbsp;return&nbsp;(WSAIoctl&nbsp;<br>
(s,&nbsp;SO_SSL_PERFORM_HANDSHAKE,&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;NULL,&nbsp;<br>
NULL));&lt;BR&gt;}&lt;BR&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;dir=ltr&nbsp;style=&quot;MARGIN-RIGHT:&nbsp;0px&quot;&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=OutlookMessageHeader&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;<br>
&nbsp;&nbsp;size=2&gt;-----Original&nbsp;Message-----&lt;BR&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;jdev-admin@jabber.org&nbsp;<br>
&nbsp;&nbsp;[mailto:jdev-admin@jabber.org]&lt;B&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/B&gt;adrian&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;<br>
&nbsp;&nbsp;Tuesday,&nbsp;July&nbsp;30,&nbsp;2002&nbsp;4:29&nbsp;AM&lt;BR&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;<br>
&nbsp;&nbsp;jdev@jabber.org&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;[JDEV]&nbsp;Jabber&nbsp;SSL&nbsp;docs&lt;BR&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;hi...&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;where&nbsp;can&nbsp;i&nbsp;find&nbsp;some&nbsp;docs&nbsp;about&nbsp;implementing&nbsp;SSL&nbsp;<br>
&nbsp;&nbsp;in&nbsp;a&nbsp;jabber&nbsp;client...?&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Adrian&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>

<tt>
&lt;!doctype&nbsp;html&nbsp;public&nbsp;&quot;-//w3c//dtd&nbsp;html&nbsp;4.0&nbsp;transitional//en&quot;&gt;<br>
&lt;html&gt;<br>
Server&nbsp;modules&nbsp;must&nbsp;authenticate&nbsp;with&nbsp;the&nbsp;server.&nbsp;You&nbsp;send&nbsp;a&nbsp;stream:stream<br>
header&nbsp;with&nbsp;appropriate&nbsp;namespace&nbsp;(jabber:component:accept&nbsp;in&nbsp;this&nbsp;case,<br>
I&amp;nbsp;believe),&nbsp;then&nbsp;the&nbsp;server&nbsp;responds&nbsp;with&nbsp;its&nbsp;own&nbsp;with&nbsp;an&nbsp;'id'&nbsp;attribute<br>
embedded.&nbsp;Do&nbsp;a&nbsp;SHA1&nbsp;of&nbsp;(id&nbsp;+&nbsp;secret)&nbsp;to&nbsp;get&nbsp;the&nbsp;handshake&nbsp;value,&nbsp;then&nbsp;send<br>
this&nbsp;in&nbsp;a&nbsp;&amp;lt;handshake&gt;&nbsp;tag.&nbsp;The&nbsp;server&nbsp;will&nbsp;respond&nbsp;with&nbsp;an&nbsp;empty&nbsp;handshake<br>
tag&nbsp;if&nbsp;you&nbsp;authenticated&nbsp;correctly,&nbsp;and&nbsp;you&nbsp;are&nbsp;in.<br>
&lt;p&gt;For&nbsp;a&nbsp;Java&nbsp;example,&nbsp;see&nbsp;JabberBean&nbsp;(the&nbsp;DNS&nbsp;server&nbsp;for&nbsp;jabberbeans.org<br>
seems&nbsp;to&nbsp;be&nbsp;having&nbsp;problems,&nbsp;try&nbsp;jabberbeans.sourceforge.net)&nbsp;org.jabber.jabberbeans.serverside.Launcher<br>
contains&nbsp;the&nbsp;logic&nbsp;for&nbsp;accept,&nbsp;connect,&nbsp;and&nbsp;exec.&nbsp;There&nbsp;is&nbsp;some&nbsp;code&nbsp;which<br>
uses&nbsp;this&nbsp;in&nbsp;the&nbsp;src/jabberbeans-tests&nbsp;dir&nbsp;as&nbsp;well.&nbsp;(HelloWorldTransport)<br>
&lt;p&gt;-&nbsp;David&nbsp;Waite<br>
&lt;p&gt;Colin&nbsp;Madere&nbsp;wrote:<br>
&lt;blockquote&nbsp;TYPE=CITE&gt;&amp;nbsp;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;was:&nbsp;[JDEV]&nbsp;FreeBSD&nbsp;and&nbsp;MIO&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;I'm&nbsp;missing&nbsp;something.&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;-&nbsp;Set&nbsp;up&nbsp;XDB&nbsp;tag&nbsp;like&nbsp;below&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;-&nbsp;put&nbsp;in&nbsp;custom&nbsp;namespace&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;-&nbsp;run&nbsp;jabberd&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;all&nbsp;seems&nbsp;ok,&nbsp;&quot;myxdbservice&quot;&nbsp;shows&nbsp;up&nbsp;in&nbsp;the&nbsp;jabberd&nbsp;startup&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;I&nbsp;thought&nbsp;that&nbsp;what&nbsp;I&nbsp;had&nbsp;to&nbsp;do&nbsp;now&nbsp;was&nbsp;write&nbsp;a&nbsp;program<br>
which&nbsp;connects&nbsp;via&nbsp;a&nbsp;socket&nbsp;to&nbsp;port&nbsp;7001&nbsp;and&nbsp;when&nbsp;a&nbsp;request&nbsp;gets&nbsp;routed<br>
to&nbsp;this&nbsp;xdb&nbsp;service&nbsp;due&nbsp;to&nbsp;the&nbsp;registered&nbsp;namespace&nbsp;it&nbsp;would&nbsp;send&nbsp;that<br>
request.&amp;nbsp;&nbsp;The&nbsp;external&nbsp;module&nbsp;(Java&nbsp;program&nbsp;in&nbsp;this&nbsp;case)&nbsp;does&nbsp;a&nbsp;read<br>
operation&nbsp;on&nbsp;the&nbsp;socket&nbsp;and&nbsp;should&nbsp;wait&nbsp;until&nbsp;it&nbsp;gets&nbsp;data&nbsp;to&nbsp;continue.&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;But...&nbsp;all&nbsp;I&nbsp;get&nbsp;is&nbsp;a&nbsp;timeout.&amp;nbsp;&nbsp;jabberd&nbsp;debug&nbsp;states<br>
it&nbsp;and&nbsp;my&nbsp;Java&nbsp;program&nbsp;gets&nbsp;a&nbsp;correctly&nbsp;formed&nbsp;XML&nbsp;&quot;TimeOut&quot;&nbsp;error&nbsp;message<br>
sent&nbsp;to&nbsp;it&nbsp;from&nbsp;jabberd.&amp;nbsp;&nbsp;Leaving&nbsp;input&nbsp;stream&nbsp;timeout&nbsp;to&nbsp;default<br>
in&nbsp;Java&nbsp;program&nbsp;(indefinite).&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;Appears&nbsp;as&nbsp;though&nbsp;JabberD&nbsp;is&nbsp;waiting&nbsp;for&nbsp;something&nbsp;from<br>
the&nbsp;Java&nbsp;xdb&nbsp;module,&nbsp;but&nbsp;this&nbsp;seems&nbsp;backwards,&nbsp;what&nbsp;am&nbsp;I&nbsp;missing?&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;Colin&nbsp;Madere&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;-----Original&nbsp;Message-----&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;From:&nbsp;Edward&nbsp;J&nbsp;Becker&nbsp;[&lt;a&nbsp;href=&quot;mailto:Sauron@mediaone.net&quot;&gt;mailto:Sauron@mediaone.net&lt;/a&gt;]&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;Sent:&nbsp;Friday,&nbsp;December&nbsp;08,&nbsp;2000&nbsp;6:18&nbsp;PM&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;To:&nbsp;jdev@jabber.org&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;Subject:&nbsp;RE:&nbsp;[JDEV]&nbsp;FreeBSD&nbsp;and&nbsp;MIO&lt;/font&gt;<br>
&lt;br&gt;&amp;nbsp;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;Ah,&nbsp;thanks!&nbsp;That&nbsp;makes&nbsp;much&nbsp;more&nbsp;sense&nbsp;and&nbsp;sounds&nbsp;fun<br>
I&nbsp;am&nbsp;going&nbsp;to&nbsp;play&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;with&nbsp;that&nbsp;tonight.&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;Thanks!&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;Edward&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;-----Original&nbsp;Message-----&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;From:&nbsp;jdev-admin@jabber.org&nbsp;[&lt;a&nbsp;href=&quot;mailto:jdev-admin@jabber.org&quot;&gt;mailto:jdev-admin@jabber.org&lt;/a&gt;]On<br>
Behalf&nbsp;Of&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;Schuyler&nbsp;Heath&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;Sent:&nbsp;Friday,&nbsp;December&nbsp;08,&nbsp;2000&nbsp;7:28&nbsp;AM&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;To:&nbsp;jdev@jabber.org&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;Subject:&nbsp;Re:&nbsp;[JDEV]&nbsp;FreeBSD&nbsp;and&nbsp;MIO&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;Hello,&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;On&nbsp;Fri,&nbsp;Dec&nbsp;08,&nbsp;2000&nbsp;at&nbsp;12:58:58PM&nbsp;-0500,&nbsp;Edward&nbsp;J&nbsp;Becker<br>
wrote:&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&gt;&nbsp;Does&nbsp;this&nbsp;mean&nbsp;that&nbsp;in&nbsp;order&nbsp;to&nbsp;handle&nbsp;XDB&nbsp;by&nbsp;a&nbsp;custom<br>
component&nbsp;that&nbsp;some&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&gt;&nbsp;code&nbsp;must&nbsp;be&nbsp;written&nbsp;natively&nbsp;as&nbsp;a&nbsp;.SO&nbsp;?&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;Nope.&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;&amp;lt;xdb&nbsp;id=&quot;xdbjava.localhost&quot;&gt;&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&amp;nbsp;&nbsp;&amp;lt;ns&gt;jabber:iq:roster&amp;lt;/ns&gt;&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&amp;nbsp;&nbsp;&amp;lt;accept&gt;&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;ip/&gt;&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;port&gt;7001&amp;lt;/port&gt;&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;secret&gt;test&amp;lt;/secret&gt;&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&amp;nbsp;&nbsp;&amp;lt;/accept&gt;&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&amp;lt;/xdb&gt;&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;Here's&nbsp;a&nbsp;post&nbsp;I&nbsp;made&nbsp;which&nbsp;briefly&nbsp;outlines&nbsp;the&nbsp;XDB&nbsp;interface:&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;&lt;a&nbsp;href=&quot;http://mailman.jabber.org/pipermail/jdev/2000-November/003946.html&quot;&nbsp;TARGET=&quot;_blank&quot;&gt;http://mailman.jabber.org/pipermail/jdev/2000-November/003946.html&lt;/a&gt;&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;Schuyler&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=-1&gt;&gt;&nbsp;I&nbsp;was&nbsp;hoping&nbsp;to&nbsp;have&nbsp;a&nbsp;separate&nbsp;(likely&nbsp;Java)&nbsp;component<br>
handle&nbsp;XDB&nbsp;and&nbsp;was&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&gt;&nbsp;hoping&nbsp;sockets&nbsp;were&nbsp;used&nbsp;for&nbsp;communication.&nbsp;Is&nbsp;this<br>
possible?&nbsp;Am&nbsp;I&nbsp;missing&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&gt;&nbsp;something?&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&gt;&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=-1&gt;&gt;&nbsp;Edward&lt;/font&gt;&lt;/blockquote&gt;<br>
&lt;/html&gt;<br>

</tt>

<tt>
&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;10/23/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Dave&nbsp;Cridland&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:dave@cridland.net&quot;&gt;dave@cridland.net&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0;margin-left:0.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
On&nbsp;Tue&nbsp;Oct&nbsp;23&nbsp;08:25:59&nbsp;2007,&nbsp;Jacob&nbsp;Wright&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;I&amp;#39;m&nbsp;working&nbsp;on&nbsp;the&nbsp;DIGEST-MD5&nbsp;SASL&nbsp;authentication&nbsp;and&nbsp;feel&nbsp;like&nbsp;I&amp;#39;m&lt;br&gt;&amp;gt;&nbsp;doing&nbsp;it&lt;br&gt;&amp;gt;&nbsp;perfectly,&nbsp;but&nbsp;my&nbsp;server&nbsp;is&nbsp;telling&nbsp;me&nbsp;I&amp;#39;ve&nbsp;got&nbsp;an&nbsp;incorrect&nbsp;auth<br>
&lt;br&gt;&amp;gt;&nbsp;for&nbsp;the&lt;br&gt;&amp;gt;&nbsp;right&nbsp;username&nbsp;and&nbsp;password.&lt;br&gt;&lt;br&gt;Now&nbsp;you&nbsp;know&nbsp;one&nbsp;of&nbsp;the&nbsp;reasons&nbsp;that&nbsp;the&nbsp;IETF&nbsp;is&nbsp;deprecating&nbsp;it.&nbsp;:-/&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;Deprecating&nbsp;it!&nbsp;After&nbsp;all&nbsp;this&nbsp;work&nbsp;I&amp;#39;ve&nbsp;done!?&nbsp;;)&nbsp;&amp;nbsp;What&nbsp;is&nbsp;going&nbsp;to&nbsp;be&nbsp;the&nbsp;preferred&nbsp;method&nbsp;in&nbsp;the&nbsp;future?&amp;nbsp;<br>
&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0;margin-left:0.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&amp;gt;&nbsp;var&nbsp;dataStr:String&nbsp;=&nbsp;bytes.readUTFBytes(bytes.bytesAvailable);&lt;br&gt;&lt;br&gt;Hmmm...&nbsp;DIGEST-MD5&nbsp;isn&amp;#39;t&nbsp;UTF-8,&nbsp;by&nbsp;default.&nbsp;(It&amp;#39;s&nbsp;iso-8859-1,&nbsp;I<br>
&lt;br&gt;think,&nbsp;due&nbsp;to&nbsp;HTTP-isms&nbsp;in&nbsp;it).&nbsp;This&nbsp;will&nbsp;probably&nbsp;work,&nbsp;though.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;//&nbsp;transcode&nbsp;the&nbsp;string&nbsp;into&nbsp;an&nbsp;object&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;var&nbsp;data:Object&nbsp;=&nbsp;stringToObject(dataStr);&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;What&nbsp;does&nbsp;this&nbsp;actually&nbsp;do?<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;takes&nbsp;the&nbsp;comma-delim&nbsp;string&nbsp;and&nbsp;creates&nbsp;a&nbsp;hash&nbsp;object&nbsp;out&nbsp;of&nbsp;it.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0;margin-left:0.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&amp;gt;&nbsp;if&nbsp;(data.algorithm)&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;obj.algorithm&nbsp;=&nbsp;data.algorithm;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;It&nbsp;doesn&amp;#39;t&nbsp;seem&nbsp;very&nbsp;likely&nbsp;that&nbsp;you&nbsp;want&nbsp;to&nbsp;be&nbsp;messing&nbsp;with&lt;br&gt;algorithm.&nbsp;It&amp;#39;s&nbsp;not&nbsp;present&nbsp;in&nbsp;RFC2831,&nbsp;after&nbsp;all,&nbsp;and&nbsp;has&nbsp;no&nbsp;effect<br>
&lt;br&gt;unless&nbsp;you&amp;#39;re&nbsp;doing&nbsp;something&nbsp;other&nbsp;than&nbsp;qop=auth.&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;Ok.&amp;nbsp;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0;margin-left:0.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://obj.nc&quot;&gt;obj.nc&lt;/a&gt;&nbsp;=&nbsp;&amp;quot;00000001&amp;quot;;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;if&nbsp;(data.qop)&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;obj.qop&nbsp;=&nbsp;&amp;quot;auth&amp;quot;;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;qop&nbsp;absent,&nbsp;or&nbsp;qop=auth,&nbsp;are&nbsp;the&nbsp;same&nbsp;thing.&nbsp;You&nbsp;don&amp;#39;t&nbsp;need&nbsp;to&nbsp;be<br>
&lt;br&gt;conditional&nbsp;on&nbsp;whether&nbsp;the&nbsp;remote&nbsp;end&nbsp;gives&nbsp;you&nbsp;a&nbsp;choice.&nbsp;(Unless&lt;br&gt;you&amp;#39;re&nbsp;trying&nbsp;to&nbsp;do&nbsp;auth-int).&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;Good&nbsp;to&nbsp;know.&amp;nbsp;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0;margin-left:0.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&amp;gt;&nbsp;obj.cnonce&nbsp;=&nbsp;conn.generateId();&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;This&nbsp;isn&amp;#39;t&nbsp;secure&nbsp;enough,&nbsp;but&nbsp;it&nbsp;should&nbsp;still&nbsp;work,&nbsp;of&nbsp;course.&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;Again,&nbsp;good&nbsp;to&nbsp;know.&amp;nbsp;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0;margin-left:0.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&amp;gt;&nbsp;var&nbsp;a1:String,&nbsp;a2:String;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;a1&nbsp;=&nbsp;MD5.hash(obj.username&nbsp;+&nbsp;&amp;quot;:&amp;quot;&nbsp;+&nbsp;obj.realm&nbsp;+&nbsp;&amp;quot;:&amp;quot;&nbsp;+&nbsp;password)&nbsp;+&lt;br&gt;&amp;gt;&nbsp;&amp;quot;:&amp;quot;&nbsp;+&lt;br&gt;&amp;gt;&nbsp;obj.nonce&nbsp;+&nbsp;&amp;quot;:&amp;quot;&nbsp;+&nbsp;obj.cnonce;&lt;br&gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;Ooops&nbsp;-&nbsp;does&nbsp;MD5.hash()&nbsp;return&nbsp;a&nbsp;hex&nbsp;digest&nbsp;or&nbsp;a&nbsp;binary&nbsp;one?&nbsp;You&nbsp;want&lt;br&gt;a&nbsp;binary&nbsp;digest&nbsp;here.&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;AH!&nbsp;That&nbsp;was&nbsp;it!&nbsp;You&nbsp;are&nbsp;the&nbsp;best!&nbsp;I&amp;#39;ve&nbsp;spent&nbsp;hours&nbsp;on&nbsp;this.&nbsp;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;help,&nbsp;seriously.<br>
&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0;margin-left:0.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&amp;gt;&nbsp;var&nbsp;resultStr:String&nbsp;=&nbsp;objectToString(obj);&lt;br&gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&lt;br&gt;And&nbsp;again,&nbsp;what&nbsp;is&nbsp;this&nbsp;doing?&nbsp;Bear&nbsp;in&nbsp;mind&nbsp;that&nbsp;if&nbsp;it&amp;#39;s&nbsp;some&lt;br&gt;convenient&nbsp;built-in&nbsp;that&nbsp;produces&nbsp;output&nbsp;that&amp;#39;s&nbsp;similar&nbsp;to&lt;br&gt;DIGEST-MD5&amp;#39;s&nbsp;syntax,&nbsp;this&nbsp;may&nbsp;not&nbsp;be&nbsp;quite&nbsp;right.&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;<br>
&lt;/div&gt;&lt;div&gt;It&nbsp;is&nbsp;a&nbsp;convenience&nbsp;method.&nbsp;It&nbsp;takes&nbsp;the&nbsp;object&nbsp;I&amp;#39;ve&nbsp;been&nbsp;putting&nbsp;together&nbsp;and&nbsp;creates&nbsp;a&nbsp;key=&amp;quot;value&amp;quot;,key2=&amp;quot;value2&amp;quot;&nbsp;string&nbsp;out&nbsp;of&nbsp;it.&nbsp;Is&nbsp;that&nbsp;bad&nbsp;to&nbsp;quote&nbsp;every&nbsp;value?&nbsp;I&nbsp;noticed&nbsp;in&nbsp;examples&nbsp;that&nbsp;several&nbsp;key-value&nbsp;pairs&nbsp;were&nbsp;not&nbsp;quoted&nbsp;(<br>
e.g.&nbsp;charset,&nbsp;nc,&nbsp;etc.)&nbsp;but&nbsp;thought&nbsp;it&nbsp;didn&amp;#39;t&nbsp;matter.&amp;nbsp;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0;margin-left:0.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hope&nbsp;this&nbsp;gives&nbsp;you&nbsp;some&nbsp;pointers,&nbsp;anyway.&nbsp;I&amp;#39;m&nbsp;pretty&nbsp;sure&nbsp;it&amp;#39;ll&nbsp;be<br>
&lt;br&gt;down&nbsp;to&nbsp;the&nbsp;distinction&nbsp;between&nbsp;H()&nbsp;and&nbsp;HEX(H()).&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;were&nbsp;right.&nbsp;Thank&nbsp;you&nbsp;thank&nbsp;you&nbsp;again.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;<br>
Jacob&nbsp;Wright&amp;nbsp;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>

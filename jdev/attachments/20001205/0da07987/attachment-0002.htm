<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&nbsp;http-equiv=Content-Type&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;5.00.2919.6307&quot;&nbsp;name=GENERATOR&gt;<br>
&lt;STYLE&gt;&lt;/STYLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;bgColor=#ffffff&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Hi,&nbsp;Everybody:&lt;BR&gt;&lt;BR&gt;I&nbsp;am&nbsp;using&nbsp;jabberbeans&nbsp;to&nbsp;<br>
implement&nbsp;a&nbsp;jabber&nbsp;chat&nbsp;client..&lt;BR&gt;Now&nbsp;I&nbsp;finished&nbsp;the&nbsp;private&nbsp;chat&nbsp;and&nbsp;<br>
online/offline&nbsp;tracking&nbsp;thanks&nbsp;to&nbsp;jabberbeans&nbsp;classes.&lt;BR&gt;&lt;BR&gt;But&nbsp;when&nbsp;I&nbsp;try&nbsp;to&nbsp;<br>
implement&nbsp;group&nbsp;chat,&nbsp;I&nbsp;got&nbsp;some&nbsp;problem.&lt;BR&gt;I&nbsp;have&nbsp;attached&nbsp;my&nbsp;function&nbsp;<br>
implementation&nbsp;below.&lt;BR&gt;&lt;BR&gt;when&nbsp;I&nbsp;start&nbsp;two&nbsp;clients&nbsp;to&nbsp;join&nbsp;the&nbsp;same&nbsp;group&nbsp;and&nbsp;<br>
each&nbsp;send&nbsp;a&nbsp;message&nbsp;to&lt;BR&gt;the&nbsp;group,&nbsp;what&nbsp;happen&nbsp;is&nbsp;the&nbsp;group&nbsp;chat&nbsp;message&nbsp;is&nbsp;<br>
forwarded&nbsp;only&nbsp;to&nbsp;the&lt;BR&gt;message&nbsp;creator&nbsp;himself&nbsp;!&nbsp;(it&nbsp;seems&nbsp;the&nbsp;server&nbsp;does&nbsp;not&nbsp;<br>
broadcast&nbsp;the&nbsp;group&lt;BR&gt;chat&nbsp;message).&lt;BR&gt;&lt;BR&gt;Below&nbsp;is&nbsp;my&nbsp;code&nbsp;snippet:&lt;BR&gt;(1)&nbsp;<br>
client&nbsp;dennis:&lt;BR&gt;&lt;BR&gt;jb4im.joinGroupChat(&quot;sttarfire&quot;,&nbsp;&quot;10.90.15.76&quot;,&nbsp;<br>
&quot;dennis&quot;);&lt;BR&gt;jb4im.sendGroupChatMsg(&quot;sttarfire&quot;,&nbsp;<br>
&quot;10.90.15.76&quot;,&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&quot;group-subject&quot;,&nbsp;&quot;group&nbsp;message&nbsp;from&nbsp;&quot;&nbsp;+&nbsp;&quot;dennis&quot;);&lt;BR&gt;&lt;BR&gt;(2)client&nbsp;<br>
smith:&lt;BR&gt;&lt;BR&gt;jb4im.joinGroupChat(&quot;sttarfire&quot;,&nbsp;&quot;10.90.15.76&quot;,&nbsp;<br>
&quot;smith&quot;);&lt;BR&gt;jb4im.sendGroupChatMsg(&quot;sttarfire&quot;,&nbsp;<br>
&quot;10.90.15.76&quot;,&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&quot;group-subject&quot;,&nbsp;&quot;group&nbsp;message&nbsp;from&nbsp;&quot;&nbsp;+&nbsp;&quot;smith&quot;);&lt;BR&gt;&lt;BR&gt;It&nbsp;turns&nbsp;out&nbsp;message&nbsp;<br>
&quot;group&nbsp;message&nbsp;from&nbsp;smith&quot;&nbsp;is&nbsp;only&nbsp;routed&nbsp;to&nbsp;smith&lt;BR&gt;and&nbsp;message&nbsp;&quot;group&nbsp;message&nbsp;<br>
from&nbsp;dennis&quot;&nbsp;is&nbsp;routed&nbsp;only&nbsp;to&nbsp;dennis&nbsp;!&lt;BR&gt;&lt;BR&gt;Would&nbsp;you&nbsp;please&nbsp;kindly&nbsp;help&nbsp;me:&nbsp;<br>
what&nbsp;is&nbsp;wrong&nbsp;with&nbsp;my&nbsp;implementation&nbsp;?&lt;BR&gt;Do&nbsp;I&nbsp;need&nbsp;to&nbsp;create&nbsp;the&nbsp;chat&nbsp;group&nbsp;<br>
before&nbsp;I&nbsp;join&nbsp;?&nbsp;HOW&nbsp;?&lt;BR&gt;&lt;BR&gt;thanks&lt;BR&gt;&lt;BR&gt;---Roger&lt;BR&gt;&lt;BR&gt;below&nbsp;are&nbsp;the&nbsp;<br>
implementation&nbsp;of&nbsp;two&nbsp;functions:&lt;BR&gt;&lt;BR&gt;(m_pb&nbsp;and&nbsp;m_cb&nbsp;are&nbsp;presence&nbsp;builder&nbsp;and&nbsp;<br>
connection&nbsp;builder&nbsp;respectively,&lt;BR&gt;they&nbsp;are&nbsp;class&nbsp;private&nbsp;members&nbsp;and&nbsp;is&nbsp;<br>
initialized&nbsp;properly).&lt;BR&gt;&lt;BR&gt;public&nbsp;boolean&nbsp;joinGroupChat(String&nbsp;groupName,&nbsp;<br>
String&nbsp;<br>
groupServer,&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
String&nbsp;nickName)&lt;BR&gt;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;JID&amp;nbsp;&nbsp;to&nbsp;=&nbsp;<br>
null;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;to&nbsp;=&nbsp;new&nbsp;JID(groupName,&nbsp;groupServer,&nbsp;<br>
nickName);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;m_pb.reset();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
m_pb.setToAddress(to);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
m_pb.setType(&quot;available&quot;);&lt;BR&gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
m_cb.send(m_pb.build());&lt;BR&gt;}&lt;BR&gt;&lt;BR&gt;public&nbsp;boolean&nbsp;sendGroupChatMsg(String&nbsp;<br>
groupName,&nbsp;String&nbsp;<br>
groupServer,&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;String&nbsp;subject,&nbsp;<br>
String&nbsp;body)&lt;BR&gt;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;m_mb.reset();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
m_mb.setToAddress(new&nbsp;JID(groupName,&nbsp;groupServer,&nbsp;null));&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
m_mb.setType(&quot;groupchat&quot;);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
m_mb.setSubject(subject);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
m_mb.setBody(body);&lt;BR&gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Message&amp;nbsp;&nbsp;<br>
msg=(Message)m_mb.build();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
m_cb.send(msg);&lt;BR&gt;}&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>

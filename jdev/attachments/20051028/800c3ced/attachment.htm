<tt>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7233.28&quot;&gt;<br>
&lt;TITLE&gt;Re:&nbsp;[jdev]&nbsp;differentiated&nbsp;karma&nbsp;in&nbsp;jabber1.x&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&nbsp;id=idOWAReplyText11540&nbsp;dir=ltr&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#000000&nbsp;size=2&gt;Hey&nbsp;Matthias,&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Thanks&nbsp;for&nbsp;responding.&nbsp;I&nbsp;went&nbsp;ahead&nbsp;and&nbsp;put&nbsp;<br>
the&nbsp;enhancement&nbsp;request&nbsp;into&nbsp;bugzilla.&nbsp;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;About&nbsp;configuration&nbsp;by&nbsp;host:&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;If&nbsp;you&nbsp;make&nbsp;the&nbsp;config&nbsp;by&nbsp;host,&nbsp;then&nbsp;<br>
someone&nbsp;has&nbsp;to&nbsp;rememer&nbsp;to&nbsp;update&nbsp;the&nbsp;jabber&nbsp;config&nbsp;every&nbsp;time&nbsp;a&nbsp;no-karma&nbsp;client&nbsp;<br>
instance&nbsp;is&nbsp;added&nbsp;or&nbsp;moved.&nbsp;In&nbsp;the&nbsp;game-engine&nbsp;case&nbsp;below,&nbsp;there&nbsp;is&nbsp;a&nbsp;pool&nbsp;of&nbsp;<br>
game-engine&nbsp;servers&amp;nbsp;that&nbsp;use&nbsp;a&nbsp;pool&nbsp;of&nbsp;jabber&nbsp;servers.&nbsp;The&nbsp;app&nbsp;would&nbsp;scale&nbsp;<br>
by&nbsp;adding&nbsp;servers&nbsp;to&nbsp;either&nbsp;or&nbsp;both&nbsp;pools,&nbsp;and&nbsp;it&nbsp;would&nbsp;be&nbsp;good&nbsp;if&nbsp;that&nbsp;process&nbsp;<br>
didn't&nbsp;involve&nbsp;remembering&nbsp;to&nbsp;reconfigure&nbsp;and&nbsp;restart&nbsp;all&nbsp;the&nbsp;<br>
jabbers.&lt;/FONT&gt;&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;Would&nbsp;it&nbsp;be&nbsp;possible&nbsp;instead&nbsp;to&nbsp;do&nbsp;karma&nbsp;settings/exemptions&nbsp;by&nbsp;<br>
JID?&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;lt;karmaACL&amp;gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;user&nbsp;jid=&quot;gameengineuser1&quot;&nbsp;<br>
exempt=&quot;true&quot;/&amp;gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;user&nbsp;jid=&quot;gameengineuser2&quot;&nbsp;<br>
exempt=&quot;true&quot;/&amp;gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;user&nbsp;jid=&quot;someotheruser&quot;&amp;gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;karma&amp;gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;max&amp;gt;10&amp;lt;/max&amp;gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;<br>
dir=ltr&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;...&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;/karma&amp;gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;/user&amp;gt;&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;lt;karmaACL&amp;gt;&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;BR&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;<br>
&lt;HR&nbsp;tabIndex=-1&gt;<br>
&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;jdev-bounces@jabber.org&nbsp;on&nbsp;<br>
behalf&nbsp;of&nbsp;Matthias&nbsp;Wimmer&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;Fri&nbsp;10/28/2005&nbsp;4:25&nbsp;AM&lt;BR&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;<br>
Jabber&nbsp;software&nbsp;development&nbsp;list&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;Re:&nbsp;[jdev]&nbsp;differentiated&nbsp;<br>
karma&nbsp;in&nbsp;jabber1.x&lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;size=2&gt;Hi&nbsp;Larry!&lt;BR&gt;&lt;BR&gt;Please&nbsp;request&nbsp;this&nbsp;as&nbsp;an&nbsp;enhancement&nbsp;feature&nbsp;<br>
on&lt;BR&gt;&lt;A&nbsp;href=&quot;http://bugzilla.jabberd.org/&quot;&gt;http://bugzilla.jabberd.org/&lt;/A&gt;&nbsp;-&nbsp;<br>
But&nbsp;probably&nbsp;I'll&nbsp;implement&nbsp;it&nbsp;in&nbsp;a&nbsp;way&lt;BR&gt;that&nbsp;you&nbsp;can&nbsp;define&nbsp;different&nbsp;karma&nbsp;<br>
settings&nbsp;for&nbsp;special&nbsp;hosts.&nbsp;I&nbsp;guess&lt;BR&gt;this&nbsp;solves&nbsp;your&nbsp;problem&nbsp;as&nbsp;well&nbsp;and&nbsp;is&nbsp;<br>
more&nbsp;flexible.&lt;BR&gt;&lt;BR&gt;Tot&nbsp;kijk&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Matthias&lt;BR&gt;&lt;BR&gt;Am&nbsp;<br>
28.10.2005&nbsp;02:16&nbsp;schrieb&nbsp;Kirschner,&nbsp;Larry:&lt;BR&gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;What&nbsp;do&nbsp;people&nbsp;<br>
think&nbsp;about&nbsp;extending&nbsp;jabber&nbsp;configuration&nbsp;to&nbsp;allow&nbsp;you&lt;BR&gt;&amp;gt;&nbsp;to&nbsp;specify&nbsp;karma&nbsp;<br>
settings,&nbsp;but&nbsp;also&nbsp;define&nbsp;a&nbsp;set&nbsp;of&nbsp;netmask&nbsp;IPs&nbsp;that&lt;BR&gt;&amp;gt;&nbsp;would&nbsp;have&nbsp;unlimited&nbsp;<br>
access?&nbsp;Basically,&nbsp;you&nbsp;would&nbsp;allow&nbsp;additional&lt;BR&gt;&amp;gt;&nbsp;tags&nbsp;that&nbsp;look&nbsp;like&nbsp;<br>
something&nbsp;this&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;lt;karmaExemptions&amp;gt;&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;exempt&nbsp;<br>
netmask=&quot;192.168.255.255&quot;/&amp;gt;&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;exempt&nbsp;<br>
netmask=&quot;10.255.255.255&quot;/&amp;gt;&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;exempt&nbsp;netmask=&quot;166.77.255.255&quot;/&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;lt;/karmaExemptions&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;I'm&nbsp;looking&nbsp;at&nbsp;jabberd/mio.c&nbsp;and&nbsp;it&nbsp;<br>
seems&nbsp;like&nbsp;this&nbsp;could&nbsp;be&nbsp;added&lt;BR&gt;&amp;gt;&nbsp;with&nbsp;just&nbsp;a&nbsp;few&nbsp;lines&nbsp;of&nbsp;code,&nbsp;maybe&nbsp;<br>
along&nbsp;the&nbsp;lines&nbsp;of&nbsp;the&nbsp;following:&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;1.&nbsp;In&nbsp;mio_init()&nbsp;read&nbsp;any&nbsp;<br>
exemptions&nbsp;into&nbsp;an&nbsp;array&lt;BR&gt;&amp;gt;&nbsp;2.&nbsp;In&nbsp;mio_listen&nbsp;(and&nbsp;mio_accept)&nbsp;after&nbsp;<br>
creating&nbsp;a&nbsp;new&nbsp;mio&nbsp;with&lt;BR&gt;&amp;gt;&nbsp;mio_new(),&nbsp;compare&nbsp;the&nbsp;mio's&nbsp;ip&nbsp;with&nbsp;any&nbsp;exempt&nbsp;<br>
netmasks.&nbsp;If&nbsp;the&nbsp;new&lt;BR&gt;&amp;gt;&nbsp;mio's&nbsp;ip&nbsp;is&nbsp;exempt,&nbsp;set&nbsp;mio-&amp;gt;k.dec&nbsp;=&nbsp;<br>
0.&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;Then&nbsp;again,&nbsp;I'm&nbsp;just&nbsp;scanning&nbsp;through&nbsp;the&nbsp;code&nbsp;and&nbsp;there&nbsp;<br>
could&nbsp;be&lt;BR&gt;&amp;gt;&nbsp;dependencies&nbsp;that&nbsp;I&nbsp;don't&nbsp;understand.&nbsp;If&nbsp;I'm&nbsp;missing&nbsp;something,&nbsp;<br>
please&lt;BR&gt;&amp;gt;&nbsp;let&nbsp;me&nbsp;know.&lt;BR&gt;&amp;gt;&lt;BR&gt;&lt;BR&gt;--&lt;BR&gt;Fon:&nbsp;+49-700&nbsp;7700&nbsp;<br>
7770&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;A&nbsp;<br>
href=&quot;http://matthias.wimmer.name/&quot;&gt;http://matthias.wimmer.name/&lt;/A&gt;&lt;BR&gt;Fax:&nbsp;<br>
+49-899&nbsp;5&nbsp;899&nbsp;156&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
xmpp:mawis@amessage.info&lt;BR&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;/DIV&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>

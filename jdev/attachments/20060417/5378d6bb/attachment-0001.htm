<tt>
Hey,&nbsp;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;I&nbsp;used&nbsp;a&nbsp;packet&nbsp;sniffer&nbsp;as&nbsp;you&nbsp;suggested&nbsp;and&nbsp;sadly&nbsp;I&nbsp;was&nbsp;able&nbsp;to&nbsp;see&nbsp;&nbsp;all&nbsp;packets,&nbsp;including&nbsp;the&nbsp;ones&nbsp;that&nbsp;came&nbsp;after&nbsp;the&nbsp;server&nbsp;said&nbsp;&nbsp;&quot;proceed&quot;.&lt;br&gt;&nbsp;&nbsp;I&nbsp;then&nbsp;used&nbsp;a&nbsp;commercial&amp;nbsp;&nbsp;im&nbsp;client&amp;nbsp;&nbsp;and&nbsp;tried&nbsp;to&nbsp;sniff,&nbsp;&nbsp;and&amp;nbsp;&nbsp;this&nbsp;one&nbsp;worked&nbsp;as&nbsp;expected.&amp;nbsp;&nbsp;Everything&nbsp;after&nbsp;&quot;proceed&quot;&nbsp;&nbsp;was&nbsp;encrypted.&nbsp;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;I&nbsp;don't&nbsp;get&nbsp;it.&nbsp;I&nbsp;wonder&nbsp;if&nbsp;this&nbsp;could&nbsp;be&nbsp;a&nbsp;platform&nbsp;issue&nbsp;(my&nbsp;&nbsp;application&nbsp;is&nbsp;based&nbsp;on&nbsp;flash&nbsp;player&nbsp;8&nbsp;so&nbsp;that's&amp;nbsp;&nbsp;actionscript&nbsp;&nbsp;virtual&nbsp;machine)&amp;nbsp;&nbsp;or&nbsp;if&nbsp;I&nbsp;misunderstood&nbsp;the&nbsp;tls&nbsp;plain&nbsp;&nbsp;authentication&nbsp;in&nbsp;the&nbsp;first&nbsp;place.&nbsp;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Here's&nbsp;my&nbsp;full&nbsp;comunication&nbsp;:&nbsp;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Client:&lt;br&gt;&nbsp;&nbsp;&amp;lt;?xml&nbsp;version=&quot;1.0&quot;?&amp;gt;&amp;lt;flash:stream&nbsp;to=&quot;myserver&quot;&nbsp;&nbsp;xmlns=&quot;jabber:client&quot;&nbsp;xmlns:flash=&quot;http://www.jabber.com/streams/flash&quot;&nbsp;&nbsp;version=&quot;1.0&quot;&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Server:&lt;br&gt;&nbsp;&nbsp;&amp;lt;?xml&nbsp;version='1.0'&nbsp;encoding='UTF-8'?&amp;gt;&amp;lt;flash:stream&nbsp;&nbsp;xmlns:flash=&quot;http://www.jabber.com/streams/flash&quot;&nbsp;&nbsp;xmlns:stream=&quot;http://etherx.jabber.org/streams&quot;&nbsp;xmlns=&quot;jabber:client&quot;&nbsp;<br>
&nbsp;from=&quot;myserver&quot;&nbsp;id=&quot;77241f23&quot;&nbsp;xml:lang=&quot;en&quot;&nbsp;&nbsp;version=&quot;1.0&quot;&amp;gt;&amp;lt;stream:features&amp;gt;&amp;lt;starttls&nbsp;&nbsp;xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;&amp;gt;&amp;lt;/starttls&amp;gt;&amp;lt;mechanisms&nbsp;&nbsp;xmlns=&quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;&amp;gt;&amp;lt;mechanism&amp;gt;CRAM-MD5&amp;lt;/mechanism&amp;gt;&amp;lt;mechanism&amp;gt;DIGEST-MD5&amp;lt;/mechanism&amp;gt;&amp;lt;mechanism&amp;gt;PLAIN&amp;lt;/mechanism&amp;gt;&amp;lt;mechanism&amp;gt;ANONYMOUS&amp;lt;/mechanism&amp;gt;&amp;lt;/mechanisms&amp;gt;&amp;lt;auth&nbsp;&nbsp;xmlns=&quot;http://jabber.org/features/iq-auth&quot;/&amp;gt;&amp;lt;register&nbsp;&nbsp;xmlns=&quot;http://jabber.org/features/iq-register&quot;/&amp;gt;&amp;lt;/stream:features&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Client&lt;br&gt;&nbsp;&nbsp;&amp;lt;starttls&nbsp;xmlns='urn:ietf:params:xml:ns:xmpp-tls'/&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Server&lt;br&gt;&nbsp;&nbsp;&amp;lt;proceed&nbsp;xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;/&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Client&lt;br&gt;&nbsp;&nbsp;&amp;lt;?xml&nbsp;version=&quot;1.0&quot;?&amp;gt;&amp;lt;flash:stream&nbsp;to=&quot;myserver&quot;&nbsp;&nbsp;xmlns=&quot;jabber:client&quot;&nbsp;xmlns:flash=&quot;http://www.jabber.com/streams/flash&quot;&nbsp;&nbsp;version=&quot;1.0&quot;&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Server&lt;br&gt;&nbsp;&nbsp;&amp;nbsp;&amp;lt;?xml&nbsp;version='1.0'&nbsp;encoding='UTF-8'?&amp;gt;&amp;lt;flash:stream&nbsp;<br>
&nbsp;xmlns:flash=&quot;http://www.jabber.com/streams/flash&quot;&nbsp;&nbsp;xmlns:stream=&quot;http://etherx.jabber.org/streams&quot;&nbsp;xmlns=&quot;jabber:client&quot;&nbsp;&nbsp;from=&quot;myserver&quot;&nbsp;id=&quot;77241f23&quot;&nbsp;xml:lang=&quot;en&quot;&nbsp;&nbsp;version=&quot;1.0&quot;&amp;gt;&amp;lt;stream:features&amp;gt;&amp;lt;starttls&nbsp;&nbsp;xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;&amp;gt;&amp;lt;/starttls&amp;gt;&amp;lt;mechanisms&nbsp;&nbsp;xmlns=&quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;&amp;gt;&amp;lt;mechanism&amp;gt;CRAM-MD5&amp;lt;/mechanism&amp;gt;&amp;lt;mechanism&amp;gt;DIGEST-MD5&amp;lt;/mechanism&amp;gt;&amp;lt;mechanism&amp;gt;PLAIN&amp;lt;/mechanism&amp;gt;&amp;lt;mechanism&amp;gt;ANONYMOUS&amp;lt;/mechanism&amp;gt;&amp;lt;/mechanisms&amp;gt;&amp;lt;auth&nbsp;&nbsp;xmlns=&quot;http://jabber.org/features/iq-auth&quot;/&amp;gt;&amp;lt;register&nbsp;&nbsp;xmlns=&quot;http://jabber.org/features/iq-register&quot;/&amp;gt;&amp;lt;/stream:features&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Client&lt;br&gt;&nbsp;&nbsp;&amp;nbsp;&amp;lt;auth&nbsp;xmlns='urn:ietf:params:xml:ns:xmpp-sasl'mechanism='PLAIN'&amp;gt;[Base64&nbsp;stuff]&amp;lt;/auth&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Server&lt;br&gt;&nbsp;&nbsp;&amp;lt;success&nbsp;xmlns=&quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;/&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Client&lt;br&gt;&nbsp;&nbsp;&amp;lt;?xml&nbsp;version=&quot;1.0&quot;?&amp;gt;&amp;lt;flash:stream&nbsp;to=&quot;myserver&quot;&nbsp;<br>
&nbsp;xmlns=&quot;jabber:client&quot;&nbsp;xmlns:flash=&quot;http://www.jabber.com/streams/flash&quot;&nbsp;&nbsp;version=&quot;1.0&quot;&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Server&lt;br&gt;&nbsp;&nbsp;&amp;lt;?xml&nbsp;version='1.0'&nbsp;encoding='UTF-8'?&amp;gt;&amp;lt;flash:stream&nbsp;&nbsp;xmlns:flash=&quot;http://www.jabber.com/streams/flash&quot;&nbsp;&nbsp;xmlns:stream=&quot;http://etherx.jabber.org/streams&quot;&nbsp;xmlns=&quot;jabber:client&quot;&nbsp;&nbsp;from=&quot;myserver&quot;&nbsp;id=&quot;d1eecb8b&quot;&nbsp;xml:lang=&quot;en&quot;&nbsp;&nbsp;version=&quot;1.0&quot;&amp;gt;&amp;lt;stream:features&amp;gt;&amp;lt;starttls&nbsp;&nbsp;xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;&amp;gt;&amp;lt;/starttls&amp;gt;&amp;lt;mechanisms&nbsp;&nbsp;xmlns=&quot;urn:ietf:params:xml:ns:xmpp-sasl&quot;&amp;gt;&amp;lt;mechanism&amp;gt;CRAM-MD5&amp;lt;/mechanism&amp;gt;&amp;lt;mechanism&amp;gt;DIGEST-MD5&amp;lt;/mechanism&amp;gt;&amp;lt;mechanism&amp;gt;PLAIN&amp;lt;/mechanism&amp;gt;&amp;lt;mechanism&amp;gt;ANONYMOUS&amp;lt;/mechanism&amp;gt;&amp;lt;/mechanisms&amp;gt;&amp;lt;auth&nbsp;&nbsp;xmlns=&quot;http://jabber.org/features/iq-auth&quot;/&amp;gt;&amp;lt;register&nbsp;&nbsp;xmlns=&quot;http://jabber.org/features/iq-register&quot;/&amp;gt;&amp;lt;/stream:features&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Client&lt;br&gt;&nbsp;&nbsp;&amp;lt;iq&nbsp;id=&quot;log_user_1&quot;&nbsp;type=&quot;get&quot;&amp;gt;&amp;lt;query&nbsp;<br>
&nbsp;xmlns=&quot;jabber:iq:auth&quot;&amp;gt;&amp;lt;username&amp;gt;userName&amp;lt;/username&amp;gt;&amp;lt;/query&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Server&lt;br&gt;&nbsp;&nbsp;&amp;lt;iq&nbsp;type=&quot;result&quot;&nbsp;id=&quot;log_user_1&quot;&amp;gt;&amp;lt;query&nbsp;&nbsp;xmlns=&quot;jabber:iq:auth&quot;&amp;gt;&amp;lt;username&amp;gt;userName&amp;lt;/username&amp;gt;&amp;lt;password/&amp;gt;&amp;lt;digest/&amp;gt;&amp;lt;resource/&amp;gt;&amp;lt;/query&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;etc&nbsp;etc&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;What&nbsp;am&nbsp;I&nbsp;doing&nbsp;wrong&nbsp;?&nbsp;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;Many&nbsp;thanks,&lt;br&gt;&nbsp;&nbsp;Adrian.&nbsp;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;&lt;br&gt;&lt;b&gt;&lt;i&gt;Norman&nbsp;Rasmussen&nbsp;&amp;lt;norman@rasmussen.co.za&amp;gt;&lt;/i&gt;&lt;/b&gt;&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;replbq&quot;&nbsp;style=&quot;border-left:&nbsp;2px&nbsp;solid&nbsp;rgb(16,&nbsp;16,&nbsp;255);&nbsp;margin-left:&nbsp;5px;&nbsp;padding-left:&nbsp;5px;&quot;&gt;&lt;flashbk2003&nbsp;@yahoo.com=&quot;&quot;&gt;If&nbsp;you're&nbsp;enabling&nbsp;TLS&nbsp;then&nbsp;it's&nbsp;secure&nbsp;as&nbsp;any&nbsp;https&nbsp;connection&lt;br&gt;(excepting&nbsp;the&nbsp;fact&nbsp;that&nbsp;certs&nbsp;are&nbsp;not&nbsp;checked&nbsp;correctly,&nbsp;etc).&lt;br&gt;&lt;br&gt;If&nbsp;you're&nbsp;worried,&nbsp;try&nbsp;running&nbsp;tcpdump&nbsp;(or&nbsp;any&nbsp;other&nbsp;packet&nbsp;sniffer),&lt;br&gt;and&nbsp;check&nbsp;out&nbsp;the&nbsp;data&nbsp;that&nbsp;flows&nbsp;back&nbsp;and&nbsp;forth.&nbsp;&nbsp;You&nbsp;_should_&nbsp;see&lt;br&gt;the&nbsp;initial&nbsp;xml&nbsp;stream,&nbsp;and&nbsp;the&nbsp;starttls&nbsp;request,&nbsp;but&nbsp;after&nbsp;that&lt;br&gt;everything<br>
&nbsp;should&nbsp;look&nbsp;encrypted.&lt;br&gt;&lt;br&gt;--&lt;br&gt;-&nbsp;Norman&nbsp;Rasmussen&lt;br&gt;&nbsp;-&nbsp;Email:&nbsp;norman@rasmussen.co.za&lt;br&gt;&nbsp;-&nbsp;Home&nbsp;page:&nbsp;http://norman.rasmussen.co.za/&lt;br&gt;&lt;/flashbk2003&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;hr&nbsp;size=1&gt;Talk&nbsp;is&nbsp;cheap.&nbsp;Use&nbsp;Yahoo!&nbsp;Messenger&nbsp;to&nbsp;make&nbsp;PC-to-Phone&nbsp;calls.&nbsp;&lt;a&nbsp;href=&quot;http://us.rd.yahoo.com/mail_us/taglines/postman7/*http://us.rd.yahoo.com/evt=39666/*http://beta.messenger.yahoo.com&quot;&gt;&nbsp;Great&nbsp;rates&nbsp;starting&nbsp;at&nbsp;1&amp;cent;/min.
</tt>

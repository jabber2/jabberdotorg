<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&nbsp;http-equiv=Content-Type&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;5.00.3103.1000&quot;&nbsp;name=GENERATOR&gt;<br>
&lt;STYLE&gt;&lt;/STYLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;bgColor=#ffffff&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Oops,&nbsp;just&nbsp;realised&nbsp;that&nbsp;I&nbsp;actually&nbsp;installed&nbsp;the&nbsp;<br>
wrong&nbsp;version&nbsp;of&nbsp;libetherx.&nbsp;Searched&nbsp;the&nbsp;cvs&nbsp;and&nbsp;found&nbsp;the&nbsp;version&nbsp;with&nbsp;<br>
ehandler_new_ex.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;Compiled&nbsp;it,&nbsp;and&nbsp;re-compiled&nbsp;the&nbsp;icq&nbsp;transport.&nbsp;Compiles&nbsp;well&nbsp;now.&nbsp;But,&nbsp;I&nbsp;<br>
still&nbsp;cannot&nbsp;get&nbsp;to&nbsp;register&nbsp;the&nbsp;service&nbsp;in&nbsp;JabberIM&nbsp;client.&nbsp;I&nbsp;am&nbsp;still&nbsp;getting&nbsp;<br>
Remote&nbsp;Server&nbsp;error.&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Here's&nbsp;what&nbsp;happens&nbsp;on&nbsp;jabberd&nbsp;when&nbsp;I&nbsp;start&nbsp;the&nbsp;<br>
icqtransport:&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;=============================================&lt;/DIV&gt;<br>
&lt;DIV&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;base_accept.c:453&nbsp;new&nbsp;connection&nbsp;on&nbsp;port&nbsp;<br>
2222&nbsp;from&nbsp;ip&lt;BR&gt;192.168.1.2&nbsp;as&nbsp;fd&nbsp;12&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;log.c:105&nbsp;<br>
&amp;lt;log&nbsp;type='notice'&nbsp;from='-internal'&amp;gt;base_acc&lt;BR&gt;ept:&nbsp;new&nbsp;connection&nbsp;on&nbsp;<br>
port&nbsp;2222&nbsp;from&nbsp;ip&nbsp;192.168.1.2&amp;lt;/log&amp;gt;&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;<br>
deliver.c:472&nbsp;DELIVER&nbsp;3:-internal&nbsp;&amp;lt;log&nbsp;type='notice'&nbsp;<br>
f&lt;BR&gt;rom='-internal'&amp;gt;base_accept:&nbsp;new&nbsp;connection&nbsp;on&nbsp;port&nbsp;2222&nbsp;from&nbsp;ip&nbsp;<br>
192.168.1.2&amp;lt;/lo&lt;BR&gt;g&amp;gt;&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;deliver.c:344&nbsp;<br>
delivering&nbsp;to&nbsp;instance&nbsp;'logger'&lt;BR&gt;20001114T11:23:06:&nbsp;[notice]&nbsp;(-internal):&nbsp;<br>
base_accept:&nbsp;new&nbsp;connection&nbsp;on&nbsp;port&nbsp;222&lt;BR&gt;2&nbsp;from&nbsp;ip&nbsp;192.168.1.2&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;base_accept.c:308&nbsp;io&nbsp;thread&nbsp;starting&nbsp;for&nbsp;12&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;base_accept.c:328&nbsp;io&nbsp;read&nbsp;event&nbsp;for&nbsp;12&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;base_accept.c:205&nbsp;socket&nbsp;connected,&nbsp;sending&nbsp;xstream&nbsp;<br>
he&lt;BR&gt;ader:&nbsp;&amp;lt;?xml&nbsp;version='1.0'?&amp;gt;&amp;lt;stream:stream&nbsp;<br>
xmlns:stream='http://etherx.jabber.org&lt;BR&gt;/streams'&nbsp;id='3A11209A'&nbsp;<br>
xmlns='jabber:component:accept'&amp;gt;&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;<br>
base_accept.c:328&nbsp;io&nbsp;read&nbsp;event&nbsp;for&nbsp;12&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;<br>
base_accept.c:213&nbsp;base_accept:&nbsp;<br>
&amp;lt;handshake&amp;gt;7388f5590194&lt;BR&gt;27ae1ee9ac57789e6fbf49840c1d&amp;lt;/handshake&amp;gt;&lt;BR&gt;Tue&nbsp;<br>
Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;base_accept.c:234&nbsp;<br>
Checking:&lt;BR&gt;7388f559019427ae1ee9ac57789e6fbf49840c1d&lt;BR&gt;7388f559019427ae1ee9ac57789e6fbf49840c1d&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Here's&nbsp;what&nbsp;happens&nbsp;on&amp;nbsp;icqtransport&nbsp;when&nbsp;I&nbsp;<br>
start&nbsp;the&nbsp;icqtransport:&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;=============================================&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/main.c:254&nbsp;[main]&nbsp;ICQ&nbsp;transport&nbsp;<br>
bootstrap&nbsp;...&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/from_etherx.c:169&nbsp;<br>
[from_etherx_start]&nbsp;kickoff&nbsp;he&lt;BR&gt;re&nbsp;(host&nbsp;icq.payperfect.com,&nbsp;namespace&nbsp;<br>
jabber:component:accept)&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/ehandler.c:44&nbsp;<br>
ehandler_new(icq.payperfect.com,ja&lt;BR&gt;bber:component:accept)&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/ehlist.c:26&nbsp;list_add(icq.payperfect.com)&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/etherxs.c:124&nbsp;attempting&nbsp;socket&nbsp;connect&nbsp;to&nbsp;<br>
192.1&lt;BR&gt;68.1.2&nbsp;for&nbsp;transport&nbsp;icq.payperfect.com&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;<br>
2000&amp;nbsp;&nbsp;debug/xmlstream.c:26&nbsp;xmlstream_connect&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;<br>
2000&amp;nbsp;&nbsp;debug/tstream.c:63&nbsp;tstream_new&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;<br>
debug/xmlstream.c:103&nbsp;head:&nbsp;&amp;lt;?xml&nbsp;version='1.0'?&amp;gt;&amp;lt;stre&lt;BR&gt;am:stream&nbsp;<br>
xmlns:stream='http://etherx.jabber.org/streams'&nbsp;id='3A11209A'&nbsp;<br>
xmlns='j&lt;BR&gt;abber:component:accept'&nbsp;to='192.168.1.2'&nbsp;from='icq.payperfect.com'&nbsp;<br>
xmlns:etherx=&lt;BR&gt;'http://etherx.jabber.org/'&nbsp;<br>
etherx:secret='7388f559019427ae1ee9ac57789e6fbf49840&lt;BR&gt;c1d'&amp;gt;&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/tstream.c:133&nbsp;tstream_write_buffer&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/ehandler.c:72&nbsp;spun&nbsp;off&nbsp;connection&nbsp;attempt&lt;BR&gt;Tue&nbsp;Nov&nbsp;<br>
14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/main.c:55&nbsp;[main_thread_loop]&nbsp;entry&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/tstream.c:212&nbsp;tstream_main:&nbsp;startup&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/xmlstream.c:228&nbsp;xmlstream_main:&nbsp;startup&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/tstream.c:335&nbsp;tstream_connect:&nbsp;<br>
ADNS[192.168.1.2:&lt;BR&gt;2222]&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/tstream.c:492&nbsp;<br>
tstream_socket&nbsp;2222&nbsp;192.168.1.2&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;<br>
debug/tstream.c:263&nbsp;tstream&nbsp;write&nbsp;event&nbsp;0&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;<br>
debug/tstream.c:285&nbsp;tstream_write&nbsp;271&nbsp;blocks&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;<br>
debug/tstream.c:285&nbsp;tstream_write&nbsp;0&nbsp;blocks&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;<br>
debug/tstream.c:247&nbsp;tstream&nbsp;read&nbsp;event&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;<br>
debug/xmlstream.c:228&nbsp;xmlstream_main:&nbsp;startup&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;<br>
debug/etherxs.c:61&nbsp;got&nbsp;root&nbsp;tag&nbsp;from&nbsp;etherx!&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;<br>
debug/etherxs.c:70&nbsp;shahashing:&nbsp;3A11209Aicq-accept&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;19:23:06&nbsp;<br>
2000&amp;nbsp;&nbsp;debug/etherxs.c:72&nbsp;output:&nbsp;<br>
3A11209Aicq-accept:Ю&amp;#710;@&amp;#710;яicЙ&lt;BR&gt;@m&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;По&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/etherxs.c:77&nbsp;writing&nbsp;handshake:&nbsp;<br>
&amp;lt;handshake&amp;gt;7388f&lt;BR&gt;559019427ae1ee9ac57789e6fbf49840c1d&amp;lt;/handshake&amp;gt;&lt;BR&gt;Tue&nbsp;<br>
Nov&nbsp;14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/tstream.c:133&nbsp;tstream_write_buffer&lt;BR&gt;Tue&nbsp;Nov&nbsp;<br>
14&nbsp;19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/tstream.c:188&nbsp;tstream_oob_flush&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/tstream.c:263&nbsp;tstream&nbsp;write&nbsp;event&nbsp;0&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/tstream.c:285&nbsp;tstream_write&nbsp;63&nbsp;blocks&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/tstream.c:285&nbsp;tstream_write&nbsp;0&nbsp;blocks&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/tstream.c:247&nbsp;tstream&nbsp;read&nbsp;event&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/xmlstream.c:228&nbsp;xmlstream_main:&nbsp;startup&lt;BR&gt;Tue&nbsp;Nov&nbsp;14&nbsp;<br>
19:23:06&nbsp;2000&amp;nbsp;&nbsp;debug/etherxs.c:91&nbsp;got&nbsp;node&nbsp;from&nbsp;etherx!&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;====================================================&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Thanks,&nbsp;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;I&nbsp;tried&nbsp;your&nbsp;suggestion,&nbsp;but&nbsp;on&nbsp;compiling,&nbsp;I&nbsp;got&nbsp;-&nbsp;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;undefined&nbsp;reference&nbsp;to&nbsp;<br>
`ehandler_new_ex'.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;On&nbsp;searching&nbsp;through&nbsp;the&nbsp;source&nbsp;files,&nbsp;I&nbsp;found&nbsp;that&nbsp;<br>
actually&nbsp;ehandler&nbsp;is&nbsp;defined&nbsp;is&nbsp;ehandler.c&nbsp;in&nbsp;libetherx.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;So,&nbsp;does&nbsp;that&nbsp;mean&nbsp;I&nbsp;need&nbsp;to&nbsp;change&nbsp;all&nbsp;<br>
ehandler_new&nbsp;to&nbsp;ehandler_new_ex&nbsp;and&nbsp;recompile&nbsp;libetherx.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Also,&nbsp;I&nbsp;got&nbsp;a&nbsp;too&nbsp;many&nbsp;arguments&nbsp;for&nbsp;function&nbsp;-&nbsp;I&nbsp;<br>
think&nbsp;it&nbsp;is&nbsp;from&nbsp;adding&nbsp;the&nbsp;2222.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Have&nbsp;you&nbsp;tried&nbsp;this?&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Vincent&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;On&nbsp;Tuesday&nbsp;14&nbsp;November&nbsp;2000&nbsp;09:35,&nbsp;you&nbsp;<br>
wrote:&lt;BR&gt;&lt;BR&gt;&amp;gt;&lt;I&gt;&nbsp;&amp;gt;&nbsp;huh,&nbsp;where&nbsp;to&nbsp;configure&nbsp;icq&nbsp;to&nbsp;use&nbsp;port&nbsp;9000?&nbsp;I&nbsp;don't&nbsp;<br>
see&nbsp;where&nbsp;in&nbsp;the&lt;BR&gt;&lt;/I&gt;&amp;gt;&lt;I&gt;&nbsp;icq_trans.xml&nbsp;where&nbsp;I&nbsp;can&nbsp;configure&nbsp;this&nbsp;port&nbsp;<br>
9000.&lt;BR&gt;&lt;/I&gt;&lt;BR&gt;Quick&nbsp;patch&nbsp;for&nbsp;the&nbsp;icqtransport&nbsp;to&nbsp;connect&nbsp;to&nbsp;port&nbsp;<br>
9000&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;Somewhere&nbsp;at&nbsp;the&nbsp;bottom&nbsp;of&nbsp;from_etherx.c&nbsp;you&nbsp;will&nbsp;see&nbsp;the&nbsp;<br>
following&nbsp;bit,&nbsp;&lt;BR&gt;except&nbsp;the&nbsp;&quot;jabber:component:accept&quot;&nbsp;is&nbsp;called&nbsp;<br>
&quot;jabber:server&quot;&nbsp;and&nbsp;&lt;BR&gt;&quot;ehandler_new_ex&quot;&nbsp;is&nbsp;simply&nbsp;called&nbsp;&quot;ehandler_new&quot;.&nbsp;Also,&nbsp;<br>
the&nbsp;&quot;2222&quot;&nbsp;argument&nbsp;&lt;BR&gt;to&nbsp;the&nbsp;ehandler_new&nbsp;function&nbsp;is&nbsp;not&nbsp;<br>
there.&lt;BR&gt;&lt;BR&gt;{&lt;BR&gt;&amp;nbsp;&nbsp;static&nbsp;const&nbsp;char&nbsp;server_namespace[]&nbsp;=&nbsp;<br>
&quot;jabber:component:accept&quot;;&lt;BR&gt;&amp;nbsp;&nbsp;log_debug(ZONE,&quot;[from_etherx_start]&nbsp;kickoff&nbsp;<br>
here&nbsp;(host&nbsp;%s,&nbsp;namespace&nbsp;%s)&quot;,&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
g_config.hostname,server_namespace);&lt;BR&gt;&amp;nbsp;&nbsp;g_etherx&nbsp;=&nbsp;<br>
ehandler_new_ex(etherx_packet_handler,(char&nbsp;&lt;BR&gt;*)(g_config.hostname),&lt;BR&gt;&amp;nbsp;&nbsp;<br>
(char&nbsp;*)server_namespace,&nbsp;2222);&lt;BR&gt;&lt;BR&gt;}&nbsp;/*&nbsp;end&nbsp;from_etherx_start&nbsp;<br>
*/&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;Then,&nbsp;you&nbsp;change&nbsp;the&nbsp;code&nbsp;to&nbsp;match&nbsp;the&nbsp;above,&nbsp;use&nbsp;<br>
jabber:component:accept,&nbsp;&lt;BR&gt;use&nbsp;ehandler_new_ex,&nbsp;and&nbsp;add&nbsp;the&nbsp;port&nbsp;you&nbsp;want&nbsp;<br>
icqtrans&nbsp;to&nbsp;connect&nbsp;to&nbsp;to&nbsp;the&nbsp;&lt;BR&gt;ehandler_new_ex&nbsp;paramaters.&nbsp;In&nbsp;the&nbsp;above&nbsp;<br>
example,&nbsp;I&nbsp;am&nbsp;using&nbsp;port&nbsp;2222,&nbsp;you&nbsp;&lt;BR&gt;would&nbsp;use&nbsp;9000&nbsp;there.&lt;BR&gt;&lt;BR&gt;When&nbsp;jabberd&nbsp;<br>
is&nbsp;running,&nbsp;run&nbsp;icqtrans&nbsp;-D&nbsp;and&nbsp;it&nbsp;should&nbsp;tell&nbsp;you&nbsp;it's&nbsp;&lt;BR&gt;connecting&nbsp;to&nbsp;<br>
jabberd,&nbsp;if&nbsp;all&nbsp;goes&nbsp;well&nbsp;the&nbsp;last&nbsp;thing&nbsp;it&nbsp;will&nbsp;say&nbsp;(before&nbsp;it&nbsp;&lt;BR&gt;waits&nbsp;for&nbsp;<br>
activity)&nbsp;is&nbsp;&quot;xmlnode&nbsp;received!&quot;&lt;BR&gt;&lt;BR&gt;MAKE&nbsp;SURE&nbsp;that&nbsp;in&nbsp;icq_trans.xml&nbsp;you&nbsp;<br>
connect&nbsp;to&nbsp;the&nbsp;SERVICE&nbsp;JID&nbsp;for&nbsp;the&nbsp;icq&nbsp;&lt;BR&gt;transport,&nbsp;not&nbsp;simply&nbsp;localhost&nbsp;or&nbsp;<br>
something.&nbsp;Read&nbsp;one&nbsp;of&nbsp;Keith's&nbsp;mails&nbsp;about&nbsp;&lt;BR&gt;that.&lt;BR&gt;&lt;BR&gt;The&nbsp;OFFICIAL&nbsp;way&nbsp;to&nbsp;<br>
tell&nbsp;the&nbsp;transport&nbsp;which&nbsp;port&nbsp;to&nbsp;connect&nbsp;to&nbsp;is&nbsp;to&nbsp;add&nbsp;a&nbsp;<br>
&lt;BR&gt;&amp;lt;port&amp;gt;9000&amp;lt;/port&amp;gt;&nbsp;section&nbsp;in&nbsp;the&nbsp;icq_trans.xml&nbsp;file,&nbsp;but&nbsp;then&nbsp;<br>
you&nbsp;also&nbsp;have&nbsp;&lt;BR&gt;to&nbsp;patch&nbsp;the&nbsp;config.c&nbsp;file&nbsp;to&nbsp;understand&nbsp;this&nbsp;and&nbsp;pass&nbsp;it&nbsp;on&nbsp;<br>
to&nbsp;&lt;BR&gt;ehandler_new_ex.&nbsp;I&nbsp;just&nbsp;hardcoded&nbsp;it&nbsp;because&nbsp;I&nbsp;am&nbsp;lazy&nbsp;<br>
:-)&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>

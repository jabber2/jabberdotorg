<tt>
Hi&nbsp;all,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;my&nbsp;XMPP&nbsp;application,&nbsp;users&nbsp;can&nbsp;exchange&nbsp;both&nbsp;private&nbsp;messages&nbsp;and&nbsp;presence&nbsp;and&nbsp;join&nbsp;MUCs.&nbsp;Ok,&nbsp;simple&nbsp;enough.&nbsp;I&#39;ve&nbsp;implemented&nbsp;invisibility&nbsp;according&nbsp;to&nbsp;XEP-0126.&nbsp;I&#39;d&nbsp;like&nbsp;the&nbsp;users&nbsp;to&nbsp;be&nbsp;still&nbsp;able&nbsp;to&nbsp;join&nbsp;MUCs&nbsp;while&nbsp;invisible,&nbsp;though.&nbsp;The&nbsp;issue&nbsp;I&#39;m&nbsp;running&nbsp;into&nbsp;is&nbsp;that&nbsp;the&nbsp;first&nbsp;step&nbsp;in&nbsp;going&nbsp;invisible&nbsp;is&nbsp;sending&nbsp;an&nbsp;unavailable&nbsp;presence&nbsp;for&nbsp;broadcasting&nbsp;to&nbsp;all&nbsp;contacts: &lt;presence&nbsp;type=&#39;unavailable&#39;/&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Unfortunately&nbsp;for&nbsp;me,&nbsp;this&nbsp;has&nbsp;the&nbsp;additional&nbsp;effect&nbsp;of&nbsp;kicking&nbsp;the&nbsp;user&nbsp;out&nbsp;of&nbsp;any&nbsp;MUCs&nbsp;they&#39;d&nbsp;joined&nbsp;in&nbsp;that&nbsp;particular&nbsp;session.&nbsp;I&#39;ve&nbsp;already&nbsp;figured&nbsp;out&nbsp;how&nbsp;to&nbsp;tweak&nbsp;the&nbsp;privacy&nbsp;list&nbsp;so&nbsp;users&nbsp;can&nbsp;join&nbsp;MUCs&nbsp;while&nbsp;invisible&nbsp;to&nbsp;individual&nbsp;contacts,&nbsp;basically&nbsp;it&nbsp;just&nbsp;looks&nbsp;like &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp;&lt;list&nbsp;name=&#39;invisible&#39;&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;&lt;item&nbsp;type=&#39;jid&#39;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;value=&#39;conference.mydomain&#39;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;action=&#39;allow&#39;&lt;/div&gt;&lt;div&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;order=&#39;1&#39;&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;presence-out/&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;&lt;/item&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;&lt;item&nbsp;action=&#39;deny&#39;&nbsp;order=&#39;2&#39;&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;presence-out/&gt;&lt;/div&gt;&lt;div&gt;<br>
 &nbsp; &nbsp; &nbsp;&lt;/item&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;&lt;/list&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;I&#39;m&nbsp;running&nbsp;into&nbsp;this&nbsp;problem&nbsp;when&nbsp;the&nbsp;user&nbsp;tries&nbsp;to&nbsp;go&nbsp;&quot;globally&quot;&nbsp;invisible&nbsp;while&nbsp;already&nbsp;in&nbsp;one&nbsp;or&nbsp;more&nbsp;MUCs.&nbsp;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;around&nbsp;this?&nbsp;My&nbsp;initial&nbsp;thought&nbsp;was&nbsp;to&nbsp;direct&nbsp;the&nbsp;unavailable&nbsp;presence&nbsp;to&nbsp;only&nbsp;the&nbsp;primary&nbsp;(IM)&nbsp;domain&nbsp;rather&nbsp;than&nbsp;having&nbsp;no&nbsp;&quot;to&quot;&nbsp;as&nbsp;indicated&nbsp;in&nbsp;the&nbsp;XEP,&nbsp;but&nbsp;that&nbsp;doesn&#39;t&nbsp;seem&nbsp;to&nbsp;broadcast&nbsp;to&nbsp;anybody,&nbsp;so&nbsp;contacts&nbsp;who&nbsp;already&nbsp;thought&nbsp;the&nbsp;user&nbsp;was&nbsp;online&nbsp;will&nbsp;continue&nbsp;to&nbsp;think&nbsp;so.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;around&nbsp;this?&nbsp;Or&nbsp;will&nbsp;I&nbsp;have&nbsp;to&nbsp;change&nbsp;my&nbsp;approach&nbsp;to&nbsp;invisibility?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;thanks,&lt;/div&gt;&lt;div&gt;Dan&lt;/div&gt;<br>

</tt>

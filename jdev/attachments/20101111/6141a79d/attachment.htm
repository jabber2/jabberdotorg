<tt>
&lt;html&gt;&lt;head&gt;&lt;style&nbsp;type=&quot;text/css&quot;&gt;&lt;!--&nbsp;DIV&nbsp;{margin:0px;}&nbsp;--&gt;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;font-family:times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;font-size:10pt&quot;&gt;For&nbsp;other&nbsp;developer&nbsp;info:&lt;br&gt;&lt;span&gt;I&nbsp;messed&nbsp;around&nbsp;with&nbsp;&lt;a&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://tools.ietf.org/html/rfc1928#page-5&quot;&gt;http://tools.ietf.org/html/rfc1928#page-5&lt;/a&gt;&nbsp;Section&nbsp;5&nbsp;(Addressing)&nbsp;while&nbsp;sending&nbsp;the&nbsp;request&nbsp;detail&nbsp;packet.&lt;/span&gt;&lt;br&gt;$pkt&nbsp;=&nbsp;pack(&quot;C5&quot;,&nbsp;0x05,&nbsp;0x01,&nbsp;0x00,&nbsp;0x03,&nbsp;strlen($dstAddr)).$dstAddr.pack(&quot;n&quot;,&nbsp;0);&nbsp;is&nbsp;the&nbsp;right&nbsp;representation&nbsp;of&nbsp;request&nbsp;detail&nbsp;pkt.&lt;br&gt;&lt;br&gt;Now&nbsp;both&nbsp;direct&nbsp;and&nbsp;mediated&nbsp;conn.&nbsp;file&nbsp;transfer&nbsp;seems&nbsp;to&nbsp;go&nbsp;smoothly.&lt;br&gt;&lt;br&gt;--&lt;br&gt;Abhinav&nbsp;Singh,&lt;br&gt;Founder,&nbsp;Jaxl&nbsp;Inc.&lt;br&gt;Bangalore,&nbsp;India&lt;br&gt;&lt;span&gt;&lt;a&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://abhinavsingh.com/blog&quot;&gt;http://abhinavsingh.com/blog&lt;/a&gt;&lt;/span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:&nbsp;10pt;&quot;&gt;&lt;br&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:<br>
&nbsp;12pt;&quot;&gt;&lt;font&nbsp;face=&quot;Tahoma&quot;&nbsp;size=&quot;2&quot;&gt;&lt;hr&nbsp;size=&quot;1&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&nbsp;Abhinav&nbsp;Singh&nbsp;&amp;lt;abhinavsingh@ymail.com&amp;gt;&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt;&nbsp;Jabber/XMPP&nbsp;software&nbsp;development&nbsp;list&nbsp;&amp;lt;jdev@jabber.org&amp;gt;&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt;&nbsp;Wed,&nbsp;November&nbsp;10,&nbsp;2010&nbsp;3:27:57&nbsp;AM&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt;&nbsp;Re:&nbsp;[jdev]&nbsp;Understanding&nbsp;target&nbsp;SOCKS5&nbsp;connection&nbsp;flow&nbsp;with&nbsp;streamhost/requester&lt;br&gt;&lt;/font&gt;&lt;br&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:&nbsp;10pt;&quot;&gt;Thanks&nbsp;Dave,&nbsp;I&nbsp;overlooked&nbsp;for&nbsp;the&nbsp;value&nbsp;of&nbsp;Target&nbsp;JID&nbsp;:(&lt;br&gt;&lt;br&gt;Further&nbsp;I&nbsp;tried&nbsp;to&nbsp;establish&nbsp;S5B&nbsp;connection&nbsp;between&nbsp;the&nbsp;target&nbsp;and&nbsp;streamhost:&lt;br&gt;1)&nbsp;Target&nbsp;sends&nbsp;initial&nbsp;version&nbsp;selection&nbsp;message&nbsp;$pkt&nbsp;=&nbsp;pack(&quot;C3&quot;,&nbsp;0x05,&nbsp;0x01,&nbsp;0x00);&nbsp;&lt;br&gt;2)&nbsp;Upon&nbsp;success,&nbsp;Target&nbsp;tries&nbsp;to&nbsp;send&nbsp;request&nbsp;details&nbsp;$pkt&nbsp;=&nbsp;pack(&quot;C4H*n&quot;,&nbsp;0x05,&nbsp;0x01,&nbsp;0x00,&nbsp;0x03,&nbsp;$dstAddr,&nbsp;0);&lt;br&gt;3)&nbsp;Upon&nbsp;success,&nbsp;Target&nbsp;should&nbsp;notify&nbsp;requester&nbsp;about&nbsp;established&nbsp;S5B&nbsp;stream&lt;br&gt;&lt;br&gt;However,&nbsp;my&nbsp;client&nbsp;don't&nbsp;get&nbsp;a&nbsp;success&nbsp;response&nbsp;from&nbsp;the&nbsp;proxy&nbsp;server&nbsp;after&nbsp;the&nbsp;2nd&nbsp;step.&lt;br&gt;I&nbsp;am&nbsp;using&nbsp;ejabberd&nbsp;mod_proxy65&nbsp;module&nbsp;to&nbsp;test&nbsp;this&nbsp;out.&lt;br&gt;&lt;br&gt;Any&nbsp;pointer/help&nbsp;is&nbsp;greatly&nbsp;appreciated.&lt;br&gt;&lt;br&gt;--&lt;br&gt;Abhinav&nbsp;Singh,&lt;br&gt;Founder,&nbsp;Jaxl&nbsp;Inc.&lt;br&gt;Bangalore,&nbsp;India&lt;br&gt;&lt;span&gt;&lt;span&gt;&lt;a&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://abhinavsingh.com/blog&quot;&gt;http://abhinavsingh.com/blog&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new<br>
&nbsp;york,times,serif;&nbsp;font-size:&nbsp;10pt;&quot;&gt;&lt;br&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,helvetica,sans-serif;&nbsp;font-size:&nbsp;13px;&quot;&gt;&lt;font&nbsp;face=&quot;Tahoma&quot;&nbsp;size=&quot;2&quot;&gt;&lt;hr&nbsp;size=&quot;1&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&nbsp;Dave&nbsp;Cridland&nbsp;&amp;lt;dave@cridland.net&amp;gt;&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt;&nbsp;Jabber/XMPP&nbsp;software&nbsp;development&nbsp;list&nbsp;&amp;lt;jdev@jabber.org&amp;gt;&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt;&nbsp;Wed,&nbsp;November&nbsp;10,&nbsp;2010&nbsp;3:01:31&nbsp;AM&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt;&nbsp;Re:&nbsp;[jdev]&nbsp;Understanding&nbsp;target&nbsp;SOCKS5&nbsp;connection&nbsp;flow&nbsp;with&nbsp;streamhost/requester&lt;br&gt;&lt;/font&gt;&lt;br&gt;<br>
On&nbsp;Tue&nbsp;Nov&amp;nbsp;&nbsp;9&nbsp;21:22:59&nbsp;2010,&nbsp;Abhinav&nbsp;Singh&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;(01:56:47)&nbsp;jabber:Sending&nbsp;(&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;ymailto=&quot;mailto:1@dev.jaxl.im&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:1@dev.jaxl.im&quot;&gt;1@dev.jaxl.im&lt;/a&gt;/2557233831289334472350031):&lt;br&gt;&lt;span&gt;&lt;span&gt;&amp;gt;&nbsp;&lt;a&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://jabber.org/protocol/bytestreams&quot;&gt;http://jabber.org/protocol/bytestreams&lt;/a&gt;'&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;Note&nbsp;the&nbsp;target&nbsp;jid&nbsp;above.&lt;br&gt;&lt;br&gt;&lt;br&gt;sha1(&quot;&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;ymailto=&quot;mailto:purplee6c1c0cbjaxl@dev.jaxl.im&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:purplee6c1c0cbjaxl@dev.jaxl.im&quot;&gt;purplee6c1c0cbjaxl@dev.jaxl.im&lt;/a&gt;/&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;ymailto=&quot;mailto:5859500411289328645518583jaxl@dev.jaxl.im&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:5859500411289328645518583jaxl@dev.jaxl.im&quot;&gt;5859500411289328645518583jaxl@dev.jaxl.im&lt;/a&gt;/5859500411289328645518583&quot;)&lt;br&gt;&amp;gt;&amp;nbsp;&nbsp;which&nbsp;equates&nbsp;to&nbsp;59aadec011bdb96cb0f2fea5e6f6596e5a0d6f93&nbsp;and&nbsp;not&lt;br&gt;&amp;gt;&nbsp;50c0abe90692f69b56e49a53334daf8c6ad26f9e&nbsp;as&nbsp;shown&nbsp;in&nbsp;the<br>
&nbsp;logs.&lt;br&gt;&lt;br&gt;It's&nbsp;SHA1(SID&nbsp;+&nbsp;Requester&nbsp;JID&nbsp;+&nbsp;Target&nbsp;JID):&lt;br&gt;&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;import&nbsp;hashlib&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;hash&nbsp;=<br>
&nbsp;hahslib.sha1()&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;hash.update('purplee6c1c0cb')&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;hash.update('&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;ymailto=&quot;mailto:jaxl@dev.jaxl.im&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:jaxl@dev.jaxl.im&quot;&gt;jaxl@dev.jaxl.im&lt;/a&gt;/5859500411289328645518583')&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;hash.update('&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;ymailto=&quot;mailto:1@dev.jaxl.im&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:1@dev.jaxl.im&quot;&gt;1@dev.jaxl.im&lt;/a&gt;/2557233831289334472350031')&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;hash.hexdigest()&lt;br&gt;'50c0abe90692f69b56e49a53334daf8c6ad26f9e'&lt;br&gt;&lt;br&gt;Dave.&lt;br&gt;--Dave&nbsp;Cridland&nbsp;-&nbsp;mailto:&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;ymailto=&quot;mailto:dave@cridland.net&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:dave@cridland.net&quot;&gt;dave@cridland.net&lt;/a&gt;&nbsp;-&nbsp;xmpp:&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;ymailto=&quot;mailto:dwd@dave.cridland.net&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:dwd@dave.cridland.net&quot;&gt;dwd@dave.cridland.net&lt;/a&gt;&lt;br&gt;&nbsp;-&nbsp;acap://acap.dave.cridland.net/byowner/user/dwd/bookmarks/&lt;br&gt;&lt;span&gt;&lt;span&gt;&nbsp;-&nbsp;&lt;a&nbsp;target=&quot;_blank&quot;<br>
&nbsp;href=&quot;http://dave.cridland.net/&quot;&gt;http://dave.cridland.net/&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;Infotrope&nbsp;Polymer&nbsp;-&nbsp;ACAP,&nbsp;IMAP,&nbsp;ESMTP,&nbsp;and&nbsp;Lemonade&lt;br&gt;_______________________________________________&lt;br&gt;JDev&nbsp;mailing<br>
&nbsp;list&lt;br&gt;&lt;span&gt;&lt;span&gt;Forum:&nbsp;&lt;a&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://www.jabberforum.org/forumdisplay.php?f=20&quot;&gt;http://www.jabberforum.org/forumdisplay.php?f=20&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span&gt;&lt;span&gt;Info:&nbsp;&lt;a&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;http://mail.jabber.org/mailman/listinfo/jdev&quot;&gt;http://mail.jabber.org/mailman/listinfo/jdev&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;Unsubscribe:&nbsp;&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;ymailto=&quot;mailto:JDev-unsubscribe@jabber.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:JDev-unsubscribe@jabber.org&quot;&gt;JDev-unsubscribe@jabber.org&lt;/a&gt;&lt;br&gt;_______________________________________________&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;br&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;&lt;/html&gt;
</tt>

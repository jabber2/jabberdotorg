<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;Mon,&nbsp;Feb&nbsp;25,&nbsp;2008&nbsp;at&nbsp;10:02&nbsp;PM,&nbsp;Philipp&nbsp;Hancke&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:fippo@goodadvice.pages.de&quot;&gt;fippo@goodadvice.pages.de&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;Peter&nbsp;Saint-Andre&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Because&nbsp;we&nbsp;want&nbsp;to&nbsp;do&nbsp;this:&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;openssl&nbsp;s_client&nbsp;-connect&nbsp;&lt;a&nbsp;href=&quot;http://example.com:5223&quot;&nbsp;target=&quot;_blank&quot;&gt;example.com:5223&lt;/a&gt;&nbsp;-CAfile&nbsp;ca.crt&lt;br&gt;<br>
AFAIK&nbsp;there&nbsp;is&nbsp;no&nbsp;good&nbsp;way&nbsp;to&nbsp;do&nbsp;something&nbsp;similar&nbsp;for&nbsp;STARTTLS&lt;br&gt;<br>
connections.&nbsp;If&nbsp;you&nbsp;know&nbsp;of&nbsp;a&nbsp;way,&nbsp;please&nbsp;do&nbsp;let&nbsp;us&nbsp;know.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
adding&nbsp;a&nbsp;xmpp-starttls&nbsp;to&nbsp;s_client&nbsp;is&nbsp;not&nbsp;that&nbsp;difficult...&lt;br&gt;<br>
&lt;br&gt;<br>
A&nbsp;patch&nbsp;(diff&nbsp;against&nbsp;good&nbsp;old&nbsp;openssl&nbsp;0.9.8d)&nbsp;is&nbsp;attached.&lt;br&gt;<br>
Beware,&nbsp;detection&nbsp;of&nbsp;the&nbsp;starttls&nbsp;stream&nbsp;feature&nbsp;is&nbsp;not&nbsp;perfectly&lt;br&gt;<br>
reliable.&nbsp;Usage:&lt;br&gt;<br>
`openssl&nbsp;s_client&nbsp;-connect&nbsp;&lt;a&nbsp;href=&quot;http://example.com:5222&quot;&nbsp;target=&quot;_blank&quot;&gt;example.com:5222&lt;/a&gt;&nbsp;-starttls&nbsp;xmpp&nbsp;-starttls_to&lt;br&gt;<br>
&nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;http://example.com&quot;&nbsp;target=&quot;_blank&quot;&gt;example.com&lt;/a&gt;`&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;FYI:&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;see&nbsp;this&nbsp;in&nbsp;openssl&nbsp;officially,&nbsp;so&nbsp;it&amp;#39;s&nbsp;been&nbsp;reported&nbsp;as&nbsp;&lt;a&nbsp;href=&quot;http://rt.openssl.org/Ticket/Display.html?id=1730&quot;&gt;http://rt.openssl.org/Ticket/Display.html?id=1730&lt;/a&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
&lt;br&gt;--&nbsp;&lt;br&gt;-&nbsp;Norman&nbsp;Rasmussen&lt;br&gt;&nbsp;-&nbsp;Email:&nbsp;&lt;a&nbsp;href=&quot;mailto:norman@rasmussen.co.za&quot;&gt;norman@rasmussen.co.za&lt;/a&gt;&lt;br&gt;&nbsp;-&nbsp;Home&nbsp;page:&nbsp;&lt;a&nbsp;href=&quot;http://norman.rasmussen.co.za/&quot;&gt;http://norman.rasmussen.co.za/&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>

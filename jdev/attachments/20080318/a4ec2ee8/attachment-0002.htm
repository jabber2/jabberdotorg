<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;ANGLER&nbsp;Technologies&nbsp;India&nbsp;Pvt&nbsp;Ltd.&lt;/TITLE&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;STYLE&gt;BODY&nbsp;{<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspBACKGROUND-POSITION:&nbsp;right&nbsp;top;&nbsp;FONT-SIZE:&nbsp;10pt;&nbsp;COLOR:&nbsp;#000000;&nbsp;BACKGROUND-REPEAT:&nbsp;no-repeat;&nbsp;FONT-FAMILY:&nbsp;Arial;&nbsp;BACKGROUND-COLOR:&nbsp;#ffffff<br>
}<br>
TD&nbsp;{<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspBACKGROUND-POSITION:&nbsp;right&nbsp;top;&nbsp;FONT-SIZE:&nbsp;10pt;&nbsp;COLOR:&nbsp;#000000;&nbsp;BACKGROUND-REPEAT:&nbsp;no-repeat;&nbsp;FONT-FAMILY:&nbsp;Arial<br>
}<br>
&lt;/STYLE&gt;<br>
<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2900.2180&quot;&nbsp;name=GENERATOR&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;5.00.2614.3500&quot;&nbsp;name=GENERATOR&gt;<br>
&lt;SCRIPT&nbsp;language=JavaScript&gt;<br>
&lt;!--<br>
function&nbsp;MM_reloadPage(init)&nbsp;{&nbsp;&nbsp;//reloads&nbsp;the&nbsp;window&nbsp;if&nbsp;Nav4&nbsp;resized<br>
&nbsp;&nbsp;if&nbsp;(init==true)&nbsp;with&nbsp;(navigator)&nbsp;{if&nbsp;((appName==&quot;Netscape&quot;)&amp;&amp;(parseInt(appVersion)==4))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;document.MM_pgW=innerWidth;&nbsp;document.MM_pgH=innerHeight;&nbsp;onresize=MM_reloadPage;&nbsp;}}<br>
&nbsp;&nbsp;else&nbsp;if&nbsp;(innerWidth!=document.MM_pgW&nbsp;||&nbsp;innerHeight!=document.MM_pgH)&nbsp;location.reload();<br>
}<br>
MM_reloadPage(true);<br>
//&nbsp;--&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/SCRIPT&gt;<br>
<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;5.00.2314.1000&quot;&nbsp;name=GENERATOR&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;5.00.2314.1000&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;10pt;&nbsp;COLOR:&nbsp;#000000;&nbsp;FONT-FAMILY:&nbsp;Arial;&nbsp;BACKGROUND-COLOR:&nbsp;#ffffff&quot;&nbsp;<br>
bgColor=#ffffff&nbsp;background=&quot;&quot;&nbsp;topMargin=0&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&lt;STRONG&gt;Dear&nbsp;team,&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;I&nbsp;need&nbsp;a&nbsp;urgent&nbsp;requirement&nbsp;of&nbsp;creating&nbsp;a&nbsp;<br>
simple&nbsp;jabber&nbsp;client&nbsp;in&nbsp;php,&nbsp;i&nbsp;am&nbsp;using&nbsp;ejabberd&nbsp;jabber&nbsp;server&nbsp;<br>
running.&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;I&nbsp;using&nbsp;the&nbsp;class_jabber.php&nbsp;and&nbsp;related&nbsp;<br>
files.&nbsp;Though&nbsp;i&nbsp;am&nbsp;new&nbsp;to&nbsp;this&nbsp;programming&nbsp;(socket)&nbsp;-&nbsp;could&nbsp;you&nbsp;please&nbsp;help&nbsp;me&nbsp;<br>
out&nbsp;in&nbsp;this&nbsp;regard.&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;Herewith,&nbsp;I&nbsp;am&nbsp;sending&nbsp;you&nbsp;the&nbsp;code&nbsp;which&nbsp;<br>
iam&nbsp;using&nbsp;right&nbsp;now&nbsp;for&nbsp;your&nbsp;kind&nbsp;notice.&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;<br>
class=892553712-17032008&gt;----------------------------------------------------------&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&amp;lt;?php&lt;BR&gt;//&nbsp;include&nbsp;the&nbsp;Jabber&nbsp;<br>
class&lt;BR&gt;require_once(&quot;class_Jabber.php&quot;);&lt;BR&gt;require_once('../settings/connect.php');&lt;BR&gt;require_once('class_queryHandler.php');&lt;BR&gt;require_once('class_ConnectionSocket.php');&lt;BR&gt;require_once('classJabberMn.php');&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;$jABBER_LoginData&nbsp;=&nbsp;<br>
jabber_login_username($PHP_AUTH_USER);&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;//This&nbsp;function&nbsp;is&nbsp;used&nbsp;to&nbsp;get&nbsp;name/position&nbsp;<br>
of&nbsp;the&nbsp;person&nbsp;who&nbsp;sends&nbsp;messages&lt;BR&gt;$jABBER_LoginData1&nbsp;=&nbsp;<br>
jabber_login_username_byId($sendPeId);&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;//message&nbsp;from&nbsp;person&lt;BR&gt;$msgFrom&nbsp;=&nbsp;<br>
&quot;test_&quot;.$jABBER_LoginData1[0].&quot;@jabberServerName.net&quot;;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;//Receiving&nbsp;person&nbsp;<br>
id&lt;BR&gt;define(&quot;JABBER_USERNAME_FROM&quot;,$jABBER_LoginData1[0]);&lt;BR&gt;define(&quot;JABBER_POSITION_FROM&quot;,$jABBER_LoginData1[1]);&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;$toPeId&nbsp;=&nbsp;$_GET['toPeId'];&lt;BR&gt;$sendPeId&nbsp;=&nbsp;<br>
$_GET['sendPeId'];&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;$sendToId&nbsp;=&nbsp;$_POST['toPeId'];&lt;BR&gt;//$sendById&nbsp;<br>
=&nbsp;$_POST['sendById'];&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;//Set&nbsp;your&nbsp;Jabber&nbsp;server&nbsp;hostname,&nbsp;username,&nbsp;<br>
and&nbsp;password&nbsp;here&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;<br>
class=892553712-17032008&gt;define(&quot;JABBER_SERVER&quot;,&quot;jabberServerName.net&quot;);&lt;BR&gt;define(&quot;JABBER_USERNAME&quot;,$jABBER_LoginData[0]);&lt;BR&gt;define(&quot;JABBER_PASSWORD&quot;,&quot;scg&quot;);&lt;BR&gt;define(&quot;JABBER_USER_ID&quot;,$jABBER_LoginData[2]);&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;$jabberUserData&nbsp;=&nbsp;$jABBER_LoginData[0].'&nbsp;<br>
online&nbsp;in&nbsp;the&nbsp;jabberServerName&nbsp;Account';&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;//if($sendToId&nbsp;!=&nbsp;''&nbsp;||&nbsp;$sendById&nbsp;!=&nbsp;'')&nbsp;<br>
{&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&amp;nbsp;//send&nbsp;message&nbsp;<br>
info&lt;BR&gt;&amp;nbsp;$jABBER_LoginData2&nbsp;=&nbsp;<br>
jabber_login_username_sendToMsg($sendPeId);&lt;BR&gt;&amp;nbsp;$jABBER_Data_prsn&nbsp;=&nbsp;<br>
jabber_login_username_sendToMsg($sendById);&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&amp;nbsp;$jids&nbsp;=&nbsp;<br>
$jABBER_Data_prsn[0];&lt;BR&gt;&amp;nbsp;$messageToBeSent&nbsp;=&nbsp;$_POST['message'];&nbsp;<br>
&lt;BR&gt;&amp;nbsp;$messageSendBy&nbsp;=&nbsp;$jABBER_LoginData2[0];&lt;BR&gt;&amp;nbsp;//message&nbsp;sent&nbsp;by&nbsp;<br>
person/position&lt;BR&gt;&amp;nbsp;$messageSendBy_person&nbsp;=&nbsp;<br>
$jABBER_LoginData[3];&lt;BR&gt;&amp;nbsp;$messageSendBy_position&nbsp;=&nbsp;<br>
$jABBER_LoginData[4];&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;<br>
class=892553712-17032008&gt;define(&quot;MESSAGESENDBY_PERSON&quot;,$messageSendBy_person);&lt;BR&gt;define(&quot;MESSAGESENDBY_POSITION&quot;,$messageSendBy_position);&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&lt;BR&gt;//}&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;define(&quot;RUN_TIME&quot;,300);&nbsp;//&nbsp;set&nbsp;a&nbsp;maximum&nbsp;run&nbsp;<br>
time&nbsp;of&nbsp;5&nbsp;Minutes&lt;BR&gt;define(&quot;CBK_FREQ&quot;,5);&nbsp;//&nbsp;fire&nbsp;a&nbsp;callback&nbsp;event&nbsp;every&nbsp;5&nbsp;<br>
seconds&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;<br>
class=892553712-17032008&gt;?&amp;gt;&lt;BR&gt;&amp;lt;html&amp;gt;&lt;BR&gt;&amp;lt;head&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;lt;title&amp;gt;jabberServerName&nbsp;<br>
chat&nbsp;module&amp;lt;/title&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;lt;script&nbsp;language=&quot;JavaScript&quot;&nbsp;<br>
type=&quot;text/javascript&quot;&nbsp;<br>
src=&quot;/forms/lib_form/prototype.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;lt;script&nbsp;<br>
language=&quot;JavaScript&quot;&nbsp;type=&quot;text/javascript&quot;&nbsp;<br>
src=&quot;/forms/lib_form/effects.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&nbsp;&lt;BR&gt;&amp;nbsp;&amp;lt;LINK&nbsp;<br>
rel=&quot;stylesheet&quot;&nbsp;type=&quot;text/css&quot;&nbsp;href=&quot;/forms/css/styles_ie.css&quot;&amp;gt;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;lt;/head&amp;gt;&lt;BR&gt;&amp;lt;?&lt;BR&gt;class&nbsp;OurMessenger&nbsp;{&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;function&nbsp;<br>
OurMessenger()&nbsp;{&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&amp;nbsp;&nbsp;echo&nbsp;&quot;Created!\n&quot;;&lt;BR&gt;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;&nbsp;//&nbsp;create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;Jabber&nbsp;class&lt;BR&gt;&amp;nbsp;&nbsp;$this-&amp;gt;jab&nbsp;=&nbsp;<br>
new&nbsp;Jabber(true);&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&amp;nbsp;&nbsp;//&nbsp;set&nbsp;handlers&nbsp;for&nbsp;the&nbsp;events&nbsp;we&nbsp;<br>
wish&nbsp;to&nbsp;be&nbsp;notified&nbsp;about&lt;BR&gt;&amp;nbsp;&nbsp;<br>
$this-&amp;gt;jab-&amp;gt;set_handler(&quot;connected&quot;,$this,&quot;handleConnected&quot;);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
$this-&amp;gt;jab-&amp;gt;set_handler(&quot;authenticated&quot;,$this,&quot;handleAuthenticated&quot;);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
$this-&amp;gt;jab-&amp;gt;set_handler(&quot;authfailure&quot;,$this,&quot;handleAuthFailure&quot;);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
//$this-&amp;gt;jab-&amp;gt;set_handler(&quot;servicesdiscovered&quot;,$this,&quot;handleServicesDiscovered&quot;);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
//$this-&amp;gt;jab-&amp;gt;set_handler(&quot;servicesupdated&quot;,$this,&quot;handleServiceInfo&quot;);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
//$this-&amp;gt;jab-&amp;gt;set_handler(&quot;browseresult&quot;,$this,&quot;handleBrowseResult&quot;);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
$this-&amp;gt;jab-&amp;gt;set_handler(&quot;heartbeat&quot;,$this,&quot;handleHeartbeat&quot;);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
$this-&amp;gt;jab-&amp;gt;set_handler(&quot;error&quot;,$this,&quot;handleError&quot;);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
$this-&amp;gt;jab-&amp;gt;set_handler(&quot;message_normal&quot;,$this,&quot;handleMessage&quot;);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
$this-&amp;gt;jab-&amp;gt;set_handler(&quot;message_chat&quot;,$this,&quot;handleMessage&quot;);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
$this-&amp;gt;jab-&amp;gt;set_handler(&quot;debug_log&quot;,$this,&quot;handleDebug&quot;);&lt;BR&gt;&amp;nbsp;}&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&amp;nbsp;function&nbsp;<br>
executingMessenger(){&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&nbsp;//&nbsp;connect&nbsp;to&nbsp;the&nbsp;Jabber&nbsp;<br>
server&lt;BR&gt;&amp;nbsp;&nbsp;if&nbsp;(!$this-&amp;gt;jab-&amp;gt;connect(JABBER_SERVER))&nbsp;<br>
{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;die(&quot;Could&nbsp;not&nbsp;connect&nbsp;to&nbsp;the&nbsp;Jabber&nbsp;server!\n&quot;);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
}&lt;BR&gt;&amp;nbsp;&nbsp;&lt;BR&gt;&amp;nbsp;&nbsp;//&nbsp;now,&nbsp;tell&nbsp;the&nbsp;Jabber&nbsp;class&nbsp;to&nbsp;begin&nbsp;its&nbsp;execution&nbsp;<br>
loop&lt;BR&gt;&amp;nbsp;&nbsp;$this-&amp;gt;jab-&amp;gt;execute(CBK_FREQ,RUN_TIME);&lt;BR&gt;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;&nbsp;//&nbsp;Note&nbsp;that&nbsp;we&nbsp;will&nbsp;not&nbsp;reach&nbsp;this&nbsp;point&nbsp;(and&nbsp;the&nbsp;execute()&nbsp;method&nbsp;<br>
will&nbsp;not&lt;BR&gt;&amp;nbsp;&nbsp;//&nbsp;return)&nbsp;until&nbsp;$this-&amp;gt;jab-&amp;gt;terminated&nbsp;is&nbsp;set&nbsp;to&nbsp;<br>
TRUE.&amp;nbsp;&nbsp;The&nbsp;execute()&nbsp;method&nbsp;simply&lt;BR&gt;&amp;nbsp;&nbsp;//&nbsp;loops,&nbsp;processing&nbsp;data&nbsp;from&nbsp;<br>
(and&nbsp;to)&nbsp;the&nbsp;Jabber&nbsp;server,&nbsp;and&nbsp;firing&nbsp;events&lt;BR&gt;&amp;nbsp;&nbsp;//&nbsp;(which&nbsp;are&nbsp;handled&nbsp;by&nbsp;<br>
our&nbsp;TestMessenger&nbsp;class)&nbsp;until&nbsp;we&nbsp;tell&nbsp;it&nbsp;to&nbsp;terminate.&lt;BR&gt;&amp;nbsp;&nbsp;//&lt;BR&gt;&amp;nbsp;&nbsp;<br>
//&nbsp;This&nbsp;event-based&nbsp;model&nbsp;will&nbsp;be&nbsp;familiar&nbsp;to&nbsp;programmers&nbsp;who&nbsp;have&nbsp;worked&nbsp;<br>
on&lt;BR&gt;&amp;nbsp;&nbsp;//&nbsp;desktop&nbsp;applications,&nbsp;particularly&nbsp;in&nbsp;Win32&nbsp;<br>
environments.&lt;BR&gt;&amp;nbsp;&nbsp;&lt;BR&gt;&amp;nbsp;&nbsp;//&nbsp;disconnect&nbsp;from&nbsp;the&nbsp;Jabber&nbsp;<br>
server&lt;BR&gt;&amp;nbsp;&nbsp;$this-&amp;gt;jab-&amp;gt;disconnect();&lt;BR&gt;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;}&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;//&nbsp;called&nbsp;when&nbsp;a&nbsp;connection&nbsp;to&nbsp;the&nbsp;Jabber&nbsp;server&nbsp;<br>
is&nbsp;established&lt;BR&gt;&amp;nbsp;function&nbsp;handleConnected()&nbsp;{&lt;BR&gt;&amp;nbsp;&nbsp;//echo&nbsp;<br>
&quot;Connected!\n&quot;;&lt;BR&gt;&amp;nbsp;&nbsp;&lt;BR&gt;&amp;nbsp;&nbsp;//&nbsp;now&nbsp;that&nbsp;we're&nbsp;connected,&nbsp;tell&nbsp;the&nbsp;<br>
Jabber&nbsp;class&nbsp;to&nbsp;login&lt;BR&gt;&amp;nbsp;&nbsp;<br>
$this-&amp;gt;jab-&amp;gt;login(JABBER_USERNAME,JABBER_PASSWORD);&lt;BR&gt;&amp;nbsp;}&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;//&nbsp;<br>
called&nbsp;after&nbsp;a&nbsp;login&nbsp;to&nbsp;indicate&nbsp;the&nbsp;the&nbsp;login&nbsp;was&nbsp;successful&lt;BR&gt;&amp;nbsp;function&nbsp;<br>
handleAuthenticated()&nbsp;{&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&nbsp;//echo&nbsp;&quot;Authenticated!\n&quot;;&lt;BR&gt;&amp;nbsp;&nbsp;<br>
//&nbsp;set&nbsp;this&nbsp;user's&nbsp;presence&lt;BR&gt;&amp;nbsp;&nbsp;global&nbsp;$messageToBeSent,&nbsp;<br>
$jids;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;<br>
&lt;DIV&gt;&lt;BR&gt;&amp;nbsp;&nbsp;$today&nbsp;=&nbsp;date(&quot;Y-m-d&nbsp;<br>
H:i:s&quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;&lt;BR&gt;&amp;nbsp;&nbsp;if($messageToBeSent&nbsp;!=&nbsp;'')&nbsp;{&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&nbsp;echo&nbsp;$messageToDisplay&nbsp;=&nbsp;&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;div&nbsp;<br>
id='message_comments_20671_20670'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;table&nbsp;<br>
border='0'&nbsp;cellspacing='0'&nbsp;cellpadding='0'&amp;nbsp;&nbsp;<br>
width='100%'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;tr&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;td&nbsp;class='data'&nbsp;<br>
width='100%'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;table&nbsp;<br>
width='100%'&nbsp;cellspacing='0'&nbsp;<br>
cellpadding='0'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;tr&nbsp;<br>
bgcolor='#e6e6e6'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;td&nbsp;<br>
class='data'&nbsp;width='50%'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;strong&amp;gt;&quot;.ucfirst(MESSAGESENDBY_PERSON).&quot;&amp;lt;/strong&amp;gt;&nbsp;|&nbsp;<br>
&amp;lt;strong&amp;gt;&quot;.MESSAGESENDBY_POSITION.&quot;&amp;lt;/strong&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/td&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;td&nbsp;class='data'&nbsp;<br>
width='50%'&nbsp;<br>
align='right'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&quot;.$today.&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/td&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/tr&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;tr&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;td&nbsp;class='data'&nbsp;<br>
colspan='2'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&quot;.$messageToBeSent.&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/td&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/tr&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/table&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/td&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/tr&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;/table&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/div&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&quot;;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&nbsp;$this-&amp;gt;jab-&amp;gt;message($jids,&nbsp;'chat',&nbsp;NULL,&nbsp;<br>
$messageToBeSent);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;//$this-&amp;gt;jab-&amp;gt;terminated&nbsp;=&nbsp;<br>
true;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;$messageToDisplay='';&lt;BR&gt;&amp;nbsp;&nbsp;}&lt;BR&gt;&amp;nbsp;&nbsp;&lt;BR&gt;&amp;nbsp;&nbsp;<br>
//sleep(1);&lt;BR&gt;&amp;nbsp;&nbsp;$this-&amp;gt;jab-&amp;gt;set_presence(&quot;&quot;,&nbsp;'so&nbsp;what');&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;}&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;//&nbsp;called&nbsp;after&nbsp;a&nbsp;login&nbsp;to&nbsp;indicate&nbsp;that&nbsp;the&nbsp;<br>
login&nbsp;was&nbsp;NOT&nbsp;successful&lt;BR&gt;&amp;nbsp;function&nbsp;handleAuthFailure($code,$error)&nbsp;<br>
{&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&nbsp;echo&nbsp;&quot;Authentication&nbsp;failure:&nbsp;$error&nbsp;($code)\n&quot;;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&nbsp;//&nbsp;set&nbsp;terminated&nbsp;to&nbsp;TRUE&nbsp;in&nbsp;the&nbsp;Jabber&nbsp;class&nbsp;to&nbsp;tell&nbsp;it&nbsp;to&nbsp;<br>
exit&lt;BR&gt;&amp;nbsp;&nbsp;$this-&amp;gt;jab-&amp;gt;terminated&nbsp;=&nbsp;<br>
true;&lt;BR&gt;&amp;nbsp;}&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;//&nbsp;called&nbsp;periodically&nbsp;by&nbsp;the&nbsp;Jabber&nbsp;class&nbsp;<br>
to&nbsp;allow&nbsp;us&nbsp;to&nbsp;do&nbsp;our&nbsp;own&lt;BR&gt;&amp;nbsp;//&nbsp;processing&lt;BR&gt;&amp;nbsp;function&nbsp;<br>
handleHeartbeat()&nbsp;{&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;//hardcoded&nbsp;!!!&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;<br>
(onlineOfflineStatus(JABBER_USER_ID)&nbsp;&amp;lt;&amp;gt;&nbsp;1)&nbsp;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//echo&nbsp;&quot;offline&amp;lt;BR&amp;gt;&quot;;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;<br>
}&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;else&nbsp;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//echo&nbsp;<br>
&quot;online&amp;lt;BR&amp;gt;&quot;;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;$statusCheck&nbsp;=&nbsp;<br>
$this-&amp;gt;jab-&amp;gt;connectStatus();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;<br>
print_r($statusCheck);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;//I&nbsp;am&nbsp;commenting&nbsp;this&nbsp;<br>
part&nbsp;of&nbsp;the&nbsp;code&nbsp;for&nbsp;test&nbsp;purpose&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;/*&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;<br>
$statusCheckExplore&nbsp;=&nbsp;explode('~',$statusCheck);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;if($statusCheckExplore[0]&nbsp;==&nbsp;'eof'&nbsp;&amp;amp;&amp;amp;&nbsp;<br>
$statusCheckExplore[1]&nbsp;==&nbsp;'TRUE')&nbsp;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
//$this-&amp;gt;_connection&nbsp;=&nbsp;&amp;amp;new&nbsp;$connector();&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
//$this-&amp;gt;_connection-&amp;gt;socket_close();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
//sleep(1);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;$this-&amp;gt;jab-&amp;gt;terminated&nbsp;=&nbsp;<br>
true;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;$this-&amp;gt;OurMessenger();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
$this-&amp;gt;executingMessenger();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;<br>
*/&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;ob_flush();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;<br>
flush();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;&lt;BR&gt;&amp;nbsp;}&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;//&nbsp;called&nbsp;when&nbsp;a&nbsp;message&nbsp;is&nbsp;received&nbsp;from&nbsp;a&nbsp;remote&nbsp;<br>
contact&lt;BR&gt;&amp;nbsp;function&nbsp;<br>
handleMessage($from,$to,$body,$subject,$thread,$id,$extended)&nbsp;<br>
{&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;global&nbsp;$msgFrom;&nbsp;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;$today&nbsp;=&nbsp;<br>
date(&quot;Y-m-d&nbsp;<br>
H:i:s&quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;&nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;//echo&nbsp;'from--&amp;gt;'.$from.$msgFrom;&lt;BR&gt;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;$fromMsg&nbsp;=&nbsp;explode('/',&nbsp;$from);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;$toMsg&nbsp;=&nbsp;<br>
explode('/',&nbsp;$to);&amp;nbsp;&amp;nbsp;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;if($fromMsg[0]&nbsp;==&nbsp;$msgFrom)&nbsp;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;echo&nbsp;$messageToShow&nbsp;=&nbsp;&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;div&nbsp;id='message_comments_20671_20670'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;table&nbsp;border='0'&nbsp;cellspacing='0'&nbsp;cellpadding='0'&amp;nbsp;&nbsp;<br>
width='100%'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;tr&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;td&nbsp;class='data'&nbsp;<br>
width='100%'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;table&nbsp;<br>
width='100%'&nbsp;cellspacing='0'&nbsp;<br>
cellpadding='0'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;tr&nbsp;<br>
bgcolor='#D7EBFF'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;td&nbsp;<br>
class='data'&nbsp;<br>
width='50%'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;strong&amp;gt;&quot;.ucfirst(JABBER_USERNAME_FROM).&quot;&amp;lt;/strong&amp;gt;&nbsp;|&nbsp;<br>
&amp;lt;strong&amp;gt;&quot;.JABBER_POSITION_FROM.&quot;&amp;lt;/strong&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/td&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;td&nbsp;<br>
class='data'&nbsp;width='50%'&nbsp;<br>
align='right'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&quot;.$today.&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/td&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/tr&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;tr&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;td&nbsp;<br>
class='data'&nbsp;<br>
colspan='2'&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&quot;.$body.&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/td&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/tr&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/table&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/td&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/tr&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/table&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;lt;/div&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&quot;;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;$this-&amp;gt;last_msg_id&nbsp;=&nbsp;$id;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
$this-&amp;gt;toMsgPrsn&nbsp;=&nbsp;$toMsg[0];&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;$this-&amp;gt;last_msg_from&nbsp;=&nbsp;<br>
$from;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;BR&gt;&amp;nbsp;}&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;//&nbsp;called&nbsp;when&nbsp;an&nbsp;error&nbsp;is&nbsp;received&nbsp;from&nbsp;the&nbsp;Jabber&nbsp;<br>
server&lt;BR&gt;&amp;nbsp;function&nbsp;handleError($code,$error,$xmlns,$packet)&nbsp;{&lt;BR&gt;&amp;nbsp;&nbsp;<br>
echo&nbsp;&quot;Error:&nbsp;$error&nbsp;($code)&quot;.($xmlns?&quot;&nbsp;in&nbsp;$xmlns&quot;:&quot;noxmlns&quot;).&quot;&nbsp;from&nbsp;$from&nbsp;$node&nbsp;<br>
id&nbsp;&quot;.$packet['iq']['@']['id'].&quot;\n&quot;;&lt;BR&gt;&amp;nbsp;}&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;function&nbsp;<br>
handleDebug($msg,$level)&nbsp;{&lt;BR&gt;&amp;nbsp;&nbsp;&quot;DBG:&nbsp;$msg\n&quot;;&lt;BR&gt;&amp;nbsp;}&nbsp;&lt;BR&gt;}&lt;BR&gt;?&amp;gt;&nbsp;<br>
&lt;BR&gt;&amp;lt;/body&amp;gt;&lt;BR&gt;&amp;lt;/html&amp;gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;----------------------------&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;please&nbsp;point&nbsp;me&nbsp;out&nbsp;where&nbsp;i&nbsp;am&nbsp;doing&nbsp;wrong&nbsp;<br>
here.&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;I&nbsp;need&nbsp;this&nbsp;asap.&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;Please&nbsp;help&nbsp;me&nbsp;in&nbsp;this&nbsp;regards,&nbsp;by&nbsp;adjusting&nbsp;<br>
the&nbsp;existing&nbsp;code&nbsp;or&nbsp;please&nbsp;provide&nbsp;me&nbsp;a&nbsp;sample&nbsp;code&nbsp;for&nbsp;doing&nbsp;this.&nbsp;<br>
&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;Thanks&nbsp;and&nbsp;Regards,&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=892553712-17032008&gt;Sriman.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>

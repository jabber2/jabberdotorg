<tt>
&lt;div&nbsp;dir=&quot;auto&quot;&gt;@Kim&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;Yes&nbsp;I&nbsp;noticed&nbsp;that&nbsp;note,&nbsp;though&nbsp;I&nbsp;believe&nbsp;the&nbsp;&quot;exception&quot;&nbsp;means&nbsp;&quot;must&nbsp;not&nbsp;send&nbsp;stanza&nbsp;before&nbsp;completing&nbsp;stream&nbsp;negotiation&nbsp;except&nbsp;for&nbsp;Resource&nbsp;Binding&quot;&nbsp;rather&nbsp;than&nbsp;&quot;send&nbsp;a&nbsp;&lt;features/&gt;&nbsp;element&nbsp;after&nbsp;negotiating&nbsp;every&nbsp;feature&nbsp;except&nbsp;Resource&nbsp;Binding&quot;.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;@Peter&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;No&nbsp;I&nbsp;didn&#39;t&nbsp;test&nbsp;against&nbsp;other&nbsp;servers.&nbsp;The&nbsp;server&nbsp;I&nbsp;used&nbsp;was&nbsp;ejabberd&nbsp;from&nbsp;Debian&nbsp;Sid.&nbsp;My&nbsp;client&nbsp;only&nbsp;supports&nbsp;WebSocket&nbsp;for&nbsp;now&nbsp;and&nbsp;there&nbsp;are&nbsp;so&nbsp;few&nbsp;XMPP&nbsp;providers&nbsp;out&nbsp;there&nbsp;enabling&nbsp;WebSocket.&nbsp;☹️&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2017年8月16日&nbsp;01:43&nbsp;於&nbsp;&quot;Peter&nbsp;Saint-Andre&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:stpeter@stpeter.im&quot;&gt;stpeter@stpeter.im&lt;/a&gt;&gt;&nbsp;寫道：&lt;br&nbsp;type=&quot;attribution&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;On&nbsp;8/15/17&nbsp;10:34&nbsp;AM,&nbsp;Kai-Chung&nbsp;Yan&nbsp;(殷啟聰)&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Dear&nbsp;XMPP&nbsp;community,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;am&nbsp;implementing&nbsp;(yet&nbsp;another)&nbsp;XMPP&nbsp;client&nbsp;library&nbsp;and&nbsp;found&lt;br&gt;<br>
&gt;&nbsp;something&nbsp;confusing&nbsp;in&nbsp;RFC&nbsp;6120:&nbsp;XMPP&nbsp;Core.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Section&nbsp;4.3.5&nbsp;states&nbsp;that&nbsp;the&nbsp;receiving&nbsp;party&nbsp;sends&nbsp;either&nbsp;an&nbsp;empty&lt;br&gt;<br>
&gt;&nbsp;&lt;features/&gt;&nbsp;element&nbsp;or&nbsp;one&nbsp;containing&nbsp;only&nbsp;optional&nbsp;features&nbsp;in&nbsp;order&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;indicate&nbsp;the&nbsp;completion&nbsp;of&nbsp;a&nbsp;stream&nbsp;negotiation.&nbsp;In&nbsp;fact,&nbsp;I&lt;br&gt;<br>
&gt;&nbsp;believe&nbsp;the&nbsp;receiving&nbsp;party&nbsp;should&nbsp;send&nbsp;a&nbsp;&lt;features/&gt;&nbsp;element&lt;br&gt;<br>
&gt;&nbsp;immediately&nbsp;after&nbsp;negotiating&nbsp;every&nbsp;single&nbsp;feature.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;However&nbsp;my&nbsp;client&nbsp;stuck&nbsp;after&nbsp;finishing&nbsp;Resource&nbsp;Binding&nbsp;and&nbsp;both&lt;br&gt;<br>
&gt;&nbsp;parties&nbsp;are&nbsp;waiting&nbsp;for&nbsp;further&nbsp;XML&nbsp;data.&nbsp;After&nbsp;I&nbsp;changed&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;behavior&nbsp;to&nbsp;assume&nbsp;that&nbsp;Resource&nbsp;Binding&nbsp;indicates&nbsp;end&nbsp;of&nbsp;stream&lt;br&gt;<br>
&gt;&nbsp;negotiation,&nbsp;everything&nbsp;works&nbsp;perfectly&nbsp;I&nbsp;can&nbsp;start&nbsp;exchanging&lt;br&gt;<br>
&gt;&nbsp;stanzas.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Does&nbsp;that&nbsp;indicate&nbsp;that&nbsp;Resource&nbsp;Binding&nbsp;means&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;stream&lt;br&gt;<br>
&gt;&nbsp;negotiation?&nbsp;I&nbsp;fail&nbsp;to&nbsp;find&nbsp;such&nbsp;policy&nbsp;in&nbsp;RFC&nbsp;6120&nbsp;or&nbsp;its&nbsp;errata.&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;sounds&nbsp;to&nbsp;me&nbsp;as&nbsp;if&nbsp;the&nbsp;server&nbsp;software&nbsp;you&#39;re&nbsp;connecting&nbsp;to&nbsp;makes&nbsp;an&lt;br&gt;<br>
incorrect&nbsp;assumption.&nbsp;Have&nbsp;you&nbsp;tested&nbsp;this&nbsp;with&nbsp;multiple&nbsp;server&lt;br&gt;<br>
implementations?&lt;br&gt;<br>
&lt;br&gt;<br>
Peter&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
JDev&nbsp;mailing&nbsp;list&lt;br&gt;<br>
Info:&nbsp;&lt;a&nbsp;href=&quot;https://mail.jabber.org/mailman/listinfo/jdev&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://mail.jabber.org/&lt;wbr&gt;mailman/listinfo/jdev&lt;/a&gt;&lt;br&gt;<br>
Unsubscribe:&nbsp;&lt;a&nbsp;href=&quot;mailto:JDev-unsubscribe@jabber.org&quot;&gt;JDev-unsubscribe@jabber.org&lt;/a&gt;&lt;br&gt;<br>
______________________________&lt;wbr&gt;_________________&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>

<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;Thu,&nbsp;Oct&nbsp;2,&nbsp;2008&nbsp;at&nbsp;5:54&nbsp;AM,&nbsp;Pedro&nbsp;Melo&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:melo@simplicidade.org&quot;&gt;melo@simplicidade.org&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hi,&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;<br>
On&nbsp;Oct&nbsp;1,&nbsp;2008,&nbsp;at&nbsp;10:13&nbsp;PM,&nbsp;Adam&nbsp;Pisoni&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;Most&nbsp;xmpp&nbsp;servers&nbsp;we&nbsp;send&nbsp;to&nbsp;send&nbsp;back&nbsp;a&nbsp;503&nbsp;if&nbsp;we&nbsp;send&nbsp;a&nbsp;message&nbsp;to&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;user&nbsp;who&nbsp;is&nbsp;offline.&nbsp;&amp;nbsp;&nbsp;When&nbsp;we&nbsp;get&nbsp;a&nbsp;503&nbsp;we&nbsp;mark&nbsp;that&nbsp;JID&nbsp;as&nbsp;offline&lt;br&gt;<br>
&amp;gt;&nbsp;so&nbsp;we&nbsp;do&nbsp;not&nbsp;continue&nbsp;sending&nbsp;them&nbsp;messages.&nbsp;&amp;nbsp;The&nbsp;real&nbsp;issue&nbsp;is&nbsp;gtalk,&lt;br&gt;<br>
&amp;gt;&nbsp;which&nbsp;supports&nbsp;offline&nbsp;messaging&nbsp;and&nbsp;never&nbsp;tells&nbsp;you&nbsp;whether&nbsp;a&nbsp;JID&nbsp;is&lt;br&gt;<br>
&amp;gt;&nbsp;offline.&nbsp;&amp;nbsp;&nbsp;A&nbsp;few&nbsp;of&nbsp;our&nbsp;users&nbsp;have&nbsp;complained&nbsp;that&nbsp;they&amp;#39;re&nbsp;still&lt;br&gt;<br>
&amp;gt;&nbsp;getting&nbsp;messages&nbsp;from&nbsp;us&nbsp;when&nbsp;they&amp;#39;re&nbsp;offline,&nbsp;which&nbsp;gtalk&nbsp;them&nbsp;emails&lt;br&gt;<br>
&amp;gt;&nbsp;them.&nbsp;&amp;nbsp;&nbsp;I&nbsp;know&nbsp;the&nbsp;rabbiter&nbsp;guys&nbsp;have&nbsp;talked&nbsp;about&nbsp;having&nbsp;the&nbsp;same&lt;br&gt;<br>
&amp;gt;&nbsp;problems.&nbsp;&amp;nbsp;What&nbsp;is&nbsp;the&nbsp;best&nbsp;practice&nbsp;as&nbsp;far&nbsp;as&nbsp;how&nbsp;to&nbsp;deal&nbsp;with&nbsp;this.&lt;br&gt;<br>
&amp;gt;&nbsp;Do&nbsp;you&nbsp;expire&nbsp;resources&nbsp;eventually?&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;Or&nbsp;probe&nbsp;if&nbsp;a&nbsp;resource&nbsp;hasn&amp;#39;t&lt;br&gt;<br>
&amp;gt;&nbsp;been&nbsp;updated&nbsp;in&nbsp;some&nbsp;amount&nbsp;of&nbsp;time?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;I&nbsp;would&nbsp;either&nbsp;presence&nbsp;probe&nbsp;or&nbsp;IQ&nbsp;ping&nbsp;the&nbsp;resource&nbsp;every&nbsp;X&nbsp;hours&nbsp;if&lt;br&gt;<br>
no&nbsp;activity&nbsp;is&nbsp;detected.&lt;br&gt;<br>
&lt;br&gt;<br>
Not&nbsp;pretty,&nbsp;but&nbsp;this&nbsp;is&nbsp;the&nbsp;real&nbsp;world.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Ghosts&nbsp;happen.&nbsp;:)&nbsp;&lt;br&gt;&lt;br&gt;Sadly,&nbsp;this&nbsp;is&nbsp;the&nbsp;solution&nbsp;I&nbsp;use&nbsp;in&nbsp;components&nbsp;too.&nbsp;If&nbsp;you&nbsp;are&nbsp;supporting&nbsp;multiple&nbsp;resources&nbsp;it&nbsp;is&nbsp;the&nbsp;easiest&nbsp;solution.&nbsp;I&nbsp;have&nbsp;not&nbsp;come&nbsp;up&nbsp;with&nbsp;a&nbsp;better&nbsp;one&nbsp;for&nbsp;ghosts.&nbsp;&lt;br&gt;<br>
&lt;br&gt;&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;br&gt;<br>
Best&nbsp;regards,&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;--&lt;br&gt;<br>
Pedro&nbsp;Melo&lt;br&gt;<br>
Blog:&nbsp;&lt;a&nbsp;href=&quot;http://www.simplicidade.org/notes/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.simplicidade.org/notes/&lt;/a&gt;&lt;br&gt;<br>
XMPP&nbsp;ID:&nbsp;&lt;a&nbsp;href=&quot;mailto:melo@simplicidade.org&quot;&gt;melo@simplicidade.org&lt;/a&gt;&lt;br&gt;<br>
Use&nbsp;XMPP!&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
JDev&nbsp;mailing&nbsp;list&lt;br&gt;<br>
FAQ:&nbsp;&lt;a&nbsp;href=&quot;http://www.jabber.org/discussion-lists/jdev-faq&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.jabber.org/discussion-lists/jdev-faq&lt;/a&gt;&lt;br&gt;<br>
Forum:&nbsp;&lt;a&nbsp;href=&quot;http://www.jabberforum.org/forumdisplay.php?f=20&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.jabberforum.org/forumdisplay.php?f=20&lt;/a&gt;&lt;br&gt;<br>
Info:&nbsp;&lt;a&nbsp;href=&quot;http://mail.jabber.org/mailman/listinfo/jdev&quot;&nbsp;target=&quot;_blank&quot;&gt;http://mail.jabber.org/mailman/listinfo/jdev&lt;/a&gt;&lt;br&gt;<br>
Unsubscribe:&nbsp;&lt;a&nbsp;href=&quot;mailto:JDev-unsubscribe@jabber.org&quot;&gt;JDev-unsubscribe@jabber.org&lt;/a&gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>

<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7233.28&quot;&gt;<br>
&lt;TITLE&gt;unwanted&nbsp;rate&nbsp;limiting&nbsp;in&nbsp;jabber1.4&nbsp;w&nbsp;jadc2s&nbsp;and&nbsp;muc&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;!--&nbsp;Converted&nbsp;from&nbsp;text/rtf&nbsp;format&nbsp;--&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;I'm&nbsp;working&nbsp;on&nbsp;an&nbsp;app&nbsp;where&nbsp;I&nbsp;need&nbsp;to&nbsp;send&nbsp;a&nbsp;high&nbsp;volume&nbsp;of&nbsp;messages&nbsp;from&nbsp;a&nbsp;user&nbsp;to&nbsp;a&nbsp;muc&nbsp;room&nbsp;(group&nbsp;of&nbsp;rooms&nbsp;really).&nbsp;It&nbsp;looks&nbsp;like&nbsp;something&nbsp;is&nbsp;limiting&nbsp;the&nbsp;rate&nbsp;of&nbsp;messages&nbsp;into&nbsp;rooms&nbsp;though.&nbsp;I&nbsp;can&nbsp;only&nbsp;seem&nbsp;to&nbsp;get&nbsp;one&nbsp;in&nbsp;every&nbsp;couple&nbsp;of&nbsp;seconds,&nbsp;messages&nbsp;sent&nbsp;in&nbsp;between&nbsp;that&nbsp;interval&nbsp;get&nbsp;dropped.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;I've&nbsp;done&nbsp;everything&nbsp;I&nbsp;can&nbsp;see&nbsp;to&nbsp;turn&nbsp;off&nbsp;karma&nbsp;and&nbsp;rate&nbsp;limiting&nbsp;in&nbsp;the&nbsp;jabber.xml&nbsp;and&nbsp;jadc2s.xml&nbsp;config&nbsp;files:&nbsp;I&nbsp;commented&nbsp;out&nbsp;all&nbsp;the&nbsp;karma&nbsp;tags&nbsp;in&nbsp;jabber.xml,&nbsp;and&nbsp;I&nbsp;set&nbsp;maxbps=0&nbsp;in&nbsp;jadc2s.xml.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;I've&nbsp;been&nbsp;testing&nbsp;this&nbsp;with&nbsp;a&nbsp;test&nbsp;client&nbsp;app&nbsp;that&nbsp;creates&nbsp;a&nbsp;room,&nbsp;then&nbsp;joins&nbsp;it,&nbsp;then&nbsp;starts&nbsp;sending&nbsp;numbered&nbsp;messages.&nbsp;For&nbsp;each&nbsp;open&nbsp;jabber&nbsp;connection&nbsp;to&nbsp;the&nbsp;room,&nbsp;my&nbsp;test&nbsp;app&nbsp;waits&nbsp;to&nbsp;get&nbsp;a&nbsp;response&nbsp;before&nbsp;sending&nbsp;the&nbsp;next&nbsp;message.&nbsp;I&nbsp;keep&nbsp;Exodus&nbsp;open&nbsp;in&nbsp;the&nbsp;same&nbsp;room&nbsp;with&nbsp;the&nbsp;debug&nbsp;window&nbsp;open&nbsp;to&nbsp;see&nbsp;when&nbsp;the&nbsp;messages&nbsp;actually&nbsp;show&nbsp;up.&nbsp;They&nbsp;seem&nbsp;to&nbsp;come&nbsp;about&nbsp;every&nbsp;3&nbsp;seconds&nbsp;spaced&nbsp;apart&nbsp;pretty&nbsp;evenly;&nbsp;as&nbsp;I&nbsp;mentioned&nbsp;earlier,&nbsp;messages&nbsp;sent&nbsp;in&nbsp;between&nbsp;that&nbsp;interval&nbsp;get&nbsp;dropped.&nbsp;To&nbsp;rule&nbsp;out&nbsp;client&nbsp;issues&nbsp;I've&nbsp;tried&nbsp;running&nbsp;this&nbsp;test&nbsp;with&nbsp;multiple&nbsp;threads&nbsp;in&nbsp;the&nbsp;same&nbsp;process,&nbsp;and&nbsp;by&nbsp;starting&nbsp;multiple&nbsp;single-threaded&nbsp;processes&nbsp;and&nbsp;I&nbsp;get&nbsp;the&nbsp;same&nbsp;result&nbsp;in&nbsp;both&nbsp;instances.&nbsp;I&nbsp;also&nbsp;tried&nbsp;running&nbsp;the&nbsp;test&nbsp;client&nbsp;from&nbsp;two&nbsp;different&nbsp;boxes&nbsp;to&nbsp;see&nbsp;if&nbsp;jabber&nbsp;is&nbsp;limiting&nbsp;me&nbsp;by&nbsp;IP,&nbsp;and&nbsp;that&nbsp;also&nbsp;doesn't&nbsp;seem&nbsp;to&nbsp;make&nbsp;a&nbsp;difference.&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;So&nbsp;I&nbsp;have&nbsp;a&nbsp;few&nbsp;questions:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;1)&nbsp;Anyone&nbsp;know&nbsp;straight&nbsp;off&nbsp;if&nbsp;this&nbsp;is&nbsp;rate&nbsp;limiting&nbsp;and&nbsp;how&nbsp;I&nbsp;can&nbsp;turn&nbsp;it&nbsp;off?&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;2)&nbsp;If&nbsp;there's&nbsp;no&nbsp;clear&nbsp;answer&nbsp;what&nbsp;jabber&nbsp;logging&nbsp;options&nbsp;can&nbsp;I&nbsp;turn&nbsp;on&nbsp;to&nbsp;get&nbsp;a&nbsp;better&nbsp;info?&nbsp;What&nbsp;I&nbsp;see&nbsp;in&nbsp;the&nbsp;logs&nbsp;right&nbsp;now&nbsp;is&nbsp;pretty&nbsp;minimal&nbsp;and&nbsp;not&nbsp;helpful&nbsp;for&nbsp;my&nbsp;issue.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;3)&nbsp;Any&nbsp;other&nbsp;ideas&nbsp;why&nbsp;I&nbsp;might&nbsp;be&nbsp;seeing&nbsp;this&nbsp;effect?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;The&nbsp;versions&nbsp;I'm&nbsp;running&nbsp;are:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;OS:&nbsp;linux&nbsp;2.6.9-11&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;jabberd:&nbsp;1.4.3&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;jadc2s:&nbsp;0.9.0&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;muc:&nbsp;0.6.0&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Here's&nbsp;the&nbsp;io&nbsp;section&nbsp;of&nbsp;my&nbsp;jadc2s.xml:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;lt;io&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;max_fds&amp;gt;9973&amp;lt;/max_fds&amp;gt;&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;max_bps&amp;gt;0&amp;lt;/max_bps&amp;gt;&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;connection_limits&amp;gt;&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;connects&amp;gt;0&amp;lt;/connects&amp;gt;&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;seconds&amp;gt;0&amp;lt;/seconds&amp;gt;&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;/connection_limits&amp;gt;&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;lt;/io&amp;gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;...like&nbsp;I&nbsp;mentioned&nbsp;above&nbsp;all&nbsp;the&nbsp;&amp;lt;karma&amp;gt;&nbsp;elements&nbsp;in&nbsp;my&nbsp;jabber.xml&nbsp;are&nbsp;commented&nbsp;out.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Any&nbsp;help&nbsp;with&nbsp;this&nbsp;is&nbsp;greatly&nbsp;greatly&nbsp;appreciated.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Thanks&nbsp;in&nbsp;advance,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Larry&nbsp;Kirschner&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;MTVNetworks&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>

<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hello&nbsp;all&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;had&nbsp;included&nbsp;omemo&nbsp;in&nbsp;shmoose&nbsp;[1]&nbsp;by&nbsp;using&nbsp;libomemo&nbsp;with&nbsp;axc&nbsp;and&nbsp;integrated&nbsp;lurch&nbsp;[2]&nbsp;by&nbsp;implementing&nbsp;an&nbsp;adapter&nbsp;to&nbsp;use&nbsp;without&nbsp;libpurple.&nbsp;So&nbsp;far&nbsp;so&nbsp;good,&nbsp;it&nbsp;is&nbsp;working&nbsp;as&nbsp;expected.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;only&nbsp;thing&nbsp;wich&nbsp;does&nbsp;not&nbsp;work&nbsp;is&nbsp;deploying&nbsp;the&nbsp;devicelist&nbsp;via&nbsp;pep.&nbsp;I&nbsp;had&nbsp;to&nbsp;ask&nbsp;for&nbsp;devicelist&nbsp;manually&nbsp;to&nbsp;use&nbsp;omemo&nbsp;encryption.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;According&nbsp;to&nbsp;omemo&nbsp;xep&nbsp;[3]&nbsp;5.2:&nbsp;&quot;Devices&nbsp;MUST&nbsp;subscribe&nbsp;to&nbsp;&lt;code&gt;urn:xmpp:omemo:1:devices&lt;/code&gt;&nbsp;via&nbsp;PEP&quot;.&nbsp;But&nbsp;pep&nbsp;state&nbsp;[4]&nbsp;1.2:&nbsp;&quot;because&nbsp;they&nbsp;are&nbsp;subscribed&nbsp;to&nbsp;your&nbsp;presence,&nbsp;they&nbsp;automatically&nbsp;receive&nbsp;your&nbsp;events&quot;.&nbsp;I&nbsp;would&nbsp;expect,&nbsp;as&nbsp;long&nbsp;as&nbsp;the&nbsp;users&nbsp;are&nbsp;subscribed&nbsp;to&nbsp;the&nbsp;others&nbsp;presence,&nbsp;they&nbsp;will&nbsp;automatically&nbsp;receive&nbsp;the&nbsp;devicelist&nbsp;nodes&nbsp;and&nbsp;updates?&nbsp;That&nbsp;does&nbsp;not&nbsp;work&nbsp;for&nbsp;me.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;is&nbsp;the&nbsp;pep&nbsp;node&nbsp;shmoose&nbsp;client&nbsp;sends&nbsp;during&nbsp;add&nbsp;of&nbsp;devicelist&nbsp;entry:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin:0px;text-indent:0px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&lt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;iq&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(0,170,0)&quot;&gt;xmlns&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;=&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,0,0)&quot;&gt;jabber:client&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&quot;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(0,170,0)&quot;&gt;id&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;=&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(0,170,170)&quot;&gt;d0093daf-8c93-4c3c-8382-68d0d1454295&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&quot;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(0,170,0)&quot;&gt;type&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;=&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(0,170,170)&quot;&gt;set&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&quot;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0px;text-indent:0px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&nbsp;&lt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;pubsub&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(0,170,0)&quot;&gt;xmlns&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;=&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,0,0)&quot;&gt;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&quot;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0px;text-indent:0px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&nbsp;&nbsp;&lt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;publish&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(0,170,0)&quot;&gt;node&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;=&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(0,170,170)&quot;&gt;eu.siacs.conversations.axolotl.devicelist&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&quot;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0px;text-indent:0px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;item&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0px;text-indent:0px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;list&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(0,170,0)&quot;&gt;xmlns&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;=&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,0,0)&quot;&gt;eu.siacs.conversations.axolotl&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&quot;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0px;text-indent:0px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;device&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(0,170,0)&quot;&gt;id&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;=&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(0,170,170)&quot;&gt;339564329&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&quot;&gt;&lt;/&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;device&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0px;text-indent:0px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;list&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0px;text-indent:0px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;item&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0px;text-indent:0px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&nbsp;&nbsp;&lt;/&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;publish&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0px;text-indent:0px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&nbsp;&lt;/&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;pubsub&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0px;text-indent:0px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&nbsp;&lt;/&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:600;color:rgb(170,170,0)&quot;&gt;iq&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(170,0,0)&quot;&gt;&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;far&nbsp;as&nbsp;I&nbsp;understood&nbsp;it,&nbsp;this&nbsp;should&nbsp;trigger&nbsp;an&nbsp;automated&nbsp;message&nbsp;stanza&nbsp;update&nbsp;to&nbsp;all&nbsp;presence-subscribed&nbsp;users.&nbsp;But&nbsp;it&nbsp;doesn&#39;t.&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;Any&nbsp;hints&nbsp;on&nbsp;this&nbsp;issue&nbsp;are&nbsp;appreciated.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best&nbsp;regards&lt;/div&gt;&lt;div&gt;geobra&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/geobra/harbour-shmoose&quot;&gt;https://github.com/geobra/harbour-shmoose&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[2]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/gkdr/lurch/&quot;&gt;https://github.com/gkdr/lurch/&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[3]&nbsp;&lt;a&nbsp;href=&quot;https://xmpp.org/extensions/xep-0384.html&quot;&gt;https://xmpp.org/extensions/xep-0384.html&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[4]&nbsp;&lt;a&nbsp;href=&quot;https://xmpp.org/extensions/xep-0163.html&quot;&gt;https://xmpp.org/extensions/xep-0163.html&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;P.S.&nbsp;&lt;br&gt;&lt;div&gt;I&nbsp;am&nbsp;aware&nbsp;that&nbsp;this&nbsp;is&nbsp;not&nbsp;the&nbsp;latest&nbsp;omemo&nbsp;version.&nbsp;But&nbsp;this&nbsp;is&nbsp;what&nbsp;the&nbsp;lurch&nbsp;plugin&nbsp;currently&nbsp;implements.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>

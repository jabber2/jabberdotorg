<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hello&nbsp;everyone&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Today&nbsp;I&nbsp;have&nbsp;question,&nbsp;specific&nbsp;to&nbsp;Swiften.&nbsp;So&nbsp;maybe&nbsp;Kevin&nbsp;could&nbsp;answer&nbsp;this&nbsp;;-)?&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;omemo&nbsp;implementation&nbsp;works&nbsp;as&nbsp;expected&nbsp;now.&nbsp;But&nbsp;from&nbsp;an&nbsp;architecture&nbsp;or&nbsp;performance&nbsp;point&nbsp;of&nbsp;view,&nbsp;it&nbsp;is&nbsp;not&nbsp;really&nbsp;smart&nbsp;implemented.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;LurchAdapter&nbsp;Class&nbsp;(which&nbsp;handles&nbsp;all&nbsp;the&nbsp;message&nbsp;parsing&nbsp;and&nbsp;forwarding&nbsp;to&nbsp;lurch&nbsp;[1])&nbsp;catches&nbsp;each&nbsp;incoming&nbsp;Swift::Message&nbsp;stanza.&nbsp;This&nbsp;stanza&nbsp;will&nbsp;be&nbsp;serialized&nbsp;to&nbsp;a&nbsp;std::string&nbsp;[2].&nbsp;Just&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;parse&nbsp;out&nbsp;the&nbsp;&lt;items&gt;&nbsp;or&nbsp;the&nbsp;&lt;encrypted&gt;&nbsp;xml&nbsp;part&nbsp;within&nbsp;a&nbsp;message&nbsp;[3].&nbsp;This&nbsp;part&nbsp;will&nbsp;then&nbsp;be&nbsp;forwarded&nbsp;to&nbsp;lurch,&nbsp;which&nbsp;does&nbsp;the&nbsp;real&nbsp;work&nbsp;on&nbsp;it.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;While&nbsp;this&nbsp;works,&nbsp;especially&nbsp;on&nbsp;an&nbsp;embedded&nbsp;device&nbsp;(mobile&nbsp;phone)&nbsp;this&nbsp;has&nbsp;an&nbsp;huge&nbsp;resource&nbsp;impact.&nbsp;I&nbsp;tried&nbsp;to&nbsp;get&nbsp;into&nbsp;swiften&nbsp;in&nbsp;more&nbsp;depth&nbsp;and&nbsp;tried&nbsp;to&nbsp;implement&nbsp;a&nbsp;class,&nbsp;derived&nbsp;from&nbsp;Swift::Payload,&nbsp;which&nbsp;should&nbsp;do&nbsp;the&nbsp;parsing&nbsp;for&nbsp;the&nbsp;&#39;items&#39;&nbsp;or&nbsp;&#39;encrypted&#39;&nbsp;payload&nbsp;part.&nbsp;But&nbsp;I&nbsp;don&#39;t&nbsp;know&nbsp;how&nbsp;to&nbsp;integrate&nbsp;it&nbsp;in&nbsp;the&nbsp;overall&nbsp;parsing&nbsp;of&nbsp;incoming&nbsp;stanzas.&nbsp;My&nbsp;target&nbsp;would&nbsp;be&nbsp;to&nbsp;have&nbsp;it&nbsp;somehow&nbsp;integrated&nbsp;in&nbsp;a&nbsp;derived&nbsp;class&nbsp;of&nbsp;Swift::Message&nbsp;which&nbsp;could&nbsp;provide&nbsp;me&nbsp;with&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;std::string&nbsp;Message::getItems()&lt;/div&gt;&lt;div&gt;std::string&nbsp;Message::getEncrypted()&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;hints&nbsp;on&nbsp;how&nbsp;to&nbsp;do&nbsp;this,&nbsp;or&nbsp;any&nbsp;clever&nbsp;alternatives&nbsp;are&nbsp;appreciated&nbsp;:-).&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best&nbsp;regards&lt;/div&gt;&lt;div&gt;George&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/gkdr/lurch/&quot;&gt;https://github.com/gkdr/lurch/&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[2]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/geobra/harbour-shmoose/blob/80da28bc87aa0fb3ed600db9ba6cb2b8e18f5500/source/xep/omemo/LurchAdapter.cpp#L448&quot;&gt;https://github.com/geobra/harbour-shmoose/blob/80da28bc87aa0fb3ed600db9ba6cb2b8e18f5500/source/xep/omemo/LurchAdapter.cpp#L448&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[3]&nbsp;&lt;a&nbsp;href=&quot;https://xmpp.org/extensions/xep-0384.html&quot;&gt;https://xmpp.org/extensions/xep-0384.html&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>

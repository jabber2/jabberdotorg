<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;W3&nbsp;HTML//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
<br>
&lt;META&nbsp;content=text/html;charset=iso-8859-1&nbsp;http-equiv=Content-Type&gt;&lt;TITLE&gt;RE:&nbsp;[JDEV]&nbsp;Performance&lt;/TITLE&gt;&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;META&nbsp;content='&quot;MSHTML&nbsp;4.72.3612.1706&quot;'&nbsp;name=GENERATOR&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;bgColor=#ffffff&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=2&gt;David,&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;When&nbsp;you&nbsp;refer&nbsp;to&nbsp;the&nbsp;stack&nbsp;and&nbsp;heap&nbsp;below,&nbsp;are&nbsp;you&nbsp;referring&nbsp;<br>
to&nbsp;the&nbsp;thread&nbsp;that&nbsp;services&nbsp;the&nbsp;connection?&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=2&gt;I&nbsp;believe&nbsp;the&nbsp;way&nbsp;to&nbsp;improve&nbsp;that&nbsp;situation&nbsp;<br>
would&nbsp;be&nbsp;to&nbsp;have&nbsp;a&nbsp;pool&nbsp;of&nbsp;threads&nbsp;servicing&nbsp;many&nbsp;connections.&amp;nbsp;&nbsp;Most&nbsp;<br>
software&nbsp;that&nbsp;uses&nbsp;threads&nbsp;to&nbsp;take&nbsp;advantage&nbsp;of&nbsp;parallelism&nbsp;does&nbsp;so&nbsp;<br>
wastefully.&amp;nbsp;&nbsp;The&nbsp;ideal&nbsp;situation&nbsp;is&nbsp;to&nbsp;have&nbsp;one&nbsp;or&nbsp;two&nbsp;processes&nbsp;working&nbsp;<br>
(runnable)&nbsp;per&nbsp;CPU.&amp;nbsp;&nbsp;This&nbsp;works&nbsp;find&nbsp;when&nbsp;other&nbsp;threads&nbsp;are&nbsp;<br>
blocked/sleeping,&nbsp;performance&nbsp;suffers&nbsp;when&nbsp;the&nbsp;number&nbsp;of&nbsp;runnable&nbsp;tasks&nbsp;is&nbsp;too&nbsp;<br>
high&nbsp;in&nbsp;relation&nbsp;to&nbsp;the&nbsp;number&nbsp;of&nbsp;CPUs&nbsp;able&nbsp;to&nbsp;service&nbsp;them.&amp;nbsp;&nbsp;Performance&nbsp;<br>
also&nbsp;suffers&nbsp;from&nbsp;the&nbsp;overhead&nbsp;of&nbsp;context&nbsp;switches&nbsp;--&nbsp;and&nbsp;the&nbsp;memory&nbsp;needed&nbsp;to&nbsp;<br>
create&nbsp;all&nbsp;those&nbsp;threads.&amp;nbsp;&nbsp;One&nbsp;way&nbsp;to&nbsp;solve&nbsp;this&nbsp;is&nbsp;to&nbsp;have&nbsp;a&nbsp;pool&nbsp;of&nbsp;<br>
threads&nbsp;that&nbsp;are&nbsp;all&nbsp;able&nbsp;to&nbsp;service&nbsp;any&nbsp;of&nbsp;the&nbsp;available&nbsp;connections.&amp;nbsp;&nbsp;If&nbsp;<br>
utilization&nbsp;is&nbsp;light,&nbsp;then&nbsp;probably&nbsp;only&nbsp;one&nbsp;thread&nbsp;will&nbsp;ever&nbsp;be&nbsp;used,&nbsp;and&nbsp;it&nbsp;<br>
will&nbsp;save&nbsp;context&nbsp;switches,&nbsp;as&nbsp;well&nbsp;as&nbsp;memory.&amp;nbsp;&nbsp;When&nbsp;the&nbsp;load&nbsp;begins&nbsp;to&nbsp;<br>
increase,&nbsp;more&nbsp;threads&nbsp;are&nbsp;called&nbsp;into&nbsp;use.&amp;nbsp;&nbsp;The&nbsp;key&nbsp;is&nbsp;to&nbsp;not&nbsp;have&nbsp;too&nbsp;<br>
many&nbsp;worker&nbsp;threads&nbsp;unless&nbsp;what&nbsp;a&nbsp;worker&nbsp;thread&nbsp;does&nbsp;can&nbsp;block.&amp;nbsp;&nbsp;Too&nbsp;many&nbsp;<br>
threads&nbsp;causes&nbsp;degradation&nbsp;in&nbsp;overall&nbsp;performance&nbsp;due&nbsp;to&nbsp;context&nbsp;switching&nbsp;and&nbsp;<br>
synchronization.&amp;nbsp;&nbsp;Too&nbsp;few&nbsp;and&nbsp;you&nbsp;have&nbsp;network&nbsp;events&nbsp;that&nbsp;are&nbsp;not&nbsp;dealt&nbsp;<br>
with&nbsp;in&nbsp;a&nbsp;timely&nbsp;fashion.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;I&nbsp;hope&nbsp;this&nbsp;is&nbsp;useful&nbsp;(for&nbsp;any&nbsp;and&nbsp;all).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;--&nbsp;Jacob.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;<br>
style=&quot;BORDER-LEFT:&nbsp;#000000&nbsp;solid&nbsp;2px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;PADDING-LEFT:&nbsp;5px&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;B&gt;-----Original&nbsp;Message-----&lt;/B&gt;&lt;BR&gt;&lt;B&gt;From:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/B&gt;David&nbsp;Waite&nbsp;&amp;lt;&lt;A&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;href=&quot;mailto:mass@ufl.edu&quot;&gt;mass@ufl.edu&lt;/A&gt;&amp;gt;&lt;BR&gt;&lt;B&gt;To:&nbsp;&lt;/B&gt;&lt;A&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;href=&quot;mailto:jdev@jabber.org&quot;&gt;jdev@jabber.org&lt;/A&gt;&nbsp;&amp;lt;&lt;A&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;href=&quot;mailto:jdev@jabber.org&quot;&gt;jdev@jabber.org&lt;/A&gt;&amp;gt;&lt;BR&gt;&lt;B&gt;Date:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/B&gt;Wednesday,&nbsp;26&nbsp;April&nbsp;2000&nbsp;08:48&lt;BR&gt;&lt;B&gt;Subject:&nbsp;&lt;/B&gt;RE:&nbsp;[JDEV]&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Performance&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/FONT&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;class=900103120-25042000&gt;The&nbsp;number&nbsp;of&nbsp;open&nbsp;sockets&nbsp;is&nbsp;indeed&nbsp;a&nbsp;big&nbsp;issue.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;main&nbsp;memory&nbsp;'eater'&nbsp;with&nbsp;multiple&nbsp;TCP/IP&nbsp;sockets&nbsp;is&nbsp;the&nbsp;kernel-level&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;memory.&nbsp;At&nbsp;last&nbsp;I&nbsp;heard&nbsp;(which&nbsp;is&nbsp;another&nbsp;way&nbsp;of&nbsp;saying&nbsp;'don't&nbsp;hold&nbsp;me&nbsp;to&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;these&nbsp;numbers'),&nbsp;one&nbsp;active&nbsp;client&nbsp;connection&nbsp;took&nbsp;about&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;50k.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;class=900103120-25042000&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;class=900103120-25042000&gt;With&nbsp;Linux,&nbsp;you&nbsp;have&nbsp;to&nbsp;do&nbsp;some&nbsp;kernel&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;reconfiguration&nbsp;to&nbsp;get&nbsp;above&nbsp;1024&nbsp;file&nbsp;descriptors&nbsp;per&nbsp;process(temas&nbsp;today&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;explained&nbsp;how&nbsp;to&nbsp;do&nbsp;it&nbsp;without&nbsp;recompiling&nbsp;the&nbsp;kernel,&nbsp;I&nbsp;need&nbsp;to&nbsp;explore&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;area&nbsp;of&nbsp;l-k&nbsp;more).&nbsp;a&nbsp;TCP&nbsp;connection&nbsp;is&nbsp;of&nbsp;course&nbsp;represented&nbsp;by&nbsp;a&nbsp;file&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;descriptor.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;class=900103120-25042000&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;class=900103120-25042000&gt;Note&nbsp;that&nbsp;much&nbsp;of&nbsp;the&nbsp;memory&nbsp;above&nbsp;is&nbsp;stack&nbsp;for&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;session.&nbsp;Even&nbsp;if&nbsp;you&nbsp;somehow&nbsp;eliminated&nbsp;the&nbsp;stack&nbsp;and&nbsp;the&nbsp;heap&nbsp;for&nbsp;each&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;open&nbsp;connection,&nbsp;you'd&nbsp;find&nbsp;that&nbsp;the&nbsp;kernel&nbsp;memory&nbsp;for&nbsp;each&nbsp;client&nbsp;was&nbsp;about&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;16k&nbsp;(which&nbsp;is&nbsp;unswapable).&nbsp;You&nbsp;could&nbsp;&lt;STRONG&gt;possibly&lt;/STRONG&gt;&nbsp;get&nbsp;this&nbsp;down&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;8k&nbsp;(two&nbsp;4k&nbsp;pages),&nbsp;but&nbsp;one&nbsp;4k&nbsp;page&nbsp;does&nbsp;not&nbsp;have&nbsp;enough&nbsp;space&nbsp;to&nbsp;handle&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;active&nbsp;TCP&nbsp;connection.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;class=900103120-25042000&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=900103120-25042000&gt;At&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;least&nbsp;(from&nbsp;the&nbsp;numbers&nbsp;I've&nbsp;seen)&nbsp;the&nbsp;server&nbsp;is&nbsp;not&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;CPU-limited.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;class=900103120-25042000&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=900103120-25042000&gt;So&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;unless&nbsp;you&nbsp;rewrote&nbsp;the&nbsp;Jabber&nbsp;server&nbsp;to&nbsp;not&nbsp;require&nbsp;separate&nbsp;stack&nbsp;spaces,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;rewrote&amp;nbsp;some&nbsp;operating&nbsp;system&nbsp;kernel&nbsp;to&nbsp;somehow&nbsp;'share'&nbsp;a&nbsp;large&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;datablock&nbsp;between&nbsp;many&nbsp;'idle'&nbsp;TCP&nbsp;sockets,&nbsp;I&nbsp;don't&nbsp;know&nbsp;of&nbsp;any&nbsp;way&nbsp;you&nbsp;could&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;acheive&nbsp;an&nbsp;extremely&nbsp;large&nbsp;number&nbsp;of&nbsp;users&nbsp;on&nbsp;one&nbsp;server.&nbsp;I&nbsp;do&nbsp;not&nbsp;know&nbsp;of&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;operating&nbsp;system&nbsp;that&nbsp;can&nbsp;handle&nbsp;an&nbsp;extremely&nbsp;large&nbsp;number&nbsp;of&nbsp;TCP&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;connections-&nbsp;10k&nbsp;is&nbsp;ususlly&nbsp;the&nbsp;first&nbsp;real&nbsp;limit&nbsp;a&nbsp;machine&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;hits.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;class=900103120-25042000&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=900103120-25042000&gt;It&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;would&nbsp;seem&nbsp;the&nbsp;only&amp;nbsp;other&nbsp;feasible&nbsp;you&nbsp;can&nbsp;manage&nbsp;this&nbsp;is&nbsp;to&nbsp;rewrite&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;Jabber&nbsp;server&nbsp;to&nbsp;allow&nbsp;clusters&nbsp;of&nbsp;machines.&nbsp;You&nbsp;could&nbsp;also&nbsp;attempt&nbsp;to&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;modify&nbsp;the&nbsp;Jabber&nbsp;protocol&nbsp;to&nbsp;use&nbsp;UDP,&nbsp;but&nbsp;then&nbsp;you&nbsp;would&nbsp;have&nbsp;something&nbsp;new&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;wasn't&nbsp;Jabber&nbsp;anyways.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;class=900103120-25042000&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;class=900103120-25042000&gt;-David&nbsp;Waite&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;BLOCKQUOTE&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;style=&quot;BORDER-LEFT:&nbsp;#0000ff&nbsp;solid&nbsp;2px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;PADDING-LEFT:&nbsp;5px&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;align=left&nbsp;class=OutlookMessageHeader&nbsp;dir&nbsp;=&nbsp;ltr&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=2&gt;-----Original&nbsp;Message-----&lt;BR&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;jdev-admin@jabber.org&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[mailto:jdev-admin@jabber.org]&lt;B&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/B&gt;Michael&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Petras&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;Tuesday,&nbsp;April&nbsp;25,&nbsp;2000&nbsp;10:20&nbsp;AM&lt;BR&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'jdev@jabber.org'&lt;BR&gt;&lt;B&gt;Cc:&lt;/B&gt;&nbsp;Douglas&nbsp;Petty&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;RE:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[JDEV]&nbsp;Performance&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/FONT&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;One&nbsp;aspect&nbsp;of&nbsp;performance&nbsp;I&nbsp;was&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wondering&nbsp;how&nbsp;Jabber&nbsp;addresses&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;open&nbsp;sockets.&nbsp;Does&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;Jabber&nbsp;server&nbsp;keep&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;TCP&nbsp;socket&nbsp;open&nbsp;for&nbsp;each&nbsp;logged&nbsp;in&nbsp;client?&nbsp;What&nbsp;determines&nbsp;how&nbsp;many&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sockets&nbsp;can&nbsp;be&nbsp;open&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=2&gt;simulatenously&nbsp;using&nbsp;Linux?&nbsp;Does&nbsp;Jabber&nbsp;or&nbsp;Linux&nbsp;do&nbsp;any&nbsp;tricks&nbsp;to&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increase&nbsp;the&nbsp;number&nbsp;of&nbsp;open&nbsp;sockets&nbsp;(such&nbsp;as&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;transforming&nbsp;open,&nbsp;but&nbsp;quiet&nbsp;sockets&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;some&nbsp;placeholder&nbsp;objects&nbsp;that&nbsp;use&nbsp;minimal&nbsp;memory&nbsp;until&nbsp;the&nbsp;next&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message)?&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;Does&nbsp;anyone&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;know&nbsp;of&nbsp;any&nbsp;implementations&nbsp;that&nbsp;do&nbsp;this?&nbsp;Does&nbsp;anyone&nbsp;know&nbsp;how&nbsp;big&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IM/presence&nbsp;servers&nbsp;like&nbsp;Yahoo,&nbsp;ICQ&nbsp;&lt;/FONT&gt;&lt;BR&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;face=Arial&nbsp;size=2&gt;or&nbsp;AOL&nbsp;handles&nbsp;this?&lt;/FONT&gt;&nbsp;&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;Our&nbsp;applications&nbsp;have&nbsp;to&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;communicate&nbsp;with&nbsp;tens&nbsp;to&nbsp;hundreds&nbsp;of&nbsp;thousands&nbsp;of&nbsp;fairly&nbsp;low&nbsp;traffic&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clients.&nbsp;Our&nbsp;servers&nbsp;run&nbsp;on&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;size=2&gt;Windows&nbsp;NT&nbsp;where&nbsp;the&nbsp;limit&nbsp;on&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open&nbsp;sockets&nbsp;is&nbsp;a&nbsp;significant&nbsp;issue.&nbsp;Thanks&nbsp;in&nbsp;advance&nbsp;for&nbsp;any&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info.&lt;/FONT&gt;&nbsp;&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thnx,&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mike&nbsp;Petras&lt;/FONT&gt;&nbsp;&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;UL&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=1&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;&lt;B&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=1&gt;From:&amp;nbsp;&amp;nbsp;&lt;/FONT&gt;&lt;/B&gt;&nbsp;&lt;FONT&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;face=Arial&nbsp;size=1&gt;David&nbsp;Waite&nbsp;[SMTP:mass@ufl.edu]&lt;/FONT&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;&lt;B&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=1&gt;Sent:&amp;nbsp;&amp;nbsp;&lt;/FONT&gt;&lt;/B&gt;&nbsp;&lt;FONT&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;face=Arial&nbsp;size=1&gt;Tuesday,&nbsp;April&nbsp;25,&nbsp;2000&nbsp;8:26&nbsp;AM&lt;/FONT&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;&lt;B&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=1&gt;To:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/FONT&gt;&lt;/B&gt;&nbsp;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=1&gt;jdev&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;B&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=1&gt;Subject:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/FONT&gt;&lt;/B&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;face=Arial&nbsp;size=1&gt;RE:&nbsp;[JDEV]&nbsp;Performance&lt;/FONT&gt;&nbsp;&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;It&nbsp;sounds&nbsp;more&nbsp;like&nbsp;the&nbsp;test&nbsp;was&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throttled&nbsp;due&nbsp;to&nbsp;you&nbsp;sending&nbsp;too&nbsp;many&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=2&gt;messages&nbsp;at&nbsp;once,&nbsp;rather&nbsp;than&nbsp;any&nbsp;sort&nbsp;of&nbsp;scalability&nbsp;or&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;type&nbsp;of&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;limitation&nbsp;in&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jabber&nbsp;server.&lt;/FONT&gt;&nbsp;&lt;/P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;-David&nbsp;Waite&lt;/FONT&gt;&nbsp;&lt;/P&gt;&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Hi&nbsp;,&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;The&nbsp;real&nbsp;issue&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;I&nbsp;want&nbsp;to&nbsp;highlight&nbsp;is&nbsp;not&nbsp;spammers&nbsp;but&nbsp;the&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;face=Arial&nbsp;size=2&gt;Scalability&nbsp;of&nbsp;Jabber&nbsp;.&nbsp;The&nbsp;tests&nbsp;which&nbsp;I&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;performed&nbsp;on&nbsp;Jabber&nbsp;clearly&nbsp;showed&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=2&gt;that&nbsp;it&nbsp;slows&nbsp;down&nbsp;which&nbsp;is&nbsp;definitely&nbsp;not&nbsp;acceptable&nbsp;in&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;real-life&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;situations&nbsp;.&nbsp;Jabber&nbsp;has&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;be&nbsp;more&nbsp;scalable&nbsp;than&nbsp;it&nbsp;is&nbsp;now&nbsp;.&nbsp;Any&nbsp;Thoughts&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;face=Arial&nbsp;size=2&gt;and&nbsp;Ideas&nbsp;?&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=2&gt;Regards&nbsp;,&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;chetan&nbsp;s&nbsp;.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ithal&lt;/FONT&gt;&nbsp;&lt;/P&gt;&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=2&gt;_______________________________________________&lt;/FONT&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;jdev&nbsp;mailing&nbsp;list&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;face=Arial&nbsp;size=2&gt;jdev@jabber.org&lt;/FONT&gt;&nbsp;&lt;BR&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size=2&gt;&lt;A&nbsp;href=&quot;http://mailman.jabber.org/listinfo/jdev&quot;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target=_blank&gt;http://mailman.jabber.org/listinfo/jdev&lt;/A&gt;&lt;/FONT&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/P&gt;&lt;/UL&gt;&lt;/BLOCKQUOTE&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>

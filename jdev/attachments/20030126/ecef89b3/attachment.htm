<tt>
&lt;P&gt;After&nbsp;some&nbsp;more&nbsp;testing,&nbsp;I&nbsp;got&nbsp;the&nbsp;impression&nbsp;that&nbsp;the&nbsp;following&nbsp;callback&nbsp;logic&nbsp;would&nbsp;work.&amp;nbsp;&nbsp;Getting&nbsp;the&nbsp;&amp;lt;item&amp;gt;s&nbsp;does&nbsp;not&nbsp;seem&nbsp;to&nbsp;work.&amp;nbsp;&nbsp;Has&nbsp;anybody&nbsp;ever&nbsp;made&nbsp;this&nbsp;work&nbsp;before??&nbsp;<br>
&lt;P&gt;sub&nbsp;InIQ&lt;BR&gt;{&lt;BR&gt;&amp;nbsp;my&nbsp;$sid&nbsp;=&nbsp;shift;&lt;BR&gt;&amp;nbsp;my&nbsp;$iq&nbsp;=&nbsp;shift;&nbsp;<br>
&lt;P&gt;&amp;nbsp;my&nbsp;$id&nbsp;=&nbsp;$iq-&amp;gt;GetID();&lt;BR&gt;&amp;nbsp;print&nbsp;&quot;id&nbsp;=&nbsp;$id\n&quot;;&nbsp;#&nbsp;works&nbsp;<br>
&lt;P&gt;&amp;nbsp;my&nbsp;$type&nbsp;=&nbsp;$iq-&amp;gt;GetType();&lt;BR&gt;&amp;nbsp;print&nbsp;&quot;type&nbsp;=&nbsp;$type\n&quot;;&nbsp;#works&nbsp;<br>
&lt;P&gt;&amp;nbsp;my&nbsp;$xmlns&nbsp;=&nbsp;$iq-&amp;gt;GetQueryXMLNS();&lt;BR&gt;&amp;nbsp;print&nbsp;&quot;xmlns&nbsp;=&nbsp;$xmlns\n&quot;;&nbsp;#works&nbsp;<br>
&lt;P&gt;&amp;nbsp;foreach&nbsp;my&nbsp;$query&nbsp;($iq-&amp;gt;GetQuery-&amp;gt;GetItems)&nbsp;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;print&nbsp;(&quot;JID&nbsp;=&nbsp;$query-&amp;gt;GetItem()-&amp;gt;GetJID\n&quot;);&nbsp;#&nbsp;prints&nbsp;a&nbsp;hash&lt;BR&gt;&amp;nbsp;&amp;nbsp;print&nbsp;(&quot;Name&nbsp;=&nbsp;$query-&amp;gt;GetItem()-&amp;gt;GetName\n&quot;);&amp;nbsp;&amp;nbsp;#&nbsp;prints&nbsp;a&nbsp;hash&lt;BR&gt;&amp;nbsp;&amp;nbsp;print&nbsp;(&quot;Subscription&nbsp;=&nbsp;$query-&amp;gt;GetItem()-&amp;gt;GetSubscription\n&quot;);&nbsp;#&nbsp;prints&nbsp;a&nbsp;hash&lt;BR&gt;&amp;nbsp;&amp;nbsp;print&nbsp;(&quot;Group&nbsp;=&nbsp;$query-&amp;gt;GetItem()-&amp;gt;GetGroup[0]\n&quot;);&nbsp;#&nbsp;prints&nbsp;a&nbsp;hash&lt;BR&gt;&amp;nbsp;}&lt;BR&gt;}&nbsp;<br>
&lt;P&gt;&amp;nbsp;&lt;B&gt;&lt;I&gt;rebbaj&nbsp;rebbaj&nbsp;&amp;lt;rebbaj2000@yahoo.co.uk&amp;gt;&lt;/I&gt;&lt;/B&gt;&nbsp;wrote:&nbsp;<br>
&lt;BLOCKQUOTE&nbsp;style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#1010ff&nbsp;2px&nbsp;solid&quot;&gt;<br>
&lt;P&gt;Thanks&nbsp;Matt&nbsp;and&nbsp;Chris&nbsp;for&nbsp;the&nbsp;replies.&nbsp;<br>
&lt;P&gt;It&nbsp;seemed&nbsp;reasonable&nbsp;that&nbsp;one&nbsp;could&amp;nbsp;write&nbsp;an&nbsp;algorighm&nbsp;as&nbsp;follows&nbsp;with&nbsp;the&nbsp;Net::Jabber&nbsp;pm.&amp;nbsp;&nbsp;What&nbsp;would&nbsp;the&nbsp;XXXX's&nbsp;be?&amp;nbsp;&nbsp;I&nbsp;would&nbsp;also&nbsp;like&nbsp;to&nbsp;do&nbsp;this&nbsp;with&nbsp;the&nbsp;returned&nbsp;presence&nbsp;data...&lt;BR&gt;----------------------------------&amp;nbsp;&nbsp;&lt;BR&gt;use&nbsp;Net::Jabber&nbsp;qw();&lt;BR&gt;&lt;BR&gt;my&nbsp;$Connection&nbsp;=&nbsp;new&nbsp;Net::Jabber::Client();&lt;BR&gt;$Connection-&amp;gt;SetCallBacks(iq=&amp;gt;\&amp;amp;InIQ);&nbsp;<br>
&lt;P&gt;#&amp;nbsp;&nbsp;request&nbsp;the&nbsp;roster&nbsp;from&nbsp;the&nbsp;server&lt;BR&gt;my&nbsp;$iq_req&nbsp;=&nbsp;Net::Jabber::IQ-&amp;gt;new();&lt;BR&gt;$iq_req-&amp;gt;SetIQ(type=&amp;gt;&quot;get&quot;,&nbsp;id=&amp;gt;&quot;mpt_1&quot;);&lt;/P&gt;<br>
&lt;P&gt;#&nbsp;is&nbsp;there&nbsp;a&nbsp;native&nbsp;call&nbsp;to&nbsp;do&nbsp;this?&lt;BR&gt;$iq_req-&amp;gt;InsertRawXML('&amp;lt;query&nbsp;xmlns=&quot;jabber:iq:roster&quot;/&amp;gt;');&lt;BR&gt;&lt;BR&gt;$Connection-&amp;gt;Send($iq_req);&lt;/P&gt;<br>
&lt;P&gt;while(defined($Connection-&amp;gt;Process()))&nbsp;{&nbsp;}&nbsp;<br>
&lt;P&gt;sub&nbsp;InIQ&nbsp;#&nbsp;callback&nbsp;routine&lt;BR&gt;{&lt;BR&gt;&amp;nbsp;my&nbsp;$sid&nbsp;=&nbsp;shift;&lt;BR&gt;&amp;nbsp;my&nbsp;$iq&nbsp;=&nbsp;shift;&lt;BR&gt;&amp;nbsp;$roster&nbsp;=&nbsp;$iq-&amp;gt;XXXXXX();&nbsp;#&nbsp;what&nbsp;should&nbsp;I&nbsp;be&nbsp;calling&nbsp;here?&nbsp;<br>
&lt;P&gt;&amp;nbsp;foreach&nbsp;$item&nbsp;(XXXXXXX)&nbsp;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;$item-&amp;gt;XXXXX,&nbsp;&quot;\n&quot;;&nbsp;#&nbsp;print&nbsp;jid&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;$item-&amp;gt;XXXXX,&nbsp;&quot;\n&quot;;&nbsp;#&nbsp;print&nbsp;name&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;$item-&amp;gt;XXXXX,&nbsp;&quot;\n&quot;;&nbsp;#&nbsp;print&nbsp;ask&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;$item-&amp;gt;XXXXX,&nbsp;&quot;\n&quot;;&nbsp;#&nbsp;print&nbsp;subscribe&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;$item-&amp;gt;XXXXX,&nbsp;&quot;\n&quot;;&nbsp;#&nbsp;print&amp;nbsp;group&lt;BR&gt;}&nbsp;<br>
&lt;P&gt;}&nbsp;<br>
&lt;P&gt;&amp;nbsp;&lt;B&gt;&lt;I&gt;Chris&nbsp;Wilkes&nbsp;&amp;lt;cwilkes-jabber@ladro.com&amp;gt;&lt;/I&gt;&lt;/B&gt;&nbsp;wrote:&nbsp;<br>
&lt;BLOCKQUOTE&nbsp;style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#1010ff&nbsp;2px&nbsp;solid&quot;&gt;On&nbsp;Sat,&nbsp;Jan&nbsp;25,&nbsp;2003&nbsp;at&nbsp;11:55:46PM&nbsp;+0000,&nbsp;rebbaj&nbsp;rebbaj&nbsp;wrote:&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;write&nbsp;a&nbsp;routine&nbsp;in&nbsp;Perl&nbsp;where&nbsp;I&nbsp;can&nbsp;send&nbsp;a&nbsp;iq&nbsp;roster&lt;BR&gt;&amp;gt;&nbsp;request&nbsp;and&nbsp;then&nbsp;parse&nbsp;through&nbsp;all&nbsp;the&nbsp;responses&nbsp;such&nbsp;that&nbsp;I&nbsp;can&nbsp;put&lt;BR&gt;&amp;gt;&nbsp;them&nbsp;in&nbsp;an&nbsp;array.&nbsp;While&nbsp;I&nbsp;could&nbsp;do&nbsp;this&nbsp;with&nbsp;a&nbsp;call&nbsp;such&nbsp;as&nbsp;&quot;my&lt;BR&gt;&amp;gt;&nbsp;$roster&nbsp;=&nbsp;$iq-&amp;gt;GetXML()&quot;&nbsp;followed&nbsp;by&nbsp;a&nbsp;bunch&nbsp;of&nbsp;regular&nbsp;expressions,&lt;BR&gt;&amp;gt;&nbsp;this&nbsp;seems&nbsp;painfull.&lt;BR&gt;&lt;BR&gt;What&nbsp;Perl&nbsp;module&nbsp;are&nbsp;you&nbsp;using&nbsp;to&nbsp;do&nbsp;the&nbsp;&quot;$iq-&amp;gt;GetXML()&quot;?&nbsp;If&nbsp;you&nbsp;send&lt;BR&gt;me&nbsp;your&nbsp;code&nbsp;that&nbsp;does&nbsp;that&nbsp;I&nbsp;can&nbsp;add&nbsp;code&nbsp;to&nbsp;split&nbsp;out&nbsp;the&nbsp;results.&lt;/BLOCKQUOTE&gt;<br>
&lt;P&gt;<br>
&lt;P&gt;&lt;BR&gt;<br>
&lt;HR&nbsp;SIZE=1&gt;<br>
&lt;A&nbsp;href=&quot;http://uk.yahoo.com/mail/tagline_xtra/?http://uk.docs.yahoo.com/mail_storage.html&quot;&gt;&lt;B&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;With&nbsp;Yahoo!&nbsp;Mail&nbsp;you&nbsp;can&nbsp;get&nbsp;a&nbsp;bigger&nbsp;mailbox&nbsp;--&nbsp;choose&nbsp;a&nbsp;size&nbsp;that&nbsp;fits&nbsp;your&nbsp;needs&lt;/FONT&gt;&lt;/B&gt;&lt;/A&gt;&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;p&gt;&lt;p&gt;&lt;br&gt;&lt;hr&nbsp;size=1&gt;&lt;a&nbsp;href=&quot;http://uk.yahoo.com/mail/tagline_xtra/?http://uk.docs.yahoo.com/mail_storage.html&quot;&gt;&lt;b&gt;&lt;font&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;2&quot;&gt;With&nbsp;Yahoo!&nbsp;Mail&nbsp;you&nbsp;can&nbsp;get&nbsp;a&nbsp;bigger&nbsp;mailbox&nbsp;--&nbsp;choose&nbsp;a&nbsp;size&nbsp;that&nbsp;fits&nbsp;your&nbsp;needs&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;
</tt>

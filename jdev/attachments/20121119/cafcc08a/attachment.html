<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&gt;&nbsp;Date:&nbsp;Tue,&nbsp;13&nbsp;Nov&nbsp;2012&nbsp;07:30:34&nbsp;+0000&lt;/span&gt;&lt;br&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&gt;&nbsp;From:&nbsp;kevin@kismith.co.uk&lt;br&gt;&gt;&nbsp;To:&nbsp;jdev@jabber.org&lt;br&gt;&gt;&nbsp;Subject:&nbsp;Re:&nbsp;[jdev]&nbsp;Help&nbsp;choosing&nbsp;the&nbsp;right&nbsp;technology&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Just&nbsp;to&nbsp;clear&nbsp;up&nbsp;a&nbsp;couple&nbsp;of&nbsp;things.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;On&nbsp;Tue,&nbsp;Nov&nbsp;13,&nbsp;2012&nbsp;at&nbsp;7:12&nbsp;AM,&nbsp;Michael&nbsp;Weibel&lt;br&gt;&gt;&nbsp;&lt;michael.weibel+xmpp@gmail.com&gt;&nbsp;wrote:&lt;br&gt;&gt;&nbsp;&gt;&gt;&nbsp;Push&nbsp;based&nbsp;communication.&lt;br&gt;&gt;&nbsp;&gt;&nbsp;Besides&nbsp;ejabberd&nbsp;commercial,&nbsp;I&nbsp;don't&nbsp;know&nbsp;which&nbsp;servers&nbsp;implement&nbsp;this.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;{SNIP}&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;JSON/XML&nbsp;is&nbsp;pretty&nbsp;much&nbsp;a&nbsp;red&nbsp;herring&nbsp;here&nbsp;-&nbsp;to&nbsp;encode&nbsp;the&nbsp;same&nbsp;data&lt;br&gt;&gt;&nbsp;you're&nbsp;just&nbsp;switching&nbsp;&lt;&gt;&nbsp;for&nbsp;{}.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;But&nbsp;XMPP&nbsp;stanzas&nbsp;aren't&nbsp;/that/&nbsp;big&nbsp;before&nbsp;transmission,&nbsp;when&nbsp;you're&lt;br&gt;&gt;&nbsp;talking&nbsp;about&nbsp;working&nbsp;over&nbsp;phone&nbsp;networks.&nbsp;Yes,&nbsp;compression&nbsp;will&nbsp;help&lt;br&gt;&gt;&nbsp;with&nbsp;stanza&nbsp;size.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;{SNIP}&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;/K&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;You&nbsp;could&nbsp;do&nbsp;what&nbsp;MXit&nbsp;did&nbsp;back&nbsp;in&nbsp;the&nbsp;day&nbsp;and&nbsp;shorten&nbsp;element&nbsp;names.&nbsp;E.g.:&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;-&nbsp;{jabber:client}message&nbsp;=&nbsp;{jabber:client}m&nbsp;(jabber:client&nbsp;is&nbsp;usually&nbsp;defined&nbsp;on&nbsp;the&nbsp;stream:stream&nbsp;element,&nbsp;so&nbsp;there&nbsp;isn't&nbsp;much&nbsp;point&nbsp;in&nbsp;shortening&nbsp;it)&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;-&nbsp;{jabber:client}iq&nbsp;=&nbsp;{jabber:client}i&lt;/div&gt;&lt;font&nbsp;face=&quot;Calibri,&nbsp;sans-serif&quot;&nbsp;size=&quot;3&quot;&gt;-&nbsp;{jabber:iq:roster}query&nbsp;=&nbsp;{j:i:r}q&lt;/font&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;-&nbsp;@from&nbsp;=&nbsp;@f&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;-&nbsp;And&nbsp;so&nbsp;forth&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;You&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;do&nbsp;this&nbsp;at&nbsp;the&nbsp;XML&nbsp;emission/parsing&nbsp;layer&nbsp;through&nbsp;encapsulation&nbsp;or&nbsp;polymorphism&nbsp;(this&nbsp;should&nbsp;be&nbsp;a&nbsp;really&nbsp;simple&nbsp;hashtable&nbsp;lookup&nbsp;if&nbsp;your&nbsp;server/client&nbsp;of&nbsp;choice&nbsp;sees&nbsp;XML&nbsp;as&nbsp;data&nbsp;and&nbsp;not&nbsp;a&nbsp;string).&nbsp;If&nbsp;you&nbsp;care&nbsp;about&nbsp;interopability&nbsp;(which&nbsp;you&nbsp;should),&nbsp;it&nbsp;would&nbsp;likely&nbsp;be&nbsp;appropriate&nbsp;in&nbsp;the&nbsp;transport&nbsp;features&nbsp;section&nbsp;of&nbsp;the&nbsp;stream.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;S:&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;stream:features&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&nbsp;&lt;nameshortening&nbsp;xmlns='http://mycompany.com/xmpp/features'&nbsp;/&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&nbsp;&lt;starttls&nbsp;xmlns='urn:ietf:params:xml:ns:xmpp-tls'&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;required/&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&nbsp;&lt;/starttls&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&nbsp;...&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;/stream:features&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;C:&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&lt;optimize&nbsp;xmlns='http://mycompany.com/xmpp/features'&nbsp;/&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;div&gt;S:&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&lt;proceed&nbsp;xmlns='http://mycompany.com/xmpp/features'&nbsp;/&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;That&nbsp;way&nbsp;clients&nbsp;that&nbsp;don't&nbsp;understand&nbsp;it&nbsp;would&nbsp;simply&nbsp;skip&nbsp;past&nbsp;it&nbsp;and&nbsp;head&nbsp;directly&nbsp;to&nbsp;STARTTLS.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Calibri,&nbsp;sans-serif&quot;&nbsp;size=&quot;3&quot;&gt;Compression&nbsp;alone&nbsp;*should*&nbsp;be&nbsp;good&nbsp;enough,&nbsp;but&nbsp;I&nbsp;remember&nbsp;the&nbsp;MXit&nbsp;team&nbsp;indicating&nbsp;that&nbsp;they&nbsp;did&nbsp;get&nbsp;some&nbsp;clutch&nbsp;savings&nbsp;from&nbsp;doing&nbsp;this:&nbsp;even&nbsp;with&nbsp;compression.&nbsp;You&nbsp;could&nbsp;take&nbsp;it&nbsp;further&nbsp;by&nbsp;also&nbsp;omitting&nbsp;the&nbsp;'from'&nbsp;attribute&nbsp;on&nbsp;the&nbsp;client&nbsp;(assume&nbsp;that&nbsp;the&nbsp;server&nbsp;will&nbsp;fill&nbsp;it&nbsp;in&nbsp;for&nbsp;you),&nbsp;and&nbsp;&lt;/font&gt;&lt;font&nbsp;face=&quot;Calibri,&nbsp;sans-serif&quot;&gt;omitting&lt;/font&gt;&lt;font&nbsp;face=&quot;Calibri,&nbsp;sans-serif&quot;&nbsp;size=&quot;3&quot;&gt;&nbsp;the&nbsp;'to'&nbsp;element&nbsp;if&nbsp;the&nbsp;communication&nbsp;is&nbsp;directly&nbsp;C-&gt;S&nbsp;or&nbsp;S-&gt;C&nbsp;(that&nbsp;would&nbsp;likely&nbsp;be&nbsp;an&nbsp;additional&nbsp;customization&nbsp;you&nbsp;would&nbsp;need&nbsp;to&nbsp;make,&nbsp;likely&nbsp;as&nbsp;part&nbsp;of&nbsp;'nameshortening').&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Calibri,&nbsp;sans-serif&quot;&nbsp;size=&quot;3&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Calibri,&nbsp;sans-serif&quot;&nbsp;size=&quot;3&quot;&gt;Taking&nbsp;all&nbsp;of&nbsp;that&nbsp;into&nbsp;consideration&nbsp;we&nbsp;can&nbsp;shorten&nbsp;this:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;&lt;message&nbsp;from='juliet@example.com'&nbsp;to='romeo@example.net'&nbsp;xml:lang='en'&gt;&lt;body&gt;Art&nbsp;thou&nbsp;not&nbsp;Romeo,&nbsp;and&nbsp;a&nbsp;Montague?&lt;/body&gt;&lt;/message&gt;&nbsp;(130&nbsp;characters)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;to&nbsp;this:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;&lt;m&nbsp;t='romeo@example.net'&nbsp;xml:lang='en'&gt;&lt;b&gt;Art&nbsp;thou&nbsp;not&nbsp;Romeo,&nbsp;and&nbsp;a&nbsp;Montague?&lt;/b&gt;&lt;/m&gt;&nbsp;(85&nbsp;characters,&nbsp;65%&nbsp;of&nbsp;the&nbsp;length)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;XEP-0286&lt;&lt;/span&gt;&lt;font&nbsp;face=&quot;Calibri,&nbsp;sans-serif&quot;&gt;http://xmpp.org/extensions/xep-0286.html&gt;&nbsp;has&nbsp;some&nbsp;really&nbsp;nice&nbsp;recommendations.&nbsp;Without&nbsp;compression,&nbsp;a&nbsp;few&nbsp;simple&nbsp;tricks&nbsp;like&nbsp;that&nbsp;will&nbsp;comfortably&nbsp;get&nbsp;you&nbsp;out&nbsp;of&nbsp;the&nbsp;128&nbsp;octet&nbsp;FACH&nbsp;threshold.&nbsp;With&nbsp;compression&nbsp;you&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;send&nbsp;a&nbsp;fair&nbsp;amount&nbsp;of&nbsp;data&nbsp;comfortably.&nbsp;As&nbsp;always,&nbsp;though,&nbsp;test&nbsp;it&nbsp;out&nbsp;before&nbsp;committing&nbsp;to&nbsp;it&nbsp;-&nbsp;it&nbsp;may&nbsp;not&nbsp;be&nbsp;worth&nbsp;the&nbsp;additional&nbsp;interopability&nbsp;headaches.&lt;/font&gt;&lt;/div&gt;&lt;br&gt;&lt;font&nbsp;face=&quot;Calibri,&nbsp;sans-serif&quot;&nbsp;size=&quot;3&quot;&gt;--&nbsp;Jonathan&nbsp;Dickinson&lt;/font&gt;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>

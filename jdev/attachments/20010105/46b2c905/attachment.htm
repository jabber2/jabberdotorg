<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2652.35&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[JDEV]&nbsp;XDB&nbsp;Component&nbsp;in&nbsp;Java&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Well,&nbsp;the&nbsp;packets&nbsp;that&nbsp;should&nbsp;be&nbsp;being&nbsp;sent&nbsp;are&nbsp;just&nbsp;standard&nbsp;XDB&nbsp;requests;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;the&nbsp;typical&nbsp;auth&nbsp;and&nbsp;registration&nbsp;requests.&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;What&nbsp;makes&nbsp;no&nbsp;sense&nbsp;is&nbsp;that&nbsp;when&nbsp;I&nbsp;set&nbsp;this&nbsp;up&nbsp;as&nbsp;a&nbsp;base_connect,&nbsp;it&nbsp;works&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;just&nbsp;fine,&nbsp;and&nbsp;receives&nbsp;all&nbsp;XDB&nbsp;packets&nbsp;sent.&nbsp;But&nbsp;when&nbsp;set&nbsp;as&nbsp;a&nbsp;base_accept,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;it&nbsp;receives&nbsp;absolutely&nbsp;nothing...&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Anyway,&nbsp;this&nbsp;is&nbsp;what&nbsp;the&nbsp;XDB&nbsp;packets&nbsp;look&nbsp;like&nbsp;(well,&nbsp;they&nbsp;look&nbsp;like&nbsp;standard&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;xdb&nbsp;packets&nbsp;-&nbsp;I&nbsp;don't&nbsp;see&nbsp;why&nbsp;they'd&nbsp;be&nbsp;different).&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;elavil&nbsp;is&nbsp;the&nbsp;hostname&nbsp;of&nbsp;the&nbsp;jabber&nbsp;box.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;lt;xdb&nbsp;to=&amp;quot;user@elavil/jabber:iq:auth&amp;quot;&nbsp;from=&amp;quot;elavil&amp;quot;&nbsp;id=&amp;quot;1&amp;quot;&nbsp;type=&amp;quot;get&amp;quot;&amp;gt;&amp;lt;/xdb&amp;gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;lt;xdb&nbsp;to=&amp;quot;user@elavil/jabber:iq:auth&amp;quot;&nbsp;from=&amp;quot;elavil&amp;quot;&nbsp;id=&amp;quot;2&amp;quot;&nbsp;type=&amp;quot;get&amp;quot;&amp;gt;&amp;lt;/xdb&amp;gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;lt;xdb&nbsp;to=&amp;quot;user@elavil/jabber:iq:auth&amp;quot;&nbsp;from=&amp;quot;elavil&amp;quot;&nbsp;id=&amp;quot;3&amp;quot;&nbsp;type=&amp;quot;get&amp;quot;&amp;gt;&amp;lt;/xdb&amp;gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;lt;xdb&nbsp;to=&amp;quot;user@elavil/jabber:iq:auth&amp;quot;&nbsp;from=&amp;quot;elavil&amp;quot;&nbsp;id=&amp;quot;4&amp;quot;&nbsp;type=&amp;quot;set&amp;quot;&amp;gt;&amp;lt;password&amp;gt;somepassword&amp;lt;/password&amp;gt;&amp;lt;/xdb&amp;gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;lt;xdb&nbsp;to=&amp;quot;user@elavil/jabber:iq:auth&amp;quot;&nbsp;from=&amp;quot;elavil&amp;quot;&nbsp;id=&amp;quot;5&amp;quot;&nbsp;type=&amp;quot;get&amp;quot;&amp;gt;&amp;lt;/xdb&amp;gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;lt;xdb&nbsp;to=&amp;quot;user@elavil/jabber:iq:auth:0k&amp;quot;&nbsp;from=&amp;quot;elavil&amp;quot;&nbsp;id=&amp;quot;6&amp;quot;&nbsp;type=&amp;quot;set&amp;quot;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;lt;zerok&amp;gt;&amp;lt;hash&amp;gt;b59903775f0bc168ada4bab7941f4e77134274a4&amp;lt;/hash&amp;gt;&amp;lt;token&amp;gt;3A5626E7&amp;lt;/token&amp;gt;&amp;lt;sequence&amp;gt;500&amp;lt;/sequence&amp;gt;&amp;lt;/zerok&amp;gt;&amp;lt;/xdb&amp;gt;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;lt;xdb&nbsp;to=&amp;quot;user@elavil/jabber:iq:auth&amp;quot;&nbsp;from=&amp;quot;elavil&amp;quot;&nbsp;id=&amp;quot;7&amp;quot;&nbsp;type=&amp;quot;set&amp;quot;&amp;gt;&amp;lt;password&amp;gt;somepassword&amp;lt;/password&amp;gt;&amp;lt;/xdb&amp;gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;lt;xdb&nbsp;to=&amp;quot;user@elavil/jabber:iq:register&amp;quot;&nbsp;from=&amp;quot;elavil&amp;quot;&nbsp;id=&amp;quot;8&amp;quot;&nbsp;type=&amp;quot;set&amp;quot;&amp;gt;&amp;lt;query&nbsp;xmlns=&amp;quot;jabber:iq:register&amp;quot;&amp;gt;&amp;lt;x&amp;gt;registered&amp;lt;/x&amp;gt;&amp;lt;resource&amp;gt;Winjab&amp;lt;/resource&amp;gt;&amp;lt;/query&amp;gt;&amp;lt;/xdb&amp;gt;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;lt;xdb&nbsp;to=&amp;quot;user@elavil/jabber:iq:auth&amp;quot;&nbsp;from=&amp;quot;elavil&amp;quot;&nbsp;id=&amp;quot;9&amp;quot;&nbsp;type=&amp;quot;get&amp;quot;&amp;gt;&amp;lt;/xdb&amp;gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;lt;xdb&nbsp;to=&amp;quot;user@elavil/jabber:iq:auth&amp;quot;&nbsp;from=&amp;quot;elavil&amp;quot;&nbsp;id=&amp;quot;10&amp;quot;&nbsp;type=&amp;quot;get&amp;quot;&amp;gt;&amp;lt;/xdb&amp;gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;These&nbsp;are&nbsp;just&nbsp;standard,&nbsp;run&nbsp;of&nbsp;the&nbsp;mill&nbsp;XDB&nbsp;requests...&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;From:&nbsp;David&nbsp;Barth&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:dbarth@idealx.com&quot;&gt;mailto:dbarth@idealx.com&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Sent:&nbsp;Friday,&nbsp;January&nbsp;05,&nbsp;2001&nbsp;4:10&nbsp;AM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;To:&nbsp;jdev@jabber.org&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Subject:&nbsp;Re:&nbsp;[JDEV]&nbsp;XDB&nbsp;Component&nbsp;in&nbsp;Java&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Matt&nbsp;Diez&nbsp;a&nbsp;écrit&nbsp;:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;[...]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;xdb&nbsp;id=&amp;quot;xdb&amp;quot;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;host&amp;gt;xdb.192.168.0.22&amp;lt;/host&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;accept&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;ip/&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;port&amp;gt;5265&amp;lt;/port&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;secret&amp;gt;test&amp;lt;/secret&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;/accept&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;/xdb&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;The&nbsp;xdb&nbsp;component&nbsp;successfully&nbsp;connects,&nbsp;and&nbsp;handshakes,&nbsp;but&nbsp;NEVER&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;receives&nbsp;any&nbsp;packets...&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Can&nbsp;you&nbsp;show&nbsp;some&nbsp;example&nbsp;packets&nbsp;in&nbsp;the&nbsp;main&nbsp;jabberd&nbsp;instance&nbsp;?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Can&nbsp;anyone&nbsp;suggest&nbsp;what&nbsp;I&nbsp;may&nbsp;doing&nbsp;incorrectly&nbsp;here,&nbsp;or&nbsp;tell&nbsp;me&nbsp;some&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;sort&nbsp;of&nbsp;workaround&nbsp;that&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;doesn't&nbsp;involve&nbsp;base_connect?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Alternatively,&nbsp;could&nbsp;someone&nbsp;explain&nbsp;the&nbsp;significance&nbsp;of&nbsp;the&nbsp;&amp;lt;host&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;element?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;The&nbsp;&amp;lt;host&amp;gt;&nbsp;tag&nbsp;is&nbsp;supposed&nbsp;to&nbsp;act&nbsp;as&nbsp;a&nbsp;filter.&nbsp;So&nbsp;you&nbsp;won't&nbsp;receive&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;packets&nbsp;unless&nbsp;their&nbsp;addressed&nbsp;to='xdb.192.168.0.22/jabber:iq:whatever'.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;--&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;dbarth&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;_______________________________________________&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;jdev&nbsp;mailing&nbsp;list&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;jdev@jabber.org&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&lt;A&nbsp;HREF=&quot;http://mailman.jabber.org/listinfo/jdev&quot;&nbsp;TARGET=&quot;_blank&quot;&gt;http://mailman.jabber.org/listinfo/jdev&lt;/A&gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>

<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2652.35&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[JDEV]&nbsp;Interesting&nbsp;&amp;quot;service&amp;quot;&nbsp;vs&nbsp;&amp;quot;xdb&amp;quot;&nbsp;vs&nbsp;&amp;quot;agent&amp;quot;&nbsp;thing&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Depends&nbsp;on&nbsp;how&nbsp;attached&nbsp;you&nbsp;are&nbsp;to&nbsp;XDB&nbsp;packets,&nbsp;and&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;if&nbsp;you&nbsp;can&nbsp;build&nbsp;your&nbsp;handler&nbsp;to&nbsp;accept&nbsp;other&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;types&nbsp;of&nbsp;packets.&nbsp;Put&nbsp;simply,&nbsp;the&nbsp;way&nbsp;a&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;base_accept&nbsp;service&nbsp;functions&nbsp;is&nbsp;the&nbsp;exact&nbsp;same&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;way&nbsp;that&nbsp;a&nbsp;base_accept&nbsp;xdb&nbsp;functions.&nbsp;Meaning,&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;set&nbsp;it&nbsp;up&nbsp;as&nbsp;a&nbsp;service&nbsp;(just&nbsp;change&nbsp;your&nbsp;xdb&nbsp;tags&nbsp;to&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;service),&nbsp;and&nbsp;direct&nbsp;your&nbsp;user&nbsp;directory&nbsp;requests&nbsp;to&nbsp;it.&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Basically,&nbsp;build&nbsp;a&nbsp;second&nbsp;handler&nbsp;to&nbsp;handle&nbsp;iq's&nbsp;or&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;whatever&nbsp;type&nbsp;of&nbsp;request&nbsp;and&nbsp;have&nbsp;it&nbsp;talk&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;to&nbsp;the&nbsp;db...&nbsp;You're&nbsp;not&nbsp;bound&nbsp;to&nbsp;using&nbsp;XDB&nbsp;packets&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;for&nbsp;messages&nbsp;that&nbsp;simply&nbsp;QUERY&nbsp;a&nbsp;database,&nbsp;so&nbsp;set&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;up&nbsp;a&nbsp;similar&nbsp;handler&nbsp;that&nbsp;will&nbsp;accept&nbsp;&amp;lt;iq&amp;gt;&nbsp;requests.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Matthew&nbsp;D.&nbsp;Diez&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;From:&nbsp;Dennis&nbsp;Noordsij&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:dennis.noordsij@wiral.com&quot;&gt;mailto:dennis.noordsij@wiral.com&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Sent:&nbsp;Tuesday,&nbsp;January&nbsp;09,&nbsp;2001&nbsp;2:48&nbsp;PM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;To:&nbsp;jdev@jabber.org&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Subject:&nbsp;[JDEV]&nbsp;Interesting&nbsp;&amp;quot;service&amp;quot;&nbsp;vs&nbsp;&amp;quot;xdb&amp;quot;&nbsp;vs&nbsp;&amp;quot;agent&amp;quot;&nbsp;thing&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Hi,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Suppose&nbsp;I&nbsp;have&nbsp;an&nbsp;external&nbsp;xdb&nbsp;handler&nbsp;connected&nbsp;to&nbsp;a&nbsp;database.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;This&nbsp;handler&nbsp;is&nbsp;already&nbsp;pooling&nbsp;connections&nbsp;to&nbsp;the&nbsp;database,&nbsp;and&nbsp;could&nbsp;easily&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;also&nbsp;be&nbsp;a&nbsp;searchable&nbsp;user&nbsp;directory.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;However,&nbsp;it&nbsp;is&nbsp;defined&nbsp;in&nbsp;jabber.xml&nbsp;as&nbsp;xdb,&nbsp;not&nbsp;a&nbsp;service.&nbsp;Therefore,&nbsp;if&nbsp;I&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;make&nbsp;it&nbsp;an&nbsp;agent&nbsp;entry&nbsp;for&nbsp;it&nbsp;jabber&nbsp;doesn't&nbsp;know&nbsp;what&nbsp;to&nbsp;do&nbsp;with&nbsp;it.&nbsp;I.e.,&nbsp;a&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;search&nbsp;request&nbsp;does&nbsp;not&nbsp;get&nbsp;sent&nbsp;to&nbsp;the&nbsp;handler.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Any&nbsp;ideas&nbsp;on&nbsp;how&nbsp;to&nbsp;do&nbsp;this?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;(Handler&nbsp;is&nbsp;connected&nbsp;via&nbsp;base_accept,&nbsp;tcp/ip&nbsp;socket.&nbsp;It&nbsp;handles&nbsp;all&nbsp;xdb&nbsp;and&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;vCard&nbsp;related&nbsp;stuff,&nbsp;and&nbsp;could&nbsp;also&nbsp;very&nbsp;easily&nbsp;handle&nbsp;searches,&nbsp;if&nbsp;I&nbsp;can&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;find&nbsp;a&nbsp;way&nbsp;to&nbsp;tell&nbsp;jabber&nbsp;about&nbsp;it).&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;_______________________________________________&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;jdev&nbsp;mailing&nbsp;list&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;jdev@jabber.org&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&lt;A&nbsp;HREF=&quot;http://mailman.jabber.org/listinfo/jdev&quot;&nbsp;TARGET=&quot;_blank&quot;&gt;http://mailman.jabber.org/listinfo/jdev&lt;/A&gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>

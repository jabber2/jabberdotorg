<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;W3&nbsp;HTML//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
<br>
&lt;META&nbsp;content=text/html;charset=iso-8859-1&nbsp;http-equiv=Content-Type&gt;<br>
&lt;META&nbsp;content='&quot;MSHTML&nbsp;4.72.3612.1706&quot;'&nbsp;name=GENERATOR&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;BLOCKQUOTE&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;-----Original&nbsp;Message-----&lt;BR&gt;From:&nbsp;temas&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;&lt;A&nbsp;href=&quot;mailto:temas@box5.net&quot;&gt;temas@box5.net&lt;/A&gt;&amp;gt;&lt;BR&gt;To:&nbsp;&lt;A&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;href=&quot;mailto:jdev@jabber.org&quot;&gt;jdev@jabber.org&lt;/A&gt;&nbsp;&amp;lt;&lt;A&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;href=&quot;mailto:jdev@jabber.org&quot;&gt;jdev@jabber.org&lt;/A&gt;&amp;gt;&lt;BR&gt;Date:&nbsp;Thursday,&nbsp;10&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;February&nbsp;2000&nbsp;06:56&lt;BR&gt;Subject:&nbsp;Re:&nbsp;[JDEV]&nbsp;scaling&nbsp;a&nbsp;single&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;server&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/FONT&gt;If&nbsp;you&nbsp;wanted&nbsp;multiple&nbsp;servers&nbsp;to&nbsp;be&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@singlehostname.com,&nbsp;there&nbsp;is&nbsp;no&nbsp;exact&lt;BR&gt;solution&nbsp;yet.&amp;nbsp;&nbsp;It&nbsp;really&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;depends&nbsp;on&nbsp;how&nbsp;your&nbsp;setting&nbsp;it&nbsp;up,&nbsp;and&nbsp;is&nbsp;most&nbsp;likely&lt;BR&gt;a&nbsp;proprietary&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;solution&nbsp;at&nbsp;this&nbsp;point.&amp;nbsp;&nbsp;We&nbsp;are&nbsp;looking&nbsp;at&nbsp;a&nbsp;few&nbsp;ideas&nbsp;for&nbsp;out&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&lt;BR&gt;the&nbsp;box&nbsp;solutions,&nbsp;but&nbsp;I&nbsp;must&nbsp;say&nbsp;they&nbsp;aren't&nbsp;as&nbsp;friendly&nbsp;to&nbsp;a&nbsp;setup&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;due&nbsp;to&lt;BR&gt;many&nbsp;facts.&amp;nbsp;&nbsp;One&nbsp;of&nbsp;the&nbsp;primary&nbsp;points&nbsp;is&nbsp;XML&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;processing.&amp;nbsp;&nbsp;With&nbsp;any&nbsp;protocol&lt;BR&gt;you&nbsp;lose&nbsp;some&nbsp;time&nbsp;to&nbsp;the&nbsp;processing&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;data&nbsp;stream,&nbsp;one&nbsp;of&nbsp;our&nbsp;ideas&nbsp;and&lt;BR&gt;goals&nbsp;when&nbsp;looking&nbsp;at&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;proprietary&nbsp;setups,&nbsp;we&nbsp;remove&nbsp;the&nbsp;XML&nbsp;parser&nbsp;and&nbsp;put&nbsp;it&lt;BR&gt;in&nbsp;a&nbsp;seperate&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;machine.&amp;nbsp;&nbsp;Then&nbsp;we&nbsp;look&nbsp;at&nbsp;adding&nbsp;a&nbsp;few&nbsp;boxes&nbsp;to&nbsp;handle&nbsp;the&nbsp;tons&lt;BR&gt;of&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;connections&nbsp;(I'm&nbsp;thinking&nbsp;fairly&nbsp;high&nbsp;here&nbsp;on&nbsp;a&nbsp;Linux&nbsp;box,&nbsp;that&nbsp;can&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;only&lt;BR&gt;be&nbsp;modded&nbsp;to&nbsp;a&nbsp;certain&nbsp;number&nbsp;of&nbsp;connections).&amp;nbsp;&nbsp;So&nbsp;at&nbsp;this&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;point&nbsp;we've&nbsp;reduced&lt;BR&gt;the&nbsp;load&nbsp;in&nbsp;a&nbsp;decent&nbsp;amount&nbsp;on&nbsp;the&nbsp;primary&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;engines.&amp;nbsp;&nbsp;There&nbsp;are&nbsp;a&nbsp;lot&nbsp;of&nbsp;other&lt;BR&gt;components&nbsp;to&nbsp;jabber&nbsp;that&nbsp;could&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;run&nbsp;on&nbsp;it's&nbsp;own&nbsp;box&nbsp;for&nbsp;a&nbsp;solution&nbsp;of&nbsp;grand&lt;BR&gt;proportions.&amp;nbsp;&nbsp;But&nbsp;I&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;digress.&lt;/BLOCKQUOTE&gt;<br>
&lt;DIV&gt;That&nbsp;sounds&nbsp;like&nbsp;a&nbsp;good&nbsp;way&nbsp;of&nbsp;breaking&nbsp;it&nbsp;up.&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&gt;&lt;BR&gt;What&nbsp;kind&nbsp;of&nbsp;scaling&nbsp;do&nbsp;you&nbsp;need&nbsp;on&nbsp;a&nbsp;single&nbsp;box?&nbsp;We&nbsp;are&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;looking&nbsp;at&nbsp;some&nbsp;pretty&lt;BR&gt;cool&nbsp;ideas.&amp;nbsp;&nbsp;One&nbsp;of&nbsp;the&nbsp;problems&nbsp;that&nbsp;we've&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sort&nbsp;of&nbsp;kept&nbsp;quite&nbsp;for&nbsp;a&nbsp;while&lt;BR&gt;(yeah&nbsp;we're&nbsp;bad)&nbsp;is&nbsp;that&nbsp;PTH&nbsp;does&nbsp;not&nbsp;play&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;well&nbsp;with&nbsp;multiprocessor&nbsp;machines,&lt;BR&gt;because&nbsp;the&nbsp;threading&nbsp;is&nbsp;userland&nbsp;it&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;only&nbsp;use&nbsp;a&nbsp;single&nbsp;processor.&amp;nbsp;&nbsp;When&lt;BR&gt;jer&nbsp;and&nbsp;I&nbsp;met&nbsp;in&nbsp;NYC&nbsp;for&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;expo&nbsp;he&nbsp;proposed&nbsp;his&nbsp;solution&nbsp;on&nbsp;that&nbsp;and&nbsp;we&lt;BR&gt;refined&nbsp;it&nbsp;a&nbsp;bit.&amp;nbsp;&nbsp;What&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;we're&nbsp;looking&nbsp;at&nbsp;is&nbsp;making&nbsp;the&nbsp;different&nbsp;processors&lt;BR&gt;do&nbsp;different&nbsp;parts,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;likein&nbsp;the&nbsp;multi&nbsp;box&nbsp;setup&nbsp;above.&amp;nbsp;&nbsp;Put&nbsp;the&nbsp;XML&nbsp;parser&nbsp;on&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;a&lt;BR&gt;processor,&nbsp;TCP&nbsp;handler,&nbsp;Garbage&nbsp;collector,&nbsp;etc...&nbsp;That&nbsp;way&nbsp;we&nbsp;utilize&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;box&lt;BR&gt;more.&amp;nbsp;&nbsp;That&nbsp;should&nbsp;VASTLY&nbsp;increase&nbsp;single&nbsp;box&nbsp;scaling.&amp;nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;single&nbsp;CPU&nbsp;systems&lt;BR&gt;(as&nbsp;with&nbsp;any&nbsp;server)&amp;nbsp;&nbsp;there&nbsp;will&nbsp;be&nbsp;a&nbsp;max&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;point&nbsp;that'll&nbsp;be&nbsp;hit.&lt;/BLOCKQUOTE&gt;<br>
&lt;BLOCKQUOTE&gt;&amp;nbsp;&lt;/BLOCKQUOTE&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=2&gt;I&nbsp;find&nbsp;that&nbsp;on&nbsp;UNIX&nbsp;machines,&nbsp;the&nbsp;classic&nbsp;<br>
multiprocessing&nbsp;model&nbsp;(fork'n&nbsp;go)&nbsp;works&nbsp;best.&amp;nbsp;&nbsp;Especially&nbsp;on&nbsp;systems&nbsp;that&nbsp;<br>
support&nbsp;copy-on-write&nbsp;forking,&nbsp;this&nbsp;can&nbsp;be&nbsp;quite&nbsp;efficient.&amp;nbsp;&nbsp;It&nbsp;certainly&nbsp;<br>
works&nbsp;well&nbsp;with&nbsp;multiple&nbsp;processors.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;I&nbsp;imagine&nbsp;that&nbsp;when&nbsp;scaled&nbsp;to&nbsp;a&nbsp;large&nbsp;number&nbsp;of&nbsp;users,&nbsp;the&nbsp;<br>
requirement&nbsp;for&nbsp;a&nbsp;large-scale&nbsp;database&nbsp;to&nbsp;provide&nbsp;the&nbsp;data&nbsp;store&nbsp;will&nbsp;be&nbsp;<br>
needed.&amp;nbsp;&nbsp;Has&nbsp;anyone&nbsp;experimented&nbsp;with&nbsp;this?&amp;nbsp;&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;help&nbsp;in&nbsp;<br>
this&nbsp;area&nbsp;if&nbsp;there&nbsp;is&nbsp;any&nbsp;desire&nbsp;to&nbsp;provide&nbsp;this&nbsp;type&nbsp;of&nbsp;<br>
functionality.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&gt;--&nbsp;Jacob.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&gt;&lt;BR&gt;&lt;BR&gt;--temas&lt;BR&gt;&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>

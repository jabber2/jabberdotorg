<tt>
The&nbsp;protocol&nbsp;sequence&nbsp;below&nbsp;is&nbsp;derived&nbsp;from&nbsp;an&nbsp;exchange&nbsp;between&nbsp;instances&nbsp;of&nbsp;my&nbsp;app.&nbsp;Typos&nbsp;could&nbsp;have&nbsp;crept&nbsp;in&nbsp;during&nbsp;editing!&lt;br&gt;&lt;br&gt;There&nbsp;are&nbsp;features&nbsp;missing...&nbsp;splitting&nbsp;&amp;lt;revision/&amp;gt;&nbsp;messages&nbsp;to&nbsp;fit&nbsp;the&nbsp;max&nbsp;payload&nbsp;size&nbsp;for&nbsp;the&nbsp;node,&nbsp;and&nbsp;types&nbsp;for&nbsp;diff&nbsp;formats.&lt;br&gt;<br>
&lt;br&gt;Feedback&nbsp;welcome!&lt;br&gt;&lt;br&gt;&lt;br&gt;1.&nbsp;Creator&nbsp;makes&nbsp;a&nbsp;pubsub&nbsp;node&nbsp;for&nbsp;incoming&nbsp;messages,&nbsp;and&nbsp;subscribes&nbsp;to&nbsp;it:&nbsp;(These&nbsp;nodes&nbsp;give&nbsp;us&nbsp;IQ&nbsp;for&nbsp;1-to-1&nbsp;messaging,&nbsp;even&nbsp;if&nbsp;recipient&nbsp;is&nbsp;offline.)&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;creator@localhost/&lt;br&gt;<br>
reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;9365&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;<br>
   &nbsp;&amp;lt;create&nbsp;node=&amp;#39;creator&amp;#39;/&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;configure&amp;gt;&amp;lt;x&nbsp;xmlns=&amp;#39;jabber:x:data&amp;#39;&nbsp;type=&amp;#39;submit&amp;#39;&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;FORM_TYPE&amp;#39;&nbsp;type=&amp;#39;hidden&amp;#39;&amp;gt;&amp;lt;value&amp;gt;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub#node_config&quot;&gt;http://jabber.org/protocol/pubsub#node_config&lt;/a&gt;&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;<br>
     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#notify_retract&amp;#39;&amp;gt;&amp;lt;value&amp;gt;0&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#persist_items&amp;#39;&amp;gt;&amp;lt;value&amp;gt;0&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#publish_model&amp;#39;&amp;gt;&amp;lt;value&amp;gt;open&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;<br>
     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#access_model&amp;#39;&amp;gt;&amp;lt;value&amp;gt;whitelist&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#send_last_published_item&amp;#39;&amp;gt;&amp;lt;value&amp;gt;never&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;<br>
&amp;lt;/x&amp;gt;&amp;lt;/configure&amp;gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;creator@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;9366&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;<br>
   &nbsp;&amp;lt;subscribe&nbsp;node=&amp;#39;creator&amp;#39;&nbsp;jid=&amp;#39;creator@localhost/reprev&amp;#39;/&amp;gt;&lt;br&gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;2.&nbsp;Contributor&nbsp;does&nbsp;the&nbsp;same:&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;contributor@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;<br>
   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;8776&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;create&nbsp;node=&amp;#39;contributor&amp;#39;/&amp;gt;&lt;br&gt;<br>
   &nbsp;&amp;lt;configure&amp;gt;&amp;lt;x&nbsp;xmlns=&amp;#39;jabber:x:data&amp;#39;&nbsp;type=&amp;#39;submit&amp;#39;&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;FORM_TYPE&amp;#39;&nbsp;type=&amp;#39;hidden&amp;#39;&amp;gt;&amp;lt;value&amp;gt;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub#node_config&quot;&gt;http://jabber.org/protocol/pubsub#node_config&lt;/a&gt;&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;<br>
     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#notify_retract&amp;#39;&amp;gt;&amp;lt;value&amp;gt;0&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#persist_items&amp;#39;&amp;gt;&amp;lt;value&amp;gt;0&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#publish_model&amp;#39;&amp;gt;&amp;lt;value&amp;gt;open&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;<br>
     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#access_model&amp;#39;&amp;gt;&amp;lt;value&amp;gt;whitelist&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#send_last_published_item&amp;#39;&amp;gt;&amp;lt;value&amp;gt;never&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;<br>
&amp;lt;/x&amp;gt;&amp;lt;/configure&amp;gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;contributor@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;8777&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt;<br>
 &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;subscribe&nbsp;node=&amp;#39;contributor&amp;#39;&nbsp;jid=&amp;#39;contributor@localhost/reprev&amp;#39;/&amp;gt;&lt;br&gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;3.&nbsp;Creator&nbsp;makes&nbsp;a&nbsp;pubsub&nbsp;node&nbsp;for&nbsp;a&nbsp;shared&nbsp;collection,&nbsp;and&nbsp;subscribes:&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;creator@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;9367&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt;<br>
 &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;create&nbsp;node=&amp;#39;uuid1.105&amp;#39;/&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;configure&amp;gt;&amp;lt;x&nbsp;xmlns=&amp;#39;jabber:x:data&amp;#39;&nbsp;type=&amp;#39;submit&amp;#39;&amp;gt;&lt;br&gt;<br>
     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;FORM_TYPE&amp;#39;&nbsp;type=&amp;#39;hidden&amp;#39;&amp;gt;&amp;lt;value&amp;gt;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub#node_config&quot;&gt;http://jabber.org/protocol/pubsub#node_config&lt;/a&gt;&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#notify_retract&amp;#39;&amp;gt;&amp;lt;value&amp;gt;0&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;<br>
     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#persist_items&amp;#39;&amp;gt;&amp;lt;value&amp;gt;0&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#publish_model&amp;#39;&amp;gt;&amp;lt;value&amp;gt;subscribers&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#access_model&amp;#39;&amp;gt;&amp;lt;value&amp;gt;whitelist&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;<br>
     &nbsp;&amp;lt;field&nbsp;var=&amp;#39;pubsub#send_last_published_item&amp;#39;&amp;gt;&amp;lt;value&amp;gt;never&amp;lt;/value&amp;gt;&amp;lt;/field&amp;gt;&lt;br&gt;&amp;lt;/x&amp;gt;&amp;lt;/configure&amp;gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;creator@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;<br>
   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;9368&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;subscribe&nbsp;node=&amp;#39;uuid1.105&amp;#39;&nbsp;jid=&amp;#39;creator@localhost/reprev&amp;#39;/&amp;gt;&lt;br&gt;<br>
&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;4.&nbsp;Creator&nbsp;revs&nbsp;the&nbsp;collection&nbsp;whitelist,&nbsp;notifies&nbsp;collection&nbsp;members&nbsp;of&nbsp;the&nbsp;whitelist&nbsp;change,&nbsp;and&nbsp;invites&nbsp;Contributor&nbsp;to&nbsp;join&nbsp;the&nbsp;collection:&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;creator@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;<br>
   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;9372&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;affiliations&nbsp;node=&amp;#39;uuid1.105&amp;#39;&amp;gt;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;&amp;lt;affiliation&nbsp;jid=&amp;#39;contributor@localhost&amp;#39;&nbsp;affiliation=&amp;#39;publisher&amp;#39;/&amp;gt;&lt;br&gt;&amp;lt;/affiliations&amp;gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;creator@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;<br>
   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;9370&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;publish&nbsp;node=&amp;#39;uuid1.105&amp;#39;&nbsp;jid=&amp;#39;creator@localhost/reprev&amp;#39;&amp;gt;&amp;lt;item&amp;gt;&lt;br&gt;<br>
     &nbsp;&amp;lt;member&nbsp;xmlns=&amp;#39;reprev_ns&amp;#39;&nbsp;uid=&amp;quot;contributor@localhost&amp;quot;&nbsp;added=&amp;quot;pending&amp;quot;&amp;gt;&lt;br&gt;       &nbsp;contributor@localhost&lt;br&gt;&amp;lt;/member&amp;gt;&amp;lt;/item&amp;gt;&amp;lt;/publish&amp;gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;<br>
&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;creator@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;9369&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;<br>
   &nbsp;&amp;lt;publish&nbsp;node=&amp;#39;contributor&amp;#39;&nbsp;jid=&amp;#39;creator@localhost/reprev&amp;#39;&amp;gt;&amp;lt;item&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;invite&nbsp;xmlns=&amp;#39;reprev_ns&amp;#39;&nbsp;collection=&amp;quot;uuid1.105&amp;quot;&amp;gt;&lt;br&gt;       &nbsp;&amp;lt;from&nbsp;uid=&amp;quot;creator@localhost&amp;quot;&amp;gt;Liam&amp;lt;/from&amp;gt;&lt;br&gt;<br>
       &nbsp;&amp;lt;date&amp;gt;2010-01-19T20:45:26Z&amp;lt;/date&amp;gt;&lt;br&gt;       &nbsp;&amp;lt;name&amp;gt;Cornucopia&amp;lt;/name&amp;gt;&lt;br&gt;       &nbsp;&amp;lt;blurb&amp;gt;A&nbsp;non-descript&nbsp;invitation&amp;lt;/blurb&amp;gt;&lt;br&gt;&amp;lt;/invite&amp;gt;&amp;lt;/item&amp;gt;&amp;lt;/publish&amp;gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;5.&nbsp;Contributor&nbsp;subscribes&nbsp;to&nbsp;the&nbsp;collection,&nbsp;and&nbsp;notifies&nbsp;Creator:&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;contributor@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;8778&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt;<br>
 &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;subscribe&nbsp;node=&amp;#39;uuid1.105&amp;#39;&nbsp;jid=&amp;#39;contributor@localhost/reprev&amp;#39;/&amp;gt;&lt;br&gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;<br>
&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;contributor@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;8779&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;<br>
   &nbsp;&amp;lt;publish&nbsp;node=&amp;#39;creator&amp;#39;&nbsp;jid=&amp;#39;contributor@localhost/reprev&amp;#39;&amp;gt;&amp;lt;item&amp;gt;&lt;br&gt;     &nbsp;&amp;lt;join&nbsp;xmlns=&amp;#39;reprev_ns&amp;#39;&nbsp;collection=&amp;quot;uuid1.105&amp;quot;&nbsp;uid=&amp;quot;contributor@localhost&amp;quot;/&amp;gt;&lt;br&gt;<br>
&amp;lt;/item&amp;gt;&amp;lt;/publish&amp;gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;6.&nbsp;Creator&nbsp;replicates&nbsp;collection&nbsp;to&nbsp;Contributor,&nbsp;first&nbsp;meta/data&nbsp;and&nbsp;then&nbsp;revision&nbsp;history:&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;creator@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;<br>
   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;9375&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;publish&nbsp;node=&amp;#39;contributor&amp;#39;&nbsp;jid=&amp;#39;creator@localhost/reprev&amp;#39;&amp;gt;&amp;lt;item&amp;gt;&lt;br&gt;<br>
     &nbsp;&amp;lt;replica&nbsp;xmlns=&amp;#39;reprev_ns&amp;#39;&nbsp;collection=&amp;#39;uuid1.105&amp;#39;&amp;gt;&lt;br&gt;       &nbsp;&amp;lt;!--&nbsp;app-defined&nbsp;data&nbsp;--&amp;gt;&lt;br&gt;&amp;lt;/replica&amp;gt;&amp;lt;/item&amp;gt;&amp;lt;/publish&amp;gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;creator@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;<br>
   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;9376&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;publish&nbsp;node=&amp;#39;contributor&amp;#39;&nbsp;jid=&amp;#39;creator@localhost/reprev&amp;#39;&amp;gt;&amp;lt;item&amp;gt;&lt;br&gt;<br>
     &nbsp;&amp;lt;revision&nbsp;xmlns=&amp;#39;reprev_ns&amp;#39;&nbsp;collection=&amp;quot;uuid1.105&amp;quot;&amp;gt;&lt;br&gt;       &nbsp;&amp;lt;revlist&nbsp;touch=&amp;quot;2010-01-19T20:52:34Z&amp;quot;&nbsp;oid=&amp;quot;uuid1.118&amp;quot;&amp;gt;&lt;br&gt;         &nbsp;&amp;lt;object&nbsp;oid=&amp;quot;uuid1.115&amp;quot;&nbsp;op=&amp;quot;+&amp;quot;&nbsp;touch=&amp;quot;2010-01-20T00:29:26Z&amp;quot;&nbsp;diff=&amp;quot;uuid1.120&amp;quot;&amp;gt;&lt;br&gt;<br>
           &nbsp;&amp;lt;object&nbsp;oid=&amp;quot;uuid1.116&amp;quot;&nbsp;op=&amp;quot;+&amp;quot;&nbsp;touch=&amp;quot;2010-01-20T00:29:26Z&amp;quot;&nbsp;diff=&amp;quot;uuid1.121&amp;quot;/&amp;gt;&amp;lt;/object&amp;gt;&amp;lt;/revlist&amp;gt;&lt;br&gt;       &nbsp;&amp;lt;diff&nbsp;orig=&amp;quot;uuid1.115&amp;quot;&nbsp;oid=&amp;quot;uuid1.120&amp;quot;&nbsp;type=&amp;quot;not-implemented&amp;quot;&amp;gt;&lt;br&gt;<br>
         &nbsp;&amp;lt;!--&nbsp;app-defined&nbsp;content&nbsp;--&amp;gt;&amp;lt;/diff&amp;gt;&lt;br&gt;       &nbsp;&amp;lt;diff&nbsp;orig=&amp;quot;uuid1.116&amp;quot;&nbsp;oid=&amp;quot;uuid1.121&amp;quot;&nbsp;type=&amp;quot;not-implemented&amp;quot;&amp;gt;&lt;br&gt;         &nbsp;&amp;lt;!--&nbsp;app-defined&nbsp;content&nbsp;--&amp;gt;&amp;lt;/diff&amp;gt;&lt;br&gt;<br>
&amp;lt;/revision&amp;gt;&amp;lt;/item&amp;gt;&amp;lt;/publish&amp;gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;7.&nbsp;Contributor&nbsp;makes&nbsp;a&nbsp;revision&nbsp;to&nbsp;collection:&lt;br&gt;&lt;br&gt;&amp;lt;iq&nbsp;from=&amp;#39;contributor@localhost/reprev&amp;#39;&nbsp;to=&amp;#39;pubsub.localhost&amp;#39;&lt;br&gt;<br>
   &nbsp;type=&amp;#39;set&amp;#39;&nbsp;id=&amp;#39;8784&amp;#39;&nbsp;xmlns=&amp;#39;jabber:client&amp;#39;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;pubsub&nbsp;xmlns=&amp;#39;&lt;a&nbsp;href=&quot;http://jabber.org/protocol/pubsub&quot;&gt;http://jabber.org/protocol/pubsub&lt;/a&gt;&amp;#39;&amp;gt;&lt;br&gt;   &nbsp;&amp;lt;publish&nbsp;node=&amp;#39;uuid1.105&amp;#39;&nbsp;jid=&amp;#39;contributor@localhost/reprev&amp;#39;&amp;gt;&amp;lt;item&nbsp;id=&amp;#39;uuid2.106&amp;#39;&amp;gt;&lt;br&gt;<br>
     &nbsp;&amp;lt;revision&nbsp;xmlns=&amp;#39;reprev_ns&amp;#39;&nbsp;collection=&amp;quot;uuid1.105&amp;quot;&amp;gt;&lt;br&gt;       &nbsp;&amp;lt;revlist&nbsp;touch=&amp;quot;2010-01-19T21:00:36Z&amp;quot;&nbsp;oid=&amp;quot;uuid2.106&amp;quot;&amp;gt;&lt;br&gt;         &nbsp;&amp;lt;object&nbsp;oid=&amp;quot;uuid1.116&amp;quot;&nbsp;op=&amp;quot;!&amp;quot;&nbsp;touch=&amp;quot;2010-01-20T00:29:26Z&amp;quot;&nbsp;diff=&amp;quot;uuid2.107&amp;quot;/&amp;gt;&amp;lt;/revlist&amp;gt;&lt;br&gt;<br>
       &nbsp;&amp;lt;diff&nbsp;orig=&amp;quot;uuid1.116&amp;quot;&nbsp;oid=&amp;quot;uuid2.107&amp;quot;&nbsp;type=&amp;quot;not-implemented&amp;quot;&amp;gt;&lt;br&gt;         &nbsp;&amp;lt;!--&nbsp;app-defined&nbsp;content&nbsp;--&amp;gt;&amp;lt;/diff&amp;gt;&lt;br&gt;&amp;lt;/revision&amp;gt;&amp;lt;/item&amp;gt;&amp;lt;/publish&amp;gt;&amp;lt;/pubsub&amp;gt;&amp;lt;/iq&amp;gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;8.&nbsp;Contributor&nbsp;resigns&nbsp;from&nbsp;collection:&lt;br&gt;&lt;br&gt;&amp;lt;!--&nbsp;not&nbsp;yet&nbsp;implemented&nbsp;--&amp;gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jan&nbsp;20,&nbsp;2010&nbsp;at&nbsp;3:44&nbsp;PM,&nbsp;Liam&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:pubsub@networkimprov.net&quot;&gt;pubsub@networkimprov.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;I&amp;#39;m&nbsp;building&nbsp;an&nbsp;app&nbsp;which&nbsp;replicates&nbsp;collections&nbsp;of&nbsp;data&nbsp;objects&nbsp;among&nbsp;groups&nbsp;of&nbsp;contributors/subscribers.&lt;br&gt;<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;I&nbsp;use&nbsp;XMPP&nbsp;for&nbsp;transport&nbsp;&amp;amp;&nbsp;store-forward,&nbsp;and&nbsp;I&amp;#39;ve&nbsp;built&nbsp;a&nbsp;simple&nbsp;replication&nbsp;&amp;amp;&nbsp;revision&nbsp;system&nbsp;on&nbsp;top&nbsp;of&nbsp;PubSub.&lt;br&gt;<br>
<br>
<br>
<br>
&lt;br&gt;I&amp;#39;m&nbsp;considering&nbsp;open&nbsp;sourcing&nbsp;this&nbsp;code&nbsp;and&nbsp;documenting&nbsp;the&nbsp;protocol.&nbsp;(Source&nbsp;is&nbsp;javascript&nbsp;requiring&nbsp;Strophe.)&nbsp;Creating&nbsp;a&nbsp;separate&nbsp;package&nbsp;for&nbsp;this&nbsp;would&nbsp;entail&nbsp;some&nbsp;work,&nbsp;so&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;gauge&nbsp;potential&nbsp;interest...&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;br&gt;My&nbsp;replication&nbsp;&amp;amp;&nbsp;revision&nbsp;system&nbsp;does&nbsp;the&nbsp;following:&lt;br&gt;&lt;br&gt;Establishes&nbsp;pubsub&nbsp;nodes&nbsp;for&nbsp;shared&nbsp;collections&lt;br&gt;Reliably&nbsp;transmits&nbsp;(reliable&nbsp;requires&nbsp;IQ&nbsp;Notifications):&lt;br&gt; &nbsp;-&nbsp;invitations&nbsp;to&nbsp;join&nbsp;a<br>
collection&lt;br&gt; &nbsp;-&nbsp;invitation&nbsp;acceptances&lt;br&gt;&lt;/div&gt; &nbsp;-&nbsp;collection&nbsp;replicas&nbsp;to&nbsp;new&nbsp;members&lt;br&gt;&lt;div&nbsp;class=&quot;im&quot;&gt; &nbsp;-&nbsp;resignations&nbsp;from&nbsp;a&nbsp;collection&lt;br&gt; &nbsp;-&nbsp;revisions&nbsp;to&nbsp;a<br>
collection,&nbsp;containing:&lt;br&gt;   &nbsp;a)&nbsp;list&nbsp;of&nbsp;revised&nbsp;objects&lt;br&gt; &nbsp; &nbsp;b)&nbsp;diffs&nbsp;for&nbsp;added/modified&nbsp;objects&lt;br&gt;    &nbsp; &nbsp;format&nbsp;is&nbsp;app-specific;&nbsp;common&nbsp;diff&nbsp;types&nbsp;may&nbsp;be&nbsp;specified&lt;br&gt;&lt;br&gt;&lt;/div&gt;Obviously,&nbsp;it&amp;#39;s&nbsp;very&nbsp;lightweight.&nbsp;It&amp;#39;s&nbsp;not&nbsp;focused&nbsp;on&nbsp;real-time&nbsp;apps&nbsp;per&nbsp;se,&nbsp;but&nbsp;could&nbsp;be&nbsp;applied&nbsp;thereto.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
<br>
<br>
<br>
&lt;br&gt;Also,&nbsp;I&amp;#39;d&nbsp;love&nbsp;pointers&nbsp;to&nbsp;other&nbsp;forums&nbsp;where&nbsp;folks&nbsp;could&nbsp;be&nbsp;interested...&lt;br&gt;<br>
<br>
<br>
<br>
<br>
&lt;br&gt;Liam&lt;br&gt;&lt;br&gt;&lt;/div&gt;PS:&nbsp;protocol&nbsp;specifics&nbsp;to&nbsp;follow...&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>

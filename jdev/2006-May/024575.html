<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] is this a legal XMPP packet? - server edits it!?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20is%20this%20a%20legal%20XMPP%20packet%3F%20-%20server%20edits%20it%21%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024574.html">
   <LINK REL="Next"  HREF="024576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] is this a legal XMPP packet? - server edits it!?</H1>
    <B>Tobias Thierer</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20is%20this%20a%20legal%20XMPP%20packet%3F%20-%20server%20edits%20it%21%3F&In-Reply-To="
       TITLE="[jdev] is this a legal XMPP packet? - server edits it!?">lists-2006 at tobias-thierer.de
       </A><BR>
    <I>Sun May 14 20:58:00 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="024574.html">[jdev] missing files on jabberstudio?
</A></li>
        <LI>Next message: <A HREF="024576.html">[jdev] is this a legal XMPP packet? - server edits it!?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24575">[ date ]</a>
              <a href="thread.html#24575">[ thread ]</a>
              <a href="subject.html#24575">[ subject ]</a>
              <a href="author.html#24575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Jabber experts,

Is the following a legal XMPP packet (linebreaks inserted for readability)?

&lt;iq id=&quot;rpc-0wLET-8&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rpc_b at jabber.meta.net.nz</A>/Biomatters&quot; type=&quot;set&quot;&gt;
  &lt;query xmlns=&quot;jabber:iq:biomatters:rpc&quot; version=&quot;1.0&quot;&gt;
    &lt;methodCall&gt;
      &lt;methodName&gt;add&lt;/methodName&gt;
      &lt;params&gt;
  &lt;int&gt;23&lt;/int&gt;
  &lt;int&gt;42&lt;/int&gt;
&lt;/params&gt;
    &lt;/methodCall&gt;
  &lt;/query&gt;
&lt;/iq&gt;

When I send it (e.g. through jabber.meta.net.nz), it seems to be modified by
the server: The method name &quot;add&quot; is replaced by an additional close tag
&quot;&lt;/methodName&gt;&quot;, i.e. it arrives as follows at its destination:

&lt;iq id=&quot;rpc-WRH8A-8&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rpc_b at jabber.meta.net.nz</A>/Biomatters&quot;
from=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">rpc_a at jabber.meta.net.nz</A>/Biomatters&quot; type=&quot;set&quot;&gt;
  &lt;query version=&quot;1.0&quot; xmlns=&quot;jabber:iq:biomatters:rpc&quot;&gt;
    &lt;methodCall&gt;
      &lt;methodName&gt;&lt;/methodName&gt;&lt;/methodName&gt;
      &lt;params&gt;
        &lt;int&gt;23&lt;/int&gt;
        &lt;int&gt;42&lt;/int&gt;
      &lt;/params&gt;
    &lt;/methodCall&gt;
  &lt;/query&gt;
&lt;/iq&gt;

My format is very close to the official jabber:iq:rpc, so I don't see why it
would not be legal to put the plain string &quot;add&quot; inside the methodname tags.

If anybody could drop me a hint why the server edits my packet or what XML
is legal inside an IQ package, i'd be very grateful.

I'm using Smack as my Jabber API. jabber.meta.net.nz uses jabberd, but the
same happens if I locally run Wildfire.

Thanks a lot in advance,

  Tobias


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024574.html">[jdev] missing files on jabberstudio?
</A></li>
	<LI>Next message: <A HREF="024576.html">[jdev] is this a legal XMPP packet? - server edits it!?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24575">[ date ]</a>
              <a href="thread.html#24575">[ thread ]</a>
              <a href="subject.html#24575">[ subject ]</a>
              <a href="author.html#24575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>

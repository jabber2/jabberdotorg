<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jdev] Re: VTD-XML version 1.6
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20VTD-XML%20version%201.6&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024622.html">
   <LINK REL="Next"  HREF="024639.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jdev] Re: VTD-XML version 1.6</H1>
    <B>Jimmy Zhang</B> 
    <A HREF="mailto:jdev%40jabber.org?Subject=%5Bjdev%5D%20Re%3A%20VTD-XML%20version%201.6&In-Reply-To="
       TITLE="[jdev] Re: VTD-XML version 1.6">crackeur at comcast.net
       </A><BR>
    <I>Fri May 19 17:18:33 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="024622.html">[jdev] Re: VTD-XML version 1.6
</A></li>
        <LI>Next message: <A HREF="024639.html">[jdev] Re: VTD-XML version 1.6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24637">[ date ]</a>
              <a href="thread.html#24637">[ thread ]</a>
              <a href="subject.html#24637">[ subject ]</a>
              <a href="author.html#24637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Excuse my ignorance, after read your examples a bit more, I had only more 
questions...
why not exchanging well-formed XML messages for each request and response 
like SIP??
for some reason this partial conversation style of XMPP looks pretty 
unnatural?? Why is
XMPP this way??
----- Original Message ----- 
From: &quot;Jimmy Zhang&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crackeur at comcast.net</A>&gt;
To: &quot;Jabber software development list&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
Sent: Friday, May 19, 2006 12:25 AM
Subject: Re: [jdev] Re: VTD-XML version 1.6


&gt;<i>I like xmpp a lot better than SIP ... it ought to replace SIP in the 
</I>&gt;<i>future....
</I>&gt;<i> ----- Original Message ----- 
</I>&gt;<i> From: &quot;Alexander Gnauck&quot; &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">gnauck at ag-software.de</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">jdev at jabber.org</A>&gt;
</I>&gt;<i> Sent: Thursday, May 18, 2006 11:31 PM
</I>&gt;<i> Subject: [jdev] Re: VTD-XML version 1.6
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://mail.jabber.org/mailman/listinfo/jdev">crackeur at comcast.net</A> schrieb:
</I>&gt;&gt;&gt;<i>  you confused me even more...
</I>&gt;&gt;&gt;<i> I thought IM apps exchange xml messages (usually small),
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> let me explain XMPP with this small example of a session:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> the client connects, open the socket and the XML Document
</I>&gt;&gt;<i> C-&gt;S: &lt;?xml version=&quot;1.0&quot;?&gt;
</I>&gt;&gt;<i> C-&gt;S: &lt;stream:stream xmlns:stream=&quot;<A HREF="http://etherx.jabber.org/streams&quot;">http://etherx.jabber.org/streams&quot;</A> 
</I>&gt;&gt;<i> xmlns=&quot;jabber:client&quot; to=&quot;jabber.org&quot; &gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> server accepts the socket and opens the XML document
</I>&gt;&gt;<i> S-&gt;C: &lt;stream:stream xmlns='jabber:client' 
</I>&gt;&gt;<i> xmlns:stream='<A HREF="http://etherx.jabber.org/streams'">http://etherx.jabber.org/streams'</A> from='jabber.org' 
</I>&gt;&gt;<i> id='596931'&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> the client starts to authenticate
</I>&gt;&gt;<i> C-&gt;S: &lt;iq type=&quot;get&quot; to=&quot;jabber.org&quot; id=&quot;auth_1&quot; &gt;
</I>&gt;&gt;<i> &lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
</I>&gt;&gt;<i> &lt;username&gt;alex&lt;/username&gt;
</I>&gt;&gt;<i> &lt;/query&gt;
</I>&gt;&gt;<i> &lt;/iq&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> S-&gt;C: &lt;iq type=&quot;result&quot; id=&quot;auth_1&quot; &gt;
</I>&gt;&gt;<i> &lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
</I>&gt;&gt;<i> &lt;username&gt;gnauck&lt;/username&gt;
</I>&gt;&gt;<i> &lt;password/&gt;
</I>&gt;&gt;<i> &lt;digest/&gt;
</I>&gt;&gt;<i> &lt;resource/&gt;
</I>&gt;&gt;<i> &lt;/query&gt;
</I>&gt;&gt;<i>       &lt;/iq&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> C-&gt;S: &lt;iq type=&quot;set&quot; to=&quot;jabber.org&quot; id=&quot;auth_2&quot; &gt;
</I>&gt;&gt;<i> &lt;query xmlns=&quot;jabber:iq:auth&quot;&gt;
</I>&gt;&gt;<i> &lt;username&gt;gnauck&lt;/username&gt;
</I>&gt;&gt;<i> &lt;password&gt;secret&lt;/password&gt;
</I>&gt;&gt;<i> &lt;resource&gt;Psi&lt;/resource&gt;
</I>&gt;&gt;<i> &lt;/query&gt;
</I>&gt;&gt;<i>       &lt;/iq&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> S-&gt;C: &lt;iq type=&quot;result&quot; id=&quot;auth_2&quot; /&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> C-&gt;S: &lt;message type=&quot;chat&quot; to=&quot;<A HREF="http://mail.jabber.org/mailman/listinfo/jdev">romeo at jabber.org</A>&quot; &gt; &lt;body&gt;Test&lt;/body&gt;
</I>&gt;&gt;<i>      &lt;/message&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Client closes the connection, which means it closes the XML Document
</I>&gt;&gt;<i> C-&gt;S: &lt;/stream:stream&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Server is closing the XML Doc too
</I>&gt;&gt;<i> S-&gt;C: &lt;/stream:stream&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> you see we have 2 complete XML Documents. The client doc and the server 
</I>&gt;&gt;<i> doc. Our messages, also called stanzas are the 1st level child elements 
</I>&gt;&gt;<i> of the document. If you see the stanzas as a single xml doc and not in 
</I>&gt;&gt;<i> the context of the whole document you loose the namespace of the stanzas, 
</I>&gt;&gt;<i> and your software is not namespace correct. This is why parsing XMPP XML 
</I>&gt;&gt;<i> is a bit tricky and the most out of the box parsers don't work very well 
</I>&gt;&gt;<i> without modifying them. My exapmple shows the old jabber style 
</I>&gt;&gt;<i> authentication. It gets even more complicated when using SASL, START-TLS 
</I>&gt;&gt;<i> and other stuff which resets the stream and opens the document again.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; why do they exchange huge XML docs? It sounds not just bad, but
</I>&gt;&gt;<i> &gt; unnecessary...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> i don' think so. Because of this XMPP is a very clean and solid protocol. 
</I>&gt;&gt;<i> Clean, simple, powerful, extensible.....
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Alex
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024622.html">[jdev] Re: VTD-XML version 1.6
</A></li>
	<LI>Next message: <A HREF="024639.html">[jdev] Re: VTD-XML version 1.6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24637">[ date ]</a>
              <a href="thread.html#24637">[ thread ]</a>
              <a href="subject.html#24637">[ subject ]</a>
              <a href="author.html#24637">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mail.jabber.org/mailman/listinfo/jdev">More information about the JDev
mailing list</a><br>
</body></html>
